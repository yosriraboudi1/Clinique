//>>built
require({cache:{"ebPlatformWidgets/Evento/Communication/CommunicationStatisticsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-style dojo/request dojo/text!./templates/CommunicationStatisticsWidget.html dijit/_WidgetBase dijit/_TemplatedMixin ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ./MailStatisticheWidget ./CommunicationRecipientsListWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x){return q([f,h],{mouseAnim:null,templateString:e,baseClass:"communicationStatisticsWidget",hasToolbar:!1,hasSecondaryToolbar:!0,currentOptions:null,parentWidget:null,statisticheWidget:null,recipientsListWidget:null,messages:x,postCreate:function(){this.inherited(arguments);this.statisticheWidget=new u({parentWidget:this,emailTemplateTypeEnum:"INVITO",idPianificazioneInvioEmail:0},this.statisticheNode);this.recipientsListWidget=new w({parentWidget:this},this.recipientsNode)},
aggiornaUI:function(a,e){b.debug("[CommunicationStatisticsWidget] aggiornaUI",a);this.currentOptions=a;"CONFERMA_ISCRIZIONE"!=this.currentOptions.tipo&&(n.set(this.totRecipientsNode,"display","block"),void 0!==a.toBeSent&&a.toBeSent&&this.aggiornaIndicatore());this.emailNameNode.innerHTML=a.nome?a.nome:"";e||this.statisticheWidget.aggiornaUI(a);this.recipientsListWidget.reset();this.recipientsListWidget.aggiornaUI(a)},aggiornaIndicatore:function(){l.post("/getCommunicationRecipientsTotNumById.plp",
{data:{idPianificazione:"CONFERMA_ISCRIZIONE"!=this.currentOptions.tipo?this.currentOptions.idSchedulation:null,idTemplate:"CONFERMA_ISCRIZIONE"==this.currentOptions.tipo?this.currentOptions.idEmail:null},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){this.indicatorNode.innerHTML=a.numeratore+(this.currentOptions.to?" - "+this.currentOptions.to:"");this.statisticheWidget.setTotToBeSentNextTime(a.numeratore)}),a.hitch(this,function(){m.showInfoWithCloseButton(y.msgErroreServer,
D.footerInc.lblErrorMsgDialogTitle,y.lblOKButton)}))}})})},"ebPlatformWidgets/Evento/AppSetup/AppSetupWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Stateful dojo/store/Memory dojo/request dojo/json dojo/dom-construct dojo/dom-style dojo/dom-class dojo/on dojo/query dojo/NodeList-dom dojo/text!./templates/AppSetupWidget.html dijit/form/Form dijit/form/Button dijit/form/CheckBox dijit/form/FilteringSelect dijit/form/ValidationTextBox dijit/layout/StackContainer ebPlatformWidgets/CustomTooltip ebPlatform/stato ebPlatform/commonDialogs ebPlatform/utility ebPlatform/logger! ebPlatformWidgets/Form/utility ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/Form/LanguageSelectionWidget ebPlatformWidgets/Dialogs/EditImageDialogWidget ./AppSetupPrivacySettingsWidget ./AppImageWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/AppSetupWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T){return q([S],{templateString:D,baseClass:"appSetupWidget",dependsOnWidgetsData:["event_details","badges"],hasToolbar:!0,availableBadges:null,privacySettingsStartup:{id:null,idLanguage:null,showPrivacyIntro:!1,privacyIntro:"",privacy:"",showConsentRequest1:!1,showConsentRequest2:!1,showConsentRequest3:!1,consentRequest1Text:"",consentRequest2Text:"",consentRequest3Text:"",isConsentRequest1Mandatory:!1,isConsentRequest2Mandatory:!1,
isConsentRequest3Mandatory:!1},appWidget:null,parentWidget:null,registroCampiInLista:null,registroCampiFiltro:null,registroCampiInDettaglio:null,registroCampiObbligatori:null,registroPrivacysettings:null,formWidget:null,copyConfFromEventPageWidget:null,eventVisibleToAppWidget:null,eventVisibleToAppTooltipWidget:null,requestSignatureWidget:null,requestSignatureTooltipWidget:null,collectPersonalDetailsWidget:null,allowAddAccompanyingGuestWithPersonalDetailsWidget:null,allowAddAccompanyingGuestWithPersonalDetailsTooltipWidget:null,
allowAddAccompanyingGuestWithoutPersonalDetailsWidget:null,allowAddAccompanyingGuestWithoutPersonalDetailsTooltipWidget:null,allowBadgePrintingWidget:null,badgePrintingTemplateStore:null,badgePrintingTemplateWidget:null,addImageBtn:null,editImageDialogWidget:null,showPrivacyWidget:null,privacySettingsSC:null,languageSelectionWidget:null,privacySettingsSwitchWidget:null,messages:T,commonMessages:K,getToolbarConfig:function(){return{buttons:[{type:"dijit/form/Button",options:{code:"save",label:K.lblSalvaButton,
action:a.hitch(this,this.save),"class":"saveBtn"}}]}},getHeaderToolbar:function(){this.headerToolbar||(this.headerToolbar=new d({toolbarConfig:this.getToolbarConfig()}));return this.headerToolbar},getFooterToolbar:function(){this.footerToolbar||(this.footerToolbar=new d({toolbarConfig:this.getToolbarConfig()}));return this.footerToolbar},postCreate:function(){this.inherited(arguments);this.formWidget=new y({},this.formNode);u(".fakeCheckBoxCheckedDisabled",this.domNode).forEach(function(a){new z({checked:!0,
disabled:!0},a)});this.eventVisibleToAppWidget=new z({checked:this.stato.get("eventVisibleToApp"),onChange:a.hitch(this,function(a){this.stato.set("eventVisibleToApp",a)})},this.eventVisibleToAppNode);b.set(this.collectPersonalDetailsContainerNode,"display","none");this.stato.set("collectPersonalDetails",!0);this.requestSignatureWidget=new z({checked:this.stato.get("requestSignature"),onChange:a.hitch(this,function(a){this.stato.set("requestSignature",a)})},this.requestSignatureNode);this.allowAddAccompanyingGuestWithPersonalDetailsWidget=
new z({checked:this.stato.get("allowAddAccompanyingGuestWithPersonalDetails"),onChange:a.hitch(this,function(a){this.stato.set("allowAddAccompanyingGuestWithPersonalDetails",a)})},this.allowAddAccompanyingGuestWithPersonalDetailsNode);this.allowAddAccompanyingGuestWithoutPersonalDetailsWidget=new z({checked:this.stato.get("allowAddAccompanyingGuestWithoutPersonalDetails"),onChange:a.hitch(this,function(a){this.stato.set("allowAddAccompanyingGuestWithoutPersonalDetails",a)})},this.allowAddAccompanyingGuestWithoutPersonalDetailsNode);
this.allowBadgePrintingWidget=new z({checked:this.stato.get("allowBadgePrinting"),onChange:a.hitch(this,function(a){this.stato.set("allowBadgePrinting",a);this.aggiornaVisibilitaDettagliStampaBadge()})},this.allowBadgePrintingNode);this.badgePrintingTemplateStore=new l({idProperty:"idTemplate"});this.badgePrintingTemplateWidget=new B({appBadgeFormats:this.appBadgeFormats,value:this.stato.get("badgePrintingTemplate"),placeHolder:"Choose",store:this.badgePrintingTemplateStore,searchAttr:"label",labelAttr:"label",
required:!1,invalidMessage:T.msgInvalidBadgeFormat,isValid:function(){var a=B.prototype.isValid.call(this);a&&this.item&&(a=k.some(this.appBadgeFormats,function(a){return!!this.item.paperFormat&&this.item.paperFormat.id==a.id},this));return a},onChange:a.hitch(this,function(a){this.stato.set("badgePrintingTemplate",a)})},this.badgePrintingTemplateNode);this.badgePrintingTemplateWidget.set("appBadgeFormats",k.filter(p.evento.stato.badges.pageSizes,function(a){return"badgeApp"==a.badgeTemplate}));this.badgePrintingTemplateWidget.startup();
this.requestSignatureTooltipWidget=new C({label:T.msgRequestSignatureTip,connectId:[this.requestSignatureTooltipNode]},this.requestSignatureTooltipNode);this.eventVisibleToAppTooltipWidget=new C({label:T.msgEventVisibileToAppTip,connectId:[this.eventVisibleToAppTooltipNode]},this.eventVisibleToAppTooltipNode);this.allowAddAccompanyingGuestWithPersonalDetailsTooltipWidget=new C({label:T.msgAllowAddAccompanyingGuestWithPersonalDetailsTip,connectId:[this.allowAddAccompanyingGuestWithPersonalDetailsTooltipNode]},
this.allowAddAccompanyingGuestWithPersonalDetailsTooltipNode);this.allowAddAccompanyingGuestWithoutPersonalDetailsTooltipWidget=new C({label:T.msgAllowAddAccompanyingGuestWithoutPersonalDetailsTip,connectId:[this.allowAddAccompanyingGuestWithoutPersonalDetailsTooltipNode]},this.allowAddAccompanyingGuestWithoutPersonalDetailsTooltipNode);this.showPrivacyWidget=new z({checked:this.stato.get("showPrivacy"),onChange:a.hitch(this,function(a){this.stato.set("showPrivacy",a);a?r.remove(this.privacySettingsSC.domNode,
"hideWithMask"):r.add(this.privacySettingsSC.domNode,"hideWithMask")})},this.showPrivacyNode);this.appFieldsSwitchWidget=new L({title:T.lblAppFields,dropDown:this.appFieldsMasterContainerNode,opened:"DEMO"!=p.evento.stato.event_subscription.tipo,onOpenDropDown:a.hitch(this,function(){})},this.appFieldsBtnNode);this.registroCampiInLista={};this.registroCampiFiltro={};this.registroCampiInDettaglio={};this.registroCampiObbligatori={};this.registroPrivacysettings={};this.initAppImages();this.initPrivacySettings();
this.copyConfFromEventPageWidget=new x({label:T.lblCopyConfFromEventPage,onClick:a.hitch(this,function(){e.post("/getEventFields.plp",{data:{idEvento:p.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){v.debug("DATA",d);v.debug("this.registroCampiInDettaglio",this.registroCampiInDettaglio);d.data&&k.forEach(d.data,a.hitch(this,function(a){0!=a.idCustomField&&(this.registroCampiInDettaglio[a.idCustomField].set("checked",
a.showOnFormIscrizione),this.registroCampiObbligatori[a.idCustomField].set("checked",a.mandatory))}))}),a.hitch(this,function(a){I.showError(K.msgErroreServer)}))})},this.copyConfFromEventPageNode);m(this.appAccountsNoteNode,"click",this.goToAccounts)},hasToLoadData:function(){return!0},loadData:function(){return e.get("/getAppSetup.plp",{query:{idEvento:p.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},processLoadedData:function(d){v.debug("LOADED DATA",
d);var b={};b.visibileApp=d.data.visibileApp;b.profilaAccompagnatoriApp=d.data.profilaAccompagnatoriApp;b.trattamentoDatiAppCartaceo=d.data.trattamentoDatiAppCartaceo;b.mostraPrivacyApp=d.data.mostraPrivacyApp;b.permettiInserimentoAccompagnatoriProfilatiDaApp=d.data.permettiInserimentoAccompagnatoriProfilatiDaApp;b.permettiInserimentoAccompagnatoriNonProfilatiDaApp=d.data.permettiInserimentoAccompagnatoriNonProfilatiDaApp;b.permettiStampaBadgeDaApp=d.permettiStampaBadgeDaApp;d.data.badgeStampaDaApp&&
(b.badgeStampaDaApp=d.data.badgeStampaDaApp.idBadge);var e=E.invertMapping(p.evento.mappings.app_setup_field_details);a.mixin(b,{descrittore:k.map(d.descrittore,function(a){var d={id:null,name:null,label:null,visibleInList:null,visibleInDetail:null,mandatory:null,multiple:null};E.copyTo(a,d,e);return d})});e=E.invertMapping(p.evento.mappings.app_setup_image);a.mixin(b,{immagini:k.map(d.immagini,function(a){var d={id:null,order:null,image:null};E.copyTo(a,d,e);return d})});a.mixin(b,{specificheTrattamentoDati:d.specificheTrattamentoDati});
e=E.invertMapping(p.evento.mappings.app_setup_privacy_settings);a.mixin(b,{specificheTrattamentoDati:k.map(d.specificheTrattamentoDati,function(a){var d={id:null,idLanguage:null,showPrivacyIntro:null,privacyIntro:null,privacy:null,showConsentRequest1:null,isConsentRequest1Mandatory:null,consentRequest1Text:null,showConsentRequest2:null,isConsentRequest2Mandatory:null,consentRequest2Text:null,showConsentRequest3:null,isConsentRequest3Mandatory:null,consentRequest3Text:null};E.copyTo(a,d,e);return d})});
this.availableBadges=d.availableBadges;v.debug(".... PROCESSED DATA",b);return b},preProcessDataToBePosted:function(a){delete a.allLanguages;var d=k.map(a.descrittore,function(a){var d={idCustomFieldEvento:null,nome:null,visualizzaIPadLista:null,visualizzaIPad:null,obbligatorioIpad:null};E.copyTo(a,d,p.evento.mappings.app_setup_field_details);return d});a.descrittore=d;d=k.map(a.immagini,function(a){var d={idImmagineApp:null,ordinamento:null,fileImmagine:null};E.copyTo(a,d,p.evento.mappings.app_setup_image);
return d});a.immagini=d;d=k.map(a.specificheTrattamentoDati,function(a){var d={idSpecificaTrattamentoDati:null,lingua:{idLingua:null},visualizzaTestoIntroInformativaApp:null,testoIntroInformativaApp:null,testoInformativaApp:null,presenteRichiestaConsensoServizioApp:null,richiestoConsensoServizioApp:null,testoPrivacyServizioApp:null,presenteRichiestaConsensoPubblicitaApp:null,richiestoConsensoPubblicitaApp:null,testoPrivacyPubblicitaApp:null,presenteRichiestaConsensoTerziApp:null,richiestoConsensoTerziApp:null,
testoPrivacyTerziApp:null};E.copyTo(a,d,p.evento.mappings.app_setup_privacy_settings);return d});a.specificheTrattamentoDati=d},initAppImages:function(){this.editImageDialogWidget=new aa({});this.addImageBtn=new x({label:T.lblAddImage,onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:T.lblAddImageDialogTitle,currentSrc:null,imageType:"appImage",fileFormatNote:T.msgImageFormatNotes,previewMaxDim:{w:p.commons.config.App_imgWidth/10,h:p.commons.config.App_imgHeight/10},doOnSelection:a.hitch(this,
function(a){a&&(this.stato.get("images").push({id:0,image:a}),this.stato.set("dirty",!0),this.updateUIImmagini())})})})},this.addImageBtnNode);this.appImagesContainer=new G({},this.appImagesContainerNode);this.appImagesSwitchWidget=new L({title:T.lblImages,dropDown:this.appImagesMasterContainerNode,opened:!1,onOpenDropDown:a.hitch(this,function(){})},this.appImagesBtnNode)},initPrivacySettings:function(){this.privacySettingsSC=new G({},this.privacySettingsContainerNode);this.privacySettingsSC.startup();
this.languageSelectionWidget=new N({onSelect:a.hitch(this,function(a){v.debug("LINGUA: ",a,this.stato.get("allLanguages"));this.privacySettingsSC.selectChild(this.registroPrivacysettings[a])})},this.languageSelectionNode);this.privacySettingsSwitchWidget=new L({title:T.lblPrivacy,dropDown:this.privacySettingsMasterContainerNode,opened:!1,onOpenDropDown:a.hitch(this,function(){})},this.privacySettingsBtnNode)},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,function(){v.debug("[AppSetupWidget]  AGGIORNA UI");
M.aggiornaValoreDaStato("eventVisibleToApp",this);M.aggiornaValoreDaStato("showPrivacy",this);M.aggiornaValoreDaStato("allowAddAccompanyingGuestWithPersonalDetails",this);M.aggiornaValoreDaStato("allowAddAccompanyingGuestWithoutPersonalDetails",this);M.aggiornaValoreDaStato("allowBadgePrinting",this);this.badgePrintingTemplateWidget.set("appBadgeFormats",k.filter(p.evento.stato.badges.pageSizes,function(a){return"badgeApp"==a.badgeTemplate}));this.badgePrintingTemplateStore.setData(k.map(this.availableBadges,
function(a){return{idTemplate:a.idBadge,label:a.nome,paperFormat:a.paperFormat}}));M.aggiornaValoreDaStato("badgePrintingTemplate",this);this.aggiornaVisibilitaDettagliStampaBadge();!this.showPrivacyWidget.get("disabled")&&this.showPrivacyWidget.get("checked")||r.add(this.privacySettingsSC.domNode,"hideWithMask");this.stato.set("collectPersonalDetails",!0);M.aggiornaValoreDaStato("requestSignature",this);for(cbid in this.registroCampiInLista)this.registroCampiInLista[cbid].destroy();for(cbid in this.registroCampiFiltro)this.registroCampiFiltro[cbid].destroy();
for(cbid in this.registroCampiInDettaglio)this.registroCampiInDettaglio[cbid].destroy();for(cbid in this.registroCampiObbligatori)this.registroCampiObbligatori[cbid].destroy();h.empty(this.customFieldsVisibleInListContainerNode);h.empty(this.customFieldsVisibleInDetailContainerNode);k.forEach(this.stato.get("fieldsDetails"),a.hitch(this,function(d){var b,e,f=!1;"File"==d.type&&(f=!0);b=h.create("tr",{},this.customFieldsVisibleInListContainerNode);e=h.create("td",{"class":"campo"},b);e=h.create("input",
{},e);this.registroCampiInLista[d.id]=new z({checked:d.visibleInList,disabled:f,onChange:a.hitch(this,function(a){d.visibleInList=a;this.stato.set("dirty",!0)})},e);e=h.create("td",{"class":"labelCampo",innerHTML:d.label},b);"Lista"==d.type?(e=h.create("td",{"class":"campo"},b),e=h.create("input",{},e),this.registroCampiFiltro[d.id]=new z({checked:d.useAsFilter,onChange:a.hitch(this,function(a){d.useAsFilter=a;this.stato.set("dirty",!0)})},e),e=h.create("td",{"class":"labelCampo",innerHTML:T.lblUseAsFilter},
b)):(e=h.create("td",{innerHTML:"\x26nbsp;"},b),e=h.create("td",{innerHTML:"\x26nbsp;"},b));b=h.create("tr",{},this.customFieldsVisibleInDetailContainerNode);e=h.create("td",{"class":"campo"},b);e=h.create("input",{},e);this.registroCampiInDettaglio[d.id]=new z({checked:d.visibleInDetail,disabled:f,onChange:a.hitch(this,function(a){d.visibleInDetail=a;this.registroCampiObbligatori[d.id].set("disabled",!a);a||this.registroCampiObbligatori[d.id].set("checked",!1);this.stato.set("dirty",!0)})},e);e=
h.create("td",{"class":"labelCampo",innerHTML:d.label},b);e=h.create("td",{"class":"campo"},b);e=h.create("input",{},e);this.registroCampiObbligatori[d.id]=new z({disabled:!d.visibleInDetail&&f,checked:d.mandatory,onChange:a.hitch(this,function(a){d.mandatory=a;this.stato.set("dirty",!0)})},e);e=h.create("td",{"class":"labelCampo",innerHTML:T.msgRequiredField},b)}));this.privacySettingsSwitchWidget.closeDropDown();0<this.stato.get("images").length?this.appImagesSwitchWidget.openDropDown():this.appImagesSwitchWidget.closeDropDown();
k.forEach(p.evento.stato.event_details.languages,a.hitch(this,function(d){var b;0==k.filter(this.stato.privacySettings,function(a){return a.idLanguage==d.idLingua}).length&&(b=a.clone(this.privacySettingsStartup),b.idLanguage=d.idLingua,this.stato.privacySettings.push(b))}));k.forEach(p.evento.stato.event_details.languages,a.hitch(this,function(d){var b,e;b=k.filter(this.stato.privacySettings,function(a){return a.idLanguage==d.idLingua})[0];b.privacyConfigured||(b.privacyConfigured=!1,b.showPrivacyIntro=
p.commons.data.customerDefaults.visualizzaTestoIntroInformativaDefault,b.privacyIntro=p.commons.data.customerDefaults.testoIntroInformativaDefault,b.privacy=p.commons.data.customerDefaults.testoInformativaDefault,b.showConsentRequest1=p.commons.data.customerDefaults.presenteRichiestaConsensoServizioDefault,b.isConsentRequest1Mandatory=p.commons.data.customerDefaults.richiestoConsensoServizioDefault,b.consentRequest1Text=p.commons.data.customerDefaults.testoPrivacyServizioDefault,b.showConsentRequest2=
p.commons.data.customerDefaults.presenteRichiestaConsensoPubblicitaDefault,b.isConsentRequest2Mandatory=p.commons.data.customerDefaults.richiestoConsensoPubblicitaDefault,b.consentRequest2Text=p.commons.data.customerDefaults.testoPrivacyPubblicitaDefault,b.showConsentRequest3=p.commons.data.customerDefaults.presenteRichiestaConsensoTerziDefault,b.isConsentRequest3Mandatory=p.commons.data.customerDefaults.richiestoConsensoTerziDefault,b.consentRequest3Text=p.commons.data.customerDefaults.testoPrivacyTerziDefault);
e=new n(b);e.watch(a.hitch(this,function(a,d,e){e!=d&&"dirty"!=a&&(this.stato.set("dirty",!0),b[a]=e,b.privacyConfigured=!0);"dirty"==a&&(1==e?this.appWidget.setMustSaveToContinueMode():this.appWidget.resetMustSaveToContinueMode())}));this.registroPrivacysettings[d.idLingua]?this.registroPrivacysettings[d.idLingua].stato=e:(this.registroPrivacysettings[d.idLingua]=new F({stato:e}),this.privacySettingsSC.addChild(this.registroPrivacysettings[d.idLingua]))}));this.privacySettingsSC.selectChild(this.registroPrivacysettings[p.evento.stato.event_details.languages[0].idLingua]);
this.languageSelectionWidget.set("filterArray",k.map(p.evento.stato.event_details.languages,function(a){return a.idLingua}));this.languageSelectionWidget.setLanguage(p.evento.stato.event_details.languages[0].idLingua);k.forEach(p.evento.stato.event_details.languages,a.hitch(this,function(a){this.registroPrivacysettings[a.idLingua].aggiornaUI()}));b.set(this.languageSelectionContainerNode,"display",1<p.evento.stato.event_details.languages.length?"block":"none");this.updateUIImmagini();this.updateUIByPermission()}),
a.hitch(this,function(){v.debug("AppSetupWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){I.hideLoading()})},updateUIImmagini:function(){this.appImagesContainer.destroyDescendants();k.forEach(this.stato.get("images"),a.hitch(this,function(a){this.appImagesContainer.addChild(new J({parentWidget:this,id:a.id,imgSrc:a.image}))}))},removeImmagine:function(a){var d=k.filter(this.stato.get("images"),function(d){return d.id!=a});this.stato.set("images",d);this.stato.set("dirty",!0);
this.updateUIImmagini()},aggiornaVisibilitaDettagliStampaBadge:function(){this.allowBadgePrintingWidget.get("checked")?(this.badgePrintingTemplateWidget.set("required",!0),b.set(this.badgePrintingDetailsContainerNode,"display","block")):(this.badgePrintingTemplateWidget.set("required",!1),this.badgePrintingTemplateWidget.set("value",null,!1),b.set(this.badgePrintingDetailsContainerNode,"display","none"))},validate:function(){var a=this.formWidget.validate();v.debug("AppSetupWidget VALIDATE:",a);return a},
save:function(){this.validate()&&this.salvaStato("/addUpdateAppSetup.plp","jsonData",{idCliente:p.evento.stato.idCliente,idEvento:p.evento.stato.idEvento})},postCommit:function(d){v.debug("DATA",d);this.updateUIByPermission();d.specifiche&&k.forEach(d.specifiche,a.hitch(this,function(d){k.forEach(this.stato.privacySettings,a.hitch(this,function(a){a.idLanguage!=d.lingua.idLingua||a.id&&0!=a.id||(v.debug("per lingua",a.idLanguage,"imposto id",d.idSpecificaTrattamentoDati),a.id=d.idSpecificaTrattamentoDati)}))}));
d.immagini&&(this.stato.set("images",k.map(d.immagini,function(a){return{id:a.idImmagineApp,image:a.fileImmagine}})),this.appWidget.resetMustSaveToContinueMode(),this.updateUIImmagini())},updateUIByPermission:function(){p.commons.permissions.canModifyEvent?(this.headerToolbar.enableByCode("save"),this.footerToolbar.enableByCode("save"),this.eventVisibleToAppWidget.set("disabled",!1),this.requestSignatureWidget.set("disabled",!1),this.allowAddAccompanyingGuestWithPersonalDetailsWidget.set("disabled",
!1),this.allowAddAccompanyingGuestWithoutPersonalDetailsWidget.set("disabled",!1),this.showPrivacyWidget.set("disabled",!1),this.addImageBtn.set("disabled",!1),k.forEach(this.stato.get("fieldsDetails"),a.hitch(this,function(a){var d=!1;"File"==a.type&&(d=!0);this.registroCampiInLista[a.id].set("disabled",d);this.registroCampiFiltro[a.id]&&this.registroCampiFiltro[a.id].set("disabled",d);this.registroCampiInDettaglio[a.id].set("disabled",d);this.registroCampiObbligatori[a.id].set("disabled",!a.visibleInDetail&&
d)})),this.stato.get("showPrivacy")&&r.remove(this.privacySettingsSC.domNode,"hideWithMask")):(p.evento.stato.app_setup.eventVisibleToApp||(this.headerToolbar.disableByCode("save"),this.footerToolbar.disableByCode("save"),this.eventVisibleToAppWidget.set("disabled",!0)),this.allowAddAccompanyingGuestWithPersonalDetailsWidget.set("disabled",!0),this.allowAddAccompanyingGuestWithoutPersonalDetailsWidget.set("disabled",!0),this.requestSignatureWidget.set("disabled",!0),this.showPrivacyWidget.set("disabled",
!0),this.addImageBtn.set("disabled",!0),k.forEach(this.stato.get("fieldsDetails"),a.hitch(this,function(a){this.registroCampiInLista[a.id].set("disabled",!0);this.registroCampiFiltro[a.id]&&this.registroCampiFiltro[a.id].set("disabled",!0);this.registroCampiInDettaglio[a.id].set("disabled",!0);this.registroCampiObbligatori[a.id].set("disabled",!1)})),r.add(this.privacySettingsSC.domNode,"hideWithMask"))},goToAccounts:function(a){a=document.location.href;a=a.substring(a,0,a.lastIndexOf("/"))+"settings.plp?idEvento\x3d"+
p.evento.stato.idEvento+"#ipad_accounts";document.location.href=a}})})},"ebPlatformWidgets/Dialogs/SceltaLinguaDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/ready dojo/request dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/form/Button ebPlatform/commonDialogs ebPlatformWidgets/Dialogs/CustomizedI18nDialogWidget ebPlatformWidgets/Dialogs/SceltaLinguaDialogWidget/RigaLinguaWidget dijit/layout/ContentPane dojo/i18n dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y){return q([h],{urlLingue:null,onSelect:null,onHide:null,doOnDialogHide:null,messages:null,dialogWidget:null,testoIntroduttivoContentPaneWidget:null,vociContentPaneWidget:null,procediBtn:null,postCreate:function(){this.dialogWidget=new m({"class":"sceltaLinguaDialogWidget",title:"",onHide:a.hitch(this,this.doOnDialogHide)});this.testoIntroduttivoContentPaneWidget=new w({});this.vociContentPaneWidget=new w({});this.dialogWidget.addChild(this.testoIntroduttivoContentPaneWidget);
this.dialogWidget.addChild(this.vociContentPaneWidget)},visualizzaScelte:function(b){b&&b.titolo&&""!=b.titolo.trim()?this.dialogWidget.set("title",b.titolo):this.dialogWidget.set("title","");b.testo&&""!=b.testo.trim?this.testoIntroduttivoContentPaneWidget.set("content",b.testo):this.testoIntroduttivoContentPaneWidget.set("content","");this.urlLingue?l.post(this.urlLingue,{handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){console.log("LINGUE",
a);var b=a.result||a;"OK"==b.resultCode?(this.creaVoci(a.lingueDisponibili),this.dialogWidget.show()):b.msg?r.showError(b.msg):r.showError(y.msgErroreServer)}),a.hitch(this,function(a){r.showError(y.msgErroreServer)})):(this.creaVoci(this.lingue),this.dialogWidget.show());this.onHide=b.onHide?b.onHide:null},creaVoci:function(b){this.vociContentPaneWidget.destroyDescendants();k.forEach(b,a.hitch(this,function(a){a=new u({parentWidget:this,idLingua:a.idLingua,label:y.lingue[a.nome]||a.nome,disponibile:a.disponibile});
this.vociContentPaneWidget.addChild(a)}))},hide:function(){this.dialogWidget.hide()},doOnDialogHide:function(){if(this.onHide)this.onHide()}})})},"ebPlatformWidgets/Evento/EventPage/EditFormTextDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/query dojo/store/Memory dojo/text!./templates/EditFormTextDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button dijit/form/FilteringSelect dijit/form/ValidationTextBox ebPlatform/commonDialogs ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/FontControlWidget dojo/i18n!ebPlatformWidgets/Dialogs/nls/EditTextWithFontDialogWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I){return q([b,r],{mouseAnim:null,templateString:h,baseClass:"editFormTextDialogContentWidget",parentWidget:null,doOnSelection:null,okBtnWidget:null,messages:I,commonMessages:C,dialogMessages:G,postCreate:function(){var b=this.parentWidget;this.inherited(arguments);this.textWidget=new u({rows:2,placeHolder:C.lblEnterTextHere,placeholder:C.lblEnterTextHere},this.textNode);this.backgroundColorWidget=new B({label:I.lblBackgroundColorPlaceHolder,value:"#FFFFFF",
allowTransparent:!0,resetColor:"white",onChange:function(a){}},this.backgroundColorNode);this.textColorWidget=new B({label:I.lblColorPlaceHolder,value:"#000000",onChange:function(a){}},this.textColorNode);var e=this.textWidget;this.fontControlWidget=new t({required:!1,showUppercase:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",fontSizePlaceHolder:b.fontSizePh,onChange:function(a){l.set(e.domNode,"fontFamily",a.fontFamily||this.fontFamilyPlaceHolder)}},this.fontSelectorNode);this.marginBeforeWidget=
new x({pattern:"^\\s*-?\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeholder:"0px",trim:!0},this.marginBeforeNode);this.marginAfterWidget=new x({pattern:"^\\s*-?\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeholder:"10px",trim:!0},this.marginAfterNode);this.paddingBeforeWidget=new x({pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeholder:"0px",trim:!0},this.paddingBeforeNode);this.paddingAfterWidget=new x({pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",
placeholder:"0px",trim:!0},this.paddingAfterNode);this.cancelBtnWidget=new D({label:C.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new D({label:C.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e={text:this.textWidget.get("value"),style:a.mixin({backgroundColor:this.backgroundColorWidget.get("value"),color:this.textColorWidget.get("value"),marginTop:this.marginBeforeWidget.isValid()?this.marginBeforeWidget.get("value")+
(/^\d+(?:\.\d+)?$/.test(this.marginBeforeWidget.get("value"))?"px":""):null,marginBottom:this.marginAfterWidget.isValid()?this.marginAfterWidget.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginAfterWidget.get("value"))?"px":""):null,paddingTop:this.paddingBeforeWidget.isValid()?this.paddingBeforeWidget.get("value")+(/^\d+(?:\.\d+)?$/.test(this.paddingBeforeWidget.get("value"))?"px":""):null,paddingBottom:this.paddingAfterWidget.isValid()?this.paddingAfterWidget.get("value")+(/^\d+(?:\.\d+)?$/.test(this.paddingAfterWidget.get("value"))?
"px":""):null},this.fontControlWidget.get("value"))};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode)},_setTextAttr:function(a){a&&(this.textWidget.set("value",a.text||""),this.fontControlWidget.set("value",a.style),a.style&&(this.backgroundColorWidget.set("value",a.style.backgroundColor||"#FFFFFF"),this.textColorWidget.set("value",a.style.color||"#000000"),this.paddingBeforeWidget.set("value",a.style.paddingTop||""),this.paddingAfterWidget.set("value",
a.style.paddingBottom||""),this.marginBeforeWidget.set("value",a.style.marginTop||""),this.marginAfterWidget.set("value",a.style.marginBottom||"")))},reset:function(){}})})},"ebPlatformWidgets/Evento/Communication/PersonalFilesCategoriesToAttachWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/dom-construct dijit/_WidgetBase dijit/form/CheckBox ebPlatform/logger! dojo/i18n!./nls/CommunicationWidget".split(" "),function(q,a,k,n,l,e,f,h,b){return q([e],
{mouseAnim:null,baseClass:"personalFilesCategoriesToAttachWidget",stato:null,idEvento:null,postCreate:function(){},init:function(e){this.stato=e;l.empty(this.domNode);if(this.stato.personalFilesCategories&&0<this.stato.personalFilesCategories.length){var h=l.create("table",{"class":"categorieTable"},this.domNode);e=l.create("tr",{"class":"header"},h);l.create("td",{innerHTML:"\x26nbsp;"},e);l.create("td",{innerHTML:b.lblAllegaCategoriaFilePersonale},e);l.create("td",{innerHTML:b.lblLinkaCategoriaFilePersonale},
e);var r,w,n;k.forEach(this.stato.personalFilesCategories,a.hitch(this,function(b){r=l.create("tr",{},h);l.create("td",{"class":"nomeCategoria",innerHTML:b.categoria.categoria},r);trTd2Node=l.create("td",{"class":"allega"},r);w=l.create("input",{type:"checkbox"},trTd2Node);trTd3Node=l.create("td",{"class":"inserisciLink"},r);n=l.create("input",{type:"checkbox"},trTd3Node);new f({checked:b.allega,onChange:a.hitch(this,function(a){b.allega=a;this.stato.set("dirty",!0)})},w);new f({checked:b.linka,onChange:a.hitch(this,
function(a){b.linka=a;this.stato.set("dirty",!0)})},n)}))}},setStatoDefault:function(){n.post("/getCategorieFilePersonaliEventoDTO.plp",{data:{idEvento:this.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode&&(this.stato.personalFilesCategories=a.categorieDTO,this.init(this.stato))}),a.hitch(this,function(a){}))}})})},"ebPlatformWidgets/Evento/Communication/CommunicationsListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/fx dojo/date/locale dojo/dom-style dojo/dom-class dojo/query dojo/string dojo/request dojo/topic dojo/store/Memory dojo/text!./templates/CommunicationsListWidget.html dojo/i18n!dgrid/extensions/nls/pagination dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem dijit/registry ebPlatformWidgets/CustomTooltip dgrid/OnDemandGrid dgrid/extensions/Pagination put-selector/put ebPlatform/ebcometd ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ebPlatform/dateUtility ebPlatformWidgets/Form/BadgedButtonWidget ./MailSpedizionePopupWidget ./EditSchedulingDialogWidget ./CommunicationRecipientsListWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!../Guests/nls/ManageGuestsWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H){return q([x,z],{mouseAnim:null,templateString:D,baseClass:"communicationsListWidget",scheduledCommunications:null,confirmationEmails:null,allConfimationEmailsCreated:!1,statusSpansRegistry:null,hasToolbar:!1,parentWidget:null,MyPagination:null,invitationsStore:null,otherCommunicationsStore:null,confirmationEmailsStore:null,addInvitationBtnWidget:null,addConfirmationBtnWidget:null,addOtherCommunicationBtnWidget:null,
invitationsGrid:null,otherCommunicationsGrid:null,confirmationEmailsGrid:null,editSchedulingDialog:null,notScheduledTooltip:null,scheduledTooltip:null,sentTooltip:null,suspendedTooltip:null,runningTooltip:null,errorTooltip:null,messages:H,commonMessages:R,postCreate:function(){this.inherited(arguments);this.initAddButtons();var d=a.mixin({},y,{status:ea.lblListStatus});this.MyPagination=q(v,{i18nPagination:d});this.initInvitationsGrid();this.initOtherMessagesGrid();this.initConfirmationEmailsGrid();
this.scheduledTooltip=new I({label:H.lblScheduledCommunicationStatusTip});this.sentTooltip=new I({label:H.lblSentCommunicationStatusTip});this.suspendedTooltip=new I({label:H.lblSuspendedCommunicationStatusTip});this.runningTooltip=new I({label:H.lblRunningCommunicationStatusTip});this.errorTooltip=new I({label:H.lblErrorCommunicationStatusTip});this.popupSendCommunicationsWidget=new J({parentWidget:this,dialogTitle:H.lblScheduledCommunicationDispatchDialogTitle,sendEmailsURL:"/sendScheduledCommunicationNow.plp"});
this.popupSendConfirmationsWidget=new J({parentWidget:this,dialogTitle:H.lblScheduledCommunicationDispatchDialogTitle,sendEmailsURL:"/sendRegistrationConfirmationEmails.plp"});this.editSchedulingDialog=new K({});u.subscribe("/dojo/hashchange",a.hitch(this,this.eventualmenteDisabilitaControlloStatoScheduledCommunication));u.subscribe("sys.statoPianificazioni.update",a.hitch(this,this.aggiornaStatusSpans))},eventualmenteDisabilitaControlloStatoScheduledCommunication:function(a){if("communication"!=
a&&ebPlatform.keepAliveOptions&&ebPlatform.keepAliveOptions.length&&0<ebPlatform.keepAliveOptions.length){var d;k.forEach(ebPlatform.keepAliveOptions,function(a){"scheduledCommunicationsRequiringStatusUpdates"==a.name&&(d=a)});d&&ebPlatform.keepAliveOptions.splice(ebPlatform.keepAliveOptions.indexOf(d),1)}},aggiornaStatusSpans:function(d){var b,e,f;for(id in d){e=d[id];b=this.statusSpansRegistry[id];this.scheduledTooltip.removeTarget(b);this.sentTooltip.removeTarget(b);this.suspendedTooltip.removeTarget(b);
this.runningTooltip.removeTarget(b);this.errorTooltip.removeTarget(b);h.contains(b,"sent")&&(f="INVIATA");h.contains(b,"not_scheduled")&&(f="NON_SCHEDULATA");h.contains(b,"scheduled")&&(f="SCHEDULATA");h.contains(b,"suspended")&&(f="SOSPESA");h.contains(b,"running")&&(f="IN_CORSO");h.contains(b,"error")&&(f="IN_ERRORE");h.remove(b,"not_scheduled scheduled suspended running error sent".split(" "));("INVIATA"!=f&&"INVIATA"==e||"INVIATA"==f&&"INVIATA"!=e)&&this.parentWidget.aggiornaUI().then(a.hitch(this,
function(){this.parentWidget.selectTab("communications_list")}));var v=null;this.invitationsStore.query({idSchedulation:id}).forEach(function(a){v=new Date(parseInt(a.scheduledDeliveryUTC))});null==v&&this.otherCommunicationsStore.query({idSchedulation:id}).forEach(function(a){v=new Date(parseInt(a.scheduledDeliveryUTC))});"SCHEDULATA"==e?null!=v&&v<new Date?(this.errorTooltip.addTarget(b),h.add(b,"error")):(this.scheduledTooltip.addTarget(b),h.add(b,"scheduled")):"SOSPESA"==e?(this.suspendedTooltip.addTarget(b),
h.add(b,"suspended")):"INVIATA"==e?(this.sentTooltip.addTarget(b),h.add(b,"sent")):"IN_CORSO"==e?L.commons.stato.isMuleStatusOK?(this.runningTooltip.addTarget(b),h.add(b,"running")):(this.errorTooltip.addTarget(b),h.add(b,"error")):"IN_ERRORE"==e?(this.errorTooltip.addTarget(b),h.add(b,"error")):h.add(b,"not_scheduled")}},initAddButtons:function(){this.addInvitationBtnWidget=new F({img:"/img/btn/btn_invitation.png",label:H.lblAddInvitationBtn,caption:H.msgAddInvitationBtnText,hoverImg:"/img/btn/btn_invitation_checked.png",
hoverLabel:H.lblAddInvitationBtn,hoverCaption:H.msgAddInvitationBtnHoverText,doAction:a.hitch(this,function(a){this.parentWidget.addInvitation()}),badge:1},this.addInvitationBtnNode);this.addConfirmationBtnWidget=new F({img:"/img/btn/btn_confirmation.png",label:H.lblAddConfirmationBtn,caption:H.msgAddConfirmationBtnText,hoverImg:"/img/btn/btn_confirmation_checked.png",hoverLabel:H.lblAddConfirmationBtn,hoverCaption:H.msgAddConfirmationBtnHoverText,doAction:a.hitch(this,function(a){this.parentWidget.addRegistrationConfirmation()}),
badge:1,disabledTip:H.msgAddConfirmationDisabledTip},this.addConfirmationBtnNode);this.addOtherCommunicationBtnWidget=new F({img:"/img/btn/btn_other.png",label:H.lblAddOtherCommunicationBtn,caption:H.msgAddOtherCommunicationBtnText,hoverImg:"/img/btn/btn_other_checked.png",hoverLabel:H.lblAddOtherCommunicationBtn,hoverCaption:H.msgAddOtherCommunicationBtnHoverText,doAction:a.hitch(this,function(a){this.parentWidget.addOtherScheduledCommunication()}),badge:1},this.addOtherCommunicationBtnNode)},initInvitationsGrid:function(){this.invitationsStore=
new w({idProperty:"idSchedulation"});this.invitationsGrid=this.initScheduledCommunicationsGrid(this.invitationsStore,this.invitationsGridNode,"invitation")},initOtherMessagesGrid:function(){this.otherCommunicationsStore=new w({idProperty:"idSchedulation"});this.otherCommunicationsGrid=this.initScheduledCommunicationsGrid(this.otherCommunicationsStore,this.otherCommunicationsGridNode,"other")},initScheduledCommunicationsGrid:function(d,b,e){this.statusSpansRegistry={};var f=a.hitch(this,function(a,
d,b){d=M(b,"div.enrichedNameContainer");b=M(d,"i[aria-hidden\x3dtrue].status."+a.status+(a.statusIconClass?"."+a.statusIconClass.replace(/\s/g,"."):""));this.statusSpansRegistry[a.idSchedulation]=b;"not_scheduled"!=a.status&&("scheduled"==a.status?void 0===a.notScheduledTooltip&&this.scheduledTooltip.addTarget(b):"suspended"==a.status?void 0===a.notScheduledTooltip&&this.suspendedTooltip.addTarget(b):"running"==a.status?(L.commons.stato.isMuleStatusOK&&this.apriCanaleCometd(a.correlationId,a.idSchedulation),
void 0===a.notScheduledTooltip&&this.runningTooltip.addTarget(b)):"error"==a.status?void 0===a.notScheduledTooltip&&this.errorTooltip.addTarget(b):void 0===a.notScheduledTooltip&&this.sentTooltip.addTarget(b));var A=[a.idSchedulation+""],U="",e;ebPlatform.keepAliveOptions&&ebPlatform.keepAliveOptions.length&&0<ebPlatform.keepAliveOptions.length&&k.forEach(ebPlatform.keepAliveOptions,function(a){"scheduledCommunicationsRequiringStatusUpdates"==a.name&&(U=a.value,e=a)});""!=U&&(a=U.split(","),k.forEach(a,
function(a){-1==A.indexOf(a)&&A.push(a+"")}));""==U?ebPlatform.keepAliveOptions.push({name:"scheduledCommunicationsRequiringStatusUpdates",value:A.join(",")}):e.value=A.join(",");return d}),v=a.hitch(this,function(d,b,A){b=A.appendChild(document.createElement("div"));p.remove("schedlbl_"+d.idSchedulation);"not_scheduled"!=d.status&&"suspended"!=d.status&&(new B({id:"schedlbl_"+d.idSchedulation,"class":"scheduledDeliveryContainer",title:R.lblModificaButton,label:aa.getLocaleFormattedDateFromString(d.scheduledDeliveryDate)+
" "+aa.getLocaleFormattedTimeFromString(d.scheduledDeliveryTime),onClick:a.hitch(this,this.showScheduleCommunicationDialog,e,d),disabled:!L.commons.permissions.canModifyEvent},b)).set("disabled","running"==d.status);return b}),A=a.hitch(this,function(d,b,A){b=A.appendChild(document.createElement("div"));A=b.appendChild(document.createElement("div"));h.add(b,"statisticsBtnContainer");("sent"==d.status||d.lastSent)&&new B({label:H.lblStatisticsAction,onClick:a.hitch(this,function(){this.parentWidget.selectTab("statistics",
{idSchedulation:d.idSchedulation,tipo:this.parentWidget.scheduledCommunicationWidget.communicationsTypeMap[e],nome:d.name,ultimoInvio:d.lastSent,to:d.to})})},A);return b}),O="invitation"==e?"editInvitation":"editOtherScheduledCommunication",V=a.hitch(this,function(d,A,f){A=f.appendChild(document.createElement("div"));var U=A.appendChild(document.createElement("div"));f=new G({style:"display: none;"});new B({"class":"editButton",label:R.lblModificaButton,onClick:a.hitch(this,function(){this.parentWidget[O](d.idSchedulation)})},
U);p.remove("send_"+d.idSchedulation);U=new C({id:"send_"+d.idSchedulation,label:H.lblSendNowAction,onClick:a.hitch(this,function(){"invitation"==e&&!this.allConfimationEmailsCreated&&L.evento.stato.event_page.sendConfirmationEmail?N.showInfoWithCloseButton(H.msgSchedulingNotAllConfirmationsCreatedTip,Y.footerInc.lblWarningMsgDialogTitle,R.lblOKButton):("invitation"!=e||L.commons.permissions.canModifyEvent)&&this.askForScheduledCommunicationDispatch(d.idSchedulation,d.name,d.status,e)}),disabled:void 0===
L.evento.statoCalcolato.numOspitiMasterList||0>=L.evento.statoCalcolato.numOspitiMasterList||!L.evento.statoCalcolato.campoMailDefinito||"invitation"==e&&!L.commons.permissions.canModifyEvent||"running"==d.status});f.addChild(U);if("scheduled"==d.status){var h=new C({label:H.lblDeleteScheduling,onClick:a.hitch(this,function(){("invitation"!=e||L.commons.permissions.canModifyEvent)&&this.askForScheduledCommunicationSchedulingDeletion(d.idSchedulation,d.name)}),disabled:!L.commons.permissions.canModifyEvent});
f.addChild(h)}p.remove("sched_"+d.idSchedulation);h=new C({id:"sched_"+d.idSchedulation,label:H.lblScheduleDelivery,onClick:a.hitch(this,this.showScheduleCommunicationDialog,e,d),disabled:void 0===L.evento.statoCalcolato.numOspitiMasterList||0>=L.evento.statoCalcolato.numOspitiMasterList||!L.commons.permissions.canModifyEvent||!L.evento.statoCalcolato.campoMailDefinito||"running"==d.status});f.addChild(h);var v=new C({label:H.lblCheckRecipientsAction,disabled:void 0===L.evento.statoCalcolato.numOspitiMasterList||
0>=L.evento.statoCalcolato.numOspitiMasterList||!L.evento.statoCalcolato.campoMailDefinito,onClick:a.hitch(this,function(){var b=new T({parentWidget:this});b.set("noDataMessage",H.msgGridNoRecipients);b.aggiornaUI({idSchedulation:d.idSchedulation,tipo:this.parentWidget.scheduledCommunicationWidget.communicationsTypeMap[e],nome:d.name,ultimoInvio:d.lastSent,to:d.to,toBeSent:!0});N.showGenericDialog(H.lblCheckRecipientsAction,b,null,null,null,null,!1,null,"checkRecipients");b.gridWidget.on("dgrid-refresh-complete",
a.hitch(this,function(a){p.byId("genericDialog").resize();p.byId("genericDialog")._position()}))})});f.addChild(v);L.evento.statoCalcolato.campoMailDefinito||new I({label:H.msgSchedulingDisabledTip,connectId:[h.domNode,v.domNode,U.domNode]});U=new C({label:H.lblDuplicateAction,onClick:a.hitch(this,function(){this.copyScheduledCommunication(d.idSchedulation,d.name,b)}),disabled:!L.commons.permissions.canModifyEvent});f.addChild(U);"sent"==d.status||"running"==d.status||d.lastSent||(U=new C({label:R.lblCancellaButton,
onClick:a.hitch(this,function(){("invitation"!=e||L.commons.permissions.canModifyEvent)&&this.askForScheduledCommunicationDeletion(d.idSchedulation,d.name)}),disabled:"invitation"==e&&!L.commons.permissions.canModifyEvent}),f.addChild(U));f=new t({disabled:!f.hasChildren(),label:"",dropDown:f,dropDownPosition:["below-alt"]});A.appendChild(f.domNode);return A});d=new E({store:d,rowsPerPage:20,columns:[{label:"",field:"idSchedulation",sortable:!1,renderCell:function(a,d,b){d=null;try{var A=a.numDestinatari||
0;0<A&&(d=M(b,"span.fa.fa-users"),new I({label:r.substitute(H.lblNotScheduledCommunicationStatusTip,{numDestinatari:A}),connectId:d}))}catch(ma){console.log(ma)}return d}},{label:"",field:"idEmail",renderCell:f,sortable:!1},{label:H.lblGridColName,field:"name",sortable:!1},{label:H.lblGridColTo,field:"to",formatter:function(a){return'\x3cspan title\x3d"'+a+'"\x3e'+a+"\x3c/span\x3e"},get:function(a){var d="";a.inviate&&(d+=a.inviate+" - ");return d+=a.to},sortable:!1},{label:H.lblGridColDelivery,field:"delivery",
renderCell:v,sortable:!1},{label:"",field:"id",renderCell:A,className:"field-stats",sortable:!1},{label:"",field:"id",renderCell:V,className:"field-actions",sortable:!1}],queryOptions:{sort:[{attribute:"idSchedulation",descending:!0,ignoreCase:!0}]}},b);d.startup();return d},initConfirmationEmailsGrid:function(){var d=a.hitch(this,function(a,d,b){a=M(b,"div.enrichedNameContainer\x3ei[aria-hidden\x3dtrue].status.sent.fa.fa-check-square-o");new I({label:H.lblConfiguredCommunicationStatusTip,connectId:[a]})}),
b=a.hitch(this,function(d,b,A){b=A.appendChild(document.createElement("div"));A=b.appendChild(document.createElement("div"));h.add(b,"statisticsBtnContainer");d.lastSent&&new B({label:H.lblStatisticsAction,onClick:a.hitch(this,function(){var a="";k.forEach(L.commons.data.languages,function(b){b.idLingua==d.idLanguage&&(a="\x26nbsp;"+b.iso639_2.toUpperCase())});this.parentWidget.selectTab("statistics",{idEmail:d.idEmail,tipo:"CONFERMA_ISCRIZIONE",nome:H.registrationConfirmationEmail.lblMainTitle+a,
ultimoInvio:d.lastSent,to:H.lblsScheduledCommunicationRecipientsCategory.INVITATI})})},A);return b}),e=a.hitch(this,function(d,b,A){b=A.appendChild(document.createElement("div"));var e=b.appendChild(document.createElement("div"));A=new G({style:"display: none;"});new B({"class":"editButton",label:R.lblModificaButton,onClick:a.hitch(this,function(){this.parentWidget.editRegistrationConfirmation(d.idEmail)})},e);d.lastSent||(e=new C({label:R.lblCancellaButton,onClick:a.hitch(this,function(){L.commons.permissions.canModifyEvent&&
this.askForRegistrationConfirmationDeletion(d.idEmail,R.lingue[d.language])}),disabled:!L.commons.permissions.canModifyEvent}),A.addChild(e));L.evento.stato.event_page.sendConfirmationEmail||(e=new C({label:H.lblSendNowAction,onClick:a.hitch(this,function(){this.askForConfirmationsDispatch(d.idEmail,d.language)}),disabled:!L.commons.permissions.canModifyEvent||!L.evento.statoCalcolato.campoMailDefinito}),A.addChild(e));A=new t({disabled:!A.hasChildren(),label:"",dropDown:A,dropDownPosition:["below-alt"]});
b.appendChild(A.domNode);return b}),d=[{label:"",field:"idSchedulation",sortable:!1},{label:"",field:"idEmail",renderCell:d,sortable:!1},{label:H.lblCommunicationsGridColName,field:"language",sortable:!1,formatter:function(a){return a?R.lingue[a]:null}},{label:"",field:"id",renderCell:b,className:"field-stats",sortable:!1},{label:"",field:"id",renderCell:e,className:"field-actions",sortable:!1}];this.confirmationEmailsStore=new w({idProperty:"idEmail"});this.confirmationEmailsGrid=new E({store:this.confirmationEmailsStore,
rowsPerPage:20,columns:d,queryOptions:{sort:[{attribute:"idEmail",descending:!0,ignoreCase:!0}]}},this.confirmationEmailsGridNode);this.confirmationEmailsGrid.startup()},aggiornaVisibilitaListe:function(){this.scheduledCommunications.invitations&&0<this.scheduledCommunications.invitations.length||this.scheduledCommunications.others&&0<this.scheduledCommunications.others.length||this.confirmationEmails&&0<this.confirmationEmails.length?(f.set(this.noCommunicationsBoxNode,"display","none"),f.set(this.communicationsBoxNode,
"display","block")):(f.set(this.noCommunicationsBoxNode,"display","block"),f.set(this.communicationsBoxNode,"display","none"));this.scheduledCommunications.invitations&&0<this.scheduledCommunications.invitations.length?(f.set(this.invitationsBoxNode,"display","block"),this.invitationsStore.setData(this.scheduledCommunications.invitations),this.invitationsGrid.refresh()):f.set(this.invitationsBoxNode,"display","none");this.scheduledCommunications.others&&0<this.scheduledCommunications.others.length?
(f.set(this.otherCommunicationsBoxNode,"display","block"),this.otherCommunicationsStore.setData(this.scheduledCommunications.others),this.otherCommunicationsGrid.refresh()):f.set(this.otherCommunicationsBoxNode,"display","none");this.confirmationEmails&&0<this.confirmationEmails.length?(f.set(this.confirmationEmailsBoxNode,"display","block"),this.confirmationEmailsStore.setData(this.confirmationEmails),this.confirmationEmailsGrid.refresh()):f.set(this.confirmationEmailsBoxNode,"display","none");this.scheduledCommunications.invitations&&
0<this.scheduledCommunications.invitations.length||this.scheduledCommunications.others&&0<this.scheduledCommunications.others.length?f.set(this.scheduledCommunicationsTitleNode,"display","block"):f.set(this.scheduledCommunicationsTitleNode,"display","none")},aggiornaUI:function(){d.debug("[CommunicationsListWidget] aggiornaUI",this.scheduledCommunications,this.confirmationEmails);b("span.status").forEach(a.hitch(this,function(a){this.scheduledTooltip.removeTarget(a);this.sentTooltip.removeTarget(a);
this.suspendedTooltip.removeTarget(a);this.runningTooltip.removeTarget(a);this.errorTooltip.removeTarget(a)}));this.addInvitationBtnWidget.setBadge(this.scheduledCommunications.invitations?this.scheduledCommunications.invitations.length:null);this.addOtherCommunicationBtnWidget.setBadge(this.scheduledCommunications.others?this.scheduledCommunications.others.length:null);this.addConfirmationBtnWidget.setBadge(this.confirmationEmails?this.confirmationEmails.length:null);d.debug("this.confirmationEmails",
this.confirmationEmails,"statoShadow.evento.stato.event_details.languages",L.evento.stato.event_details.languages.length);this.confirmationEmails&&0<this.confirmationEmails.length&&this.confirmationEmails.length>=L.evento.stato.event_details.languages.length?this.addConfirmationBtnWidget.set("disabled",!0):this.addConfirmationBtnWidget.set("disabled",!1);this.allConfimationEmailsCreated=!1;L.evento.stato.event_details.languages.length&&L.evento.stato.communication.confirmationEmails.length&&(this.allConfimationEmailsCreated=
L.evento.stato.event_details.languages.length==L.evento.stato.communication.confirmationEmails.length);this.aggiornaVisibilitaListe();this.updateUIByPermission();if(L.commons.config.mailConfig){var e="\x3cul\x3e",h;for(h in L.commons.config.mailConfig)e+="\x3cli\x3e\x3cb\x3e"+h+"\x3c/b\x3e: "+L.commons.config.mailConfig[h];e+="\x3cul\x3e";f.set(this.mainTitleTipNode,"display","inline-block");this.mainTitleTip=new I({label:e,connectId:[this.mainTitleTipNode]})}else f.set(this.mainTitleTipNode,"display",
"none"),this.mainTitleTip&&this.mainTitleTip.destroyRecursive()},askForScheduledCommunicationDeletion:function(a,d){var b=r.substitute(H.msgConfirmDeleteScheduledCommunicationDialogQuestion,{communicationName:d});N.setUpConfirmDialog(H.lblConfirmDeleteScheduledCommunicationDialogTitle,b,this,this.deleteScheduledCommunication,null,[a,d]);N.showConfirm()},deleteScheduledCommunication:function(d,b){m.get("/deleteScheduledCommunication.plp",{query:{idEvento:L.evento.stato.idEvento,idSchedulation:d},handleAs:"json",
headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){"OK"==(d.result||d).resultCode?N.showInfoWithCloseButton(r.substitute(H.msgScheduledCommunicationDeletedDialogText,{communicationName:b}),H.lblScheduledCommunicationDeletedDialogTitle,R.lblOKButton,a.hitch(this,function(){this.parentWidget.aggiornaUI().then(a.hitch(this,function(){this.parentWidget.selectTab("communications_list")}))})):N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,
R.lblOKButton)}),a.hitch(this,function(){N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))},askForRegistrationConfirmationDeletion:function(a,b){d.debug("[askForRegistrationConfirmationDeletion]",arguments);var e=r.substitute(H.lblConfirmDeleteRegistrationConfirmationDialogQuestion,{languageName:b});N.setUpConfirmDialog(H.lblRegistrationConfirmationDeletedDialogTitle,e,this,this.deleteRegistrationConfirmation,null,[a,b]);N.showConfirm()},deleteRegistrationConfirmation:function(d,
b){m.get("/deleteRegistrationConfirmation.plp",{query:{idEvento:L.evento.stato.idEvento,idEmail:d},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){"OK"==(d.result||d).resultCode?N.showInfoWithCloseButton(r.substitute(H.msgRegistrationConfirmationDeletedDialogText,{languageName:b}),H.lblRegistrationConfirmationDeletedDialogTitle,R.lblOKButton,a.hitch(this,function(){this.parentWidget.aggiornaUI().then(a.hitch(this,function(){this.parentWidget.selectTab("communications_list")}))})):
N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}),a.hitch(this,function(){N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))},askForScheduledCommunicationDispatch:function(a,b,e,f){d.debug("[askForScheduledCommunicationDispatch]",arguments);var h,A,O={communicationName:b,invitationAlert:"",dupalicatesAlert:""};L.evento.statoCalcolato.numOspitiConDuplicati&&0<L.evento.statoCalcolato.numOspitiConDuplicati&&(O.dupalicatesAlert=
H.msgDispatchDuplicatesAlert);"invitation"==f?(A=H.lblConfirmDispatchInvitationEmailDialogTitle,O.invitationAlert=H.msgDispatchInvitationAlert):A=H.lblConfirmDispatchOtherScheduledCommunicationlDialogTitle;"not_scheduled"==e?(d.debug("not_sc",H.msgConfirmDispatchCommunicationDialogQuestion,a,b,e,f),h=r.substitute(H.msgConfirmDispatchCommunicationDialogQuestion,O)):"scheduled"==e?(d.debug("sc",H.msgConfirmDispatchScheduledCommunicationDialogQuestion,a,b,e,f),h=r.substitute(H.msgConfirmDispatchScheduledCommunicationDialogQuestion,
O)):"suspended"==e?(d.debug("sus",H.msgConfirmDispatchSuspendedCommunicationDialogQuestion,a,b,e,f),h=r.substitute(H.msgConfirmDispatchSuspendedCommunicationDialogQuestion,O)):"sent"==e&&(d.debug("se",H.msgConfirmDispatchSentCommunicationDialogQuestion,a,b,e,f),h=r.substitute(H.msgConfirmDispatchSentCommunicationDialogQuestion,O));N.setUpConfirmDialog(A,h,this,this.sendNowScheduledCommunication,null,[a,b]);N.showConfirm({s:R.lblProcediButton,n:R.lblChiudiButton})},askForConfirmationsDispatch:function(a,
b,e,f){d.debug("[askForConfirmationsDispatch]",arguments);N.setUpConfirmDialog(H.lblConfirmDispatchOtherScheduledCommunicationlDialogTitle,r.substitute(H.msgConfirmDispatchConfirmationsDialogQuestion,{communicationName:b,invitationAlert:""}),this,this.sendNowConfirmations,null,[a,b]);N.showConfirm({s:R.lblProcediButton,n:R.lblChiudiButton})},askForScheduledCommunicationSchedulingDeletion:function(a,d){var b,e=H.lblConfirmDeleteCommunicationSchedulingDialogTitle;b=r.substitute(H.msgConfirmDeleteCommunicationSchedulingDialogQuestion,
{communicationName:d});N.setUpConfirmDialog(e,b,this,this.deleteCommunicationScheduling,null,[a,d]);N.showConfirm({s:R.lblOKButton,n:R.lblChiudiButton})},sendNowScheduledCommunication:function(b,e){this.popupSendCommunicationsWidget.getDataForSendEmailsURL={idEvento:L.evento.stato.idEvento,idSchedulation:b,type:"GENERIC"};m.post("/checkScheduledCommunicationEmailAddresses.plp",{data:{idEvento:L.evento.stato.idEvento,idSchedulation:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(b){var e=b.result||b;d.debug(b);"OK"==e.resultCode?(this.popupSendCommunicationsWidget.show(null,a.hitch(this,function(){this.parentWidget.aggiornaUI()})),null!=b.personeBadEmail&&0<b.personeBadEmail.length?this.popupSendCommunicationsWidget.showBadEmails(b.personeBadEmail):this.popupSendCommunicationsWidget.showSendEmails(),this.popupSendCommunicationsWidget.setTotToSend(b.totToSend)):N.showInfoWithCloseButton(e.msg||R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}),
a.hitch(this,function(a){N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))},sendNowConfirmations:function(b,e){this.popupSendConfirmationsWidget.getDataForSendEmailsURL={idEvento:L.evento.stato.idEvento,idTemplate:b,type:"CONFERMA_ISCRIZIONE"};m.post("/checkRegistrationEmailAddresses.plp",{data:{idTemplate:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){var e=b.result||b;d.debug(b);"OK"==
e.resultCode?(this.popupSendConfirmationsWidget.show(null,a.hitch(this,function(){this.parentWidget.aggiornaUI()})),null!=b.personeBadEmail&&0<b.personeBadEmail.length?this.popupSendConfirmationsWidget.showBadEmails(b.personeBadEmail):this.popupSendConfirmationsWidget.showSendEmails(),this.popupSendConfirmationsWidget.setTotToSend(b.totToSend)):N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}),a.hitch(this,function(a){N.showInfoWithCloseButton(R.msgErroreServer,
Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))},deleteCommunicationScheduling:function(d,b){m.get("/deleteCommunicationScheduling.plp",{query:{idEvento:L.evento.stato.idEvento,idSchedulation:d},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){"OK"==(d.result||d).resultCode?N.showInfoWithCloseButton(r.substitute(H.msgCommunicationSchedulingDeletedDialogText,{communicationName:b}),H.lblScheduledCommunicationDeletedDialogTitle,R.lblOKButton,
a.hitch(this,function(){this.parentWidget.aggiornaUI().then(a.hitch(this,function(){this.parentWidget.selectTab("communications_list")}))})):N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}),a.hitch(this,function(){N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))},copyScheduledCommunication:function(d,e,f){N.showLoading();try{var h=!1,v=e+" - COPY";b(".field-name",f).forEach(a.hitch(this,function(a){v==a.innerHTML&&
(h=!0)}));if(h){var A,O,V=new RegExp(v+"\\s(\\d)+$");A=b(".field-name",f).filter(function(a){return V.test(a.innerHTML)});O=(A=k.map(A,function(a){return a.innerHTML}))&&0<A.length?Math.max.apply(null,k.map(A,function(a){return parseInt(V.exec(a)[1])})):0;v+=" "+(O+1)}m.get("/copyScheduledCommunication.plp",{query:{idSchedulation:d,name:v},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){"OK"==(d.result||d).resultCode?(N.hideLoading(),this.parentWidget.aggiornaUI().then(a.hitch(this,
function(){this.parentWidget.selectTab("communications_list")}))):(N.hideLoading(),N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton))}),a.hitch(this,function(){N.hideLoading();N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))}catch(U){console.log(U)}},showScheduleCommunicationDialog:function(d,b){"invitation"==d&&!this.allConfimationEmailsCreated&&L.evento.stato.event_page.sendConfirmationEmail?N.showInfoWithCloseButton(H.msgSchedulingNotAllConfirmationsCreatedTip,
Y.footerInc.lblWarningMsgDialogTitle,R.lblOKButton):this.editSchedulingDialog.show({title:H.lblScheduleDelivery,idSchedulation:b.idSchedulation,deliveryDate:b.scheduledDeliveryDate,deliveryTime:b.scheduledDeliveryTime,doOnSelection:a.hitch(this,this.scheduleCommunication)})},scheduleCommunication:function(d){d={idEvento:L.evento.stato.idEvento,idSchedulation:d.idSchedulation,date:e.format(d.deliveryDate,{datePattern:"yyyy-MM-dd",selector:"date"}),time:e.format(d.deliveryTime,{timePattern:"HH:mm",
selector:"time"})};N.showLoading();m.post("addUpdateCommunicationScheduling.plp",{data:d,handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){console.log("DATA",a);var d=a.result||a;N.hideLoading();if("OK"!=d.resultCode)N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton);else{var d=this.invitationsStore.get(a.scheduledCommunication.idPianificazioneInvioEmail),b=this.invitationsGrid;null==d&&(d=this.otherCommunicationsStore.get(a.scheduledCommunication.idPianificazioneInvioEmail),
b=this.otherCommunicationsGrid);d.status="not_scheduled";d.scheduledDeliveryUTC=a.scheduledCommunication.spedisciData;a.scheduledCommunication.stato&&("INVIATA"==a.scheduledCommunication.stato?(d.status="sent",d.statusIconClass="fa fa-check-square-o",d.scheduledDeliveryDate=a.scheduledCommunication.invio.dataInvioStr,d.scheduledDeliveryTime=a.scheduledCommunication.invio.oraInvioStr):"SCHEDULATA"==a.scheduledCommunication.stato?(d.status="scheduled",d.statusIconClass="fa fa-clock-o",d.scheduledDeliveryDate=
a.scheduledCommunication.spedisciDataStr,d.scheduledDeliveryTime=a.scheduledCommunication.spedisciOraStr):"SOSPESA"==a.scheduledCommunication.stato?(d.status="suspended",d.statusIconClass="fa fa-exclamation-triangle",d.scheduledDeliveryDate=a.scheduledCommunication.spedisciDataStr,d.scheduledDeliveryTime=a.scheduledCommunication.spedisciOraStr):"IN_CORSO"==a.scheduledCommunication.stato?(d.status="running",d.statusIconClass="fa fa-cogs",d.scheduledDeliveryDate=a.scheduledCommunication.spedisciDataStr,
d.scheduledDeliveryTime=a.scheduledCommunication.spedisciOraStr):"IN_ERRORE"==a.scheduledCommunication.stato&&(d.status="error",d.statusIconClass="fa fa-exclamation-circle",a.scheduledCommunication.invio?(d.scheduledDeliveryDate=item.invio.dataInvioStr,d.scheduledDeliveryTime=item.invio.oraInvioStr):(d.scheduledDeliveryDate=item.spedisciDataStr,d.scheduledDeliveryTime=item.spedisciOraStr)));b.refresh();a.result&&"warningEmailInsufficienti"==a.result.msg&&H.msgWarningEmailInsufficienti&&N.showInfoWithCloseButton(H.msgWarningEmailInsufficienti,
Y.footerInc.lblWarningMsgDialogTitle,R.lblOKButton)}}),a.hitch(this,function(a){N.hideLoading();N.showInfoWithCloseButton(R.msgErroreServer,Y.footerInc.lblErrorMsgDialogTitle,R.lblOKButton)}))},updateUIByPermission:function(){0!=L.evento.stato.idEvento&&L.commons.permissions.canModifyEvent||0==L.evento.stato.idEvento&&L.commons.permissions.canCreateEvent?(this.addInvitationBtnWidget.get("disabled")||this.addInvitationBtnWidget.set("disabled",!1),this.addConfirmationBtnWidget.get("disabled")||(this.addConfirmationBtnWidget.set("disabledTip",
H.msgAddConfirmationDisabledTip),this.addConfirmationBtnWidget.set("disabled",!1))):(this.addInvitationBtnWidget.set("disabled",!0),this.addConfirmationBtnWidget.set("disabledTip",null),this.addConfirmationBtnWidget.set("disabled",!0))},initCometdListeners:function(d){S.addListener("/meta/subscribe",a.hitch(this,function(a){console.debug("/meta/subscribe",a)}));S.addListener("/meta/unsubscribe",a.hitch(this,function(a){console.debug("/meta/unsubscribe",a)}));this.cometdListenersInitialized=!0},apriCanaleCometd:function(d,
b,e){S.subscribe("/invio_"+b,a.hitch(this,function(a){"END"==a.data.messaggio?(h.add(e,"sent"),h.remove(e,"running"),p.byId("sched_"+d).set("disabled",!1),p.byId("schedlbl_"+d).set("disabled",!1),p.byId("send_"+d).set("disabled",!1)):"SENT"==a.data.messaggio?l.chain([n.fadeOut({node:e,duration:1E3}),n.fadeIn({node:e,duration:1E3})]).play():"fine"==a.data.messaggio&&S.unsubscribe(a.channel)}),{forceDebounceUnsubscribeDelay:1E4})}})})},"ebPlatformWidgets/Evento/Guests/AttendeeListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/store/Memory dojo/store/JsonRest dojo/request dojo/mouse dojo/date/locale dojo/text!./templates/AttendeeListWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/Button dijit/form/RadioButton dijit/form/FilteringSelect dijit/Tooltip dojox/form/Uploader dojox/lang/functional dgrid/Grid dgrid/tree dgrid/editor put-selector/put ebPlatform/stato ebPlatform/statoEmail ebPlatform/commonDialogs ebPlatform/utility ebPlatform/dateUtility ebPlatform/ebcometd ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ./_ListWidgetMixin dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca){return q([y,x,R],{mouseAnim:null,templateString:D,baseClass:"attendeeListWidget",parentWidget:null,idEvento:L.evento.stato.idEvento,freshList:!0,disableDownloadButtons:!1,configFiltri:{filtraStatoEmail:!1,filtraNonInteressati:!1,filtraModalitaIscrizione:!1,filtraDataFascia:!0,filtraAzioniOspite:!1,filtraValoreLista:!0,filtraCancellati:!1},filtraDataFasciaStore:null,messages:ca,commonMessages:ea,postCreate:function(){this.gruppoDefault=
"PARTECIPAZIONE";this.downloadLinkPath="downloadListaPartecipanti.plp";this.inherited(arguments);this.aggiornaVisibilitaLista();this.initList()},initList:function(){this.initCommonStores();this.initCommonSubWidgets({gruppo:this.gruppoDefault});this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(d){var b=0;d.results.forEach(a.hitch(this,function(){b++})).then(a.hitch(this,function(){this.aggiornaVisibilitaLista(!!b||!this.freshList);this.aggiornaAbilitazioneExportLinks(!!b)}));d.results.total.then(a.hitch(this,
function(a){if(this.filtriImpostati())this.infoTableNode.innerHTML="";else{var b=null,A=null,e=null,f=null,U=null,b=d.results.ioArgs.xhr.getResponseHeader("Eventboost-PartecipantiNoAccompagnatori"),A=d.results.ioArgs.xhr.getResponseHeader("Eventboost-PartecipantiAccompagnatori"),e=d.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni"),f=d.results.ioArgs.xhr.getResponseHeader("Eventboost-PartecipazioniNoAccompagnatori"),U=d.results.ioArgs.xhr.getResponseHeader("Eventboost-PartecipazioniAccompagnatori"),
h='\x3ctable class\x3d"infoTable"\x3e',v=parseInt(b)+(A?parseInt(A):0),h=h+"\x3ctr\x3e"+('\x3ctd class\x3d"label"\x3e'+ca.lblAttendeesNum+":\x3c/td\x3e"),h=h+('\x3ctd class\x3d"valore"\x3e'+b+"\x3c/td\x3e");!f||"-"==f||f==a&&b==v||(h+='\x3ctd class\x3d"label"\x3e'+ca.lblAttendancesNum+":\x3c/td\x3e",h+='\x3ctd class\x3d"valore"\x3e'+f+"\x3c/td\x3e");h+="\x3c/tr\x3e";A&&"-"!=A&&b!=v&&0!=A&&(h=h+"\x3ctr\x3e"+('\x3ctd class\x3d"label"\x3e'+ca.lblAccompagnatori+":\x3c/td\x3e"),h=h+('\x3ctd class\x3d"valore"\x3e'+
A+"\x3c/td\x3e")+('\x3ctd class\x3d"label"\x3e'+ca.lblAttendancesNum+":\x3c/td\x3e"),h=h+('\x3ctd class\x3d"valore"\x3e'+U+"\x3c/td\x3e")+"\x3c/tr\x3e",h+='\x3ctr class\x3d"totali"\x3e',h+='\x3ctd class\x3d"label"\x3e'+ea.lblTotale+":\x3c/td\x3e",h+='\x3ctd class\x3d"valore"\x3e'+v+"\x3c/td\x3e",h+='\x3ctd class\x3d"label"\x3e'+ea.lblTotale+":\x3c/td\x3e",h+='\x3ctd class\x3d"valore"\x3e'+e+"\x3c/td\x3e",h+="\x3c/tr\x3e");h+="\x3c/table\x3e";this.infoTableNode.innerHTML=h}}))}));n(this.exportExcelNode,
"click",a.hitch(this,function(a){this.disableDownloadButtons&&a.preventDefault()}))},aggiornaUI:function(){this.inherited(arguments);this.aggiornaVisibilitaLista(0<F.elvis("numPartecipanti",L.evento.statoCalcolato,0));this.refreshList()},refreshList:function(){this.gridWidget.store=null;this.gridWidget.revert();this.gridWidget.query=a.mixin(this.gridWidget.query,{idEvento:L.evento.stato.idEvento,gruppo:this.gruppoDefault,idData:void 0,idFascia:void 0,accompagnatori:"NON_PROFILATI"!=L.evento.stato.event_details.partnersType,
chiave:void 0,conFigli:"y"});this.gridWidget.set("sort",[{attribute:"cognome"}]);this.gridWidget.store=this.personeStore;this.searchTextBox.set("value",null,!1);this.freshList=!0;this.refreshGridColumns(!0);this.filterListDialogWidget.refresh()},customizeGridColumns:function(a,b,e){(F.exists("evento.stato.event_details.dates[1]",L)||F.exists("evento.stato.event_details.dates[0].timeSlots[1]",L))&&a.push({label:ca.lblAttendancesDetails,field:"eventiTxt",renderCell:function(a,d,b){d="";d=a.eventiTxt.replace(/\n/gi,
"\x3cbr/\x3e");a=h.toDom("\x3cdiv\x3e"+d+"\x3c/div\x3e");return b.appendChild(a)},sortable:!1,side:"left"});L.evento.stato.app_setup.collectPersonalDetails||"PROFILATI"==L.evento.stato.event_details.partnersType?this.addGuestStatusRenderCell(a):a.splice(2,0,{label:ca.lblPartners,field:"numeroAccompagnatori",sortable:!1,side:"left"});var f=this.gridWidget;a.splice(1,0,M({label:ca.lblNumeroFigliCheckedIn,className:"field-num-figli-checkedin",field:"numeroFigliCheckedIn",sortable:!1,side:"left",get:function(a){return 0==
a.numeroFigliCheckedIn?"":a.numeroFigliCheckedIn},sortable:!1,renderCell:function(a,b,e){b=d("div");0<a.numeroFigliCheckedIn&&(b=d(b,".infoAccompagnatori"),d(b,"div.btnShowAccompagnatori span").innerHTML=a.numeroFigliCheckedIn,n(b,"click",function(d){f.expand(a)}));return b}}));a.splice(2,0,{label:ca.lblCheckinTime,field:"eventiTxt2",sortable:!0,side:"left",className:"field-checkin",renderCell:function(a,d,b){d="";a.eventiTxt2&&(d=a.eventiTxt2.replace(/\n/gi,"\x3cbr/\x3e"));a=h.toDom("\x3cdiv\x3e"+
d+"\x3c/div\x3e");return b.appendChild(a)}});return a},getDatesTimeSlotsStore:function(){var a=[{idDataFascia:0,label:ca.lblAll}];k.forEach(L.evento.stato.event_details.dates,function(d,b){a.push({idDataFascia:d.id,label:J.getLocaleFormattedDateFromString(d.date)});k.forEach(d.timeSlots,function(b){var A,e;A=J.getLocaleFormattedTimeFromString(b.startTime.substring(0,b.startTime.lastIndexOf(":")));e=J.getLocaleFormattedTimeFromString(b.endTime.substring(0,b.startTime.lastIndexOf(":")));a.push({idDataFascia:d.id+
"-"+b.id,label:J.getLocaleFormattedDateFromString(d.date)+" - "+A+" "+ca.lblToTime+" "+e})})});return a},aggiornaAbilitazioneExportLinks:function(a){this.disableDownloadButtons=!a},updateUIByPermission:function(){this.enableCellEditing=L.commons.permissions.canModifyEvent?!0:!1}})})},"ebPlatformWidgets/Evento/Communication/SaveAsTemplateDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/Deferred dojo/json dojo/store/Memory dojo/request dojo/text!./templates/SaveAsTemplateDialogContentWidget.html dijit/form/FilteringSelect dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/ValidationTextBox ebPlatform/commonDialogs ebPlatform/logger! ebPlatform/stato ebPlatform/utility dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G){return q([m,u],{mouseAnim:null,templateString:b,baseClass:"saveAsTemplateDialogContentWidget",idCliente:null,stato:null,mappingName:null,refreshCallback:null,refreshCallbackCtx:null,type:null,messages:G,commonMessages:t,parentWidget:null,doOnSelection:null,selectTemplateModelWidget:null,postCreate:function(){this.inherited(arguments);this.selectTemplateModelWidget=new r({trim:!0,invalidMessage:"",missingMessage:G.msgSaveAsTooltip,searchAttr:"label",
labelAttr:"label",store:new f({data:null,idProperty:"id"}),isValid:function(){var a=!1;this.item?(this.setSaveEnabled(!0),this.setDeleteEnabled(!0),a=!0):this._isEmpty(this.get("displayedValue"))?(this.setSaveEnabled(!1),this.setDeleteEnabled(!1),a=!1):(this.setSaveEnabled(!0),this.setDeleteEnabled(!1),a=!0);return a},setSaveEnabled:a.hitch(this,function(a){this.saveBtn.set("disabled",!a)}),setDeleteEnabled:a.hitch(this,function(a){this.deleteBtn.set("disabled",!a)})},this.selectTemplateModelNode);
this.saveBtn=new w({label:t.lblSalvaButton,onClick:a.hitch(this,function(){this.selectTemplateModelWidget.isValid()||this.selectTemplateModelWidget.get("displayedValue")?this.save():this.selectTemplateModelWidget.focus()})},this.saveBtnNode);this.deleteBtn=new w({disabled:!0,label:t.lblCancellaButton,onClick:a.hitch(this,function(){this.selectTemplateModelWidget.isValid()?this.deleteTemplate():this.selectTemplateModelWidget.focus()})},this.deleteBtnNode);this.cancelBtn=new w({label:t.lblChiudiButton,
onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode)},show:function(a){this.inherited(arguments);this.selectTemplateModelWidget.reset();a.idCliente&&(this.idCliente=a.idCliente,this.loadTemplateCliente(a.templateId));this.stato=a.stato?a.stato:null;this.mappingName=a.mappingName?a.mappingName:null;this.type=a.type?a.type:null;a.refreshCallback?(this.refreshCallback=a.refreshCallback,this.refreshCallbackCtx=a.refreshCallbackCtx):this.refreshCallbackCtx=this.refreshCallback=
null},loadTemplateCliente:function(b){x.debug("loadTemplateCliente",this.idCliente);h.get("/getCustomerEmailTemplateModels.plp",{query:{idCliente:this.idCliente},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?(a=k.map(a.modelli,function(a){return{id:a.idEmailTemplateModel,label:"USER_DEFINED"==a.tipoModello?a.nome:t.lblsModelTypes[a.nome||a.tipoModello],value:"USER_DEFINED"==a.tipoModello?a.nome:a.tipoModello,
type:a.tipoTemplate,modelType:a.tipoModello}}),a.sort(function(a,b){return a.label.localeCompare(b.label)})):a=[];this.selectTemplateModelWidget.store.setData(a);b?this.selectTemplateModelWidget.set("value",b):this.selectTemplateModelWidget.reset()}))},deleteTemplate:function(){x.debug("save",this.stato);y.showLoading();h.get("/deleteCustomerEmailTemplateModel.plp",{query:{idCliente:this.idCliente,id:this.selectTemplateModelWidget.get("value")},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){a=a.result||a;y.hideLoading();"OK"==a.resultCode?(y.showInfo(t.msgModificaRegistrata),this.loadTemplateCliente(),this.refreshCallback&&this.refreshCallback.call(this.refreshCallbackCtx)):y.showError(t.msgErroreServer)}),a.hitch(this,function(a){y.hideLoading();y.showError(t.msgErroreServer)}))},save:function(){x.debug("save",this.stato);var b={idCliente:this.idCliente,type:this.type};this.selectTemplateModelWidget.get("value")?(x.debug("Update",this.selectTemplateModelWidget.get("value")),
b.id=this.selectTemplateModelWidget.get("value")):this.selectTemplateModelWidget.get("displayedValue")?(x.debug("Insert",this.selectTemplateModelWidget.get("value")),b.name=this.selectTemplateModelWidget.get("displayedValue")):x.error("ERROR");var f=new l,k={};B.copyTo(this.stato,k,a.getObject(this.mappingName,!1,z));b.jsonData=e.stringify(k);y.showLoading();h.post("/addUpdateTemplateModel.plp",{data:b,handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){this.saving=!1;var b=a.result||a;y.hideLoading();"OK"==b.resultCode?(y.showInfo(t.msgModificaRegistrata),f.resolve(),b=null,a.modello&&(b=a.modello.idEmailTemplateModel),this.loadTemplateCliente(b),this.refreshCallback&&this.refreshCallback.call(this.refreshCallbackCtx,this.selectTemplateModelWidget.get("displayedValue"))):(y.hideLoading(),y.showError(t.msgErroreServer),f.reject())}),a.hitch(this,function(a){y.hideLoading();y.showError(t.msgErroreServer);f.reject()}));return f}})})},"ebPlatformWidgets/Evento/AppSetup/AppSetupPrivacySettingsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/text!./templates/AppSetupPrivacySettingsWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs ebPlatform/utility ebPlatformWidgets/Form/utility dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/AppSetupWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([f,h],{mouseAnim:null,templateString:e,baseClass:"appSetupPrivacySettingsWidget",parentWidget:null,stato:null,showPrivacyWidget:null,showPrivacyIntroWidget:null,privacyIntroWidget:null,privacyWidget:null,showConsentRequest1Widget:null,isConsentRequest1MandatoryWidget:null,consentRequest1TextWidget:null,showConsentRequest2Widget:null,isConsentRequest2MandatoryWidget:null,consentRequest2TextWidget:null,showConsentRequest3Widget:null,isConsentRequest3MandatoryWidget:null,
consentRequest3TextWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:B,commonMessages:x,postCreate:function(){var b;this.inherited(arguments);this.showPrivacyIntroWidget=new m({onChange:a.hitch(this,function(a){this.stato.set("showPrivacyIntro",a)})},this.showPrivacyIntroNode);this.privacyIntroWidget=new r({style:"min-height:40px;",placeHolder:B.msgPrivacyIntroPlaceHolder,onChange:a.hitch(this,function(a){this.stato.set("privacyIntro",a)})},this.privacyIntroNode);this.privacyWidget=new r({style:"min-height:150px;",
placeHolder:B.msgPrivacyNoticePlaceHolder,onChange:a.hitch(this,function(a){this.stato.set("privacy",a)})},this.privacyNode);n.set(this.privacyIntroWidget.domNode,"placeholder",B.msgPrivacyIntroPlaceHolder);n.set(this.privacyWidget.domNode,"placeholder",B.msgPrivacyNoticePlaceHolder);for(b=1;3>=b;b++)this["showConsentRequest"+b+"Widget"]=new m({onChange:a.hitch(this,this.setVariabileStato,"showConsentRequest"+b)},this["showConsentRequest"+b+"Node"]),this["isConsentRequest"+b+"MandatoryWidget"]=new m({onChange:a.hitch(this,
this.setVariabileStato,"isConsentRequest"+b+"Mandatory")},this["isConsentRequest"+b+"MandatoryNode"]),this["consentRequest"+b+"TextWidget"]=new r({style:"min-height:60px;",placeHolder:B.msgConsentRequestNumPlaceHolder+b,onChange:a.hitch(this,this.setVariabileStato,"consentRequest"+b+"Text")},this["consentRequest"+b+"TextNode"]),n.set(this["consentRequest"+b+"TextWidget"].domNode,"placeholder",B.msgConsentRequestNumPlaceHolder+b),this["showConsentRequest"+b+"LabelNode"].innerHTML=B.lblShowConsentRequestNum+
b,this["isConsentRequest"+b+"MandatoryLabelNode"].innerHTML=B.lblConsentIsMandatory},setVariabileStato:function(a,b){this.stato.set(a,b)},aggiornaUI:function(){var a;this.showPrivacyIntroWidget.set("checked",this.stato.get("showPrivacyIntro"),!1);this.privacyIntroWidget.set("value",this.stato.get("privacyIntro"),!1);this.privacyWidget.set("value",this.stato.get("privacy"),!1);for(a=1;3>=a;a++)this["showConsentRequest"+a+"Widget"].set("checked",this.stato.get("showConsentRequest"+a),!1),this["isConsentRequest"+
a+"MandatoryWidget"].set("checked",this.stato.get("isConsentRequest"+a+"Mandatory"),!1),this["consentRequest"+a+"TextWidget"].set("value",this.stato.get("consentRequest"+a+"Text"),!1)}})})},"ebPlatformWidgets/Evento/Guests/AddFieldDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./AddFieldDialogContentWidget".split(" "),function(q,a,k,n,l,e,f,h){return q([n,f],{baseClass:"addFieldDialogWidget",
mainWidget:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new h({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);a.tipoStore.remove("Numero accompagnatori");this.mainWidget.reset(a.id,a.fields,a.tipoStore)}})})},"ebPlatformWidgets/Evento/Guests/CompleteListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/store/Memory dojo/store/JsonRest dojo/request dojo/string dojo/mouse dojo/date/locale dojo/text!./templates/CompleteListWidget.html dojo/text!./templates/InfoPadrePopup.html dojo/i18n!dgrid/extensions/nls/pagination dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/Button dijit/form/RadioButton dijit/form/FilteringSelect dijit/Tooltip dojox/form/Uploader dojox/lang/functional dgrid/Grid dgrid/extensions/Pagination dgrid/editor ebPlatform/logger! ebPlatform/stato ebPlatform/statoEmail ebPlatform/commonDialogs ebPlatform/utility ebPlatform/ebcometd ebPlatformWidgets/Dialogs/SceltaEmailDialogWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ./_ListWidgetMixin ./ManageCheckinWidget ./ManagePersonalFilesDialogWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatformWidgets/Evento/Badges/nls/BadgesManagementWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O){return q([t,G,ca],{mouseAnim:null,templateString:x,baseClass:"completeListWidget",parentWidget:null,idEvento:J.evento.stato.idEvento,mainTitleTooltip:O.msgCompleteListMainTitleTip,disableDownloadButtons:!1,configFiltri:{filtraStatoEmail:!1,filtraNonInteressati:!0,filtraModalitaIscrizione:!1,filtraDataFascia:!1,filtraAzioniOspite:!0,filtraValoreLista:!0,filtraCancellati:!1,filtraCategoriaFilePersonali:!0},
sceltaEmailWidget:null,manageCheckinWidget:null,managePersonalFilesDialogWidget:null,inserisciAnagraficaBtn:null,messages:O,commonMessages:Q,postCreate:function(){this.gruppoDefault="";this.downloadLinkPath="downloadListaPersone.plp";this.inherited(arguments);this.aggiornaVisibilitaLista();this.initList();this.initListenerAnagraficaAggiunta()},initList:function(){this.initCommonStores();this.initCommonSubWidgets({gruppo:this.gruppoDefault});this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,
function(d){var b=0;d.results.forEach(a.hitch(this,function(){b++})).then(a.hitch(this,function(){this.aggiornaVisibilitaLista(!!b||!this.freshList);this.aggiornaAbilitazioneExportLinks(!!b)}));d.results.total.then(a.hitch(this,function(a){if(this.filtriImpostati())e.set(this.infoTableNode,"visibility","hidden");else{e.set(this.infoTableNode,"visibility","visible");var b,A=d.results.ioArgs.xhr.getResponseHeader("Eventboost-Accompagnatori");J.evento.stato.app_setup.collectPersonalDetails?b=parseInt(a)+
parseInt(A):d.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti")&&"-"!=d.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti")&&d.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti")!=a&&(b=d.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti"));d.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")&&"-"!=d.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")&&d.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")!=
a&&(b+=" ("+O.lblAttendancesNum+": "+d.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")+")");A&&"-"!=A&&A!=a&&0!=A&&(b=b+"\x3cbr/\x3e "+('\x3cspan class\x3d"accompagnatori"\x3e'+O.lblAccompagnatori+": "+A+"\x3c/span\x3e"));this.numPersoneLabelNode.innerHTML=b}}))}));this.manageCheckinWidget=new X({});this.managePersonalFilesDialogWidget=new Z({});this.sceltaEmailWidget=new ea({messages:O});J.evento.statoCalcolato.possiedeCustomReports?this.customReportBtn=new I({showLabel:!1,iconClass:"fa fa-file-excel-o",
onClick:a.hitch(this,function(){T.showGenericDialog(O.lblCustomReports,null,"/getCustomReportsLinks.plp?idEvento\x3d"+J.evento.stato.idEvento,!1,{width:400,height:650},!1,!1)}),title:O.lblCustomReports},this.customReportsBtnNode):e.set(this.popupCustomReportsBtnContainerNode,"display","none");l(this.exportExcelNode,"click",a.hitch(this,function(a){this.disableDownloadButtons&&a.preventDefault()}));this.inserisciAnagraficaBtn=this.getInserisciAnagraficaBtn()},aggiornaUI:function(){this.inherited(arguments);
this.aggiornaVisibilitaLista(0<Y.elvis("numOspitiMasterList",J.evento.statoCalcolato,0));this.refreshList()},refreshList:function(){this.gridWidget.store=null;this.gridWidget.revert();this.gridWidget.query=a.mixin(this.gridWidget.query,{idEvento:J.evento.stato.idEvento,gruppo:this.gruppoDefault,accompagnatori:"NON_PROFILATI"!=J.evento.stato.event_details.partnersType,chiave:void 0,conFigli:"y"});this.gridWidget.set("sort",[{attribute:"cognome"}]);this.gridWidget.store=this.personeStore;this.searchTextBox.set("value",
null,!1);this.freshList=!0;this.refreshGridColumns(!0)},printBadge:function(d,b){var e=new n;T.showLoadingWithMsg("",A.msgStampaInCorso);u.post("/streamBadge.plp",{data:{idBadge:d,idPersona:b,dp:!0},handleAs:"blob",headers:{Accept:"application/pdf"}}).then(a.hitch(this,function(a){T.hideLoadingWithMsg();e.resolve(a);F.debug("printBadge url",a);var d=window.URL.createObjectURL(a);this.hiddenBadgePdfNode.src=d;l(this.hiddenBadgePdfNode,"load",function(){window.URL.revokeObjectURL(d)})}),function(a){T.hideLoadingWithMsg();
e.reject(a)});return e.promise},customizeGridColumns:function(d,A){var e=Y.exists("evento.stato.communication.scheduledCommunications.invitations",J)&&!!J.evento.stato.communication.scheduledCommunications.invitations.length||Y.exists("evento.stato.communication.scheduledCommunications.others",J)&&!!J.evento.stato.communication.scheduledCommunications.others.length||Y.exists("evento.stato.communication.confirmationEmails",J)&&!!J.evento.stato.communication.confirmationEmails.length,U=0,h=k.some(J.evento.stato.badges.custom,
function(a){U=a.id;return a.printableFromMasterList});new n;var v=a.hitch(this,function(d,b,A){b=A.appendChild(document.createElement("div"));A=b.appendChild(document.createElement("div"));var v=b.appendChild(document.createElement("div"));f.add(b,"btnTableContainer");if(e){var P=b.appendChild(document.createElement("div")),M=!0,p=!J.commons.permissions.canModifyEvent,M=p||!d.customfield0,V=O.lblSendEmailActiontitle;d.customfield0||(V=O.msgSendCommunicationActionDisabledNoEmail);P=new I({iconClass:"fa fa-fw fa-envelope-o",
showLabel:!1,disabled:M,rowId:d.id,title:V,onClick:a.hitch(this,function(){J.commons.permissions.canModifyEvent&&this.sendEmailToPersona(d.idPersona)})},P);P._destroyOnRemove=!0;d.btnSendEmail=P;d.cantSend=p}(new I({iconClass:"fa fa-fw fa-check-square-o",showLabel:!1,disabled:!1,rowId:d.id,"class":"btnCheckin",title:O.lblCheckinActionTitle,onClick:a.hitch(this,function(){this.manageCheckinWidget.manageCheckinFor(d.idPersona)})},v))._destroyOnRemove=!0;(new I({iconClass:"fa fa-fw fa-address-card-o",
showLabel:!1,disabled:!J.evento.stato.event_page.allowRegistrationUpdateFromBE,rowId:d.id,title:J.evento.stato.event_page.allowRegistrationUpdateFromBE?O.lblRegistrationActionTitle:O.lblRegistrationActionDisabledTitle,onClick:a.hitch(this,function(){window.open(d.linkIscrizione+"\x26fromBE\x3dtrue","windowIscrizione","width\x3d"+window.outerWidth+",height\x3d"+window.outerHeight+",toolbar\x3dyes,location\x3dyes,directories\x3dyes,status\x3dyes,menubar\x3dyes,scrollbars\x3dyes,copyhistory\x3dyes,resizable\x3dyes")})},
A))._destroyOnRemove=!0;var B=!1;d.eventiPersona&&k.forEach(d.eventiPersona,function(a){"ISCRIZIONE"==a.evento.substring(0,10)&&(B=!0)});if(J.evento.stato.communication.ticketTemplatesMap&&0<J.evento.stato.communication.ticketTemplatesMap.length){var S="";d.registrationLocale&&(S=d.registrationLocale.substring(0,2));var m=null;k.forEach(J.evento.stato.communication.ticketTemplatesMap,function(a){a.valore==S&&(m=a.label)});A=b.appendChild(document.createElement("div"));new I({iconClass:"fa fa-fw fa-ticket",
showLabel:!1,rowId:d.id,disabled:!B||null==m,title:O.lblPrintTicketActionTitle,onClick:a.hitch(this,function(){window.open("/getTicketPdf.plp?dwnl\x3dfalse\x26a\x3d"+d.idPersona+"\x26b\x3d"+m+"\x26tzo\x3d"+(new Date).getTimezoneOffset()+"\x26c\x3dtrue","_blank")})},A)}A=b.appendChild(document.createElement("div"));new I({iconClass:"fa fa-fw fa-trash-o",showLabel:!1,rowId:d.id,title:O.lblDeleteActionTitle,onClick:a.hitch(this,function(){var b=!1,A=!1;d.eventiPersona&&k.forEach(d.eventiPersona,function(a){0==
a.evento.indexOf("ISCRIZIONE")&&(b=!0)});d.esitoInvio&&d.esitoInvio.esito&&("SENT"==d.esitoInvio.esito||"WAITING"==d.esitoInvio.esito)&&(A=!0);var e=w.substitute(O.msgDeleteGuestDialogaMsg,{nome_e_cognome:a.trim(a.trim(d.nome||"")+" "+a.trim(d.cognome||""))});J.evento.statoCalcolato.numOspitiConDuplicati&&0<J.evento.statoCalcolato.numOspitiConDuplicati&&!d.ospiteOriginale&&(e+="\x3cbr /\x3e"+O.msgDeleteDuplicatesDialogWarn);b?e=O.msgGuestAlreadyRegistered+"\x3cbr/\x3e"+e:A&&(e=O.msgInvitationAlreadySentToGuest+
"\x3cbr/\x3e"+e);T.setUpConfirmDialog(O.lblDeleteGuestDialogTitle,e,this,this.eliminaPersona,null,[d.idPersona]);T.showConfirm()})},A);this.getEditUserButton(b,d);A=b.appendChild(document.createElement("div"));(new I({iconClass:"fa fa-fw fa-archive",showLabel:!1,rowId:d.id,disabled:!J.evento.stato.manage_personal_file_categories.categorie||0==J.evento.stato.manage_personal_file_categories.categorie.length,onClick:a.hitch(this,function(){console.log("idPersona:",d.idPersona);this.managePersonalFilesDialogWidget.show({idPersona:d.idPersona})}),
title:J.evento.stato.manage_personal_file_categories.categorie&&0!=J.evento.stato.manage_personal_file_categories.categorie.length?O.lblPersonalFiles:O.lblPersonalFilesDisabled},A))._destroyOnRemove=!0;h&&0<U&&(A=b.appendChild(document.createElement("div")),new I({iconClass:"fa fa-fw fa-id-badge",showLabel:!1,rowId:d.id,title:O.lblPrintBadgeActionTitle,onClick:a.hitch(this,function(){this.printBadge(U,d.idPersona).then(null,function(){T.showInfoWithCloseButton(Q.msgErroreServer,W.footerInc.lblErrorMsgDialogTitle,
Q.lblOKButton)})})},A));return b});this.addMostraAccompagnatoriCheckedinRenderCell(d,J.evento.stato.event_details.partnersType);this.addMostraAccompagnatoriRegistratiRenderCell(d,J.evento.stato.event_details.partnersType);if("PROFILATI"==J.evento.stato.event_details.partnersType){this.addMostraAccompagnatoriRenderCell(d);this.addGuestStatusRenderCell(d);var M=a.hitch(this,function(a,d,A){d=A.appendChild(document.createElement("span"));(a.inBlackListCliente||a.inBlackListEvento)&&b.create("img",{src:"/img/noEmail.png"},
d);return d});d.splice(0,0,{label:"",className:"inBlackList",field:"inBlackListCliente",renderCell:M,sortable:!1,side:"left"})}M="azioni";h&&0<U&&(M+=" badge");J.evento.stato.communication.ticketTemplatesMap&&0<J.evento.stato.communication.ticketTemplatesMap.length&&(M+=" ticket");return[{label:O.lblActions,field:"id",width:"200px",className:M,renderCell:v,sortable:!1,side:"left"}].concat(d)},sendEmailToPersona:function(a){this.sceltaEmailWidget.visualizzaSceltePer(a)},aggiornaAbilitazioneExportLinks:function(a){this.disableDownloadButtons=
!a},updateUIByPermission:function(){this.enableCellEditing=J.commons.permissions.canModifyEvent?!0:!1}})})},"ebPlatformWidgets/Dialogs/FilterListDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/request dojo/dom-attr dojo/dom-style dojo/dom-class dojo/string dojo/store/Memory dojo/text!./templates/FilterListDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/FilteringSelect ebPlatform/stato ebPlatform/statoEmail ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/utility ebPlatform/dateUtility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget dojo/i18n!./nls/FilterListDialogWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v){return q([u,w],{mouseAnim:null,templateString:m,baseClass:"filterListDialogContentWidget",targetGrid:null,gridContainerWidget:null,config:null,filtriBtn:null,gruppoDefault:null,filtraStatoEmail:null,filtraNonInteressati:null,filtraDataFascia:null,filtraModalitaIscrizione:null,filtraAzioniOspite:null,filtraValoreListaIndiceIdValore:null,filtraValoreListaIdValore:null,filtraCancellati:null,filtraRegistrazioniShopifyCompletate:null,filtraCategoriaFilePersonali:null,
filtri:null,listeValori:null,parentWidget:null,filtraModalitaIscrizioneStore:null,filtraDataFasciaStore:null,filtraValoreListaListeStore:null,filtraValoreListaValoreStore:null,filtraStatoEmailWidget:null,filtraNonInteressatiWidget:null,filtraModalitaIscrizioneWidget:null,filtraDataFasciaWidget:null,filtraAzioniOspiteWidget:null,filtraValoreListaWidget:null,filtraValoreListaValoreWidget:null,filtraCancellatiWidget:null,filtraRegistrazioniShopifyCompletateWidget:null,filtraCategoriaFilePersonaliWidget:null,
applyBtnWidget:null,resetBtnWidget:null,resetBtnWidget:null,postCreate:function(){this.inherited(arguments);this.filtri=[];if(this.config){this.config.filtraStatoEmail?(this.filtraStatoEmailWidget=new y(z.transparentFilteringSelectConfig(a.hitch(this,function(a){this.filtraStatoEmail=a.statoEmail})),this.filtraStatoEmailNode),this.filtri.push(this.filtraStatoEmailWidget)):f.set(this.filtraStatoEmailContainerNode,"display","none");this.config.filtraNonInteressati?(this.filtraNonInteressatiWidget=new y({"class":"filtraNonInteressati",
name:"filtraNonInteressati",placeHolder:E.lblFiltraNonInteressatiPlaceHolder,required:!1,store:new r({idProperty:"nint",data:[{nint:"TUTTI",label:E.filtriNonInteressati.lbl_TUTTI},{nint:"SOLTANTO",label:E.filtriNonInteressati.lbl_SOLTANTO},{nint:"ESCLUDI",label:E.filtriNonInteressati.lbl_ESCLUDI}]}),searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraNonInteressati=a})},this.filtraNonInteressatiNode),this.filtri.push(this.filtraNonInteressatiWidget)):f.set(this.filtraNonInteressatiContainerNode,
"display","none");this.config.filtraModalitaIscrizione?(this.filtraModalitaIscrizioneStore=new r({idProperty:"codice",data:[{codice:this.gruppoDefault,label:E.lblAll},{codice:"ISCRIZIONE_DA_FORM_GENERICO",label:E.lblRegistrationsNumFromGenericForm},{codice:"ISCRIZIONE_DA_FORM_NOMINATIVO",label:E.lblRegistrationsNumFromPersonalForm},{codice:"ISCRIZIONE_DA_BE",label:E.lblRegistrationsNumFromBE},{codice:"ISCRIZIONE_DA_IMPORT_MASSIVO",label:E.lblRegistrationsNumFromMassiveImport}]}),this.filtraModalitaIscrizioneWidget=
new y({"class":"filtraModalitaIscrizione",name:"filtraModalitaIscrizione",placeHolder:E.lblFilterByRegistrationModePlaceHolder,required:!1,store:this.filtraModalitaIscrizioneStore,searchAttr:"label",labelAttr:"label",sortByLabel:!1,onChange:a.hitch(this,function(a){this.filtraModalitaIscrizione={idEvento:x.evento.stato.idEvento,gruppo:a}})},this.filtraModalitaIscrizioneNode),this.filtri.push(this.filtraModalitaIscrizioneWidget)):f.set(this.filtraModalitaIscrizioneContainerNode,"display","none");if(this.config.filtraDataFascia){var b=
this.getDatesTimeSlotsStore();this.filtraDataFasciaStore=new r({idProperty:"idDataFascia",data:b});this.filtraDataFasciaWidget=new y({"class":"filtraDataFascia",name:"filtraDataFascia",placeHolder:E.lblFilterByDateTimeSlotPlaceHolder,required:!1,store:this.filtraDataFasciaStore,searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){var d=0,b=0;-1<(new String(a)).indexOf("-")?(a=a.split("-"),d=a[0],b=a[1]):(d=a,b=0);this.filtraDataFascia={idEvento:x.evento.stato.idEvento,idData:d,idFascia:b}})},
this.filtraDataFasciaNode);this.filtri.push(this.filtraDataFasciaWidget);x.evento.stato.event_details.dates&&1==x.evento.stato.event_details.dates.length&&x.evento.stato.event_details.dates[0].timeSlots&&1==x.evento.stato.event_details.dates[0].timeSlots.length&&f.set(this.filtraDataFasciaContainerNode,"display","none")}else f.set(this.filtraDataFasciaContainerNode,"display","none");this.config.filtraAzioniOspite?(this.filtraAzioniOspiteWidget=new y({"class":"filtraAzioniOspite",name:"filtraAzioniOspite",
placeHolder:E.lblFiltraAzioniOspitePlaceHolder,required:!1,store:new r({idProperty:"nint",data:[{nint:"TUTTI",label:E.filtriAzioniOspite.lbl_TUTTI},{nint:"REGISTRATO",label:E.filtriAzioniOspite.lbl_REGISTRATO},{nint:"NON_REGISTRATO",label:E.filtriAzioniOspite.lbl_NON_REGISTRATO},{nint:"PARTECIPATO",label:E.filtriAzioniOspite.lbl_PARTECIPATO},{nint:"NON_PARTECIPATO",label:E.filtriAzioniOspite.lbl_NON_PARTECIPATO},{nint:"UNSUBSCRIBED",label:E.filtriAzioniOspite.lbl_UNSUBSCRIBED}]}),searchAttr:"label",
labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraAzioniOspite=a})},this.filtraAzioniOspiteNode),this.filtri.push(this.filtraAzioniOspiteWidget)):f.set(this.filtraAzioniOspiteContainerNode,"display","none");this.config.filtraValoreLista?(this.listeValori={},this.filtraValoreListaListeStore=new r({idProperty:"idLista"}),this.filtraValoreListaWidget=new y({"class":"filtraValoreLista",name:"filtraValoreLista",placeHolder:v.lblFilterByListField,required:!1,store:this.filtraValoreListaListeStore,
searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraValoreListaIndiceIdValore=a;B.debug("FILTRERO' forse su indiceIdValore:",a);a=this.getListaValoriStoreData(a);this.filtraValoreListaValoreStore.setData(a);a&&1<a.length?this.filtraValoreListaValoreWidget.set("disabled",!1):this.filtraValoreListaValoreWidget.set("disabled",!0)})},this.filtraValoreListaNode),this.filtraValoreListaValoreStore=new r({idProperty:"idValore"}),this.filtraValoreListaValoreWidget=new y({"class":"filtraValoreListaValore",
name:"filtraValoreListaValore",placeHolder:v.lblFilterByValue,required:!1,store:this.filtraValoreListaValoreStore,searchAttr:"label",labelAttr:"label",disabled:!0,onChange:a.hitch(this,function(a){this.filtraValoreListaIdValore=a;B.debug("FILTRERO' forse su idValore:",a)})},this.filtraValoreListaValoreNode),this.filtri.push(this.filtraValoreListaValoreWidget),this.filtri.push(this.filtraValoreListaWidget)):f.set(this.filtraValoreListaContainerNode,"display","none");this.config.filtraCancellati?(this.filtraCancellatiWidget=
new y({"class":"filtraCancellati",name:"cancellati",required:!1,placeHolder:E.lblDeletedRegistrant,store:new r({idProperty:"value",data:[{label:E.lblDeletedRegistrantY,value:"y"},{label:E.lblDeletedRegistrantN,value:this.parentWidget.parentWidget.cancellatiDefault},{label:E.lblDeletedRegistrantO,value:"o"}]}),searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraCancellati=a})},this.filtraCancellatiSelectNode),this.filtri.push(this.filtraCancellatiWidget)):f.set(this.filtraCancellatiContainerNode,
"display","none");this.config.filtraRegistrazioniShopifyCompletate?(this.filtraRegistrazioniShopifyCompletateWidget=new y({"class":"filtraRegistrazioniShopifyCompletate",name:"registrazioniShopifyCompletate",required:!1,placeHolder:E.lblShopifyCompletedRegisration,store:new r({idProperty:"value",data:[{label:E.lblShopifyCompletedRegisrationOnlyCompleted,value:"SOLTANTO"},{label:E.lblShopifyCompletedRegisrationOnlyUnCompleted,value:"ESCLUDI"},{label:E.lblShopifyCompletedRegisrationBoth,value:"TUTTI"}]}),
searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraRegistrazioniShopifyCompletate=a})},this.filtraRegistrazioniShopifyCompletateSelectNode),this.filtri.push(this.filtraRegistrazioniShopifyCompletateWidget)):this.filtraRegistrazioniShopifyCompletateSelectNode&&f.set(this.filtraRegistrazioniShopifyCompletateSelectNode,"display","none");this.config.filtraCategoriaFilePersonali?(this.filtraCategoriaFilePersonaliStore=new r({idProperty:"idCategoria"}),this.filtraCategoriaFilePersonaliWidget=
new y({"class":"filtraCategoriaFilePersonali",name:"filtraCategoriaFilePersonali",placeHolder:v.lblFilterByPersonalFilesCategory,required:!1,store:this.filtraCategoriaFilePersonaliStore,searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraCategoriaFilePersonaliIdCategoria=a})},this.filtraCategoriaFilePersonaliSelectNode),this.filtraCategoriaFilePersonaliWidget.startup(),this.filtri.push(this.filtraCategoriaFilePersonaliWidget)):this.filtraCategoriaFilePersonaliSelectNode&&
f.set(this.filtraCategoriaFilePersonaliSelectNode,"display","none")}this.cancelBtnWidget=new D({label:I.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.applyBtnWidget=new D({label:v.lblApplyBtn,onClick:a.hitch(this,function(){this.applyFilters()})},this.applyBtnNode);this.resetBtnWidget=new D({label:v.lblResetBtn,onClick:a.hitch(this,function(){this.reset()})},this.resetBtnNode)},nascondiFiltroRegistrazioniShopifyCompletate:function(){f.set(this.filtraRegistrazioniShopifyCompletateContainerNode,
"display","none")},buildNewQueryAddendum:function(){var a={newQuery:!1,statoEmail:"TUTTI",nonInteressati:"TUTTI",idEvento:x.evento.stato.idEvento,idData:0,idFascia:0,gruppo:this.gruppoDefault?this.gruppoDefault:"",azione:"",indiceIdValore:null,idValore:null,cancellati:this.parentWidget.parentWidget.cancellatiDefault,registrazioniShopifyCompletate:null,filterText:""};if(this.config){this.config.filtraStatoEmail&&this.filtraStatoEmail&&(a.statoEmail=this.filtraStatoEmail,a.newQuery=!0,a.filterText+=
"\x3cb\x3e"+E.lblEmailStatus+"\x3c/b\x3e: \x3cem\x3e"+this.filtraStatoEmailWidget.get("item").label+"\x3c/em\x3e");this.config.filtraNonInteressati&&this.filtraNonInteressati&&(a.nonInteressati=this.filtraNonInteressati,a.newQuery=!0);this.config.filtraDataFascia&&this.filtraDataFascia&&(a.idEvento=this.filtraDataFascia.idEvento,a.idData=this.filtraDataFascia.idData,a.idFascia=this.filtraDataFascia.idFascia,a.newQuery=!0);this.config.filtraModalitaIscrizione&&this.filtraModalitaIscrizione&&this.filtraModalitaIscrizione.idEvento&&
this.filtraModalitaIscrizione.gruppo&&(a.idEvento=this.filtraModalitaIscrizione.idEvento,a.gruppo=this.filtraModalitaIscrizione.gruppo,a.newQuery=!0);this.config.filtraAzioniOspite&&this.filtraAzioniOspite&&(a.azione=this.filtraAzioniOspite,a.newQuery=!0);if(this.config.filtraValoreLista&&this.filtraValoreListaIdValore&&this.filtraValoreListaIndiceIdValore){a.indiceIdValore=this.filtraValoreListaIndiceIdValore;a.idValore=this.filtraValoreListaIdValore;a.newQuery=!0;try{a.filterText+="\x3cb\x3e"+this.filtraValoreListaWidget.get("item").label+
"\x3c/b\x3e: \x3cem\x3e"+this.filtraValoreListaValoreWidget.get("item").label+"\x3c/em\x3e"}catch(S){console.log(S)}}this.config.filtraCancellati&&this.filtraCancellati&&(a.cancellati=this.filtraCancellati,a.newQuery=!0);this.config.filtraRegistrazioniShopifyCompletate&&this.filtraRegistrazioniShopifyCompletate&&(a.registrazioniShopifyCompletate=this.filtraRegistrazioniShopifyCompletate,a.newQuery=!0);this.config.filtraCategoriaFilePersonali&&this.filtraCategoriaFilePersonaliIdCategoria&&(a.idCategoriaFilePersonali=
this.filtraCategoriaFilePersonaliIdCategoria,a.newQuery=!0)}return a},applyFilters:function(){var b=this.buildNewQueryAddendum();B.debug("newQueryAddendum",b);var e=b.newQuery;delete b.newQuery;var d=a.mixin(this.targetGrid.query,b);this.targetGrid.query=d;this.targetGrid.refresh();this.parentWidget.hide();this.gridContainerWidget.freshList=!1;this.aggiornaSelezionePulsanteFiltri(e);this.targetGrid.set("filterStatus",b.filterText)},reset:function(a){B.debug("RESET",this.filtri,a);k.forEach(this.filtri,
function(a){a.set("value",null)});this.config&&this.config.filtraValoreLista&&this.filtraValoreListaValoreStore.setData([]);this.filtraCategoriaFilePersonali=this.filtraRegistrazioniShopifyCompletate=this.filtraCancellati=this.filtraValoreListaIndiceIdValore=this.filtraValoreListaIdValore=this.filtraAzioniOspite=this.filtraModalitaIscrizione=this.filtraDataFascia=this.filtraNonInteressati=this.filtraStatoEmail=null;a&&(this.applyFilters(),this.aggiornaSelezionePulsanteFiltri(!1))},refresh:function(){B.debug("REFRESH Popup Filtri");
if(this.config.filtraDataFascia)if(x.evento.stato.event_details.dates&&1==x.evento.stato.event_details.dates.length&&x.evento.stato.event_details.dates[0].timeSlots&&1==x.evento.stato.event_details.dates[0].timeSlots.length)f.set(this.filtraDataFasciaContainerNode,"display","none");else{f.set(this.filtraDataFasciaContainerNode,"display","block");var e=this.getDatesTimeSlotsStore();this.filtraDataFasciaStore.setData(e)}this.config.filtraValoreLista&&l.post("/getEventoPersonaFields.plp",{data:{idEvento:x.evento.stato.idEvento},
handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){if("OK"==b.result.resultCode){B.debug("dati:",b.campi);var d=!1,e=[];k.forEach(b.campi,a.hitch(this,function(a){"Lista"==a.tipo&&(d=!0,B.debug("LISTA:",a.fieldLabel,"custom:",a.listaCustom,a.idLista),a.listaCustom?(B.debug("VALORI:",this.gridContainerWidget.customListStores[a.idLista]),this.listeValori[a.indiceIdValore]=this.gridContainerWidget.customListStores[a.idLista]):(B.debug("VALORI:",
x.commons.data.standardListsStores[a.nomeLista]),this.listeValori[a.indiceIdValore]=x.commons.data.standardListsStores[a.nomeLista]),e.push({idLista:a.indiceIdValore,label:a.fieldLabel}))}));d?(this.filtraValoreListaListeStore.setData(e),f.set(this.filtraValoreListaContainerNode,"display","block")):f.set(this.filtraValoreListaContainerNode,"display","none")}else t.showInfoWithCloseButton(I.msgErroreServer,p.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}));this.config.filtraCategoriaFilePersonali&&
(this.filtraCategoriaFilePersonaliWidget.set("disabled",!0),l.post("/getCategorieFilePersonali.plp",{data:{idEvento:x.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){if("OK"==a.result.resultCode){B.debug("dati:",a.data);var d=!1,e=[];a.data&&0<a.data.length&&(d=!0);k.forEach(a.data,function(a){e.push({idCategoria:a.idCategoriaFilePersonali,label:b.substitute(v.lblPersonalFilesCategoryLoaded,{categoria:a.categoria})});
e.push({idCategoria:-1*a.idCategoriaFilePersonali,label:b.substitute(v.lblPersonalFilesCategoryNotLoaded,{categoria:a.categoria})})});d?(this.filtraCategoriaFilePersonaliWidget.set("disabled",!1),this.filtraCategoriaFilePersonaliStore.setData(e),f.set(this.filtraCategoriaFilePersonaliContainerNode,"display","block")):f.set(this.filtraCategoriaFilePersonaliContainerNode,"display","none")}else t.showInfoWithCloseButton(I.msgErroreServer,p.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)})))},aggiornaSelezionePulsanteFiltri:function(a){this.filtriBtn&&
(a?h.add(this.filtriBtn,"filtriImpostati"):h.remove(this.filtriBtn,"filtriImpostati"))},getDatesTimeSlotsStore:function(){var a=[{idDataFascia:0,label:E.lblAll}];k.forEach(x.evento.stato.event_details.dates,function(b,d){a.push({idDataFascia:b.id,label:C.getLocaleFormattedDateFromString(b.date)+" - "+E.lblAllTimeSlots});k.forEach(b.timeSlots,function(d){var e,f;e=C.getLocaleFormattedTimeFromString(d.startTime.substring(0,d.startTime.lastIndexOf(":")));f=C.getLocaleFormattedTimeFromString(d.endTime.substring(0,
d.startTime.lastIndexOf(":")));a.push({idDataFascia:b.id+"-"+d.id,label:C.getLocaleFormattedDateFromString(b.date)+" - "+e+" "+E.lblToTime+" "+f+(d.description?" - "+d.description:"")})})});return a},getListaValoriStoreData:function(a){var b=[{idValore:-1,label:v.lblNessunValoreSelezionato}];a&&this.listeValori[a]&&k.forEach(this.listeValori[a].data,function(a){b.push({idValore:a.id,label:a.label})});return b}})})},"ebPlatformWidgets/Evento/AppSetup/AppImageWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/on dojo/text!./templates/AppImageWidget.html dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(q,a,k,n,l,e,f,h){return q([e,f],{mouseAnim:null,templateString:l,baseClass:"appImageWidget",id:null,imgSrc:null,parentWidget:null,postCreate:function(){this.inherited(arguments);k.set(this.imgNode,"src",this.imgSrc);n(this.cancelBtnNode,"click",a.hitch(this,function(){this.parentWidget.removeImmagine(this.id)}))}})})},"ebPlatformWidgets/Form/ToggleVisibilityButtonWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style ebPlatform/logger! dijit/form/ToggleButton dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f){return q([e],{"class":"hideShowButton",checked:null,startChecked:null,doOnChange:null,maskNode:null,noLabel:!1,postCreate:function(){this.inherited(arguments);this._set("checked",this.startChecked);!0===this.noLabel?k.add(this.domNode,"noLabel"):k.remove(this.domNode,"noLabel");this.aggiornaUI()},_setCheckedAttr:function(){this.inherited(arguments);this.aggiornaUI()},onChange:function(){l.debug("[ToggleVisibilityButtonWidget] onChange:",this.get("checked"));this.doOnChange&&
this.doOnChange(this.get("checked"))},aggiornaUI:function(){this.get("checked")?(this.set("iconClass","hideButtonIcon"),!0!==this.noLabel&&this.set("label",f.lblNascondiButton),this.maskNode&&n.set(this.maskNode,"display","none")):(this.set("iconClass","showButtonIcon"),!0!==this.noLabel&&this.set("label",f.lblMostraButton),this.maskNode&&n.set(this.maskNode,"display","block"))}})})},"ebPlatformWidgets/Form/FontSelectorWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/config dojo/store/Memory dijit/form/ComboBoxMixin dijit/form/FilteringSelect ebPlatform/fontLoader ebPlatform/logger!".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([f],{postCreate:function(){this.inherited(arguments);b.debug("FontSelectorWidget",h);b.dir(h)},postMixInProperties:function(){this["class"]=(this["class"]?this["class"]+" ":"")+"ebFontSelector";this.searchAttr="family";this.labelAttr="label";this.labelType="html";this.fetchProperties={sort:[{attribute:"family"}]};h.getCustomFontsDef(this.idCliente).always(function(){new l({idProperty:"family",data:h.getFontsStoreData()});h.loadAll(this.idCliente)});this.inherited(arguments)}})})},
"ebPlatformWidgets/Form/FileUploadWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-class dojo/dom-attr dojo/text!./templates/FileUploadWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/Button dojox/form/Uploader ebPlatform/commonDialogs dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/form".split(" "),function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([h,b],
{mouseAnim:null,templateString:f,baseClass:"fileUploadWidget",parentWidget:null,messages:z.fileUploadWidget,estensioniImmagini:["jpg","jpeg","png","gif","tiff"],imageType:null,permittedExtensions:null,formatNote:null,value:null,uploadImageFormWidget:null,scegliFileWidget:null,nomeFileWidget:null,uploadImageFormSubmitWidget:null,deleteBtnWidget:null,postCreate:function(){this.inherited(arguments);this.uploadImageFormWidget=new r({method:"POST",encType:"multipart/form-data",onSubmit:a.hitch(this,function(){D.showLoading()})},
this.uploadImageFormNode);this.nomeFileWidget=new m({"class":"ro",readonly:!0},this.nomeFileNode);this.scegliFileWidget=new dojox.form.Uploader({label:x.lblScegliFile,multiple:!1,uploadOnSelect:!1,url:"",name:"fileAllegato"},this.scegliFileNode);this.scegliFileWidget.on("change",a.hitch(this,function(a){if(0<a.length){var b=a[0].name.substr(a[0].name.lastIndexOf(".")+1).toLowerCase();-1<k.indexOf(this.permittedExtensions,b)?(this.nomeFileWidget.set("value",a[0].name),this.uploadImageFormWidget.set("disabled",
!1),this.uploadImageFormSubmitWidget.set("disabled",!1),this.aggiornaTitleScegliFileWidget()):(this.uploadImageFormWidget.set("disabled",!0),this.uploadImageFormSubmitWidget.set("disabled",!0),D.showInfoWithCloseButton(x.msgFileNonValidoWarning,y.footerInc.lblWarningMsgDialogTitle,x.lblOKButton))}else this.uploadImageFormWidget.set("disabled",!0),this.uploadImageFormSubmitWidget.set("disabled",!0)}));this.scegliFileWidget.on("begin",a.hitch(this,function(a){}));this.scegliFileWidget.on("complete",
a.hitch(this,function(a){"OK"==a.result?(D.hideLoading(),this.set("value",a.fileAllegato),a=this.getFileName(),this.uploadedFileNameNode.innerHTML=a):(D.hideLoading(),a.msg?D.showInfoWithCloseButton(a.msg,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton):D.showInfoWithCloseButton(x.msgErroreServer,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton))}));this.scegliFileWidget.startup();this.formatNote&&(this.fileFormatNoteNode.innerHTML=this.formatNote);this.uploadImageFormSubmitWidget=new u({label:x.lblUploadButton,
type:"submit",disabled:!0},this.uploadBtnNode);this.deleteBtnWidget=new u({label:x.lblCancellaButton,onClick:a.hitch(this,function(){this.set("value","")})},this.deleteBtnNode);this.aggiornaVisibilitaForm()},_setDisabledAttr:function(a){this.scegliFileWidget.set("disabled",a);this.uploadImageFormSubmitWidget.get("value")&&this.uploadImageFormSubmitWidget.set("disabled",a);this.deleteBtnWidget.set("disabled",a)},_setValueAttr:function(a){this.value=a;this.aggiornaUI();if(this.onChange)this.onChange(this.value)},
_setImageTypeAttr:function(a){this.imageType=a;this.scegliFileWidget.set("url","/doCaricaTempImmagine.plp?tipoAllegato\x3d"+a)},aggiornaTitleScegliFileWidget:function(){var a=this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length?this.scegliFileWidget.get("value")[0].name:"";a?e.set(this.scegliFileWidget.inputNode,"title",a):e.set(this.scegliFileWidget.inputNode,"title",x.lblScegliFile)},aggiornaUI:function(){var a=null;this.value&&(a=this.value.substr(this.value.lastIndexOf(".")+
1).toLowerCase());-1<k.indexOf(this.estensioniImmagini,a)?(e.set(this.thumbImgNode,"src",this.value),n.set(this.thumbImgContainerNode,"display","block"),n.set(this.previewIconNode,"display","none")):(n.set(this.thumbImgContainerNode,"display","none"),n.set(this.previewIconNode,"display","block"),l.remove(this.previewIconNode),l.add(this.previewIconNode,"icon_"+a));this.uploadedFileNameNode.innerHTML=this.getFileName();this.aggiornaVisibilitaForm();this.fileFormatNoteNode.innerHTML=this.formatNote?
this.formatNote:""},getFileName:function(){return this.value?-1<this.value.lastIndexOf("/")?this.value.substr(this.value.lastIndexOf("/")+1):this.value:""},aggiornaVisibilitaForm:function(){this.value?(n.set(this.uploadFileNode,"display","none"),n.set(this.fileUploadedNode,"display","block")):(n.set(this.uploadFileNode,"display","block"),n.set(this.fileUploadedNode,"display","none"))}})})},"ebPlatformWidgets/Evento/Communication/EditAdditionalInformationDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dijit/layout/ContentPane dijit/form/TextBox dijit/form/CheckBox ./EditBodyWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h){return q([f],{titoloContainer:null,titoloLabel:null,titoloTextBox:null,titoloNascondiTitoloCheckBox:null,postCreate:function(){this.inherited(arguments);this.titoloContainer=new n({"class":"titoloContainer"});this.titoloLabel=k.create("span",{"class":"titolo"},this.titoloContainer.containerNode);this.titoloTextBox=new l({});this.titoloContainer.addChild(this.titoloTextBox);this.titoloNascondiTitoloCheckBox=new e({"class":"nascondiTitolo"});this.titoloContainer.addChild(this.titoloNascondiTitoloCheckBox);
k.create("span",{"class":"labelNascondiTitolo",innerHTML:h.registrationConfirmationEmail.lblHideAdditionalTextTitle},this.titoloContainer.containerNode);this.addChild(this.titoloContainer,0)},_doOnSave:function(){console.log("SAVE",this,this.doOnSave);this.doOnSave({text:this.editor.get("value"),textTitle:this.titoloTextBox.get("value"),hideTitle:this.titoloNascondiTitoloCheckBox.get("checked")});this.hide()},show:function(a){this.inherited(arguments);a.textTitleLabel&&(this.titoloLabel.innerHTML=
a.textTitleLabel);a.textTitle?this.titoloTextBox.set("value",a.textTitle):this.titoloTextBox.set("value","");a.textTitlePlaceHolder&&this.titoloTextBox.set("placeHolder",a.textTitlePlaceHolder);a.hideTitle?this.titoloNascondiTitoloCheckBox.set("checked",!0):this.titoloNascondiTitoloCheckBox.set("checked",!1)}})})},"ebPlatformWidgets/Evento/Communication/SaveAsTemplateDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./SaveAsTemplateDialogContentWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h){return q([n,e],{baseClass:"saveAsTemplateDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new f({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);a.title&&this.set("title",a.title);this.mainWidget.show(a)}})})},"ebPlatformWidgets/Evento/Guests/ManageDuplicatesDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./ManageDuplicatesDialogContentWidget dojo/i18n!ebPlatformWidgets/Dialogs/nls/FilterListDialogWidget".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([n,f],{baseClass:"filterListDialogWidget duplicati",postCreate:function(){this.inherited(arguments);this.title||this.set("title",b.lbldialogTitle);this.mainWidget=new h({parentWidget:this,targetGrid:this.targetGrid,gridContainerWidget:this.gridContainerWidget,config:this.config,filtriBtn:this.filtriBtn,gruppoDefault:this.gruppoDefault});this.addChild(this.mainWidget);k.set(this.closeButtonNode,"display","none")},show:function(a){this.inherited(arguments);this.refresh()},
reset:function(a){this.mainWidget.reset(a)},refresh:function(){this.mainWidget.refresh()}})})},"ebPlatformWidgets/Dialogs/EditTextWithEditorDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/on dojo/request dijit/Dialog dijit/layout/ContentPane dijit/form/Button dijit/Editor dijit/_editor/plugins/FontChoice dijit/_editor/plugins/ViewSource dojox/editor/plugins/InsertEntity dojox/editor/plugins/SafePaste ebPlatformWidgets/Form/editor/plugins/LinkDialog ../Form/editor/plugins/InsertPlaceHolder ebPlatform/htmlTags ebPlatform/stato ebPlatform/commonDialogs ebPlatformWidgets/CustomTooltip ./_ParentScrollPreventMixin dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!../Form/editor/plugins/nls/placeholders".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v){return q([h,p],{baseClass:"editTextWithEditorDialogWidget",parentWidget:null,editorContentPane:null,editor:null,buttonsContentPane:null,saveBtn:null,cancelBtn:null,postCreate:function(){this.inherited(arguments);this.editorContentPane=new b;this.addChild(this.editorContentPane);this.buttonsContentPane=new b({"class":"buttonsContainer"});this.saveBtn=new r({label:E.lblOKButton,onClick:a.hitch(this,this._doOnSave)});this.cancelBtn=new r({label:E.lblChiudiButton,
onClick:a.hitch(this,function(){this.hide()})});this.buttonsContentPane.addChild(this.saveBtn);this.buttonsContentPane.addChild(this.cancelBtn);this.addChild(this.buttonsContentPane)},_doOnSave:function(){this.doOnSave(this.editor.get("value"));this.hide()},show:function(b){this.inherited(arguments);var e,d;b.title&&this.set("title",b.title);this.doOnSave=b.doOnSave?b.doOnSave:ebUtility.noop;b.eventoPlaceHolders&&(e=k.map(b.eventoPlaceHolders,function(a){return{label:v["lblDatiEvento_"+a],value:a}}));
b.otherPlugins&&0<b.otherPlugins.length&&(this.otherPlugins=b.otherPlugins);b.insertUtentePlaceHolders?f.post("/getEventoPersonaFields.plp",{data:{idEvento:t.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==a.result.resultCode?(d=k.map(a.campi,function(a){return{value:a.normalizedName,label:v["lblDatiUtente_"+a.normalizedName]||a.fieldLabel}})||[],b.extraUtentePlaceHolders&&(d=d.concat(k.map(b.extraUtentePlaceHolders,
function(a){return{value:a.normalizedName,label:v["lblDatiUtente_"+a.normalizedName]||a.normalizedName}})||[])),this.createEditor(b.text,e,d,b.withLinkPlugin)):G.showInfoWithCloseButton(E.msgErroreServer,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)})):this.createEditor(b.text);this.resize()},createEditor:function(a,b,d,e,f){var h=["viewsource",{name:"safepaste",stripTags:B,width:"640px"}];this.editor&&this.editor.destroyRecursive();var k="|";d&&(insertPlaceHolderUtentePlugin=new z({iconClassPrefix:"dijitAdditionalEditorIconInsertPlaceHolderUtente",
placeHolders:d,label:v.lblDatiUtente}),h.push(k),h.push(insertPlaceHolderUtentePlugin),k=null);b&&(insertPlaceHolderEventoPlugin=new z({iconClassPrefix:"dijitAdditionalEditorIconInsertPlaceHolderEvento",valueSuffix:"_evento",placeHolders:b,label:v.lblDatiEvento}),k&&h.push(k),h.push(insertPlaceHolderEventoPlugin));e?h.splice(h.length,0,"|","createLink","unlink","insertImage"):f&&h.splice(h.length,0,"|");f&&h.splice(h.length,0,"insertImage");this.editor=new m({extraPlugins:h});ebplatform.config.enableLoadBuilt?
this.editor.addStyleSheet("/css/allstyles.css"):this.editor.addStyleSheet("/css/style.css");a&&this.editor.set("value",a);this.editorContentPane.addChild(this.editor)}})})},"ebPlatformWidgets/Evento/EventDetails/RegistrationClosingDeadlineWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/date/locale dojo/dom-style dojo/dom-class dojo/string dojo/request dojo/text!./templates/RegistrationClosingDeadlineWidget.html dojox/lang/functional dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/DateTextBox dijit/form/Form dijit/form/TimeTextBox dijit/form/Button dijit/focus ebPlatform/logger! ebPlatform/utility ebPlatform/dateUtility ebPlatform/commonDialogs ebPlatform/stato dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventDetailsWidget dojox/lang/functional/fold".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v){return q([m,u],{mouseAnim:null,templateString:b,baseClass:"registrationClosingDeadlineWidget",parentWidget:null,stato:null,registrationClosingDeadlineDateWidget:null,registrationClosingDeadlineTimeWidget:null,closeRegistrationsBtnWidget:null,reopenRegistrationsBtnWidget:null,messages:v,postCreate:function(){this.inherited(arguments);this.formWidget=new D({},this.formNode);var b=n.parse(this.stato.get("registrationClosingDeadlineDate"),{selector:"date",
datePattern:"yyyy-MM-dd"});this.registrationClosingDeadlineDateWidget=new w({value:b,placeHolder:v.lblRegistrationClosingDatePlaceHolder,onChange:a.hitch(this,function(a){a=null;this.registrationClosingDeadlineDateWidget.get("value")&&(a=n.format(this.registrationClosingDeadlineDateWidget.get("value"),{datePattern:"yyyy-MM-dd",selector:"date"}));this.stato.set("registrationClosingDeadlineDate",a);this.aggiornaIndicazioneOraChiusura(this.registrationStatusNode,this.registrationOpennessStatusNode,this.registrationStatusBoxNode);
this.aggiornaVisibilitaPulsantiChiusura();this.aggiornaOraChiusuraConstraints(0!==this.registrationClosingDeadlineDateWidget.get("value")-this.registrationClosingDeadlineDateWidget.get("constraints").max);this.stato.get("registrationClosingDeadlineDate")?(this.registrationClosingDeadlineTimeWidget.set("disabled",!1),this.registrationClosingDeadlineTimeWidget.set("required",!0)):(this.registrationClosingDeadlineTimeWidget.set("disabled",!0),this.registrationClosingDeadlineTimeWidget.set("value",null),
this.registrationClosingDeadlineTimeWidget.set("required",!1))})},this.deadlineDateNode);b=n.parse(this.stato.get("registrationClosingDeadlineTime"),{selector:"time",timePattern:"HH:mm:ss"});this.registrationClosingDeadlineTimeWidget=new y({value:b,placeHolder:v.lblRegistrationClosingTimePlaceHolder,required:this.registrationClosingDeadlineDateWidget.isValid(),onChange:a.hitch(this,function(a){this.registrationClosingDeadlineTimeWidget.get("value")&&(a=n.format(this.registrationClosingDeadlineTimeWidget.get("value"),
{timePattern:"HH:mm",selector:"time"}),this.stato.set("registrationClosingDeadlineTime",a),this.aggiornaIndicazioneOraChiusura(this.registrationStatusNode,this.registrationOpennessStatusNode,this.registrationStatusBoxNode),this.aggiornaVisibilitaPulsantiChiusura())})},this.deadlineTimeNode);this.aggiornaDataChiusuraConstraints();this.closeRegistrationsBtnWidget=new x({label:v.lblBtnForceRegistrationClosure,onClick:a.hitch(this,function(){this.chiudiForzatamenteIscrizioni()})},this.closeRegistrationsBtnNode);
this.reopenRegistrationsBtnWidget=new x({label:v.lblBtnReopenRegistrations,onClick:a.hitch(this,function(){this.riapriIscrizioni()})},this.reopenRegistrationsBtnNode);this.aggiornaVisibilitaPulsantiChiusura();this.aggiornaIndicazioneOraChiusura(this.registrationStatusNode,this.registrationOpennessStatusNode,this.registrationStatusBoxNode)},_setDisabledAttr:function(a){this.registrationClosingDeadlineDateWidget.set("disabled",a);this.registrationClosingDeadlineTimeWidget&&(a?this.registrationClosingDeadlineTimeWidget.set("disabled",
a):this.registrationClosingDeadlineTimeWidget.set("disabled",!this.stato.get("registrationClosingDeadlineDate")));this.closeRegistrationsBtnWidget&&this.closeRegistrationsBtnWidget.set("disabled",a)},aggiornaDataChiusuraConstraints:function(){var a={};a.min=p.evento.statoCalcolato.todayStr?n.parse(p.evento.statoCalcolato.todayStr,{selector:"date",datePattern:"yyyy-MM-dd"}):new Date;var b=null;t.exists("dates[0]",this.stato)&&(b=r.reduce(this.stato.dates,function(a,b){return a.date>=b.date?a:b}))&&
b.timeSlots&&(b=b.date,a.max=b);this.registrationClosingDeadlineDateWidget.set("constraints",a)},aggiornaOraChiusuraConstraints:function(a){if(a)this.registrationClosingDeadlineTimeWidget.set("constraints",{});else{a={};var b=null;if(t.exists("dates[0]",this.stato)){var b=r.reduce(this.stato.dates,function(a,d){return a.date>=d.date?a:d}),d=r.reduce(b.timeSlots,function(a,d){return a.startTime>=d.startTime?a:d});B.debug("ultimaData",b,d);d&&d.endTime&&(d="T"+d.endTime,a={max:d,min:n.parse(p.evento.statoCalcolato.todayStr,
{selector:"time",timePattern:"HH:mm:ss"})})}this.registrationClosingDeadlineTimeWidget.set("constraints",a)}},aggiornaVisibilitaPulsantiChiusura:function(){0==p.evento.stato.idEvento?(l.set(this.closeRegistrationsBtnContainerNode,"display","none"),l.set(this.reopenRegistrationsBtnContainerNode,"display","none")):p.evento.statoCalcolato.iscrizioniChiuse?(l.set(this.closeRegistrationsBtnContainerNode,"display","none"),l.set(this.reopenRegistrationsBtnContainerNode,"display","block")):(l.set(this.closeRegistrationsBtnContainerNode,
"display","block"),l.set(this.reopenRegistrationsBtnContainerNode,"display","none"))},aggiornaIndicazioneOraChiusura:function(a,b,d){var h="",k,m;p.evento.statoCalcolato.iscrizioniChiuse?(k=G.getLocalDateFromString(p.evento.statoCalcolato.dataChiusuraIscrizioniStr+" "+p.evento.statoCalcolato.oraChiusuraIscrizioniStr),m=n.format(k,{selector:"date"}),k=n.format(k,{selector:"time"}),"automatica"==p.evento.statoCalcolato.chiusuraIscrizioni?h=f.substitute(v.msgRegistrationsWasClosed,{pDate:m,pTime:k}):
(h=f.substitute(v.msgRegistrationsWasForcedlyClosed,{pDate:m,pTime:k}),this.stato.get("registrationClosingDeadline")&&(k=G.getLocalDateFromString(this.stato.get("registrationClosingDeadlineDate")+" "+this.stato.get("registrationClosingDeadlineTime")),m=n.format(k,{selector:"date"}),k=n.format(k,{selector:"time"}),h+=f.substitute(v.msgRegistrationExpectedClosure,{pDate:m,pTime:k})))):(this.stato.get("registrationClosingDeadline")?k=G.getLocalDateFromString(this.stato.get("registrationClosingDeadlineDate")+
" "+this.stato.get("registrationClosingDeadlineTime")):t.exists("dates[0].date",this.stato)&&(k=n.parse(this.stato.dates[0].date,{selector:"date",datePattern:"yyyy-MM-dd"}),k=new Date(k.getTime()-9E5)),k&&(m=n.format(k,{selector:"date"}),k=n.format(k,{selector:"time"}),h=f.substitute(v.msgRegistrationsStillOpened,{pDate:m,pTime:k})));a.innerHTML=h;d&&(0==p.evento.stato.idEvento?l.set(d,"display","none"):l.set(d,"display","block"));p.evento.statoCalcolato.iscrizioniChiuse?(d&&(e.add(d,"registrazioniChiuse"),
e.remove(d,"registrazioniAperte")),b&&(b.innerHTML=v.lblRegistrationsClosed,e.add(b,"closed"),e.remove(b,"open"))):(d&&(e.add(d,"registrazioniAperte"),e.remove(d,"registrazioniChiuse")),b&&(b.innerHTML=v.lblRegistrationsOpen,e.remove(b,"closed"),e.add(b,"open")))},chiudiForzatamenteIscrizioni:function(){h.post("/forzaChiusuraIscrizioni.plp",{data:{idEvento:p.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||
a).resultCode?(p.evento.statoCalcolato.iscrizioniChiuse=!0,p.evento.statoCalcolato.chiusuraIscrizioni=a.chiusuraIscrizioni.info,p.evento.statoCalcolato.dataChiusuraIscrizioni=a.chiusuraIscrizioni.dataAttribuzione,p.evento.statoCalcolato.dataChiusuraIscrizioniStr=a.chiusuraIscrizioni.dataAttribuzioneStr,p.evento.statoCalcolato.oraChiusuraIscrizioniStr=a.chiusuraIscrizioni.oraAttribuzioneStr,this.aggiornaUI()):C.showInfoWithCloseButton(E.msgErroreServer,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)}),
a.hitch(this,function(a){C.showInfoWithCloseButton(E.msgErroreServer,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)}))},riapriIscrizioni:function(){h.post("/riapriIscrizioni.plp",{data:{idEvento:p.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?(p.evento.statoCalcolato.iscrizioniChiuse=!1,p.evento.statoCalcolato.chiusuraIscrizioni=null,p.evento.statoCalcolato.dataChiusuraIscrizioni=
null,p.evento.statoCalcolato.dataChiusuraIscrizioniStr=null,p.evento.statoCalcolato.oraChiusuraIscrizioniStr=null,this.aggiornaUI()):C.showInfoWithCloseButton(E.msgErroreServer,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)}),a.hitch(this,function(a){C.showInfoWithCloseButton(E.msgErroreServer+" - "+a,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)}))},aggiornaUI:function(){this.stato.get("registrationClosingDeadlineDate")?(this.registrationClosingDeadlineDateWidget.set("value",G.getLocalDateFromString(this.stato.get("registrationClosingDeadlineDate")),
!1),this.registrationClosingDeadlineTimeWidget.set("disabled",!1)):(this.registrationClosingDeadlineDateWidget.set("value",null,!1),this.registrationClosingDeadlineTimeWidget.set("disabled",!0));this.stato.get("registrationClosingDeadlineTime")?this.registrationClosingDeadlineTimeWidget.set("value",G.getLocalDateFromString(this.stato.get("registrationClosingDeadlineTime")),!1):this.registrationClosingDeadlineTimeWidget.set("value",null,!1);this.aggiornaDataChiusuraConstraints();this.aggiornaVisibilitaPulsantiChiusura();
this.aggiornaIndicazioneOraChiusura(this.registrationStatusNode,this.registrationOpennessStatusNode,this.registrationStatusBoxNode)},focus:function(){z.focus(this.srcNodeRef)},validate:function(){return this.formWidget.validate()}})})},"ebPlatformWidgets/Evento/EventDetails/ChangeTimeZoneDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/text!./templates/ChangeTimeZoneDialogWidget.html dijit/_WidgetBase dijit/_TemplatedMixin ebPlatformWidgets/Dialogs/CustomizedI18nDialogSimpleWidget dijit/layout/ContentPane dijit/form/FilteringSelect dijit/form/CheckBox dijit/form/Button ebPlatform/i18n ebPlatform/stato ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/MultiLanguageTextWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventDetailsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([e,f],{mouseAnim:null,templateString:l,baseClass:"changeTimeZoneDialogWidget",dialogWidget:null,contentPaneWidget:null,timeZoneIDWidget:null,showDatesInShortFormatWidget:null,cancelBtn:null,okBtn:null,customDateTextWidget:null,messages:B,commonMessages:z,postCreate:function(){this.dialogWidget=new h({"class":"changeTimeZoneDialogWidgetDialog",title:B.lblChangeTimeZoneDialogTitle,draggable:!1});this.contentPaneWidget=new b({});this.inherited(arguments);
this.dialogWidget.addChild(this);this.timeZoneIDWidget=new r({store:w.timeZoneIDsStore,searchAttr:"id",labelAttr:"id",value:this.stato.get("timeZoneID")?this.stato.get("timeZoneID"):D.commons.data.customerDefaults.timeZoneID,onChange:a.hitch(this,function(){this.stato.set("timeZoneID",this.timeZoneIDWidget.get("value"))})},this.timeZoneIDNode);this.showDatesInShortFormatWidget=new m({checked:1==this.stato.get("showDatesInShortFormat"),onChange:a.hitch(this,function(){this.stato.set("showDatesInShortFormat",
this.showDatesInShortFormatWidget.get("checked"))})},this.showDatesInShortFormatNode);var e={};k.forEach(D.commons.data.languages,function(a){e[a.idLingua]=B.lblCustomDateTextPlaceHolder});this.customDateTextWidget=new x({required:!1,dateMode:!0,parentWidget:this,stato:this.stato.get("eventDescriptions"),placeHolders:e},this.customDateTextNode);this.cancelBtn=new u({onClick:a.hitch(this,function(){this.customDateTextWidget.changed=!1;this.hide()})},this.cancelBtnNode);this.okBtn=new u({onClick:a.hitch(this,
function(){this.customDateTextWidget.changed&&this.stato.set("dirty",!0);this.customDateTextWidget.changed=!1;this.hide()})},this.okBtnNode)},aggiornaLingueCustomDate:function(){var a=k.map(this.stato.get("languages"),function(a){return D.getLinguaByLocale(a.locale).idLingua});this.customDateTextWidget.aggiornaUI(a)},_setDisabledAttr:function(a){this.okBtn.set("disabled",a)},show:function(){this.customDateTextWidget.set("stato",this.stato.get("eventDescriptions"));this.dialogWidget.show();this.dialogWidget.resize();
this.aggiornaUI()},hide:function(){this.dialogWidget.hide()},aggiornaUI:function(){y.aggiornaValoreDaStato("timeZoneID",this);this.showDatesInShortFormatWidget.set("checked",this.stato.get("showDatesInShortFormat"));this.customDateTextWidget.creaStato(this.stato.get("languages"));this.aggiornaLingueCustomDate()}})})},"ebPlatformWidgets/Form/BadgedButtonWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/on dojo/text!./templates/BadgedButtonWidget.html dijit/_WidgetBase dijit/_TemplatedMixin ebPlatformWidgets/CustomTooltip".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([f,h],{mouseAnim:null,templateString:e,baseClass:"badgedButtonWidget",badge:null,disabled:!1,img:null,label:null,caption:null,hoverImg:null,hoverLabel:null,hoverCaption:null,disabledTip:null,disabledTooltip:null,postCreate:function(){this.inherited(arguments);l(this,"click",a.hitch(this,function(){this.disabled||this.doAction()}));this.aggiornaUI()},doAction:function(){console.log("BadgedButtonWidget ON CLICK")},aggiornaUI:function(){this.badge?(this.badgeNode.innerHTML=
this.badge,k.set(this.badgeNode,"display","block")):k.set(this.badgeNode,"display","none")},setBadge:function(a){this.badge=a;this.aggiornaUI()},resetBadge:function(){this.badge=null;this.aggiornaUI()},_setDisabledAttr:function(a){(this.disabled=a)?(n.add(this.domNode,"disabled"),this.disabledTip&&(this.disabledTooltip=new b({label:this.disabledTip,connectId:this.domNode}))):(n.remove(this.domNode,"disabled"),this.disabledTooltip&&this.disabledTooltip.destroy())}})})},"ebPlatformWidgets/Evento/Communication/CommunicationWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/request dojo/text!./templates/CommunicationWidget.html dijit/TooltipDialog dijit/layout/ContentPane dijit/layout/StackContainer ebPlatform/logger! ebPlatform/stato ebPlatform/utility app/utility ebPlatform/commonDialogs ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ./CommunicationsListWidget ./ScheduledCommunicationWidget ./RegistrationConfirmationEmailWidget ./SpedisciEmailTestWidget ./CommunicationStatisticsWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!../../Dialogs/nls/FilterListDialogWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v){return q([x],{mouseAnim:null,templateString:f,baseClass:"communicationWidget",hasToolbar:!0,hasSecondaryToolbar:!0,infoGraphicCode:"evento.communication",showToolbar:!1,showSecondaryToolbar:!1,selectedTabName:"communications_list",dependsOnWidgetsData:["event_details","event_page","badges"],appWidget:null,parentWidget:null,subWidgetRegistry:{},headerToolbar:null,footerToolbar:null,headerSecondaryToolbar:null,mainStackContainer:null,communicationsListWidget:null,
scheduledCommunicationtWidget:null,messages:v,commonMessages:I,postCreate:function(){this.inherited(arguments);this.mainStackContainer=new r({},this.mainStackContainerNode);this.communicationsListWidget=new B({parentWidget:this});this.mainStackContainer.addChild(this.communicationsListWidget);this.subWidgetRegistry.communications_list=this.communicationsListWidget;this.scheduledCommunicationWidget=new t({parentWidget:this,appWidget:this.appWidget,communicationType:"invitation"});this.mainStackContainer.addChild(this.scheduledCommunicationWidget);
this.subWidgetRegistry.scheduled_communication=this.scheduledCommunicationWidget;this.registrationConfirmationEmailWidget=new G({parentWidget:this,appWidget:this.appWidget});this.mainStackContainer.addChild(this.registrationConfirmationEmailWidget);this.subWidgetRegistry.registration_confirmation=this.registrationConfirmationEmailWidget;this.spedisciEmailTestPopup=new h({content:new C({}),setOpener:function(a){this.content.setOpener(a)},onOpen:function(a){this.content.onOpen();h.prototype.onOpen.call(this,
a)}});this.spedisciEmailTestWidget=this.spedisciEmailTestPopup.content;this.communicationStatisticsWidget=new p({parentWidget:this,appWidget:this.appWidget});this.mainStackContainer.addChild(this.communicationStatisticsWidget);this.subWidgetRegistry.statistics=this.communicationStatisticsWidget;this.mainStackContainer.startup()},hasToLoadData:function(){return 0!=u.evento.stato.idEvento},loadData:function(){return e.get("/getCommunications.plp",{query:{idEvento:u.evento.stato.idEvento},handleAs:"json",
headers:{Accept:"application/javascript, application/json"}})},pushLoadedDataToStatoShadow:function(a){a.invitations&&(this.statoShadowProp.scheduledCommunications.invitations=this.mapScheduledCommunication(a.invitations,"scheduled_communication_summary","invitation"));a.others&&(this.statoShadowProp.scheduledCommunications.others=this.mapScheduledCommunication(a.others,"scheduled_communication_summary","other"));a.confirmationEmails&&(this.statoShadowProp.confirmationEmails=this.mapConfirmationEmail(a.confirmationEmails,
"registration_confirmation_email"));a.ticketTemplatesMap&&(this.statoShadowProp.ticketTemplatesMap=a.ticketTemplatesMap)},mapScheduledCommunication:function(b,e,d){var f=a.getObject("evento.mappings."+e,!1,u);m.debug("[CommunicationWidget] mapScheduledCommunication:",d,e,b);return k.map(b,function(a){var d={};w.copyTo(a,d,w.invertMapping(f));d.status="not_scheduled";d.statusIcon="fa fa-exclamation-triangle";a.stato&&("INVIATA"==a.stato?(d.status="sent",d.statusIconClass="fa fa-check-square-o",a.invio?
(d.scheduledDeliveryDate=a.invio.dataInvioStr,d.scheduledDeliveryTime=a.invio.oraInvioStr):(d.scheduledDeliveryDate=a.spedisciDataStr,d.scheduledDeliveryTime=a.spedisciOraStr)):"SCHEDULATA"==a.stato?(d.status="scheduled",d.statusIconClass="fa fa-clock-o",d.scheduledDeliveryDate=a.spedisciDataStr,d.scheduledDeliveryTime=a.spedisciOraStr):"SOSPESA"==a.stato?(d.status="suspended",d.statusIconClass="fa fa-exclamation-triangle",d.scheduledDeliveryDate=a.spedisciDataStr,d.scheduledDeliveryTime=a.spedisciOraStr):
"IN_CORSO"==a.stato?(d.status="running",d.statusIconClass="fa fa-cogs",d.scheduledDeliveryDate=a.spedisciDataStr,d.scheduledDeliveryTime=a.spedisciOraStr):"IN_ERRORE"==a.stato&&(d.status="error",d.statusIconClass="fa fa-exclamation-circle",a.invio?(d.scheduledDeliveryDate=a.invio.dataInvioStr,d.scheduledDeliveryTime=a.invio.oraInvioStr):(d.scheduledDeliveryDate=a.spedisciDataStr,d.scheduledDeliveryTime=a.spedisciOraStr)));var b="";a.filtri&&a.filtri[0]&&(b="UGUALE"==a.filtri[0].tipoCondizione?"\x26nbsp;\x3d\x26nbsp;":
"\x26nbsp;\x26ne;\x26nbsp;");if(a.filtri&&a.filtri[0]){var e="",h="";if(a.filtri[0].valori&&0<a.filtri[0].valori.length)for(var k=0;k<a.filtri[0].valori.length;k++)e+=h+a.filtri[0].valori[k].valore.label,h=", ";else e+=E.lblNessunValoreSelezionato;d.to=v.lblsScheduledCommunicationRecipientsCategory[a.categoriaDestinatari]+" ("+a.filtri[0].labelLista+b+e+")"}else d.to=v.lblsScheduledCommunicationRecipientsCategory[a.categoriaDestinatari];d.lastSent=a.ultimoInvio;if(a.statistiche){d.inviate=0;for(var p in a.statistiche)"ToBeSent"!=
p&&"Aperte"!=p&&"Cliccate"!=p&&"NoEmail"!=p&&"NoEmailFixed"!=p&&"AddressMalformed"!=p&&"AddressMalformedFixed"!=p&&(d.inviate+=a.statistiche[p])}return d})},mapConfirmationEmail:function(b,e){var d=a.getObject("evento.mappings."+e,!1,u);return k.map(b,function(a){var b={};w.copyTo(a,b,w.invertMapping(d));b.lastSent=a.ultimoInvio;return b})},getToolbarConfig:function(){return{buttons:[{type:"dijit/form/DropDownButton",options:{code:"sendTest",label:v.lblToolbarSendTestEmail,dropDown:this.spedisciEmailTestPopup}},
{type:"dijit/form/Button",options:{code:"preview",label:I.lblVisualizzaAnteprimaButton,action:a.hitch(this,this.mostraAnteprima)}},{type:"dijit/form/Button",options:{code:"save",label:I.lblSalvaButton,action:a.hitch(this,this.save),"class":"saveBtn"}}]}},getHeaderToolbar:function(){return this.headerToolbar?this.showToolbar?this.headerToolbar:"headerWidgetBlankToolbar":this.headerToolbar=new z({toolbarConfig:this.getToolbarConfig()})},getFooterToolbar:function(){return this.footerToolbar?this.showToolbar?
this.footerToolbar:"footerWidgetBlankToolbar":this.footerToolbar=new z({toolbarConfig:this.getToolbarConfig()})},getHeaderSecondaryToolbar:function(){return this.headerSecondaryToolbar?this.showSecondaryToolbar?this.headerSecondaryToolbar:"headerWidgetBlankSecondaryToolbar":this.headerSecondaryToolbar=new z({toolbarConfig:{buttons:[{type:"dijit/form/Button",options:{code:"back",label:I.lblGoBack,"class":"backBtn",action:a.hitch(this,function(){this.selectTab("communications_list",{});this.aggiornaUI()})}}]}})},
selectTab:function(a,b){m.debug("[CommunicationWidget] selectTab",a,b,"hasToolbar:"+this.subWidgetRegistry[a].hasToolbar);this.mainStackContainer.selectChild(this.subWidgetRegistry[a]);this.subWidgetRegistry[a].aggiornaUI(b);this.showToolbar=this.subWidgetRegistry[a].hasToolbar;this.showSecondaryToolbar=this.subWidgetRegistry[a].hasSecondaryToolbar;this.appWidget.updateToolbarVisibility(this);window.scrollTo(0,0)},isWidgetSelected:function(a){return this.mainStackContainer.selectedChild==a},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,
function(){this.communicationsListWidget.scheduledCommunications=this.statoShadowProp.scheduledCommunications;this.communicationsListWidget.confirmationEmails=this.statoShadowProp.confirmationEmails;this.selectTab("communications_list",{});this.showToolbar=!1;this.appWidget.updateToolbarVisibility(this)}),a.hitch(this,function(){m.error("CommunicationWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){y.hideLoading()})},addInvitation:function(){this.selectedTabName="scheduled_communication";
this.scheduledCommunicationWidget.communicationType="invitation";this.scheduledCommunicationWidget.reset();this.selectTab("scheduled_communication",{})},editInvitation:function(a){this.selectedTabName="scheduled_communication";this.scheduledCommunicationWidget.communicationType="invitation";this.scheduledCommunicationWidget.stato.set("idSchedulation",a);this.selectTab("scheduled_communication",{})},addOtherScheduledCommunication:function(){this.selectedTabName="scheduled_communication";this.scheduledCommunicationWidget.communicationType=
"other";this.scheduledCommunicationWidget.reset();this.selectTab("scheduled_communication",{})},editOtherScheduledCommunication:function(a){this.selectedTabName="scheduled_communication";this.scheduledCommunicationWidget.communicationType="other";this.scheduledCommunicationWidget.stato.set("idSchedulation",a);this.selectTab("scheduled_communication",{})},addRegistrationConfirmation:function(){this.selectedTabName="registration_confirmation";var b=null;if(this.stato.get("confirmationEmails")&&0<this.stato.get("confirmationEmails").length){var e=
!1,d=null;k.forEach(u.evento.stato.event_details.languages,a.hitch(this,function(a){null==b&&((e=k.some(this.stato.get("confirmationEmails"),function(b){var e=b.idLanguage==a.idLingua;e&&null==d&&(d=b.idEmail);return e}))||(b=a))}))}else b=u.evento.stato.event_details.languages[0];if(null!=d)this.registrationConfirmationEmailWidget.stato.set("idEmail",d,!1),this.registrationConfirmationEmailWidget.stato.set("idEmailFrom",d,!1),this.registrationConfirmationEmailWidget.stato.set("languageTo",b,!1);
else{delete this.registrationConfirmationEmailWidget.stato.idEmailFrom;delete this.registrationConfirmationEmailWidget.stato.idTicketFrom;delete this.registrationConfirmationEmailWidget.stato.languageTo;var f={};k.forEach(this.stato.get("confirmationEmails"),function(a){f[a.idLanguage]=a.idEmail});this.registrationConfirmationEmailWidget.reset({idLanguage:b.idLingua,allLanguages:f})}this.selectTab("registration_confirmation",{})},editRegistrationConfirmation:function(a){this.selectedTabName="registration_confirmation";
this.registrationConfirmationEmailWidget.stato.set("idEmail",a);delete this.registrationConfirmationEmailWidget.stato.idEmailFrom;delete this.registrationConfirmationEmailWidget.stato.idTicketFrom;delete this.registrationConfirmationEmailWidget.stato.languageTo;this.selectTab("registration_confirmation",{})},save:function(){this.mainStackContainer.selectedChildWidget.save()},mostraAnteprima:function(){this.mainStackContainer.selectedChildWidget.mostraAnteprima()},checkSpam:function(){u.commons.stato.mustSaveToContinue?
D.tellUserToSave(v.msgSaveBeforeCheckingSpamminessDialogText,v.lblSaveBeforeCheckingSpamminessDialogTitle):(y.showLoading(),e.post("/checkSpamminess.plp",{data:{idSchedulation:this.mainStackContainer.selectedChildWidget.stato.get("idSchedulation"),idTemplate:this.mainStackContainer.selectedChildWidget.stato.get("idEmail")},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){y.hideLoading();"OK"==(a.result||a).resultCode?(this.mainStackContainer.selectedChildWidget.stato.idSpamCheck=
a.idSpamCheck,this.viewReport()):y.showInfoWithCloseButton(I.msgErroreServer,jspMessages.footerInc.lblErrorMsgDialogTitle,I.lblOKButton);this.mainStackContainer.selectedChildWidget.stato.get("idSpamCheck")?(this.mainStackContainer.selectedChildWidget.checkForSpamButton.set("label",v.lblViewSpamReportButton),l.set(this.mainStackContainer.selectedChildWidget.recheckForSpamButton.domNode,"visibility","visible")):(this.mainStackContainer.selectedChildWidget.checkForSpamButton.set("label",v.lblCheckSpamButton),
l.set(this.mainStackContainer.selectedChildWidget.recheckForSpamButton.domNode,"visibility","hidden"))})))},viewReport:function(){if(u.commons.stato.mustSaveToContinue)D.tellUserToSave(v.msgSaveBeforeCheckingSpamminessDialogText,v.lblSaveBeforeCheckingSpamminessDialogTitle);else{var a=u.commons.data.spamCheckerReportBaseUrl+"/"+this.mainStackContainer.selectedChildWidget.stato.get("idSpamCheck"),b=k.filter(u.commons.data.languages,function(a){return a.idLanguage==u.commons.data.beLanguage});b&&0<
b.length&&(a="\x26lang\x3d"+b[0].defaultLocale);(a=window.open(a,"_spamCheckReport"))&&a.focus()}},updateUIByPermission:function(){k.forEach(this.mainStackContainer.getChildren(),function(a){a.updateUIByPermission&&a.updateUIByPermission()})},onDeactivate:function(){this.selectTab("communications_list",{})}})})},"ebPlatformWidgets/Evento/Communication/MailAggiornaStatsWidget":function(){define("dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/MailAggiornaStatsWidget.html dijit/dijit dijit/form/TextBox dijit/form/DateTextBox dijit/form/Button dijit/ProgressBar dijit/registry dojo/date dojo/date/locale dojo/request dojo/dom-style ebPlatform/ebcometd ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CommunicationWidget dojo/i18n!./nls/MailAggiornaStatsWidget dojo/domReady!".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I){return q([k,n],{testiComuni:C,testi:I,emailTemplateTypeEnum:null,idEvento:null,idPianificazioneInvioEmail:null,idTemplate:null,onUnsubscribeHandlers:{},cometdListenersInitialized:!1,templateString:l,baseClass:"aggiornaStatsWidget",mouseAnim:null,mailStatsBtn:null,messages:I,communicationMessages:p,postCreate:function(){this.inherited(arguments);this.mailStatsBtn=new b({onClick:a.hitch(this,this.apriCanaleCometd)},this.mailStatsBtnNode);this.mailStatsProgressBar=
new r({},this.mailStatsProgressBarNode)},init:function(a,b,e,f,d){z.debug("[MailAggiornaStatsWidget] init: emailTemplateTypeEnum \x3d "+a+" | onUnsubscribeHandler \x3d ",d);this.emailTemplateTypeEnum=a;this.idEvento=b;this.idPianificazioneInvioEmail=e;this.idTemplate=f;d&&(this.onUnsubscribeHandlers[a]=d);this.nascondiProgressBar();this.cometdListenersInitialized||this.initCometdListeners();this.controllaAggiornaStatsInCorso()},controllaAggiornaStatsInCorso:function(){D.post("/mailIsAggiornaStatsInCorso.plp",
{data:{emailTemplateTypeEnum:this.emailTemplateTypeEnum,idEvento:this.idEvento,idPianificazioneInvioEmail:null===this.idPianificazioneInvioEmail?0:this.idPianificazioneInvioEmail},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){z.debug("controllaAggiornaStatsInCorso",a,w.format(new Date(a.ultimoAggiornamento)));var b=a.result||a;"OK"==b.resultCode?("true"===b.msg||""==a.ultimoAggiornamento?this.apriCanaleCometd():z.debug("Aggiornamento statistiche NON in corso"),
a.ultimoAggiornamento?(this.lastUpdateNode.innerHTML=w.format(new Date(a.ultimoAggiornamento)),y.set(this.lastUpdateLabel,"display","inline"),y.set(this.lastUpdateNode,"display","inline")):(y.set(this.lastUpdateLabel,"display","none"),y.set(this.lastUpdateNode,"display","none"))):t.showInfoWithCloseButton(C.msgErroreServer,G.footerInc.lblErrorMsgDialogTitle,C.lblOKButton)}),a.hitch(this,function(a){t.showInfoWithCloseButton(C.msgErroreServer+" - "+a,G.footerInc.lblErrorMsgDialogTitle,C.lblOKButton)}))},
richiediDatiAlServer:function(){D.post("/mailAggiornaStats.plp",{data:{emailTemplateTypeEnum:this.emailTemplateTypeEnum,idEvento:this.idEvento,idPianificazioneInvioEmail:null===this.idPianificazioneInvioEmail?0:this.idPianificazioneInvioEmail,correlationId:this.getNomeCanale()},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){z.debug("richiediDatiAlServer",a,w.format(new Date(a.ultimoAggiornamento)));var b=a.result||a,e=this.getNomeCanale();
"OK"==b.resultCode?0===parseInt(a.numEsitiDaAggiornare,10)?(t.showInfo(I.msgDialogStatisticheNonDisponibili),x.unsubscribe(e),this.lastUpdateNode.innerHTML=w.format(new Date(a.ultimoAggiornamento)),y.set(this.lastUpdateLabel,"display","inline"),y.set(this.lastUpdateNode,"display","inline")):this.lastUpdateNode.innerHTML=w.format(new Date(a.ultimoAggiornamento)):t.showInfoWithCloseButton(b.msg||C.msgErroreServer,G.footerInc.lblErrorMsgDialogTitle,C.lblOKButton)}),function(a){t.showInfoWithCloseButton(C.msgErroreServer+
" - "+a,G.footerInc.lblErrorMsgDialogTitle,C.lblOKButton)})},initCometdListeners:function(){x.addListener("/meta/subscribe",a.hitch(this,function(a){a.subscription===this.getNomeCanale()&&(this.richiediDatiAlServer(),this.mostraProgressBar())}));x.addListener("/meta/unsubscribe",a.hitch(this,function(a){a.subscription===this.getNomeCanale()&&(this.nascondiProgressBar(),this.onUnsubscribeHandlers[this.emailTemplateTypeEnum]&&(this.onUnsubscribeHandlers[this.emailTemplateTypeEnum](),z.debug("[MailAggiornaStatsWidget] invoco l'onUnsubscribeHandlers",
this.onUnsubscribeHandlers[this.emailTemplateTypeEnum])))}));this.cometdListenersInitialized=!0},getNomeCanale:function(){return"/mailStats"+this.emailTemplateTypeEnum+"/"+(this.idEvento+"_"+(null===this.idPianificazioneInvioEmail?0:this.idPianificazioneInvioEmail))},apriCanaleCometd:function(){var b=this.getNomeCanale();x.subscribe(b,a.hitch(this,function(a){z.trace("apriCanaleCometd",a,w.format(new Date(a.data.ultimoAggiornamento)));var e=0;if("fine"==a.data.messaggio||"errore"==a.data.messaggio)x.unsubscribe(b),
y.set(this.lastUpdateLabel,"display","inline"),y.set(this.lastUpdateNode,"display","inline"),"errore"==a.data.messaggio&&console.log("Errore in aggiorna statistiche");else if("keepAlive"==a.data.messaggio)e=(this.mailStatsProgressBar.get("value")||0)+3,this.mailStatsProgressBar.set("value",e);else{var f=parseInt(a.data.numEsitiDaAggiornare,10)*(100+e);a=parseInt(a.data.numEsitiAggiornati,10)*(100+e);this.mailStatsProgressBar.set("value",a*(100+e)/f)}}),{forceDebounceUnsubscribeDelay:6E4})},mostraProgressBar:function(){this.mailStatsProgressBar.set("value",
0);y.set(this.mailStatsNumEsitiAggiornatiContainerNode,"display","inline");this.mailStatsBtn.setDisabled(!0)},nascondiProgressBar:function(){y.set(this.mailStatsNumEsitiAggiornatiContainerNode,"display","none");this.get("disabled")||this.mailStatsBtn.setDisabled(!1)},_setDisabledAttr:function(a){this.disabled=a;this.mailStatsBtn&&this.mailStatsBtn.set("disabled",a)}})})},"ebPlatformWidgets/Evento/Badges/BadgeListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Stateful dojo/date/locale dojo/dom dojo/dom-style dojo/request dojo/store/Memory dojo/store/Observable dojo/Deferred dojo/window dojo/text!./templates/BadgeListWidget.html dijit/form/Button dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem dijit/layout/ContentPane dijit/layout/StackContainer dijit/_TemplatedMixin dijit/_WidgetBase dgrid/OnDemandGrid dgrid/extensions/Pagination ebPlatform/commonDialogs ebPlatform/logger! ebPlatform/stato ebPlatform/utility ebPlatformWidgets/Form/BadgedButtonWidget ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ./EditGuestCategoriesWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J){return q([C,G],{mouseAnim:null,templateString:w,baseClass:"badgeListWidget",badges:null,hasToolbar:!0,showToolbar:!1,parentWidget:null,addBadgeBtnWidget:null,editCategoriesWidget:null,badgeList:{store:new b({idProperty:"id"}),grid:null,gridNode:null,boxNode:null},messages:J,commonMessages:F,postCreate:function(){v.trace("postCreate",M);this.inherited(arguments);this.initButtons();this.badgeList.gridNode=this.badgeGridNode;
this.badgeList.boxNode=this.badgeBoxNode;this.initGrid(this.badgeList);this.aggiornaVisibilitaListe();this.mainStackContainer=new t({},this.mainStackContainerNode);this.mainStackContainer.startup()},initButtons:function(){v.trace("initButtons");this.editCategoriesWidget=new N({internalName:"guest_categories",stato:new n(M.evento.stato.badges.guest_categories),statoShadowProp:M.evento.stato.badges,parentWidget:this,appWidget:this.appWidget},this.editCategoriesBtnNode);this.addBadgeBtnWidget=new d({img:"/img/btn/btn_badge.png",
label:J.lblAddBadgeBtn,caption:J.msgAddBadgeBtnText,hoverImg:"/img/btn/btn_badge.png",hoverLabel:J.lblAddBadgeBtn,hoverCaption:J.msgAddBadgeBtnHoverText,doAction:a.hitch(this,function(a){this.parentWidget.addBadge()}),badge:0},this.addBadgeBtnNode)},aggiornaUI:function(){v.trace("aggiornaUI");this.addBadgeBtnWidget.setBadge(this.badges.custom?this.badges.custom.length:null);this.editCategoriesWidget.aggiornaUI();this.aggiornaVisibilitaListe()},aggiornaVisibilitaListe:function(){v.trace("aggiornaVisibilitaListe");
this.badges&&this.badges.custom&&0<this.badges.custom.length?(f.set(this.noBadgeBoxNode,"display","none"),f.set(this.badgeBoxNode,"display","block"),f.set(this.badgeList.boxNode,"display","block"),this.badgeList.store.setData(this.badges.custom),this.badgeList.grid.refresh()):(f.set(this.noBadgeBoxNode,"display","block"),f.set(this.badgeBoxNode,"display","none"))},mostraAnteprima:function(d){v.debug("mostraAnteprima",d);ebPlatform.iframeBadgePreviewLoaded=new m;d="/getBadgePreview.plp?idEvento\x3d"+
M.evento.stato.idEvento+"\x26id\x3d"+d.id+"\x26forTemplating\x3dfalse";var b=u.getBox(),e=E.showGenericDialog(J.lblPreviewDialogTitle,null,d,!0,{width:794,height:.9*b.h,scrolling:"no"},F.msgPreparazioneAnteprima);ebPlatform.iframeBadgePreviewLoaded.then(a.hitch(this.parentWidget.badgeWidget,function(d){v.debug("preview LOADED",e);this.aggiornaAltezzaIFrame(e);setTimeout(a.hitch(this,function(){this.checkIngombri(e)}),1E3)}),a.hitch(this,function(a){v.debug("preview LOAD ERROR")}))},deleteBadge:function(d){v.debug("deleteBadge",
d);h.post("/deleteBadge.plp",{query:{idBadge:d},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){"OK"==(d.result||d).resultCode?E.showInfoWithCloseButton(J.msgBadgeDeletedDialogText,J.lblBadgeDeleteDialogTitle,F.lblOKButton,a.hitch(this,function(){this.parentWidget.aggiornaUI()})):E.showInfoWithCloseButton(F.msgErroreServer,aa.footerInc.lblErrorMsgDialogTitle,F.lblOKButton)}),a.hitch(this,function(){E.showInfoWithCloseButton(F.msgErroreServer,
aa.footerInc.lblErrorMsgDialogTitle,F.lblOKButton)}))},initGrid:function(d){v.trace("initGrid");var b=a.hitch(this,function(d,b,e){b=e.appendChild(document.createElement("div"));var f=b.appendChild(document.createElement("div"));e=new x({style:"display: none;"});new D({"class":"editButton",label:F.lblModificaButton,onClick:a.hitch(this,function(){v.debug("Edit badge "+d.id);this.parentWidget.editBadge(d)})},f);f=new z({label:F.lblCancellaButton,onClick:a.hitch(this,function(){v.debug("Delete badge "+
d.id+" "+d.name);E.setUpConfirmDialog(J.lblBadgeDeleteDialogTitle,J.msgDeleteBadgeDialogQuestion+" "+d.name+"?",this,this.deleteBadge,null,[d.id]);E.showConfirm()})});e.addChild(f);f=new z({label:F.lblVisualizzaAnteprimaButton,onClick:a.hitch(this,function(){v.debug("Preview badge "+d.id);this.mostraAnteprima(d)})});e.addChild(f);e=new y({label:"",dropDown:e,dropDownPosition:["below-alt"]});b.appendChild(e.domNode);return b});d.grid=new p({store:d.store,rowsPerPage:20,columns:[{label:"",field:"id",
formatter:function(a){return null},sortable:!1},{label:J.lblColName,field:"name",formatter:function(a){return a||null},sortable:!0},{label:J.lblColFormato,field:"pageFormatId",formatter:function(a){var d=null;k.forEach(M.evento.stato.badges.pageSizes,function(b,e){b.id==a&&(d=J.paper&&J.paper.select&&b.labelKey?J.paper.select[b.labelKey]||b.name:b.name)});return d},sortable:!0},{label:J.lblColLastPrinted,field:"lastPrint",formatter:function(a){return a?l.format(new Date(a)):a},get:function(a){var d=
null;a.dataStampaInvitati||a.dataStampaRegistrati?a.dataStampaInvitati&&!a.dataStampaRegistrati?d=a.dataStampaInvitati:!a.dataStampaInvitati&&a.dataStampaRegistrati?d=a.dataStampaRegistrati:a.dataStampaInvitati<=a.dataStampaRegistrati?d=a.dataStampaInvitati:a.dataStampaInvitati>a.dataStampaRegistrati&&(d=a.dataStampaRegistrati):d=null;return d},sortable:!0},{label:J.lblColFilter,field:"filter",formatter:function(a){return a},get:function(a){var d=null;a.dataStampaInvitati||a.dataStampaRegistrati?
a.dataStampaInvitati&&!a.dataStampaRegistrati?d=J.lblsBadgeRecipientsCategory.INVITATI:!a.dataStampaInvitati&&a.dataStampaRegistrati?d=J.lblsBadgeRecipientsCategory.ISCRITTI:a.dataStampaInvitati<=a.dataStampaRegistrati?d=J.lblsBadgeRecipientsCategory.INVITATI:a.dataStampaInvitati>a.dataStampaRegistrati&&(d=J.lblsBadgeRecipientsCategory.ISCRITTI):d=null;return d},sortable:!0},{label:J.lblColQty,field:"guests",formatter:function(a){return 0<a?a:""},get:function(a){var d=null;a.dataStampaInvitati||a.dataStampaRegistrati?
a.dataStampaInvitati&&!a.dataStampaRegistrati?d=a.nrInvitatiStampati:!a.dataStampaInvitati&&a.dataStampaRegistrati?d=a.nrRegistratiStampati:a.dataStampaInvitati<=a.dataStampaRegistrati?d=a.nrInvitatiStampati:a.dataStampaInvitati>a.dataStampaRegistrati&&(d=a.nrRegistratiStampati):d=null;return d},sortable:!0},{label:"",field:"id",renderCell:b,className:"field-actions",sortable:!1}],queryOptions:{sort:[{attribute:"name"}]}},d.gridNode);d.grid.startup()}})})},"ebPlatformWidgets/Dialogs/_DialogWithDnDMixin":function(){define(["dojo/_base/declare",
"dojo/dnd/Manager","dojo/keys"],function(q,a,k){return q([],{_onKey:function(n){this.mainWidget&&this.mainWidget.source?n.keyCode!=k.ESCAPE||this.mainWidget.source==a.manager().source&&this.mainWidget.source.isDragging||this.inherited(arguments):this.inherited(arguments)}})})},"ebPlatformWidgets/Evento/Guests/ManagePersonalFilesDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./ManagePersonalFilesDialogContentWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e){return q([k,n],{baseClass:"managePersonalFilesDialogWidget",parentWidget:null,mainWidget:null,postCreate:function(){this.inherited(arguments);this.set("title",e.lblManagePersonalFilesDialogTitle);this.mainWidget=new l({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.aggiornaUI(a.idPersona)}})})},"ebPlatformWidgets/Evento/Communication/EditFooterWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Dialogs/EditTextWithFontDialogWidget dojo/i18n!ebPlatformWidgets/Dialogs/nls/EditTextWithFontDialogWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f){return q([l],{postCreate:function(){this.inherited(arguments);k.set(this.textColorPicker.domNode,"display","none");k.set(this.textBox.domNode,"display","none");this.colorsContentPane.removeChild(this.textBackgroundColorPicker);this.textBackgroundColorPicker=new n({label:e.lblBackgroundColorPlaceHolder,value:"#FFFFFF",showResetBtn:!0,resetLabel:f.lblCopyHeaderColor});this.colorsContentPane.addChild(this.textBackgroundColorPicker)},show:function(a){this.inherited(arguments);
this.textBackgroundColorPicker.resetColor=a.resetColor?a.resetColor:"#FFFFFF"}})})},"ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/ready dojo/request dojo/dom-style dijit/_WidgetBase dijit/form/Button ebPlatform/commonDialogs ebPlatform/stato ebPlatformWidgets/Dialogs/CustomizedI18nDialogWidget ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget/RigaInvitoWidget dijit/layout/ContentPane dojo/i18n dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x){return q([f],{idTemplate:null,idPersona:null,messages:null,dialogWidget:null,vociContentPaneWidget:null,bottoniContentPaneWidget:null,procediBtn:null,cancellaBtn:null,postCreate:function(){this.dialogWidget=new m({title:this.messages.lblChoseInvitationEmailDialogTitle});this.vociContentPaneWidget=new w({});this.dialogWidget.addChild(this.vociContentPaneWidget);this.bottoniContentPaneWidget=new w({"class":"buttonsContainer"});this.procediBtn=h({label:x.lblProcediButton,
onClick:a.hitch(this,function(){this.spedisci()})});this.cancellaBtn=h({label:x.lblChiudiButton,onClick:a.hitch(this,function(){this.dialogWidget.hide()})});this.bottoniContentPaneWidget.addChild(this.procediBtn);this.bottoniContentPaneWidget.addChild(this.cancellaBtn);this.dialogWidget.addChild(this.bottoniContentPaneWidget);e.set(this.dialogWidget.closeButtonNode,"display","none")},visualizzaSceltePer:function(e){this.idPersona=e;l.post("/getEmailInvitoPersona.plp",{data:{idPersona:e},handleAs:"json",
headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){console.log("INVITI",a);var e=a.result||a;"OK"==e.resultCode?1==a.inviti.length?(this.idTemplate=a.inviti[0].template.idEmailTemplate,this.spedisci()):(this.creaVoci(a.inviti),this.dialogWidget.show()):(e.msg?b.showInfoWithCloseButton(e.msg,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton):b.showInfoWithCloseButton(x.msgErroreServer,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton),this.gridWidget.revert())}),
a.hitch(this,function(a){b.showInfoWithCloseButton(x.msgErroreServer,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton)}))},aggiornaStato:function(a){this.idTemplate!=a&&(console.log("AGGIORNA STATO",a),this.idTemplate=a)},creaVoci:function(b){this.vociContentPaneWidget.destroyDescendants();k.forEach(b,a.hitch(this,function(a){console.debug("ciccio",a);a=new u({parentWidget:this,idTemplate:a.template.idEmailTemplate,label:a.nome,checked:!1});this.vociContentPaneWidget.addChild(a)}))},spedisci:function(){this.dialogWidget.hide();
l.post("/sendEmailInvitoToPersona.plp",{data:{idEvento:r.evento.stato.idEvento,idPersona:this.idPersona,idTemplate:this.idTemplate},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;"OK"==a.resultCode?b.showInfo(this.messages.msgDialogInvitoInviato,this.messages.lblSendInviteDialogTitle,!1,null,2E3,!0):b.showInfoWithCloseButton(a.msg||this.messages.msgDialogProblemiInvioEmail,this.messages.lblDialogProblemiInvioInvitoTitle,x.lblOKButton)}),
a.hitch(this,function(a){b.showError(this.messages.msgDialogProblemiInvioEmail)}))}})})},"ebPlatformWidgets/Evento/EventPage/EditTestiAccompagnatoriDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-style dojo/text!./templates/EditTestiAccompagnatoriDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button dojox/form/Uploader ebPlatform/commonDialogs ebPlatform/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G){return q([h,b],{mouseAnim:null,templateString:f,baseClass:"editTestiAccompagnatoriDialogContentWidget",parentWidget:null,additionalMessages:null,doOnSelection:null,sectionTitleWidget:null,maxAccompanyingGuestsWidget:null,maxAccompanyingGuestsNoCapacityWidget:null,maxAccompanyingGuestsFullWidget:null,numAccompanyingGuestAddedWidget:null,addAccompanyingGuestsWidget:null,addOneMoreAccompanyingGuestWidget:null,backToParentWidget:null,accompanyingGuestSectionTitleWidget:null,
accompanyingGuestFieldInListsWidget:null,accompanyingGuestPositionWidget:null,accompanyingGuestsSectionTitleInEmailWidget:null,accompaniedGuestThanksTitleWidget:null,accompaniedGuestThanksSubTitleWidget:null,accompanyingGuestThanksTitleWidget:null,accompanyingGuestThanksSubTitleWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:G,commonMessages:t,postCreate:function(){this.inherited(arguments);this.sectionTitleWidget=new m({},this.sectionTitleNode);this.maxAccompanyingGuestsWidget=new u({},
this.maxAccompanyingGuestsNode);this.maxAccompanyingGuestsNoCapacityWidget=new m({},this.maxAccompanyingGuestsNoCapacityNode);this.maxAccompanyingGuestsFullWidget=new m({},this.maxAccompanyingGuestsFullNode);this.numAccompanyingGuestAddedWidget=new m({},this.numAccompanyingGuestAddedNode);this.addAccompanyingGuestsWidget=new m({},this.addAccompanyingGuestsNode);this.addOneMoreAccompanyingGuestWidget=new m({},this.addOneMoreAccompanyingGuestNode);this.backToParentWidget=new m({},this.backToParentNode);
this.accompanyingGuestSectionTitleWidget=new m({},this.accompanyingGuestSectionTitleNode);this.accompanyingGuestFieldInListsWidget=new m({},this.accompanyingGuestFieldInListsNode);this.accompanyingGuestPositionWidget=new m({},this.accompanyingGuestPositionNode);this.accompanyingGuestsSectionTitleInEmailWidget=new m({},this.accompanyingGuestsSectionTitleInEmailNode);this.accompaniedGuestThanksTitleWidget=new m({},this.accompaniedGuestThanksTitleNode);this.accompaniedGuestThanksSubTitleWidget=new m({},
this.accompaniedGuestThanksSubTitleNode);this.accompanyingGuestThanksTitleWidget=new m({},this.accompanyingGuestThanksTitleNode);this.accompanyingGuestThanksSubTitleWidget=new m({},this.accompanyingGuestThanksSubTitleNode);this.cancelBtnWidget=new D({label:t.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new D({label:t.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e={accompanyingGuestsSectionTitle:this.sectionTitleWidget.get("value"),
maxAccompanyingGuests:this.maxAccompanyingGuestsWidget.get("value"),maxAccompanyingGuestsNoCapacity:this.maxAccompanyingGuestsNoCapacityWidget.get("value"),maxAccompanyingGuestsFull:this.maxAccompanyingGuestsFullWidget.get("value"),numAccompanyingGuestAdded:this.numAccompanyingGuestAddedWidget.get("value"),addAccompanyingGuests:this.addAccompanyingGuestsWidget.get("value"),addOneMoreAccompanyingGuest:this.addOneMoreAccompanyingGuestWidget.get("value"),backToParent:this.backToParentWidget.get("value"),
accompanyingGuestSectionTitle:this.accompanyingGuestSectionTitleWidget.get("value"),accompanyingGuestFieldInLists:this.accompanyingGuestFieldInListsWidget.get("value"),accompanyingGuestPosition:this.accompanyingGuestPositionWidget.get("value"),accompanyingGuestsSectionTitleInEmail:this.accompanyingGuestsSectionTitleInEmailWidget.get("value"),accompaniedGuestThanksTitle:this.accompaniedGuestThanksTitleWidget.get("value"),accompaniedGuestThanksSubTitle:this.accompaniedGuestThanksSubTitleWidget.get("value"),
accompanyingGuestThanksTitle:this.accompanyingGuestThanksTitleWidget.get("value"),accompanyingGuestThanksSubTitle:this.accompanyingGuestThanksSubTitleWidget.get("value")};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode)},reset:function(){this.sectionTitleWidget.set("value","");this.maxAccompanyingGuestsWidget.set("value","");this.maxAccompanyingGuestsNoCapacityWidget.set("value","");this.maxAccompanyingGuestsFullWidget.set("value",
"");this.numAccompanyingGuestAddedWidget.set("value","");this.addAccompanyingGuestsWidget.set("value","");this.addOneMoreAccompanyingGuestWidget.set("value","");this.backToParentWidget.set("value","");this.accompanyingGuestSectionTitleWidget.set("value","");this.accompanyingGuestFieldInListsWidget.set("value","");this.accompanyingGuestPositionWidget.set("value","");this.accompanyingGuestsSectionTitleInEmailWidget.set("value","");this.accompaniedGuestThanksTitleWidget.set("value","");this.accompaniedGuestThanksSubTitleWidget.set("value",
"");this.accompanyingGuestThanksTitleWidget.set("value","");this.accompanyingGuestThanksSubTitleWidget.set("value","")},impostaTesto:function(a,b){this[a+"Widget"].set("value",b)},impostaPlaceHolders:function(){this.sectionTitleWidget.set("placeHolder",this.additionalMessages.accompanyingGuestsSectionTitleText);l.set(this.maxAccompanyingGuestsWidget.containerNode,"placeHolder",this.additionalMessages.maxAccompanyingGuestsText);this.maxAccompanyingGuestsNoCapacityWidget.set("placeHolder",this.additionalMessages.maxAccompanyingGuestsNoCapacityText);
this.maxAccompanyingGuestsFullWidget.set("placeHolder",this.additionalMessages.maxAccompanyingGuestsFullText);this.numAccompanyingGuestAddedWidget.set("placeHolder",this.additionalMessages.numAccompanyingGuestAddedText);this.addAccompanyingGuestsWidget.set("placeHolder",this.additionalMessages.addAccompanyingGuestsText);this.addOneMoreAccompanyingGuestWidget.set("placeHolder",this.additionalMessages.addOneMoreAccompanyingGuestText);this.backToParentWidget.set("placeHolder",this.additionalMessages.backToParentText);
this.accompanyingGuestSectionTitleWidget.set("placeHolder",this.additionalMessages.accompanyingGuestSectionTitleText);this.accompanyingGuestFieldInListsWidget.set("placeHolder",this.additionalMessages.accompanyingGuestFieldInListsText);this.accompanyingGuestPositionWidget.set("placeHolder",this.additionalMessages.accompanyingGuestPositionText);this.accompanyingGuestsSectionTitleInEmailWidget.set("placeHolder",this.additionalMessages.accompanyingGuestsSectionTitleInEmailText);this.accompaniedGuestThanksTitleWidget.set("placeHolder",
this.additionalMessages.accompaniedGuestThanksTitleText);this.accompaniedGuestThanksSubTitleWidget.set("placeHolder",this.additionalMessages.accompaniedGuestThanksSubTitleText);this.accompanyingGuestThanksTitleWidget.set("placeHolder",this.additionalMessages.accompanyingGuestThanksTitleText);this.accompanyingGuestThanksSubTitleWidget.set("placeHolder",this.additionalMessages.accompanyingGuestThanksSubTitleText)}})})},"ebPlatformWidgets/Evento/Communication/EditSchedulingDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditSchedulingDialogContentWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h){return q([n,e],{baseClass:"editSchedulingDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new f({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);a.title&&this.set("title",a.title);this.mainWidget.show(a)}})})},"ebPlatformWidgets/Evento/Badges/BadgesManagementWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-construct dojo/request dojo/Deferred dojo/store/Memory dojo/promise/all dojo/text!./templates/BadgesManagementWidget.html dijit/layout/ContentPane dijit/layout/StackContainer ebPlatform/commonDialogs ebPlatform/logger! ebPlatform/stato ebPlatform/utility ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ./BadgeListWidget ./BadgeWidget ./PrintOptionsWidget app/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v){return q([z],{mouseAnim:null,templateString:r,baseClass:"badgesManagementWidget",dependsOnWidgetsData:["event_details"],hasToolbar:!0,showToolbar:!1,selectedTabName:"badge_list",appWidget:null,parentWidget:null,subWidgetRegistry:{},headerToolbar:null,footerToolbar:null,hasSecondaryToolbar:!0,mainStackContainer:null,badgeListWidget:null,badgeWidget:null,printOptionsWidget:null,messages:v,commonMessages:E,campiEvento:null,postCreate:function(){D.trace("postCreate");
this.inherited(arguments);this.mainStackContainer=new u({},this.mainStackContainerNode);this.badgeListWidget=new t({parentWidget:this,appWidget:this.appWidget,campiEvento:this.campiEvento});this.badgeWidget=new G({parentWidget:this,appWidget:this.appWidget});this.mainStackContainer.addChild(this.badgeListWidget);this.subWidgetRegistry.badge_list=this.badgeListWidget;this.mainStackContainer.addChild(this.badgeWidget);this.subWidgetRegistry.badge=this.badgeWidget;var a=l.toDom("\x3cdiv\x3e\x3c/div\x3e");
this.printOptionsWidget=C({parentWidget:this.badgeWidget},a);this.mainStackContainer.startup()},hasToLoadData:function(){D.debug("hasToLoadData",!0);return!0},loadData:function(){D.debug("loadData",y.evento.stato.idEvento);this.aggiornaCampiEvento();return e.get("/getBadges.plp",{query:{idEvento:y.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},pushLoadedDataToStatoShadow:function(b){D.debug("pushLoadedDataToStatoShadow","loadedData",b);if(b.custom){for(var e=
a.getObject("evento.mappings.badge",!1,y),d=0;d<b.custom.length;d++)this.statoShadowProp.custom[d]={},x.copyTo(b.custom[d],this.statoShadowProp.custom[d],x.invertMapping(e));this.statoShadowProp.custom.length=d}if(b.badge_templates){e=a.getObject("evento.mappings.badge",!1,y);this.statoShadowProp.templates=[];for(d=0;d<b.badge_templates.length;d++)this.statoShadowProp.templates[d]={},x.copyTo(b.badge_templates[d],this.statoShadowProp.templates[d],x.invertMapping(a.mixin(a.clone(e),{id:"idBadgeTemplate"})));
this.statoShadowProp.templates.length=d}b.paper_formats&&(this.statoShadowProp.pageSizes=b.paper_formats)},getToolbarConfig:function(){D.trace("getToolbarConfig");return{buttons:[{type:"dijit/form/DropDownButton",options:{code:"generate",label:v.lblGeneraButton,dropDown:this.printOptionsWidget}},{type:"dijit/form/Button",options:{code:"preview",label:E.lblVisualizzaAnteprimaButton,action:a.hitch(this,this.mostraAnteprima)}},{type:"dijit/form/Button",options:{code:"save",label:E.lblSalvaButton,action:a.hitch(this,
this.saveBadge),"class":"saveBtn"}}]}},getHeaderToolbar:function(){D.trace("getHeaderToolbar");this.inherited(arguments);return this.headerToolbar?this.showToolbar?this.headerToolbar:"headerWidgetBlankToolbar":this.headerToolbar=new B({toolbarConfig:this.getToolbarConfig()})},getFooterToolbar:function(){D.trace("getFooterToolbar");this.inherited(arguments);return this.footerToolbar?this.showToolbar?this.footerToolbar:"footerWidgetBlankToolbar":this.footerToolbar=new B({toolbarConfig:this.getToolbarConfig()})},
getHeaderSecondaryToolbar:function(){D.trace("getHeaderSecondaryToolbar");return this.headerSecondaryToolbar?this.showSecondaryToolbar?this.headerSecondaryToolbar:"headerWidgetBlankSecondaryToolbar":this.headerSecondaryToolbar=new B({toolbarConfig:{buttons:[{type:"dijit/form/Button",options:{code:"back",label:E.lblGoBack,"class":"backBtn",action:a.hitch(this,function(){D.debug("getHeaderSecondaryToolbar","selected",this.mainStackContainer.selectedChildWidget.internalName);this.aggiornaUI()})}}]}})},
selectTab:function(a,b){D.trace("selectTab",a,b,"hasToolbar:"+this.subWidgetRegistry[a].hasToolbar);this.mainStackContainer.selectChild(this.subWidgetRegistry[a]);D.debug("aggiornaUI",a);this.subWidgetRegistry[a].aggiornaUI(b);this.showToolbar=this.subWidgetRegistry[a].hasToolbar;this.showSecondaryToolbar=!0;this.appWidget.updateToolbarVisibility(this);window.scrollTo(0,0)},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,function(){D.trace("aggiornaUI",this.statoShadowProp);
this.badgeListWidget.badges=this.statoShadowProp;this.selectTab("badge_list",{});this.showSecondaryToolbar=this.showToolbar=!1;this.appWidget.updateToolbarVisibility(this)}),a.hitch(this,function(){D.trace("aggiornaUI","not resolved")})).always(function(){D.trace("aggiornaUI","always");w.hideLoading()})},addBadge:function(){D.trace("addBadge");y.commons.stato.mustSaveToContinue?p.askUserToLeavePage(this.appWidget,a.hitch(this,function(){this.selectedTabName="badge";this.badgeWidget.reset();this.selectTab("badge",
{})})):(this.selectedTabName="badge",this.badgeWidget.reset(),this.selectTab("badge",{}))},editBadge:function(b){D.trace("editBadge ",b.id);y.commons.stato.mustSaveToContinue?p.askUserToLeavePage(this.appWidget,a.hitch(this,function(){this.selectedTabName="badge";this.badgeWidget.reset(b);this.selectTab("badge",{})})):(this.selectedTabName="badge",this.badgeWidget.reset(b),this.selectTab("badge",{}))},preCommit:function(a){D.debug("preCommit",a)},postCommit:function(a){D.debug("postCommit",a)},validate:function(){D.debug("validate");
return!0},saveBadge:function(){D.trace("saveBadge");this.mainStackContainer.selectedChildWidget.save()},mostraAnteprima:function(){D.trace("mostraAnteprima");this.mainStackContainer.selectedChildWidget.mostraAnteprima()},aggiornaCampiEvento:function(){D.debug("aggiornaCampiEvento");this.inherited(arguments);e.post("/getEventoPersonaFields.plp",{data:{idEvento:y.evento.stato.idEvento,includeLabels:!0},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){this.campiEvento=
new h({idProperty:"fieldName",data:k.map(a.campi,function(a,d){var b=a.fieldLabel;"Nome"==a.fieldName?b=E.lblNome:"Cognome"==a.fieldName&&(b=E.lblCognome);return{idx:d,valoreVero:!0,idCustomField:a.idCustomField,fieldName:a.fieldName,fieldLabel:b,tipo:a.tipo,idLista:a.idLista,indiceCustomField:a.indiceCustomField,posizione:a.posizione,nomeLista:a.nomeLista,valoriLista:a.valoriLista,multiple:!!a.mappaParametri&&void 0!==a.mappaParametri.multiple&&"true"==a.mappaParametri.multiple}})});this.campiEvento.put({idx:-1,
valoreVero:!1,fieldName:"hide",fieldLabel:v.lblCategorySelectionPlaceholder,tipo:"Lista",idLista:-1,multiple:!1});a=new h({idProperty:"idCustomField",data:this.campiEvento.data});this.badgeListWidget.editCategoriesWidget.setCampiEvento(a);this.badgeWidget.campiEvento=this.campiEvento}),a.hitch(this,function(a){w.showInfoWithCloseButton(E.msgErroreServer,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)}))},onDeactivate:function(){this.mainStackContainer.selectChild(this.badgeListWidget)}})})},"ebPlatform/statoEmail":function(){define("dojo/_base/lang dojo/on dojo/dom-construct dojo/mouse dojo/store/Memory dojo/date dojo/date/locale dijit/Tooltip put-selector/put ebPlatform/stato dojo/i18n dojo/i18n!./nls/statoEmail".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u){function w(a){return"hardBounce"==a?u.stati.lblStato_HARD_BOUNCE:"softBounce"==a?u.stati.lblStato_SOFT_BOUNCE:u.stati.lblStato_SENDING_EXCEPTION}k={};e=[{statoEmail:"TUTTI",label:u.stati.lblStato_TUTTI,labelHtml:u.stati.lblStato_TUTTI},{statoEmail:"SENT",label:u.stati.lblStato_SENT,labelHtml:"\x3cb\x3e"+u.stati.lblStato_SENT+"\x3c/b\x3e"},{statoEmail:"DELIVERED",label:u.stati.lblStato_DELIVERED,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_DELIVERED},
{statoEmail:"OPENED",label:u.stati.lblStato_OPENED,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_OPENED},{statoEmail:"CLICKED",label:u.stati.lblStato_CLICKED,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_CLICKED},{statoEmail:"ANY_ERROR",label:u.stati.lblStato_ANY_ERROR,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_ANY_ERROR},{statoEmail:"HARD_BOUNCE",label:u.stati.lblStato_HARD_BOUNCE,
labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_HARD_BOUNCE},{statoEmail:"SOFT_BOUNCE",label:u.stati.lblStato_SOFT_BOUNCE,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_SOFT_BOUNCE},{statoEmail:"SENDING_EXCEPTION",label:u.stati.lblStato_SENDING_EXCEPTION,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_SENDING_EXCEPTION},{statoEmail:"NOT_SENT",
label:u.stati.lblStato_NOT_SENT,labelHtml:"\x3cb\x3e"+u.stati.lblStato_NOT_SENT+"\x3c/b\x3e"},{statoEmail:"ADDRESS_MALFORMED",label:u.stati.lblStato_ADDRESS_MALFORMED,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_ADDRESS_MALFORMED},{statoEmail:"NO_EMAIL",label:u.stati.lblStato_NO_EMAIL,labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.stati.lblStato_NO_EMAIL},{statoEmail:"NOT_SENT_FIXED",label:u.esiti.msgFixed,labelHtml:"\x3cb\x3e"+u.esiti.msgFixed+"\x3c/b\x3e"},{statoEmail:"ADDRESS_MALFORMED_FIXED",
label:u.esiti.msgFixed+" ("+u.esiti.msgErrore+": "+u.esiti.msgIndirizzoErrato+")",labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.esiti.msgFixed+" ("+u.esiti.msgErrore+": "+u.esiti.msgIndirizzoErrato+")"},{statoEmail:"NO_EMAIL_FIXED",label:u.esiti.msgFixed+" ("+u.esiti.msgErrore+": "+u.esiti.msgEmailNonPresente+")",labelHtml:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+u.esiti.msgFixed+" ("+u.esiti.msgErrore+": "+u.esiti.msgEmailNonPresente+")"},{statoEmail:"NEVER_SENT",label:u.stati.lblNuoviOspiti,
labelHtml:u.stati.lblNuoviOspiti},{statoEmail:"BLACK_LIST",label:u.stati.lblStato_BLACK_LIST,labelHtml:u.stati.lblStato_BLACK_LIST}];r=q.hitch(this,function(e){return q.hitch(this,function(k,m,r){if(void 0===k.ospiteOriginale){m=k.esitoInvio;var t=u.esiti.msgNonAncoraInviata,x="";if(m&&(void 0===k[e]||""==k[e]))t="\x3cb\x3e"+u.esiti.msgEmailNonPresente+"\x3c/b\x3e",x="NO_EMAIL";else if(m&&m.invio){var x=m.esito,C="";m.invio&&m.invio.nomeTemplate&&(C="\x3cb\x3e"+u.esiti.msgMessageSent+":\x3c/b\x3e \x3cem\x3e"+
q.trim(m.invio.nomeTemplate||"")+"\x3c/em\x3e");switch(x){case "SENT":case "WAITING":case "QUEUED":t="";m.email&&k.customfield0&&m.email!=k.customfield0&&(t='\x3cb\x3e\x3cspan class\x3d"next"\x3e'+u.esiti.msgNonAncoraInviata+"\x3c/span\x3e, "+u.esiti.msgChanged+"\x3c/b\x3e");t+='\x3cul class\x3d"esitipop"\x3e';t+="\x3cli\x3e\x3cb\x3e"+u.esiti.msgSpedita+":\x3c/b\x3e\x3cspan\x3e "+f.format(new Date(m.invio.dataInvio))+"\x3c/span\x3e\x3c/li\x3e";m.lastOpenedTimestamp&&(t+="\x3cli\x3e\x3cb\x3e"+u.esiti.msgApertaIl+
":\x3c/b\x3e\x3cspan\x3e "+f.format(new Date(m.lastOpenedTimestamp))+"\x3c/span\x3e\x3c/li\x3e");m.lastClickedTimestamp&&(t+="\x3cli\x3e\x3cb\x3e"+u.esiti.msgCliccataIl+":\x3c/b\x3e\x3cspan\x3e "+f.format(new Date(m.lastClickedTimestamp))+"\x3c/span\x3e\x3c/li\x3e");t+="\x3c/ul\x3e";break;case "ADDRESS_MALFORMED":t="";m.email&&k.customfield0&&m.email!=k.customfield0&&(x+="fixed",t+='\x3cb\x3e\x3cspan class\x3d"next"\x3e'+u.esiti.msgNonAncoraInviata+"\x3c/span\x3e, "+u.esiti.msgFixed+"\x3c/b\x3e\x26nbsp;(");
t+="\x3cb\x3e"+u.esiti.msgErrore+":\x3c/b\x3e "+u.esiti.msgIndirizzoErrato;m.email&&k.customfield0&&m.email!=k.customfield0&&(t+=")");t+="\x3cbr /\x3e";break;case "SENDING_EXCEPTION":case "SMTP_ERROR":t="";m.email&&k.customfield0&&m.email!=k.customfield0&&(t+='\x3cb\x3e\x3cspan class\x3d"next"\x3e'+u.esiti.msgNonAncoraInviata+"\x3c/span\x3e, "+u.esiti.msgChanged+"\x3c/b\x3e\x26nbsp;(");t+="\x3cb\x3e"+u.esiti.msgErrore+":\x3c/b\x3e "+w(m.errMsg)+" - "+f.format(new Date(m.invio.dataInvio));t+="\x3cbr /\x3e";
break;case "EMPTY_ADDRESS":x="NO_EMAIL",t="",k.customfield0&&(x+="fixed",t+='\x3cb\x3e\x3cspan class\x3d"next"\x3e'+u.esiti.msgNonAncoraInviata+"\x3c/span\x3e, "+u.esiti.msgFixed+"\x3c/b\x3e\x26nbsp;("),t+="\x3cb\x3e"+u.esiti.msgErrore+":\x3c/b\x3e "+u.esiti.msgEmailNonPresente,k.customfield0&&(t+=")"),t+="\x3cbr /\x3e"}t+=C}k=b(r,"div.esitoInvio."+x+(m&&m.errMsg&&"SMTP_ERROR"==m.esito?"."+m.errMsg:"")," ");a(k,n.leave,function(){h.hide(this)});a(k,n.enter,function(){h.show(t,this)})}})});var D=new l({idProperty:"statoEmail",
data:e});k.actionRender=r;k.filteringSelectConfig=function(a,b){return{"class":"filtraStatoEmail",name:"filtraStatoEmail",placeHolder:u.lblFiltraStatoPlaceHolder,required:!1,store:D,searchAttr:"label",labelAttr:"label",onChange:function(e){var f=q.mixin(a.query,{statoEmail:e});a.query=f;a.refresh();b&&b({statoEmail:e})}}};k.transparentFilteringSelectConfig=function(a){return{"class":"filtraStatoEmail",name:"filtraStatoEmail",placeHolder:u.lblFiltraStatoPlaceHolder,required:!1,store:D,searchAttr:"label",
labelAttr:"labelHtml",labelType:"html",onChange:function(b){a&&a({statoEmail:b})}}};return k})},"ebPlatformWidgets/Form/MultiLanguageSelectionWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/on dijit/_WidgetBase dijit/popup dijit/TooltipDialog dijit/layout/StackContainer dijit/layout/ContentPane dijit/form/Select dijit/form/DropDownButton dijit/form/CheckBox ebPlatform/stato ebPlatform/logger! ebPlatform/i18n dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/form".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t){return q([f],{baseClass:"multiLanguageSelectionWidget",mode:"mono",value:null,disabled:!1,disableAutoClosing:!1,sc:null,mono:null,multi:null,multiCheckBoxes:null,multiLocaleSelects:null,multiEliminabile:null,postCreate:function(){this.inherited(arguments);null==this.value&&(this.value=[]);this.multiCheckBoxes={};this.multiLocaleSelects={};this.multiEliminabile={};var a=n.create("div",{},this.domNode);this.sc=new r({},a);this.sc.startup();this.initMono();
this.initMulti();this.aggiornaUI()},initMono:function(){this.mono=new u({store:z.availableLocalesStore,labelAttr:"label",sortByLabel:!1,onChange:a.hitch(this,function(a){var b=k.filter(z.availableLocalesStore.data,function(b){return b.codice==a});this.value=[{idLingua:parseInt(b[0].idLingua),locale:a}];if(this.onChange)this.onChange(this.value)})});this.sc.addChild(this.mono)},initMulti:function(){this.multi=new m({});this.sc.addChild(this.multi);this.multiOptionContainer=new b({onMouseLeave:a.hitch(this,
function(){this.disableAutoClosing||h.close(this.multiOptionContainer)}),onBlur:a.hitch(this,function(){this.disableAutoClosing||h.close(this.multiOptionContainer)})});this.dd=new w({label:t.multiLanguageSelectionWidget.lblLingua,dropDown:this.multiOptionContainer});this.dd._onBlur=function(){};this.multi.addChild(this.dd);k.forEach(y.commons.data.languages,a.hitch(this,function(b){var f=new m({}),h=new D({onChange:a.hitch(this,function(a){a?(k.some(this.value,function(a){return a.idLingua==b.idLingua})||
(this.value.push({idLingua:b.idLingua,locale:t.get("value"),eliminabile:!0}),this.multiEliminabile[b.idLingua]=!0),t.set("disabled",!1)):(k.some(this.value,function(a){return a.idLingua==b.idLingua})&&(this.value=k.filter(this.value,function(a){return a.idLingua!=b.idLingua})),t.set("disabled",!0));if(this.onChange)this.onChange(this.value)})}),t=new u({store:z.availableLocalesStore,labelAttr:"label",sortByLabel:!1,disabled:!0,query:function(a){return a.codice.substr(0,2)==b.iso639_1},onChange:a.hitch(this,
function(a){k.forEach(this.value,function(e){e.idLingua==b.idLingua&&(e.locale=a)});if(this.onChange)this.onChange(this.value)})});f.addChild(h);n.create("span",{innerHTML:b.iso639_1.toUpperCase(),style:"width:30px; display:inline-block;"},f.containerNode);f.addChild(t);this.multiOptionContainer.addChild(f);this.multiCheckBoxes[b.idLingua]=h;this.multiLocaleSelects[b.idLingua]=t;e(t.dropDown,"open",a.hitch(this,function(){this.disableAutoClosing=!0}));e(t.dropDown,"close",a.hitch(this,function(){this.disableAutoClosing=
!1}))}))},aggiornaUI:function(){if(this.sc)if(x.debug("aggiornaUI",this.value,this.mode),"mono"==this.mode)this.sc.selectChild(this.mono),this.mono.set("value",this.value[0]?this.value[0].locale:null,!1);else{k.forEach(this.value,a.hitch(this,function(a){this.multiEliminabile[a.idLingua]=a.eliminabile}));this.sc.selectChild(this.multi);for(var b in this.multiCheckBoxes){var e=k.filter(this.value,function(a){return a.idLingua==b});e&&0<e.length?(this.multiCheckBoxes[b].set("checked",!0,!1),this.multiLocaleSelects[b].set("value",
e[0].locale),this.multiLocaleSelects[b].set("disabled",!1)):(this.multiCheckBoxes[b].set("checked",!1,!1),this.multiLocaleSelects[b].set("disabled",!0))}}},_setModeAttr:function(a){this.mode=a;this.aggiornaUI()},_setDisabledAttr:function(a){this.mono.set("disabled",a);this.multi.set("disabled",a);this.dd.set("disabled",a);for(var b in this.multiCheckBoxes)a?(this.multiCheckBoxes[b].set("disabled",!0),this.multiLocaleSelects[b].set("disabled",!0)):this.multiCheckBoxes[b].get("checked")?this.multiEliminabile[b]?
(this.multiCheckBoxes[b].set("disabled",!1),this.multiLocaleSelects[b].set("disabled",!1)):(this.multiCheckBoxes[b].set("disabled",!0),this.multiLocaleSelects[b].set("disabled",!0)):(this.multiCheckBoxes[b].set("disabled",!1),this.multiLocaleSelects[b].set("disabled",!0))},_setDeletableAttr:function(b){x.debug("DELETABLE",k.map(this.value,function(a){return a.eliminabile}));k.forEach(this.value,a.hitch(this,function(a){this.multiCheckBoxes[a.idLingua].get("checked")&&void 0!=a.eliminabile&&!a.eliminabile&&
(x.debug("DISABILITO",a,a.idLingua),this.multiCheckBoxes[a.idLingua].set("disabled",!0))}))}})})},"ebPlatformWidgets/Evento/Badges/PrintOptionsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/_base/array dojo/Deferred dojo/request dojo/dom-class dojo/dom-style dojo/string dojo/store/Cache dojo/store/JsonRest dojo/store/util/QueryResults dojo/store/Memory dojo/text!./templates/PrintOptionsWidget.html dijit/form/Button dijit/form/CheckBox dijit/_WidgetBase dijit/_TemplatedMixin ebPlatformWidgets/CustomTooltip dijit/form/FilteringSelect dijit/form/NumberTextBox dijit/form/Select ebPlatform/stato ebPlatform/utility ebPlatform/commonDialogs ebPlatform/logger! ebPlatformWidgets/Form/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N){return q([z,B],{mouseAnim:null,templateString:D,baseClass:"badgePrintOptionsWidget",parentWidget:null,value:null,required:!1,stato:null,opener:null,mainTitleTooltipWidget:null,completeListWidget:null,guestSelectionWidget:null,recipientsCategoriesStore:null,recipientsCategoryWidget:null,printBadgesButton:null,ignorePrintedChk:null,avoidPrintedAtHomeChk:null,categorySelectionWidget:null,numBadges:0,messages:N,commonMessages:L,personeStore:null,
emptyStore:null,postCreate:function(){this.inherited(arguments);this.personeStore=new r(new m({target:"/rest/restPersone/search",idProperty:"idPersona",sortParam:"sortBy",query:function(a,d){var b;a.cognome&&3<String(a.cognome).length?(a.chiave=a.cognome,b=this.inherited(arguments)):b=u([]);return b}}),new w({idProperty:"idPersona"}));this.emptyStore=new w({nome:"emptyStore",data:[]});this.guestSelectionWidget=new G({disabled:!0,hasDownArrow:!1,store:this.personeStore,required:!1,autoComplete:!1,
ignoreCase:!0,propercase:!0,searchAttr:"cognome",pageSize:10,searchDelay:1500,labelFunc:function(a,d){return(a.cognome||"")+" "+(a.nome||"")+" - "+(a.email||"")},placeHolder:N.lblGuestSelectionPlaceholder,queryExpr:"${0}",query:{idEvento:I.evento.stato.idEvento},queryOptions:{sort:[{attribute:"cognome"}]},onChange:a.hitch(this,function(a){var d=this.guestSelectionWidget.store.get(a);a?(d=this.guestSelectionWidget.store.get(a),this.guestSelectionWidget.textbox.value=(d.cognome||"")+" "+(d.nome||"")):
this.guestSelectionWidget.textbox.value="";this.printBadgesButton.set("disabled",!this.canPrint())}),_startSearchFromInput:function(){this.focusNode.value&&3<this.focusNode.value.length?this._startSearch(this.focusNode.value):M.debug("NO",this.focusNode.value)}},this.guestListNode);this.printBadgesButton=new y({"class":"editButton",label:N.lblPrintBadgesButton,iconClass:"editButtonIcon",disabled:!0,onClick:a.hitch(this,function(){var a,d=[],e=N.msgPrintBadgeDialogQuestion[this.recipientsCategoryWidget.value];
this.pageFormatWidget.isValid()&&-1!=this.pageFormatWidget.get("value")?(d.push(this.pageFormatWidget.get("value")),d.push(this.pageFormatWidget.orientation)):(d.push(null),d.push(null));"SINGOLO"==this.recipientsCategoryWidget.value?(a=this.personeStore.get(this.guestSelectionWidget.value),e=b.substitute(e,{guest:a.nome+" "+a.cognome}),a=this.parentWidget.generaBadge,d.push(this.guestSelectionWidget.value)):(a=this.parentWidget.generaBadges,d.push(this.recipientsCategoryWidget.value),d.push(!this.ignorePrintedChk.get("checked")),
d.push(this.avoidPrintedAtHomeChk.get("checked")),d.push(this.categorySelectionWidget?this.categorySelectionWidget.value:null));d.push(this.printBordersChk.get("checked"));v.setUpConfirmDialog(N.lblPrintBadgeDialogTitle,e,this.parentWidget,a,null,d);v.showConfirm()})},this.printBadgesNode);this.categorySelectionWidget=new p({labelAttr:"label",required:!1,queryOptions:{sort:[{attribute:"idx"},{attribute:"label"}]},sortByLabel:!1,onChange:a.hitch(this,function(a){M.trace("categorySelectionWidget",this.categorySelectionWidget.value);
this.printBadgesButton.set("disabled",!this.canPrint())})},this.guestCategorySelectionNode);this.recipientsCategoriesStore=new w({idProperty:"categoria",data:n.map(I.commons.data.badgeRecipientsCategories,function(a,d){return{idx:d,categoria:a,label:N.lblsBadgeRecipientsCategory[a]}})});this.recipientsCategoriesStore.put({idx:-1,categoria:null,label:N.lblBadgeWillBePrintedFor});this.recipientsCategoryWidget=new p({store:this.recipientsCategoriesStore,labelAttr:"label",queryOptions:{sort:[{attribute:"idx"}]},
sortByLabel:!1,value:-1,required:!1,onChange:a.hitch(this,function(a){M.debug("recipientsCategoryWidget",a);"SINGOLO"==this.recipientsCategoryWidget.get("value")?(h.set(this.otherOptionsNode,"display","none"),h.set(this.ignorePrintedNode,"display","none"),h.set(this.avoidPrintedAtHomeNode,"display","none"),h.set(this.indicatorContainerNode,"display","none"),h.set(this.guestCategoryContainerNode,"display","none"),h.set(this.guestListContainerNode,"display","block"),this.printBadgesButton.set("disabled",
!0),this.lblLastPrintDateNode.innerHTML="",this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1),this.guestSelectionWidget.set("disabled",!1),this.guestSelectionWidget.set("required",!0),this.guestSelectionWidget.reset(),this.guestSelectionWidget.focus()):"VUOTO"==this.recipientsCategoryWidget.get("value")?(h.set(this.otherOptionsNode,"display","none"),h.set(this.ignorePrintedNode,"display","none"),h.set(this.avoidPrintedAtHomeNode,"display","none"),h.set(this.indicatorContainerNode,
"display","none"),h.set(this.guestListContainerNode,"display","none"),h.set(this.guestCategoryContainerNode,"display","none"),this.lblLastPrintDateNode.innerHTML="",this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1),this.printBadgesButton.set("disabled",!this.canPrint()),this.stato.get("guestCategoryShowColor")&&I.evento.stato.badges.guest_categories&&1<I.evento.stato.badges.guest_categories.length?h.set(this.guestCategoryContainerNode,"display","block"):(h.set(this.guestCategoryContainerNode,
"display","none"),this.stato.get("guestCategoryShowColor")&&I.evento.stato.badges.guest_categories&&1==I.evento.stato.badges.guest_categories.length&&this.categorySelectionWidget.set("value",I.evento.stato.badges.guest_categories[0].idGuestCategory)),this.guestSelectionWidget.set("disabled",!0),this.guestSelectionWidget.set("required",!1),this.guestSelectionWidget.reset()):this.recipientsCategoryWidget.get("value")?(h.set(this.otherOptionsNode,"display","none"),h.set(this.ignorePrintedNode,"display",
"none"),h.set(this.avoidPrintedAtHomeNode,"display","none"),h.set(this.indicatorContainerNode,"display","none"),this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1),this.avoidPrintedAtHomeChk.set("checked",!1,!1),h.set(this.guestListContainerNode,"display","none"),h.set(this.guestCategoryContainerNode,"display","none"),this.guestSelectionWidget.set("disabled",!0),this.guestSelectionWidget.set("required",!1),this.guestSelectionWidget.reset(),this.aggiornaIndicatore()):
(h.set(this.otherOptionsNode,"display","none"),h.set(this.ignorePrintedNode,"display","none"),h.set(this.avoidPrintedAtHomeNode,"display","none"),h.set(this.indicatorContainerNode,"display","none"),h.set(this.guestListContainerNode,"display","none"),h.set(this.guestCategoryContainerNode,"display","none"),this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1),this.printBadgesButton.set("disabled",!0),this.lblLastPrintDateNode.innerHTML="",this.guestSelectionWidget.set("disabled",
!0),this.guestSelectionWidget.set("required",!1),this.guestSelectionWidget.reset())})},this.categorySelectionNode);this.ignorePrintedChk=new x({value:"all",required:!1,onChange:a.hitch(this,function(a){M.debug("checkBox ignorePrinted onchange ",a);this.indicatorNode.innerHTML=a?this.totBadges+"/"+this.totBadges:this.numBadges+"/"+this.totBadges;this.printBadgesButton.set("disabled",!this.canPrint())})},this.ignorePrinted);this.ignorePrintedTooltip||(this.ignorePrintedTooltip=new t({label:N.lblIgnorePrintedTooltip,
connectId:[this.ignorePrintedTooltipNode]}));this.avoidPrintedAtHomeChk=new x({value:"athome",required:!1,onChange:a.hitch(this,function(a){M.debug("checkBox avoidPrintedAtHome onchange ",a);this.indicatorNode.innerHTML=a?this.totBadges+"/"+this.totBadges:this.numBadges+"/"+this.totBadges;this.printBadgesButton.set("disabled",!this.canPrint())})},this.avoidPrintedAtHome);this.avoidPrintedAtHomeTooltip||(this.avoidPrintedAtHomeTooltip=new t({label:N.lblAvoidPrintedAtHomeTooltip,connectId:[this.avoidPrintedAtHomeTooltipNode]}));
var d=this,e=this.pageFormatWidget=new p({orientation:null,bf:null,printFormats:{},_setBfAttr:function(a){this.bf=a;var d=this.printFormats={};a&&a.printFormats&&n.forEach(a.printFormats.split(","),function(a){a=a.split("|");d[a[0]]=a[1]})},store:new w({data:[],idProperty:"id",getLabel:function(a){var d=a.name;N.paper&&N.paper.select&&a.labelKey&&(d=N.paper.select[a.labelKey]||a.name);return d}}),query:function(a){var d=-1==a.id||a.paper&&!!e.printFormats&&!!e.printFormats[a.id];delete a._orientation;
d&&-1!=a.id&&(a._orientation=e.printFormats[a.id]);return d},sortByLabel:!1,labelAttr:"label",required:!0,onChange:function(a){this.orientation=null;-1==a?d.printBadgesButton.set("disabled",!0):(d.printBadgesButton.set("disabled",!d.canPrint()),a=this.store.get(a),this.orientation=a._orientation||(a.portrait?"P":"L"),d.printBordersChk.set("checked",!1),a.width==this.bf.width&&a.height==this.bf.height||a.width==this.bf.height&&a.height==this.bf.width?h.set(d.bordersSelectionNode,"display","none"):
h.set(d.bordersSelectionNode,"display",null))}},this.paperSelectionNode);this.printBordersChk=new x({value:"borders",required:!1},this.bordersNode)},canPrint:function(){var a=!0;this.recipientsCategoryWidget.isValid()?!this.ignorePrintedChk.get("required")||this.ignorePrintedChk.get("checked")||0<this.numBadges?this.guestSelectionWidget.isValid()?this.pageFormatWidget.isValid()&&-1!=this.pageFormatWidget.get("value")?this.numBadges||this.totBadges||this.guestSelectionWidget.get("required")&&this.guestSelectionWidget.isValid()||
(M.debug("no","n badge",this.numBadges,this.totBadges),a=!1):(M.debug("no","pageFormatWidget"),a=!1):(M.debug("no","guestSelectionWidget"),a=!1):(M.debug("no","ignorePrintedChk"),a=!1):(M.debug("no","recipientsCategoryWidget"),a=!1);a&&M.debug("ok",this.numBadges,this.totBadges,Error().stack);return a},aggiornaUI:function(){M.debug("aggiornaUI");"SINGOLO"==this.recipientsCategoryWidget.get("value")?h.set(this.guestListContainerNode,"display","block"):h.set(this.guestListContainerNode,"display","none")},
aggiornaIndicatore:function(){M.debug("aggiornaIndicatore",this.recipientsCategoryWidget.get("value"));this.numBadges=1;this.lblLastPrintDateNode.innerHTML="";if("SINGOLO"!=this.recipientsCategoryWidget.get("value")&&"VUOTO"!=this.recipientsCategoryWidget.get("value")&&this.recipientsCategoryWidget.get("value"))if(this.stato.get("id")&&0!=this.stato.get("id")){var f={idBadge:this.stato.get("id"),categoria:this.recipientsCategoryWidget.get("value")||"INVITATI"};e.post("/getGuestNumForBadge.plp",{data:f,
handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){this.numBadges=a.numeratore;this.totBadges=a.denominatore;this.indicatorNode.innerHTML=this.numBadges+"/"+this.totBadges;0<this.totBadges&&this.totBadges>this.numBadges?(a.timestamp&&(this.lblLastPrintDateNode.innerHTML=b.substitute(N.lblLastPrintDate,{date:k.format(new Date(a.timestamp))})),h.set(this.ignorePrintedNode,"display","inline"),this.ignorePrintedChk.set("required",!0)):(this.lblLastPrintDateNode.innerHTML=
"",h.set(this.ignorePrintedNode,"display","none"),this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1));"INVITATI"==this.recipientsCategoryWidget.get("value")?this.parentWidget.stato.get("nrInvitatiStampatiAtHome")&&0<this.parentWidget.stato.get("nrInvitatiStampatiAtHome")&&h.set(this.avoidPrintedAtHomeNode,"display","block"):"ISCRITTI"==this.recipientsCategoryWidget.get("value")&&this.parentWidget.stato.get("nrRegistratiStampatiAtHome")&&0<this.parentWidget.stato.get("nrRegistratiStampatiAtHome")&&
h.set(this.avoidPrintedAtHomeNode,"display","block");h.set(this.otherOptionsNode,"display","block");h.set(this.indicatorContainerNode,"display","block");this.printBadgesButton.set("disabled",!this.canPrint())}),a.hitch(this,function(){v.showInfoWithCloseButton(L.msgErroreServer,d.footerInc.lblErrorMsgDialogTitle,L.lblOKButton)}))}else h.set(this.avoidPrintedAtHomeNode,"display","none"),"INVITATI"==this.recipientsCategoryWidget.get("value")?(this.indicatorNode.innerHTML=I.evento.statoCalcolato.numInvitati+
"/"+I.evento.statoCalcolato.numInvitati,this.totBadges=this.numBadges=I.evento.statoCalcolato.numInvitati,this.lblLastPrintDateNode.innerHTML="",h.set(this.ignorePrintedNode,"display","none"),h.set(this.otherOptionsNode,"display","block"),this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1)):"ISCRITTI"==this.recipientsCategoryWidget.get("value")&&(this.indicatorNode.innerHTML=I.evento.statoCalcolato.numIscritti+"/"+I.evento.statoCalcolato.numIscritti,this.totBadges=
this.numBadges=I.evento.statoCalcolato.numIscritti,this.lblLastPrintDateNode.innerHTML="",h.set(this.ignorePrintedNode,"display","none"),h.set(this.otherOptionsNode,"display","block"),this.ignorePrintedChk.set("checked",!1,!1),this.ignorePrintedChk.set("required",!1)),this.printBadgesButton.set("disabled",!this.canPrint())},validate:function(){return this.recipientsCategoryWidget.validate()},reset:function(){this.ignorePrintedChk.set("checked",!1);this.ignorePrintedChk.set("requred",!1);this.guestSelectionWidget.set("required",
!1);this.guestSelectionWidget.reset();h.set(this.bordersSelectionNode,"display","none");this.printBordersChk.set("checked",!1);var a=new w({idProperty:"id",data:n.map(I.evento.stato.badges.guest_categories,function(a,d){var b,e;a.customField?a.valoreLista?(b=a.valoreLista.label,e=2):(b=N.lblUndefinedCategoryValue,e=1):(b=N.lblFlatCategoryValue,e=0);return{idx:e,id:a.idGuestCategory,label:b}})});this.categorySelectionWidget.setStore(a);a&&0<a.length&&this.categorySelectionWidget.set("value",a[0].id);
this.recipientsCategoryWidget.set("value",-1);I.evento.stato.badges.pageSizes;this.pageFormatWidget.get("store").setData([{id:-1,name:"",labelKey:"lblSelectPDFFormat"}].concat(I.evento.stato.badges.pageSizes));a=this.pageFormatWidget.store.get(this.parentWidget.stato.get("pageFormatId"));this.pageFormatWidget.set("bf",a);this.pageFormatWidget.set("queryOptions",{});this.pageFormatWidget.set("value",-1)},getMatchinPage:function(a){M.group("getMatchinPage");M.debug("args",arguments);var d=null;try{if(a){var b=
this.pageFormatWidget.store.query(function(d){var b=!1;d.height==a.height&&d.width==a.width?b=!0:d.height==a.width&&d.width==a.height&&(b=!0);b=b&&d.paper;M.debug(d.name,b,d.height,a.width,d.width,a.height);return b});M.debug("pf",b);b&&1==b.total&&(d=b[0].id)}}catch(K){console.log(K)}finally{M.groupEnd()}return d},onClose:function(){M.debug("onClose");this.guestSelectionWidget.set("disabled",!0);this.guestSelectionWidget.reset()},onOpen:function(){M.debug("onOpen");null==this.parentWidget.previewOK||
this.parentWidget.previewOK?(this.stato=this.parentWidget.stato,h.set(this.avoidPrintedAtHomeNode,"display","none"),this.avoidPrintedAtHomeChk.set("checked",!1,!1),this.reset()):v.showInfoWithCloseButton(N.msgcheckPreview,d.footerInc.lblWarningMsgDialogTitle,L.lblOKButton)},setOpener:function(a){M.debug("setOpener",a);this.opener=a},onExecute:function(){}})})},"ebPlatformWidgets/integration/pardot/pardot":function(){define(["dojo/_base/lang","dojo/store/Memory"],function(q,a){return{fields:[{context:"Pardot",
id:"id",label:"Pardot ID for this prospect",system:!0},{context:"Pardot",id:"campaign_id",label:"Pardot ID of the campaign associated with this prospect",type:"Testo libero",mappable:!0},{context:"Pardot",id:"salutation",label:"Prospect's formal prefix",type:"Testo libero",mappable:!0},{context:"Pardot",id:"first_name",label:"Prospect's first name",mapped:"nome"},{context:"Pardot",id:"last_name",label:"Prospect's last name",mapped:"cognome"},{context:"Pardot",id:"email",label:"Prospect's email address",
type:"Email",mappable:!0,mapped:"email"},{context:"Pardot",id:"company",label:"Prospect's company",type:"Testo libero",mappable:!0},{context:"Pardot",id:"prospect_account_id",label:"Prospect's account ID",type:"Testo libero",mappable:!0},{context:"Pardot",id:"website",label:"Prospect's website URL",type:"Testo libero",mappable:!0},{context:"Pardot",id:"job_title",label:"Prospect's job title",type:"Testo libero",mappable:!0},{context:"Pardot",id:"department",label:"Prospect's department",type:"Testo libero",
mappable:!0},{context:"Pardot",id:"country",label:"Prospect's country",type:"Lista",list:"nazioni",mappable:!0},{context:"Pardot",id:"address_one",label:"Prospect's address, line 1",type:"Testo libero",mappable:!0},{context:"Pardot",id:"address_two",label:"Prospect's address, line 2",type:"Testo libero",mappable:!0},{context:"Pardot",id:"city",label:"Prospect's city",type:"Testo libero",mappable:!0},{context:"Pardot",id:"state",label:"Prospect's US state",type:"Testo libero",mappable:!0},{context:"Pardot",
id:"territory",label:"Prospect's territory",type:"Testo libero",mappable:!0},{context:"Pardot",id:"zip",label:"Prospect's postal code",type:"Testo libero",mappable:!0},{context:"Pardot",id:"phone",label:"Prospect's phone number",type:"Testo libero",mappable:!0},{context:"Pardot",id:"fax",label:"Prospect's fax number",type:"Testo libero",mappable:!0},{context:"Pardot",id:"source",label:"Prospect's source",type:"Testo libero",mappable:!0},{context:"Pardot",id:"annual_revenue",label:"Prospect's annual revenue",
type:"Testo libero",mappable:!0},{context:"Pardot",id:"employees",label:"Prospect's number of employees",type:"Testo libero",mappable:!0},{context:"Pardot",id:"industry",label:"Prospect's industry",type:"Testo libero",mappable:!0},{context:"Pardot",id:"years_in_business",label:"Prospect's number of years in business",type:"Testo libero",mappable:!0},{context:"Pardot",id:"comments",label:"Comments about this prospect",type:"Testo libero",mappable:!0},{context:"Pardot",id:"notes",label:"Notes about this prospect",
type:"Testo libero",mappable:!0},{context:"Pardot",id:"score",label:"Prospect's score",type:"Testo libero",mappable:!0},{context:"Pardot",id:"grade",label:"Prospect's letter grade",type:"Testo libero",mappable:!0},{context:"Pardot",id:"last_activity_at",label:"Time stamp of this prospect's latest visitor activity",type:"Testo libero",mappable:!1},{context:"Pardot",id:"recent_interaction",label:"Describes the prospect's most recent interaction with Pardot",type:"Testo libero",mappable:!0},{context:"Pardot",
id:"crm_lead_fid",label:"Prospect's lead ID in a supported CRM system",type:"Testo libero",mappable:!0},{context:"Pardot",id:"crm_contact_fid",label:"Prospect's contact ID in a supported CRM system",mappable:!0},{context:"Pardot",id:"crm_owner_fid",label:"Prospect's owner ID in a supported CRM system",type:"Testo libero",mappable:!0},{context:"Pardot",id:"crm_account_fid",label:"Account ID in a supported CRM system",type:"Testo libero",mappable:!0},{context:"Pardot",id:"crm_last_sync",label:"Last time this prospect was synced with a supported CRM system",
mappable:!1},{context:"Pardot",id:"crm_url",label:"URL to view the prospect within the CRM system",type:"Testo libero",mappable:!0},{context:"Pardot",id:"is_do_not_email",label:"If value is 1, prospect prefers not to be emailed",type:"Lista",list:"truefalse",mappable:!0},{context:"Pardot",id:"is_do_not_call",label:"If value is 1, prospect prefers not to be called",type:"Lista",list:"truefalse",mappable:!0},{context:"Pardot",id:"opted_out",label:"If value is 1, prospect has opted out of marketing communications",
type:"Lista",list:"truefalse",mappable:!0},{context:"Pardot",id:"is_reviewed",label:"If value is 1, prospect has been reviewed",type:"Lista",list:"truefalse",mappable:!0},{context:"Pardot",id:"is_starred",label:"If value is 1, prospect has been starred",type:"Lista",list:"truefalse",mappable:!0},{context:"Pardot",id:"created_at",label:"Time prospect was created in Pardot",system:!0},{context:"Pardot",id:"updated_at",label:"Last time prospect was updated in Pardot",system:!0}]}})},"ebPlatformWidgets/Evento/Guests/AddFieldDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/on dojo/store/Memory dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/text!./templates/AddFieldDialogContentWidget.html dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/FilteringSelect dijit/form/ValidationTextBox dijit/form/Button dgrid/OnDemandGrid dgrid/editor ebPlatform/stato ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/utility ./ManageListValuesDialogWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S){return q([u,w],{mouseAnim:null,templateString:r,baseClass:"addFieldDialogContentWidget",parentWidget:null,stato:null,field:{},fieldName:null,fieldType:null,fieldInsertAfter:null,manageListValuesDialogWidget:null,listOptionsBtn:null,gridWidget:null,okBtnWidget:null,cancelBtnWidget:null,messages:S,commonMessages:M,languages:null,tipoStore:null,tabIndexBase:2E3,postCreate:function(){this.inherited(arguments);this.formWidget=new D({},this.formNode);
this.fieldName=new x({tabIndex:this.tabIndexBase+1,required:!0,style:"width: 280px;",regExp:"^[\\w\u00c0-\u00ff\u0100-\u017f\u0400-\u04ff\\d\\_\\-\\s\\+\\(\\)\x3c\x3e#\"\u20ac\u00a3$%\x26\x3d?'\u00b0*@,.]{1,50}$",invalidMessage:S.lblManageFieldsNamePresent,isValid:function(a){var d="Error"!=this.get("state");a||(d=this.validator(this.textbox.value,this.get("constraints")));return d},validator:function(a,d){C.debug("constraints",d,a);var b=x.prototype.validator.call(this,a,d);b&&d&&d.namesUsed&&d.namesUsed[a.toLowerCase()]&&
(b=!1);return b},onChange:a.hitch(this,function(a){this.field.fieldName=a;this.field.origName=a;for(var d in this.gridWidget.get("store").index){var b=this.gridWidget.row(d);b.data.label||(b.data.label=a,this.field["label_"+b.data.lingua.idLingua]=a)}this.gridWidget.refresh()})},this.fieldNameNode);var d=this;ft=this.fieldType=new y({tabIndex:this.tabIndexBase+2,required:!0,searchAttr:"label",style:"width: 280px;",value:"Testo libero",onChange:a.hitch(this,function(a){"Lista"==a||"ListaMulti"==a?
(d.field.tipo="Lista","ListaMulti"==a?(d.field.mappaParametri.multiple=!0,delete d.field.mappaParametri.render):d.field.mappaParametri.multiple=!1,d.field.listaCustom=!0,h.set(this.listOptionsBtn.domNode,"display","inline-block")):(d.field.mappaParametri&&delete d.field.mappaParametri.multiple,d.field.tipo=a,delete d.field.listaCustom,h.set(this.listOptionsBtn.domNode,"display","none"),"Email"==a?(this.fieldName.set("value","Email"),this.fieldName.set("readonly",!0)):(this.fieldName.set("readonly",
!1),"Email"==d.field.tipo&&this.fieldName.reset()))})},this.fieldTypeNode);this.manageListValuesDialogWidget=new E({title:S.lblManageFieldsPopupAddItemsTip,style:"width:640px;"});this.listOptionsBtn=z({tabIndex:this.tabIndexBase+3,label:"\x26nbsp;o","class":"labelsListaBtn",onClick:a.hitch(this,function(){this.manageListValuesDialogWidget.show({campoLista:this.field})})},this.listOptionsBtnNode);this.gridWidget=new B({store:new e({idProperty:"idLingua"}),rowsPerPage:20,columns:[],sort:"valore"},this.gridNode);
this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(a){this.parentWidget.resize()}));this.gridWidget.on("dgrid-datachange",a.hitch(this,function(a){this.field["label_"+a.cell.row.data.lingua.idLingua]=a.value}));var b=this.tabIndexBase+4;n.after(this.gridWidget,"renderRow",function(a,d){m(".dgrid-input",a).forEach(function(a){f.set(a,"tabindex",++b)});return a});this.okBtnWidget=new z({tabIndex:this.tabIndexBase+100,label:M.lblOKButton,onClick:a.hitch(this,function(){this.validate()&&
(this.parentWidget.parentWidget.aggiungiCampo(this.field,this.fieldInsertAfter.get("value")),this.parentWidget.hide())})},this.okBtnNode);this.cancelBtnWidget=new z({tabIndex:this.tabIndexBase+101,label:M.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.fieldInsertAfter=new y({tabIndex:this.tabIndexBase+4,style:"width: 280px;",store:new e({idProperty:"nextId",data:[]}),value:0,searchAttr:"label"},this.fieldListNode)},reset:function(d,b,e){this.formWidget.reset();
this.field={fieldName:"",idCustomField:-1*d,indiceCustomField:0,indiceIdValore:0,origName:null,labels:[],valoriLista:[],tipo:"Testo libero",mappaParametri:{},valoriDuplicati:!1,nuovo:!0,modificato:!1};var f={namesUsed:{}},v=!1,m=Math.random(),p=null;this.fieldInsertAfter.get("store").setData(k.map(b.slice(1),function(a,d){p&&(p.nextId=a.idCustomField);a.origName&&(f.namesUsed[a.origName.toLowerCase()]=!0);v=v||"Email"==a.tipo;var b={nextId:m,label:a["label_"+G.commons.data.beLanguage]||a["label_"+
G.evento.stato.event_details.languages[0].idLingua]||a.fieldLabel||a.origName};return p=b}));this.fieldType.set("store",e);this.fieldType.set("value",this.field.tipo);G.evento.statoCalcolato.listaInvitatiCaricata||v?this.fieldType.set("query",a.mixin(this.fieldType.get("query"),{email:!1})):this.fieldType.get("query")&&delete this.fieldType.get("query").email;this.fieldInsertAfter.set("value",m);this.fieldName.set("constraints",f);this.fieldName.set("readonly",!1);h.set(this.listOptionsBtn.domNode,
"display","none");d=[];G.evento.stato.event_details.languages&&1<G.evento.stato.event_details.languages.length&&d.push({id:"lingua",label:M.lblLingua,field:"lingua",className:"",get:function(a){return G.getLinguaById(a.lingua.idLingua).iso639_1.toUpperCase()}});d.push(new t({id:"label",label:S.lblManageFieldsGridLabel,field:"label",autoSave:!0,editorArgs:{required:!0}},x));this.gridWidget.get("store").setData(k.map(G.evento.stato.event_details.languages,function(a){return{idLingua:a.idLingua,lingua:a,
label:""}}));this.gridWidget.set("columns",d)},validate:function(){return this.formWidget.validate()}})})},"ebPlatformWidgets/integration/pardot/MapFieldDialogWidget":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Dialog","ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin","./MapFieldDialogContentWidget"],function(q,a,k,n,l){return q([k,n],{baseClass:"pardot mapFieldDialogWidget",mainWidget:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new l({parentWidget:this});
this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset(a.config,a.callback)}})})},"ebPlatformWidgets/Evento/EventDetails/AdditionalInfoDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-style dojo/dom-construct dojo/request dijit/_WidgetBase dijit/form/Button dijit/form/CheckBox ebPlatform/logger! ebPlatform/stato ebPlatformWidgets/Dialogs/CustomizedI18nDialogWidget dijit/layout/ContentPane dojo/i18n dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventDetailsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([f],{dialogWidget:null,testoWidget:null,okBtn:null,nonMostrareCheckbox:null,postCreate:function(){this.dialogWidget=new u({title:x.footerInc.lblInfoMsgDialogTitle});this.testoWidget=new w({content:z.msgEventDetailsAdditionalinfo});this.dialogWidget.addChild(this.testoWidget);n.set(this.dialogWidget.closeButtonNode,"display","none");var e=new w({}),f=l.create("div",{"class":"buttonsContainer"},e.containerNode),f=l.create("div",{},f),k=l.create("div",
{},this.testoWidget.containerNode),m=l.create("input",{},k);l.create("label",{style:{"float":"none",position:"relative",top:"5px"},innerHTML:y.lblNonMostrarePiu},k);this.nonMostrareCheckbox=new b({checked:!1},m);this.okBtn=h({label:y.lblOKButton,onClick:a.hitch(this,function(){this.dialogWidget.hide().then(a.hitch(this,function(){this.nonMostrareCheckbox.get("checked")&&this.setShowInfoEventDetailsFalse()}))})},f);this.dialogWidget.addChild(e)},show:function(){this.dialogWidget.show()},setShowInfoEventDetailsFalse:function(){this.parentWidget.showSavedDialog=
!0;e.post("/setNonMostrareInfoEventDetails.plp",{data:{idCliente:m.evento.stato.idCliente},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?m.commons.data.customerDefaults.mostrainfoeventdetails=!1:r.error(a.msg)}),a.hitch(this,function(a){r.error(a)}))}})})},"ebPlatformWidgets/Evento/Checkin/CheckinGuestListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/cookie dojo/Deferred dojo/request dojo/on dojo/topic dojo/keys dojo/dom-construct dojo/dom-style dojo/dom-class dojo/date dojo/date/locale dojo/mouse dojo/text!./templates/CheckinGuestListWidget.html ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ebPlatform/utility ebPlatformWidgets/Evento/Guests/_ListWidgetMixin dijit/form/ToggleButton dijit/_WidgetBase dijit/_TemplatedMixin dijit/focus dijit/form/Button dijit/Tooltip put-selector/put ./ManageCheckinAccompagnatoriWidget ./ScannerConfgurationDialogWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget dojo/i18n!./nls/CheckinWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T){return q([E,v,p],{mouseAnim:null,templateString:z,baseClass:"checkinGuestListWidget",parentWidget:null,idEvento:t.evento.stato.idEvento,idFascia:null,idFasciaQuery:null,totLista:0,disableDownloadButtons:!0,gotoPage:null,aimMode:!1,directMode:!1,doCheckin:!1,btnCheckInOut:null,manageAccompagnatoriCheckinWidget:null,scannerConfgurationDialogWidget:null,toggleScanButton:null,scannerConfigurationButton:null,messages:T,commonMessages:J,
tmpScanResult:"",lastEventTime:null,listener:null,listenerEsitoRicerca:null,scanStatus:null,AIM_ID_CODE_CHARS:"NzFHCAXGedCEIUQLMPS".split(""),_setIdFasciaAttr:function(a){this.idFascia=a;this.manageAccompagnatoriCheckinWidget.idFascia=a},postCreate:function(){this.gruppoDefault="ISCRIZIONE";this.downloadLinkPath="downloadListaInvitati.plp";this.inherited(arguments);this.aggiornaVisibilitaLista();this.initList();this.manageAccompagnatoriCheckinWidget=new N({idFascia:this.idFascia,onCheckInOut:a.hitch(this,
this.refreshList,!0)});this.scannerConfgurationDialogWidget=new aa({title:T.lblConfigureScannerTitle,parentWidget:this});this.toggleScanButton=new I({iconClass:"scanner",label:"label",caption:"caption",onChange:a.hitch(this,function(a){a?(this.startListen(),this.toggleScanButton.focusNode.blur()):this.stopListen()})},this.toggleScanBtnNode);this.scannerConfigurationButton=new S({iconClass:"fa fa-cog",showLabel:!1,caption:"caption",onClick:a.hitch(this,function(){this.scannerConfgurationDialogWidget.show()})},
this.scannerConfigurationBtnNode)},startListen:function(){B.debug("barcodeScanListener","start listening");this.inherited(arguments);t.commons.config.checkinScanType?"AIM"==t.commons.config.checkinScanType?this.aimMode=!0:"PLAIN"==t.commons.config.checkinScanType&&(this.aimMode=!1):this.aimMode=!1;this.tmpScanResult="";this.lastEventTime=null;this.listener&&this.listener.remove();this.listenerEsitoRicerca&&this.listenerEsitoRicerca.remove();this.listener=h(document,"keypress",a.hitch(this,this.barcodeScanListener));
this.listenerEsitoRicerca=this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(a){if(a.grid.query.idext)if(!a.results||!a.results.results||!a.results.results[0]||0==a.results.results[0].length)G.showInfoWithCloseButton(T.msgCodiceNonTrovato,F.footerInc.lblWarningMsgDialogTitle,J.lblOKButton);else if(this.doCheckin&&1==a.results.results[0].length&&this.btnCheckInOut&&this.btnCheckInOut.checkIn)this.btnCheckInOut.onClick();this.doCheckin=!1;this.btnCheckInOut=null}))},stopListen:function(){B.debug("barcodeScanListener",
"stop listening");this.inherited(arguments);this.listener&&this.listener.remove();this.listenerEsitoRicerca&&this.listenerEsitoRicerca.remove()},initList:function(){this.initCommonStores();this.initCommonSubWidgets({gruppo:this.gruppoDefault});this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(d){d.results.total.then(a.hitch(this,function(a){this.totLista=a;0!=a||t.evento.statoCalcolato.tracciatoEventoDefinito?a&&u.set(this.listContainerNode,"display","block"):u.set(this.listContainerNode,
"display","none");this.gotoPage&&(this.gridWidget.gotoPage(this.gotoPage),this.gotoPage=null)}))}));this.inserisciAnagraficaBtn=this.getInserisciAnagraficaBtn();h(this.inserisciAnagraficaBtn.domNode,x.leave,function(){d.hide(this)});h(this.inserisciAnagraficaBtn.domNode,x.enter,function(){d.show(T.lblAggiungiAnagrafica,this)});b.subscribe("BoxAnagrafica.Insert",a.hitch(this,function(a){}))},aggiornaUI:function(){this.inherited(arguments);this.aggiornaVisibilitaLista(C.elvis("tracciatoEventoDefinito",
t.evento.statoCalcolato,!1));this.refreshList();this.searchResetBtn&&this.searchResetBtn.focusNode.blur();this.searchTextBox&&this.searchTextBox.focusNode.blur();this.refreshBtn&&this.refreshBtn.focusNode.blur();this.scannerConfigurationButton&&this.scannerConfigurationButton.focusNode.blur();this.parentWidget&&(this.parentWidget.registratiBtnWidget&&this.parentWidget.registratiBtnWidget.focusNode.blur(),this.parentWidget.entratiBtnWidget&&this.parentWidget.entratiBtnWidget.focusNode.blur(),this.parentWidget.masterBtnWidget&&
this.parentWidget.masterBtnWidget.focusNode.blur());this.directMode="direct"==l(t.evento.stato.idEvento+".checkinMode");B.debug("checkinMode",l(t.evento.stato.idEvento+".checkinMode"),this.directMode)},refreshList:function(d){this.doCheckin=!1;this.btnCheckInOut=null;this.gridWidget.store=null;this.gridWidget.revert();d||(this.gridWidget.query=a.mixin(this.gridWidget.query,{idEvento:t.evento.stato.idEvento,idFascia:this.idFasciaQuery,idFasciaSort:this.idFascia,gruppo:this.gruppoDefault,statoEmail:"TUTTI",
conFigli:"a",accompagnatori:!t.evento.statoCalcolato.campoNumeroAccompagnatoriDefinito,chiave:void 0}),this.searchTextBox.set("value",null,!1));this.gridWidget.set("sort",[{attribute:"checkinTs",descending:!0}]);t.evento.statoCalcolato.tracciatoEventoDefinito?(B.debug("VISUALIZZO LISTA"),u.set(this.visualizzaListaNode,"display","block"),u.set(this.noListWarningNode,"display","none")):(u.set(this.visualizzaListaNode,"display","none"),u.set(this.noListWarningNode,"display","block"));this.refreshGridColumns(!0);
this.gridWidget.store=this.personeStore},getFasciaEntrato:function(d){var b=null;k.forEach(d.eventiPersona,a.hitch(this,function(a){"PARTECIPAZIONE"==a.evento&&a.fasciaOraria.idFasciaOraria==this.idFascia&&(b=a.fasciaOraria,b.dataPartecipazione=a.dataEvento)}));return b},getInserimento:function(d){var b="";k.forEach(d.eventiPersona,a.hitch(this,function(a){0==a.evento.indexOf("INSERIMENTO")&&(b=a.evento)}));return b},customizeGridColumns:function(b,e,v){e=a.hitch(this,function(d,b,e){b=e.appendChild(document.createElement("div"));
e=b.appendChild(document.createElement("div"));w.add(b,"btnTableContainer");var A=!this.getFasciaEntrato(d),f=new S({rowId:d.id,"class":A?"btnCheckIn":"btnCheckOut",label:A?T.lblCheckIn:T.lblCheckOut,title:A?T.lblCheckIn:T.lblCheckOut,onClick:a.hitch(this,function(){d.numeroFigli&&0<d.numeroFigli?(G.setUpConfirmDialog(A?T.lblCheckInAccompagatori:T.lblCheckOutAccompagatori,A?T.msgCheckInAccompagatori:T.msgCheckOutAccompagatori,this,function(){this.eseguiCheckInOut(d.idPersona,this.idFascia,A?"in":
"out",f,!0)},function(){this.eseguiCheckInOut(d.idPersona,this.idFascia,A?"in":"out",f,!1)},null,!0),G.showConfirm()):this.eseguiCheckInOut(d.idPersona,this.idFascia,A?"in":"out",f,!1)}),checkIn:A},e);f._destroyOnRemove=!0;this.btnCheckInOut=f;return b});var p=a.hitch(this,function(a,d,b){d=b.appendChild(document.createElement("div"));a=this.getFasciaEntrato(a);checkIn=!a;a&&(d.innerHTML=y.format(new Date(a.dataPartecipazione),{}));return d}),r=null;k.forEach(v,function(a){"Numero accompagnatori"==
a.tipo&&(r=a)});v=a.hitch(this,function(b,e,k){e=k.appendChild(m.create("div",{"class":"infoAccompagnatori"+(b.numeroFigli==b.numeroFigliCheckedIn?" allCheckedIn":"")}));if(!b.idUniqueGuestPadre&&b.numeroFigli){var A=e.appendChild(m.create("div",{style:"background:url(/img/"+(b.numeroFigli==b.numeroFigliCheckedIn?"btnPeopleNumVerde.png":"btnPeopleNum.png")+");"}));A.appendChild(m.create("span",{innerHTML:b.numeroFigli}));h(A,"click",a.hitch(this,function(){this.manageAccompagnatoriCheckinWidget.manageAccompagnatoriCheckinFor(b.idPersona,
b.nome,b.cognome)}));h(e,x.leave,function(){d.hide(this)});h(e,x.enter,function(){d.show(T.lblAccompagnatori,this)})}e=L(k,"div.aggiungiTogliAccompagnatori");if(r){var O=L(e,"i.fa.fa-plus-square[aria-hidden\x3dtrue]");h(O,"click",a.hitch(this,function(){f.post("/aggiungiAccompagnatore.plp",{data:{idPersona:b.idPersona},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==a.resultCode?(d.hide(O),this.gotoPage=this.gridWidget._currentPage,
this.refreshList(!0)):G.showInfoWithCloseButton(J.msgErroreServer,F.footerInc.lblErrorMsgDialogTitle,J.lblOKButton)}),a.hitch(this,function(a){G.showInfoWithCloseButton(J.msgErroreServer,F.footerInc.lblErrorMsgDialogTitle,J.lblOKButton)}))}));h(O,x.leave,function(){d.hide(this)});h(O,x.enter,function(){d.show(T.lblAggiungiAccompagnatore,this)});k=this.getFasciaEntrato(b);!b.numeroFigli||k||b.numeroFigliCheckedIn?w.add(e,"soloAggiungi"):(togliAccompagnatoreBtn=L(e,"i.fa.fa-minus-square[aria-hidden\x3dtrue]"),
h(togliAccompagnatoreBtn,"click",a.hitch(this,function(){f.post("/rimuoviAccompagnatore.plp",{data:{idPersona:b.idPersona},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==a.resultCode?(d.hide(togliAccompagnatoreBtn),this.gotoPage=this.gridWidget._currentPage,this.refreshList(!0)):G.showInfoWithCloseButton(J.msgErroreServer,F.footerInc.lblErrorMsgDialogTitle,J.lblOKButton)}),a.hitch(this,function(a){G.showInfoWithCloseButton(J.msgErroreServer,
F.footerInc.lblErrorMsgDialogTitle,J.lblOKButton)}))})),h(togliAccompagnatoreBtn,x.leave,function(){d.hide(this)}),h(togliAccompagnatoreBtn,x.enter,function(){d.show(T.lblCancellaAccompagnatore,this)}));!b.idUniqueGuestPadre&&b.numeroFigli||w.add(e,"noAccompagnatori")}else return k=k.appendChild(m.create("div",{"class":"aggiungiTogliAccompagnatori"})),b.idUniqueGuestPadre||(e=k.appendChild(m.create("img",{src:"/img/btnPlus.png"})),h(e,"click",a.hitch(this,function(){"DEMO"==t.evento.stato.event_subscription.tipo&&
t.evento.statoCalcolato.numInvitati>=t.evento.stato.event_subscription.maxInvitati||"SINGOLO_500"==t.evento.stato.event_subscription.tipo&&500<=t.evento.statoCalcolato.numInvitati?(msg=string.substitute(K.msgInviteListFileWarningDEMONoMore,{maxInvitati:t.evento.stato.event_subscription.maxInvitati}),title=K.msgInviteListFileWarningDEMONoMoreTitle,"SINGOLO_500"==t.evento.stato.event_subscription.tipo&&500<=t.evento.statoCalcolato.numInvitati&&(msg=K.msgInviteListFileWarningSingolo500NoMore,title=K.msgInviteListFileWarningSingolo500NoMoreTitle),
G.showInfoWithCloseButton(msg,title,J.lblOKButton,function(){},"msgDemoMarketingPushMsg",J.lblBuyButton,"buyBtn",t.commons.data.storeURL)):G.showGenericDialog(K.lblAggiungiAccompagnatoreA+"\x26nbsp;"+b.nome+"\x26nbsp;"+b.cognome,null,"/showAnagrafica.plp?idEvento\x3d"+t.evento.stato.idEvento+"\x26idUniqueGuestPadre\x3d"+b.idUniqueGuest+"\x26idFascia\x3d"+this.idFascia,!1,{width:400,height:650},!1,!0,a.hitch(this,this.refreshList,!0))})),h(k,x.leave,function(){d.hide(this)}),h(k,x.enter,function(){d.show(T.lblAggiungiAccompagnatore,
this)})),k});var C=a.hitch(this,function(a,b,e){b=L(e,"span.fa-stack.fa-lg");e=this.getInserimento(a);a.idUniqueGuestPadre?(L(b,"i.fa.fa-user.partner[aria-hidden\x3dtrue]"),L(b,"i.fa.fa-user[aria-hidden\x3dtrue]"),h(b,x.leave,function(){d.hide(this)}),h(b,x.enter,function(){d.show(T.lblAccompagnatore+"\x26nbsp;"+a.padre.nome+"\x26nbsp;"+a.padre.cognome,this)})):"INSERIMENTO_DA_APP"==e?(L(b,"i.fa.fa-user[aria-hidden\x3dtrue]"),L(b,"i.fa.fa-star[aria-hidden\x3dtrue]"),h(b,x.leave,function(){d.hide(this)}),
h(b,x.enter,function(){d.show(T.lblInseritoDaApp,this)})):"INSERIMENTO_DA_BE"==e&&(L(b,"i.fa.fa-user[aria-hidden\x3dtrue]"),L(b,"i.fa.fa-star[aria-hidden\x3dtrue]"),h(b,x.leave,function(){d.hide(this)}),h(b,x.enter,function(){d.show(T.lblInseritoDaBe,this)}));return b});b.splice(0,r?1:0);return[{label:"",field:"id",width:"200px",className:"azioni",renderCell:e,sortable:!1,side:"left"},{label:T.lblTsCheckin,field:"checkinTs",className:"checkinTs",renderCell:p,sortable:!0,side:"left"},{label:K.lblAccompagnatori,
field:"id",className:"aggiungiTogliAccompagnatore",renderCell:v,sortable:!1,side:"left"},{label:K.lblNumeroFigliCheckedIn,className:"field-num-figli-checkedin",field:"numeroFigliCheckedIn",sortable:!1,side:"left",get:function(a){return a.numeroFigliCheckedIn?a.numeroFigliCheckedIn:""}},{label:"",field:"id",className:"tipoPersona",renderCell:C,sortable:!1,side:"left"}].concat(b)},eseguiCheckInOut:function(b,d,v,m,p){this.doCheckin=!1;this.btnCheckInOut=null;this.hiddenBadgePdfNode.src="about:blank";
var r=0,x=k.some(t.evento.stato.badges.custom,function(a){r=a.id;return a.printableOnSite}),C=new e;x&&v&&"in"==v?f.get("/streamBadge.plp?idBadge\x3d"+r+"\x26idPersona\x3d"+b+"\x26dp\x3dtrue",{handleAs:"blob",headers:{Accept:"application/pdf"}}).then(a.hitch(this,function(a){C.resolve(a)})):C.resolve();f.post("/registerCheckinPersona.plp",{data:{idPersona:b,idFascia:d,inOut:v,includiAccompagnatori:p},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){"OK"==
b.resultCode?(G.showInfo(J.msgModificaRegistrata),m.checkIn=!m.checkIn,m.checkIn?(w.add(m.domNode,"btnCheckIn"),w.remove(m.domNode,"btnCheckOut")):(w.remove(m.domNode,"btnCheckIn"),w.add(m.domNode,"btnCheckOut"),x&&v&&"in"==v&&(C.isResolved()?C.isfulfilled()||B.debug("registerCheckinPersona errore"):C.promise.then(a.hitch(this,function(a){B.debug("registerCheckinPersona url",a);var b=window.URL.createObjectURL(a);this.hiddenBadgePdfNode.src=b;h(this.hiddenBadgePdfNode,"load",function(){window.URL.revokeObjectURL(b)})})))),
this.refreshList(!0)):G.showInfoWithCloseButton(J.msgErroreServer,F.footerInc.lblErrorMsgDialogTitle,J.lblOKButton)}),a.hitch(this,function(a){G.showInfoWithCloseButton(J.msgErroreServer,F.footerInc.lblErrorMsgDialogTitle,J.lblOKButton)}))},eseguiRicerca:function(a){var b=/^\][a-zA-z][a-zA-z0-9](\d{15})$/.exec(a);b?(this.searchTextBox.set("value","",!1),this.cerca(b[1])):a&&2<a.length&&this.inherited(arguments)},cerca:function(b){B.debug("Cerco idEsterno",b);this.freshList=!1;this.doCheckin=this.directMode;
this.btnCheckInOut=null;this.gridWidget.query=a.mixin(this.gridWidget.query,{idext:b,chiave:null});this.gridWidget.refresh()},resetRicerca:function(){this.searchTextBox.set("value","");this.gridWidget.query=a.mixin(this.gridWidget.query,{chiave:"",idext:""});this.gridWidget.refresh()},barcodeScanListener:function(a){var b=(new Date).getTime();B.trace("barcodeScanListener","new event",a.which,a.keyCode,String.fromCharCode(a.which),a,this.scanStatus,this.tmpScanResult,this.aimMode);if(this.parentWidget.idFascia){this.lastEventTime&&
1500<b-this.lastEventTime&&(this.tmpScanResult="");var d=null;this.aimMode&&93==a.charCode?(this.scanStatus="prefix",this.lastEventTime=b,this.tmpScanResult=String.fromCharCode(a.charCode)):!this.aimMode||16!=a.charCode&&18!=a.charCode?this.aimMode&&-1<this.AIM_ID_CODE_CHARS.indexOf(String.fromCharCode(a.charCode))?"prefix"==this.scanStatus?(this.lastEventTime=b,this.tmpScanResult+=String.fromCharCode(a.charCode)):(this.lastEventTime=this.scanStatus=null,this.tmpScanResult=""):a.keyCode==r.ENTER?
(B.debug("barcodeScanListener","enter",a.charCode,this.aimMode),this.toggleScanButton.set("checked",!0),this.lastEventTime=null,d=this.tmpScanResult,this.tmpScanResult="","code"==this.scanStatus||"prefix"==this.scanStatus?d&&0<d.length?(B.debug("Scanned: ",d,this.aimMode),this.cerca(d)):(B.warn("Scanned (invalid code): ",'"'+d+'"'),G.showInfoWithCloseButton(T.msgCodiceNonValdo,F.footerInc.lblWarningMsgDialogTitle,J.lblOKButton)):B.debug("Scanned (invalid status): ",'"'+d+'"',this.scanStatus,this.aimMode),
this.scanStatus=null):(ebplatform.config.enableLoadBuilt||console.debug("barcodeScanListener","code",a.charCode,this.tmpScanResult,this.aimMode),this.lastEventTime=b,d=this.tmpScanResult,"prefix"==this.scanStatus&&d&&3==d.length?(B.debug("barcodeScanListener","prefix scanned",d,this.aimMode),this.scanStatus="code",d=""):this.aimMode||null!=this.scanStatus||(B.debug("barcodeScanListener","start scanning",this.aimMode),this.scanStatus="code",d=""),this.tmpScanResult=d+=String.fromCharCode(a.charCode)):
"prefix"==this.scanStatus?this.lastEventTime=b:(this.scanStatus=this.lastEventTime=null,this.tmpScanResult="")}else this.lastEventTime=null,this.tmpScanResult=""}})})},"ebPlatformWidgets/Evento/Badges/PrintBadgeDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/dom-attr dojo/dom-style dojo/on dojo/request dojo/text!./templates/PrintBadgeDialogContentWidget.html dijit/form/Button dijit/_WidgetBase dijit/_TemplatedMixin ebPlatform/logger! ebPlatform/ebcometd dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x){return q([m,u],{templateString:b,baseClass:"printBadgeDialogContentWidget",parentWidget:null,messages:x,saveButton:null,ultimaStampaInvitati:null,ultimaStampaRegistrati:null,postCreate:function(){w.debug("postCreate",this.idEvento);this.inherited(arguments);this.saveButton=new r({"class":"editButton",label:y.lblDownloadButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.iframeNode.src="/getBadgePdf.plp?dwnl\x3dtrue\x26bf\x3d"+this.fileUrl})},
this.saveBtnNode);f(this.iframeNode,"load",a.hitch(this,function(){w.debug("generaBadges","LOADED",this.iframeNode);this.parentWidget.resize();this.parentWidget._position()}))},reset:function(a){this.idBadge=a.idBadge;e.set(this.loadingIndicatorNode,"display","block");e.set(this.iframeContainerNode,"display","none");this.ultimaStampaRegistrati=this.ultimaStampaInvitati=null},loadDocument:function(b){this.initCometd(this.idBadge);h.get(b,{handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){D.unsubscribe("/stampaBadge/"+this.idBadge);this.fileUrl=a.fileURL;a.ultimaStampaInvitati&&(this.ultimaStampaInvitati=a.ultimaStampaInvitati);a.ultimaStampaRegistrati&&(this.ultimaStampaRegistrati=a.ultimaStampaRegistrati);e.set(this.iframeNode,"width","100%");e.set(this.iframeNode,"height","850px");e.set(this.loadingIndicatorNode,"display","none");e.set(this.iframeContainerNode,"display","block");this.iframeNode.src="/getBadgePdf.plp?dwnl\x3dfalse\x26bf\x3d"+this.fileUrl}))},removeDocument:function(){this.fileUrl&&
h.get("/removeBadgePdf.plp?bf\x3d"+this.fileUrl,{handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).always(a.hitch(this,function(a){this.fileUrl=null}))},initCometd:function(b){this.progressoStampaNode.innerHTML="";var e="/stampaBadge/"+b;D.subscribe(e,a.hitch(this,function(a){w.debug("MESSAGGIO SU CANALE",e);w.debug(a.data.messaggio);"sospeso"==a.data.messaggio?D.unsubscribe(e):"fine"==a.data.messaggio?D.unsubscribe(e):this.progressoStampaNode.innerHTML=a.data.messaggio}),
{forceDebounceUnsubscribeDelay:6E4})}})})},"ebPlatform/chartingThemes/Claro":function(){define("ebPlatform/chartingThemes/Claro",["dojox/charting/Theme","dojox/gfx/gradutils","dojox/charting/themes/common"],function(q,a,k){var n=q.generateGradient,l={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};k.Claro=new q({chart:{fill:{type:"linear",x1:0,x2:0,y1:0,y2:100,colors:[{offset:0,color:"#f7f7f7"},{offset:1,color:"#f7f7f7"}]},stroke:{color:"#f7f7f7"},titleGap:20,titlePos:"top",titleFont:"normal normal bold 11px Tahoma",
titleFontColor:"#333"},plotarea:{fill:{type:"linear",x1:0,x2:0,y1:0,y2:100,colors:[{offset:0,color:"#f7f7f7"},{offset:1,color:"#f7f7f7"}]}},axis:{stroke:{color:"#999",width:1},tick:{color:"#999",position:"center",font:"normal normal normal 12px AvenirReg, Arial, sans-serif",fontColor:"#999"}},series:{stroke:{width:2.5,color:"#fff"},outline:null,font:"normal normal normal 12px AvenirReg, Arial, sans-serif",fontColor:"#999"},marker:{stroke:{width:1.25,color:"#131313"},outline:{width:1.25,color:"#131313"},
font:"normal normal normal 12px AvenirReg, Arial, sans-serif",fontColor:"#999"},seriesThemes:[{fill:n(l,"#2a6ead","#3a99f2")},{fill:n(l,"#613e04","#996106")},{fill:n(l,"#0e3961","#155896")},{fill:n(l,"#55aafa","#3f7fba")},{fill:n(l,"#ad7b2a","#db9b35")}],markerThemes:[{fill:"#2a6ead",stroke:{color:"#fff"}},{fill:"#613e04",stroke:{color:"#fff"}},{fill:"#0e3961",stroke:{color:"#fff"}},{fill:"#55aafa",stroke:{color:"#fff"}},{fill:"#ad7b2a",stroke:{color:"#fff"}}]});k.Claro.next=function(a,f,h){var b=
"line"==a;if(b||"area"==a){var e=this.seriesThemes[this._current%this.seriesThemes.length],k=this.markerThemes[this._current%this.markerThemes.length];e.fill.space="plot";b&&(e.stroke={width:4,color:e.fill.colors[0].color});k.outline={width:1.25,color:k.fill};b=q.prototype.next.apply(this,arguments);delete e.outline;delete e.stroke;e.fill.space="shape";return b}return"candlestick"==a?(e=this.seriesThemes[this._current%this.seriesThemes.length],e.fill.space="plot",e.stroke={width:1,color:e.fill.colors[0].color},
b=q.prototype.next.apply(this,arguments)):q.prototype.next.apply(this,arguments)};k.Claro.post=function(e,f){e=q.prototype.post.apply(this,arguments);"slice"!=f&&"circle"!=f||!e.series.fill||"radial"!=e.series.fill.type||(e.series.fill=a.reverse(e.series.fill));return e};return k.Claro})},"ebPlatformWidgets/Form/editor/plugins/LinkDialog":function(){define("require dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/query dojo/string dijit/_editor/_Plugin dijit/form/DropDownButton dijit/_editor/range dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w){var D=a("ebplatform.editor.plugins.LinkDialog",r,{buttonClass:m,useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",
emailRegExp:"\x3c?(mailto\\:)([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*\x3e?",htmlTemplate:'\x3ca href\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" target\x3d"${targetSelect}"\x3e${textInput}\x3c/a\x3e',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,
linkDialogTemplate:"\x3ctable class\x3d\"linkDialogPopUp\" role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges: false'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit.form.Select'\x3e\x3coption selected\x3d'selected' value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3coption value\x3d'_self'\x3e${currentWindow}\x3c/option\x3e\x3coption value\x3d'_top'\x3e${topWindow}\x3c/option\x3e\x3coption value\x3d'_parent'\x3e${parentWindow}\x3c/option\x3e\x3c/select\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${lblChiudiButton}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${lblOKButton}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
_initButton:function(){this.inherited(arguments);this.button.loadDropDown=l.hitch(this,"_loadDropDown");this._connectTagEvents()},_loadDropDown:function(a){q("dojo/i18n dijit/TooltipDialog dijit/registry dijit/form/Button dijit/form/Select dijit/form/ValidationTextBox dojo/i18n!dijit/nls/common dojo/i18n!dijit/_editor/nls/LinkDialog".split(" "),l.hitch(this,function(f,h,k){var m=this;this.tag="insertImage"==this.command?"img":"a";var t=l.delegate(f.getLocalization("dijit","common",this.lang),f.getLocalization("dijit._editor",
"LinkDialog",this.lang)),t=l.delegate(t,f.getLocalization("ebPlatform","commons",this.lang)),p=this.dropDown=this.button.dropDown=new h({title:t[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:l.hitch(this,"setValue"),onOpen:function(){m._onOpenDialog();h.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(l.hitch(m,"_onCloseDialog"),0)}});t.urlRegExp=this.urlRegExp;t.id=k.getUniqueId(this.editor.id);this._uniqueId=t.id;this._setContent(p.title+
"\x3cdiv style\x3d'border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'\x3e\x3c/div\x3e"+b.substitute(this.linkDialogTemplate,t));p.startup();this._urlInput=k.byId(this._uniqueId+"_urlInput");this._textInput=k.byId(this._uniqueId+"_textInput");this._setButton=k.byId(this._uniqueId+"_setButton");this.own(k.byId(this._uniqueId+"_cancelButton").on("click",l.hitch(this.dropDown,"onCancel")));this._urlInput&&this.own(this._urlInput.on("change",l.hitch(this,"_checkAndFixInput")));this._textInput&&
this.own(this._textInput.on("change",l.hitch(this,"_checkAndFixInput")));this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=l.hitch(this,function(){var a=this._urlInput.get("value");return this._urlRegExp.test(a)||this._emailRegExp.test(a)});this.own(e(p.domNode,"keydown",l.hitch(this,l.hitch(this,function(a){!a||a.keyCode!=n.ENTER||a.shiftKey||a.metaKey||a.ctrlKey||a.altKey||this._setButton.get("disabled")||(p.onExecute(),
p.execute(p.get("value")))}))));a()}))},_checkAndFixInput:function(){var a=this,b=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var e=b,f=!1,h=!1;e&&1<e.length&&(e=l.trim(e),0!==e.indexOf("mailto:")&&(0<e.indexOf("/")?-1===e.indexOf("://")&&"/"!==e.charAt(0)&&0!==e.indexOf("./")&&0!==e.indexOf("../")&&a._hostRxp.test(e)&&(f=!0):a._userAtRxp.test(e)?h=!0:a._hostRxp.test(e)&&(f=!0)));f&&a._urlInput.set("value",
"http://"+e);h&&a._urlInput.set("value","mailto:"+e);a._setButton.set("disabled",!a._isValid())},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(l.hitch(this,function(){this.own(e(this.editor.editNode,"dblclick",l.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(a){this.dropDown.set({parserScope:"dojo",content:a})},_checkValues:function(a){a&&a.urlInput&&(a.urlInput=a.urlInput.replace(/"/g,"\x26quot;"));
return a},setValue:function(a){this._onCloseDialog();if(9>f("ie")){var e=u.getSelection(this.editor.window).getRangeAt(0).endContainer;3===e.nodeType&&(e=e.parentNode);e&&e.nodeName&&e.nodeName.toLowerCase()!==this.tag&&(e=this.editor.selection.getSelectedElement(this.tag));e&&e.nodeName&&e.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(e),this.editor.execCommand("unlink"))}a=this._checkValues(a);this.editor.execCommand("inserthtml",
b.substitute(this.htmlTemplate,a));h("a",this.editor.document).forEach(function(a){a.innerHTML||k.has(a,"name")||a.parentNode.removeChild(a)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(a){var b,e,f;a&&a.tagName.toLowerCase()===this.tag?(b=a.getAttribute("_djrealurl")||a.getAttribute("href"),f=a.getAttribute("target")||"_self",e=a.textContent||a.innerText,this.editor.selection.selectElement(a,!0)):e=this.editor.selection.getSelectedText();
return{urlInput:b||"",textInput:e||"",targetSelect:f||""}},_onOpenDialog:function(){var a,b;if(f("ie")){if(b=u.getSelection(this.editor.window),b.rangeCount){var e=b.getRangeAt(0);a=e.endContainer;3===a.nodeType&&(a=a.parentNode);a&&a.nodeName&&a.nodeName.toLowerCase()!==this.tag&&(a=this.editor.selection.getSelectedElement(this.tag));if(!a||a.nodeName&&a.nodeName.toLowerCase()!==this.tag)(b=this.editor.selection.getAncestorElement(this.tag))&&b.nodeName&&b.nodeName.toLowerCase()==this.tag?(a=b,this.editor.selection.selectElement(a)):
e.startContainer===e.endContainer&&(b=e.startContainer.firstChild)&&b.nodeName&&b.nodeName.toLowerCase()==this.tag&&(a=b,this.editor.selection.selectElement(a))}}else a=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset();this._setButton.set("disabled",!0);this.dropDown.set("value",this._getCurrentValues(a))},_onDblClick:function(a){if(a&&a.target&&(a=a.target,(a.tagName?a.tagName.toLowerCase():"")===this.tag&&k.get(a,"href"))){var b=this.editor;this.editor.selection.selectElement(a);
b.onDisplayChanged();b._updateTimer&&(b._updateTimer.remove(),delete b._updateTimer);b.onNormalizedDisplayChanged();var e=this.button;setTimeout(function(){e.set("disabled",!1);e.loadAndOpenDropDown().then(function(){e.dropDown.focus&&e.dropDown.focus()})},10)}}}),y=a("ebplatform.editor.plugins.ImgLinkDialog",[D],{linkDialogTemplate:"\x3ctable class\x3d\"linkDialogPopUp\" role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput dojoType\x3d'dijit.form.ValidationTextBox' regExp\x3d'${urlRegExp}' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges: false'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'false' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${lblChiudiButton}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${lblOKButton}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
htmlTemplate:'\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e',tag:"img",_getCurrentValues:function(a){var b,e;a&&a.tagName.toLowerCase()===this.tag?(b=a.getAttribute("_djrealurl")||a.getAttribute("src"),e=a.getAttribute("alt"),this.editor.selection.selectElement(a,!0)):e=this.editor.selection.getSelectedText();return{urlInput:b||"",textInput:e||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.then(l.hitch(this,
function(){this.own(e(this.editor.editNode,"mousedown",l.hitch(this,"_selectTag")))}))},_selectTag:function(a){a&&a.target&&(a=a.target,(a.tagName?a.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(a))},_checkValues:function(a){a&&a.urlInput&&(a.urlInput=a.urlInput.replace(/"/g,"\x26quot;"));a&&a.textInput&&(a.textInput=a.textInput.replace(/"/g,"\x26quot;"));return a},_onDblClick:function(a){if(a&&a.target&&(a=a.target,(a.tagName?a.tagName.toLowerCase():"")===this.tag&&k.get(a,
"src"))){var b=this.editor;this.editor.selection.selectElement(a);b.onDisplayChanged();b._updateTimer&&(b._updateTimer.remove(),delete b._updateTimer);b.onNormalizedDisplayChanged();var e=this.button;setTimeout(function(){e.set("disabled",!1);e.loadAndOpenDropDown().then(function(){e.dropDown.focus&&e.dropDown.focus()})},10)}}});r.registry.createLink=function(){return new D({command:"createLink"})};r.registry.insertImage=function(){return new y({command:"insertImage"})};D.ImgLinkDialog=y;return D})},
"ebPlatformWidgets/Evento/EventPage/EditRegistrationFormElementRuleDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dnd/Manager dojo/dom-style dojo/keys dijit/Dialog dijit/form/Button ebPlatformWidgets/Dialogs/_DialogWithDnDMixin ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditRegistrationFormElementRuleWidget ebPlatform/logger! ebPlatform/stato dojo/i18n dojo/i18n!ebPlatform/nls/commons put-selector/put".split(" "),function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y){return q([e,
b,h],{baseClass:"editRegistrationFormElementRuleDialogWidget",disabled:!1,additionalMessages:null,parentWidget:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new r({parentWidget:this});this.addChild(this.mainWidget);this.buttonsContainerNode=y(this.containerNode,"div.buttonsContainer");this.okBtnNode=y(this.buttonsContainerNode,"button");this.cancelBtnNode=y(this.buttonsContainerNode,"button");this.okBtn=new f({label:D.lblOKButton,onClick:a.hitch(this,function(){this.mainWidget.aggiornaRegoleSullItem();
this.hide()})},this.okBtnNode);this.cancelBtn=new f({label:D.lblChiudiButton,onClick:a.hitch(this,function(){this.hide()})},this.cancelBtnNode)},show:function(a,b,e,f,h){this.inherited(arguments);this.mainWidget.show(a,b,e,f,h);this.resize(null)}})})},"ebPlatformWidgets/integration/pardot/MapFieldDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/store/Memory dojo/text!./templates/MapFieldDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/FilteringSelect dijit/form/Button ebPlatform/stato ebPlatform/logger! ebPlatform/commonDialogs ./pardot dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget dojo/i18n!./nls/pardot".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t){return q([f,h],{mouseAnim:null,templateString:e,baseClass:"pardot mapFieldDialogContentWidget",parentWidget:null,stato:null,config:null,pardotField:null,messages:t,manageGuestsMessages:B,commonMessages:z,tabIndexBase:2E3,postCreate:function(){this.inherited(arguments);this.formWidget=new b({},this.formNode);var a=this;this.pardotField=new r({tabIndex:this.tabIndexBase+1,searchAttr:"label",style:"width: 280px;",query:{mappable:!0},store:new l({idProperty:"id",
data:[y.fields]}),required:!1,onChange:function(b){(b=this.get("item"))?(a.config={},a.config.id=b.id,b.customId&&(a.config.customId=b.customId)):a.config=null;console.debug(b,a.config)}},this.pardotFieldNode);new m({tabIndex:this.tabIndexBase+100,label:z.lblOKButton,onClick:function(){a.callback&&a.callback(a.config);a.parentWidget.hide()}},this.okBtnNode);new m({tabIndex:this.tabIndexBase+101,label:z.lblChiudiButton,onClick:function(){a.parentWidget.hide()}},this.cancelBtnNode)},reset:function(a,
b){this.formWidget.reset();this.callback=b;this.config=a||null;this.pardotField.set("value",null,!1);this.config&&this.config.id&&this.pardotField.set("value",this.config.id);this.loadPardotData(this.pardotField.get("store"))},loadPardotData:function(b){D.showLoading();return n.post("/pardot/getCustomFields.plp",{data:{idEvento:u.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?(a=k.map(a.customfields,
function(a){return{context:"Pardot",id:a.fieldId,customId:a.id,label:a.name,type:"Testo libero",mappable:!0}}),b.setData(y.fields.concat(a))):D.showError(z.msgErroreServer);D.hideLoading()}),a.hitch(this,function(a){D.hideLoading();D.showError(z.msgErroreServer)}))},validate:function(){return this.formWidget.validate()}})})},"ebPlatformWidgets/Dialogs/EditIntegerDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/store/Memory dijit/Dialog dijit/layout/ContentPane dijit/form/Button dijit/form/FilteringSelect ebPlatformWidgets/Form/utility ./_ParentScrollPreventMixin dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w){return q([f,u],{baseClass:"editIntegerDialogWidget",optionsStore:null,initialClasses:null,contentPane:null,label:null,select:null,saveBtn:null,cancelBtn:null,postCreate:function(){this.inherited(arguments);this.set("closable",!1);this.set("draggable",!1);this.optionsStore=new e({idProperty:"id"});this.optionsStore.setData([{id:1,label:"1"},{id:2,label:"2"},{id:3,label:"3"}]);this.contentPane=new h;this.intro=n.create("div",{},this.contentPane.containerNode);this.label=
n.create("span",{},this.contentPane.containerNode);this.select=new r({store:this.optionsStore,labelAttr:"label",searchAttr:"label",style:"max-width:50px;"});this.select.startup();this.contentPane.addChild(this.select);this.addChild(this.contentPane);var f=new h({}),k=n.create("div",{"class":"buttonsContainer"},f.containerNode),m=n.create("div",{},k),k=n.create("div",{},k);this.saveBtn=new b({label:w.lblOKButton,onClick:a.hitch(this,function(){console.log("SAVE",this.doOnSave,this.select,this.select.get("value"));
this.doOnSave(this.select.get("value"));this.hide()})},m);this.cancelBtn=new b({label:w.lblChiudiButton,onClick:a.hitch(this,function(){this.hide()})},k);this.addChild(f)},show:function(b){this.inherited(arguments);b.title&&this.set("title",b.title);this.label.innerHTML=b.label?b.label+"\x26nbsp;":"";if(b.maxValue){for(var e=[],f=1,f=1;f<=b.maxValue;f++)e.push({id:f,label:""+f});this.optionsStore.setData(e);this.select.reset()}b.value?this.select.set("value",b.value):this.select.set("value",1);console.log("OPTIONS DOONSAVE",
b.doOnSave);this.doOnSave=b.doOnSave?b.doOnSave:m.noop;b.addCssClass?l.add(this.domNode,"addedClass_"+b.addCssClass):(e=this.domNode.className?this.domNode.className.split(" "):[],k.forEach(e,a.hitch(this,function(a){0==a.indexOf("addedClass_")&&l.remove(this.domNode,a)})));this.resize();this.intro.innerHTML=b.intro?b.intro+"\x3cbr/\x3e\x3cbr/\x3e":""}})})},"ebPlatform/dgrid/extensions/Pagination":function(){define("dojo/_base/declare dojo/_base/lang dgrid/extensions/Pagination dojo/on put-selector/put dojo/has".split(" "),
function(q,a,k,n,l,e){return q([k],{showHeaderNavigation:!0,buildRendering:function(){this.inherited(arguments);if(this.showHeaderNavigation){var a=this.paginationNodeHeader=dojo.clone(this.paginationNode);l(this.headerNode.firstChild,"-",a)}e.add("dom-contains",function(a,b,e){return!!e.contains},!0,!0)},_updateNavigation:function(e){var f=this;this.inherited(arguments);if(this.showHeaderNavigation){l(this.paginationNodeHeader,"!");var b=this.paginationNodeHeader=dojo.clone(this.paginationNode);
this.paginationStatusTopNode=b.firstChild;l(this.headerNode.firstChild,"-",b);b=this.navigationNodeHeader=dojo.query("div.dgrid-navigation",this.paginationNodeHeader)[0];n(b,"span.dgrid-page-link:click",function(a){a=this.className;var b,e;f._isLoading||-1<a.indexOf("dgrid-page-disabled")||(b=f._currentPage,e=Math.ceil(f._total/f.rowsPerPage),"dgrid-page-link"==a&&f.gotoPage(+this.innerHTML,!0),"dgrid-first"==a?f.gotoPage(1):-1<a.indexOf("dgrid-previous")?1<b&&f.gotoPage(b-1):-1<a.indexOf("dgrid-next")?
b<e&&f.gotoPage(b+1):"dgrid-last"==a&&f.gotoPage(e))});var k=Math.ceil(this._total/this.rowsPerPage);dojo.query(".dgrid-pagination-links input.dgrid-page-input",this.navigationNodeHeader).forEach(function(a){n(a,"change",function(a){a=+this.value;!isNaN(a)&&0<a&&a<=k&&f.gotoPage(+this.value,!0)})});this.showFilterStatus&&this.filterStatus&&(b=l(this.paginationNodeHeader.firstChild,"+div.filter-status\x3ediv.dojoxEllipsis"),l(b,"i.fa.fa-filter[aria-hidden\x3dtrue]"),l(b,"span",{innerHTML:this.filterStatus}));
var b=this.pagesizeNodeHeader=dojo.query("select.dgrid-page-size",this.paginationNodeHeader)[0],m=dojo.query("select.dgrid-page-size",this.paginationNode)[0];b.value=m.value;n(b,"change",a.hitch(this,function(){this.set("rowsPerPage",+this.pagesizeNodeHeader.value)}))}},refresh:function(){if(this.store)return this.inherited(arguments)}})})},"ebPlatformWidgets/Evento/Communication/EditBodyWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-prop dojo/dom-style dojo/on dijit/layout/ContentPane ebPlatformWidgets/CustomTooltip ebPlatformWidgets/Dialogs/EditTextWithEditorDialogWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r){return q([b],{postCreate:function(){this.inherited(arguments);var a=new f({"class":"charCountContainer",style:{height:"10px"}});this.counterNode=k.create("span",{"class":"charCount"},a.containerNode);this.counterTipNode=k.create("span",{"class":"helpTip"},a.containerNode);new h({label:r.msgMailBodyTip,connectId:[this.counterTipNode]});this.editorContentPane.addChild(a,0)},createEditor:function(a,b,e){this.inherited(arguments);var f={0:"red",500:"green"},h=this.counterNode,
k=0;this.editor.editNode&&(k=n.get(this.editor.editNode,"textContent").length);h.innerHTML=k+"/500";for(var m in f)m<=k&&l.set(h,"color",f[m]);this.editor.on("displayChanged",function(a){a=0;this.editNode&&(a=n.get(this.editNode,"textContent").length);h.innerHTML=a+"/500";for(var b in f)b<=a&&l.set(h,"color",f[b])})}})})},"app/evento":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom dojo/topic dojo/request dijit/registry ebPlatform/logger! ebPlatform/stato ebPlatform/daemon ebPlatform/fontLoader ebPlatform/utility ebPlatformWidgets/Evento/EventDetails/EventDetailsWidget ebPlatformWidgets/Evento/Guests/ManageGuestsWidget ebPlatformWidgets/Evento/Communication/CommunicationWidget ebPlatformWidgets/Evento/EventPage/EventRegistrationWidget ebPlatformWidgets/Evento/Badges/BadgesManagementWidget ebPlatformWidgets/Evento/AppSetup/AppSetupWidget ebPlatformWidgets/Evento/EventSummary/EventSummaryWidget ebPlatformWidgets/Evento/Social/SocialSetupWidget ebPlatformWidgets/Evento/Checkin/CheckinWidget ebPlatformWidgets/Dialogs/DialogWithCloseButtonWidget app/_AppMixin dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/EventDetails/nls/EventDetailsWidget dojo/i18n!./nls/evento dojox/timing".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M){return q([I],{appName:"Evento",appMessages:M,mappingNamesPrefix:"evento.mappings.",statefulsContainer:b.evento.stato,internalNameToClass:{event_details:w,manage_guests:D,communication:y,event_registration:x,badges:z,app_setup:B,event_summary:t,social:G,checkin:C},statoCalcolatoRefreshDaemon:null,eventDetailsWidget:null,init:function(e,d,f){ebplatform&&(ebplatform.fontLoader=m,ebplatform.fontLoader.loadAll(d));ebplatform.config.enableLoadBuilt||
(console.group("APP "+this.appName+" INIT"),console.log("idEvento",e),console.log("idCliente",d),console.groupEnd());require(["ebPlatform/json!/getEventStatoCalcolato.plp?idEvento\x3d"+e,"ebPlatform/json!/getEventConfig.plp?idEvento\x3d"+e,"ebPlatform/json!/getEventSubscription.plp?idEvento\x3d"+e+"\x26idCliente\x3d"+d],a.hitch(this,function(a,h,k){ebplatform.config.enableLoadBuilt||console.log("statoCalcolato",a);e?b.evento.stato.idEvento=e:n.byId("eventNameNode").innerHTML=v.lblCreateNewEvent;d&&
(b.evento.stato.idCliente=d);a&&(b.evento.statoCalcolato=a,this.initStatoCalcolatoRefreshDaemon());h&&(b.commons.config=h);k&&(b.evento.stato.event_subscription=k);b.commons.permissions.impersonated=f;this.startup("event_details manage_guests communication event_registration badges app_setup social event_summary checkin".split(" "));this.bindEventName();b.commons.permissions.firstAvailableSingle&&"SINGOLO_PAGAMENTO"==b.commons.permissions.firstAvailableSingle.tipo&&!b.evento.stato.idEvento&&(ebplatform.config.enableLoadBuilt||
console.log("POPUP SINGOLO PAGAMENTO"),a=new p({}),a.setMsg(M.msgNewPaidEventDialogText),a.setCloseBtnLabel(E.lblChiudiButton),a.show(),ebplatform.config.enableLoadBuilt||console.log("newPaidAdmissionEventInfoDialog",a))}))},bindEventName:function(){this.eventDetailsWidget=f.byId("tab_event_details").getChildren()[0];this.eventDetailsWidget.stato.watch(a.hitch(this,function(a,b,e){"name"==a&&e!=b&&(n.byId("eventNameNode").innerHTML=e,u.fitEventName())}))},initStatoCalcolatoRefreshDaemon:function(){this.statoCalcolatoRefreshDaemon=
new r(1E4,a.hitch(this,function(){var a=new k;this.loadStatoCalcolato(a);return a.promise}),"StatoCalcolatoRefreshDaemon")},startStatoCalcolatoRefreshDaemon:function(a){this.statoCalcolatoRefreshDaemon&&this.statoCalcolatoRefreshDaemon.start(a)},stopStatoCalcolatoRefreshDaemon:function(){this.statoCalcolatoRefreshDaemon&&this.statoCalcolatoRefreshDaemon.stop()},loadStatoCalcolato:function(f){e.get("/getEventStatoCalcolato.plp",{query:{idEvento:b.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){a&&(b.evento.statoCalcolato=a,l.publish("sys.statoCalcolato.updated",a));h.debug("------ AGGIORNATO StatoCalcolato:",a);f&&f.resolve&&f.resolve()}),a.hitch(this,function(){f&&f.reject&&(f.reject(),this.stopStatoCalcolatoRefreshDaemon())}))},updateToolbarVisibility:function(a){this.inherited(arguments);u.fitEventName()}})})},"ebPlatformWidgets/Dialogs/EditTextWithFontDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/store/Memory dijit/Dialog dijit/layout/ContentPane dijit/form/CheckBox dijit/form/Button dijit/form/FilteringSelect dijit/form/Select dijit/form/ValidationTextBox ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/ColorPickerWidget ./_ParentScrollPreventMixin dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EditTextWithFontDialogWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([f,x],{baseClass:"editTextWithFontDialogWidget",createCustomTextBox:null,fontFamilyDefaultData:null,fontSizeDefaultData:null,fontFamilyStore:null,fontSizeStore:null,contentPane:null,fontContentPane:null,textAlignContentPane:null,colorsContentPane:null,textAlignContentPane:null,textCenterCheckbox:null,textBox:null,textColorPicker:null,textBackgroundColorPicker:null,textAlign:null,fontFamily:null,fontSize:null,saveBtn:null,cancelBtn:null,postCreate:function(){this.inherited(arguments);
this.set("draggable",!1);this.contentPane=new h({"class":"popupHeaderMail"});this.textBox=this.createCustomTextBox?this.createCustomTextBox():new w({});this.contentPane.addChild(this.textBox);var f;this.fontFamilyDefaultData=[{label:"Helvetica",value:"Helvetica, Arial, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Times New Roman",value:'"Times New Roman", Times, serif'}];this.fontFamilyStore=new e({idProperty:"value",
data:this.fontFamilyData||this.fontFamilyDefaultData});this.fontFamily=new m({required:!1,style:{width:"150px"},store:this.fontFamilyStore,searchAttr:"label",labelAttr:"label",placeHolder:z.lblFontFamilyPlaceHolder});this.fontSizeDefaultData=[16,18,20,24,28,30,32,34,38,40,42,50];f=k.map(this.fontSizeData||this.fontSizeDefaultData,function(a){return{value:a+"px",label:a}});this.fontSizeStore=new e({idProperty:"value",data:f});this.fontSize=new m({required:!1,style:{width:"150px"},store:this.fontSizeStore,
searchAttr:"label",labelAttr:"label",placeHolder:z.lblFontSizePlaceHolder});this.fontContentPane=new h({"class":"fontSelectionContainer"});this.fontContentPane.addChild(this.fontFamily);this.fontContentPane.addChild(this.fontSize);this.textAlign=new m({required:!1,style:{width:"150px"},searchAttr:"label",labelAttr:"label",placeHolder:z.lblTextAlignPlaceHolder,store:new e({idProperty:"value",data:[{label:z.lblTextAlignLeft,value:"left"},{label:z.lblTextAlignRight,value:"right"},{label:z.lblTextAlignCenter,
value:"center",selected:!0},{label:z.lblTextAlignJustify,value:"justify"}]})});this.fontContentPane.addChild(this.textAlign);this.contentPane.addChild(this.fontContentPane);this.textAlignContentPane=new h({"class":"textAlignContainer"});n.create("label",{innerHTML:z.lblTextAlignCenter},this.textAlignContentPane.containerNode);this.textCenterCheckbox=new b({});this.textAlignContentPane.addChild(this.textCenterCheckbox);n.create("div",{"class":"clear"},this.textAlignContentPane.containerNode);this.contentPane.addChild(this.textAlignContentPane);
this.colorsContentPane=new h({"class":"colorsSelectionContainer",style:{display:"none"}});this.textColorPicker=new y({label:B.lblColorPlaceHolder,value:"#000000"});this.textBackgroundColorPicker=new y({label:B.lblBackgroundColorPlaceHolder,value:"#FFFFFF"});this.colorsContentPane.addChild(this.textColorPicker);this.colorsContentPane.addChild(this.textBackgroundColorPicker);this.contentPane.addChild(this.colorsContentPane);this.addChild(this.contentPane);f=new h({});var l=n.create("div",{"class":"buttonsContainer"},
f.containerNode),C=n.create("div",{},l),l=n.create("div",{},l);this.saveBtn=new r({label:z.lblOKButton,onClick:a.hitch(this,function(){this.doOnSave({text:this.textBox.get("value"),centered:this.textCenterCheckbox.get("checked"),fontFamily:this.fontFamily.get("value")||"",fontSize:this.fontSize.get("value")||"",tmpAlign:this.textAlign.get("value")||"center",color:this.textColorPicker.get("value")||"#000000",backgroundColor:this.textBackgroundColorPicker.get("value")||"#ffffff"});this.hide()})},C);
this.cancelBtn=new r({label:z.lblChiudiButton,onClick:a.hitch(this,function(){this.hide()})},l);this.addChild(f)},show:function(a){this.inherited(arguments);var b;a.title&&this.set("title",a.title);a.placeHolder&&this.textBox.set("placeHolder",a.placeHolder);a.text?this.textBox.set("value",a.text):this.textBox.set("value","");a.showAlignment?l.set(this.textAlignContentPane.domNode,"display","block"):l.set(this.textAlignContentPane.domNode,"display","none");a.centered?this.textCenterCheckbox.set("value",
!0):this.textCenterCheckbox.set("value",!1);a.fontFamilyData?this.fontFamilyStore.setData(a.fontFamilyData):this.fontFamilyStore.setData(this.fontFamilyDefaultData);a.fontFamily?this.fontFamily.set("value",a.fontFamily):this.fontFamily.set("value",null);b=k.map(a.fontSizeData?a.fontSizeData:this.fontSizeDefaultData,function(a){return{value:a+"px",label:a}});this.fontSizeStore.setData(b);a.fontSize?this.fontSize.set("value",a.fontSize):this.fontSize.set("value",null);a.tooltip&&this.textBox.set("tooltip",
a.tooltip);this.doOnSave=a.doOnSave?a.doOnSave:D.noop;a.color&&this.textColorPicker.set("value",a.color,!0);a.backgroundColor&&this.textBackgroundColorPicker.set("value",a.backgroundColor,!0);a.showFontSelection?l.set(this.fontContentPane.domNode,"display","inline-block"):l.set(this.fontContentPane.domNode,"display","none");a.showColorsSelection?l.set(this.colorsContentPane.domNode,"display","block"):l.set(this.colorsContentPane.domNode,"display","none");a.showTextAlign?l.set(this.textAlign.domNode,
"display","block"):l.set(this.textAlign.domNode,"display","none");a.textAlign?this.textAlign.set("value",a.textAlign):this.textAlign.set("value",null);this.resize()}})})},"ebPlatformWidgets/Form/FontControlWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/text!./templates/FontControlWidget.html dojo/store/Memory ./FontSelectorWidget dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/_FormMixin dijit/form/CheckBox dijit/form/ComboBox dijit/form/FilteringSelect ebPlatform/fontLoader ebPlatform/logger! dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([b,r,m],{mouseAnim:null,templateString:e,baseClass:"fontControlWidget",commonMessages:z,showFontFamily:!0,showFontSize:!0,showFontWeight:!0,showAlignement:!0,showUppercase:!0,compact:!1,vertical:!1,fontFamily:null,fontSize:null,alignement:null,uppercase:null,postCreate:function(){this.inherited(arguments);var a=this;this.compact?n.add(this.domNode,"compact"):this.vertical&&n.add(this.domNode,"vertical");ebplatform&&ebplatform.fontLoader?(x.debug("Fontloader globale"),
this.fontLoader=ebplatform.fontLoader):(x.debug("Fontloader locale"),this.fontLoader=y,this.fontLoader.loadAll(this.idCliente));this.fontFamily=new D({name:"fontFamily",disabled:!this.showFontFamily,required:!1,"class":"ebFontSelector",searchAttr:"family",labelAttr:"labelHtml",labelType:"html",fetchProperties:{sort:[{attribute:"label"}]},query:this.fontFamilyFilter||{},placeHolder:this.fontFamilyPlaceHolder||z.lblFontFamilyPlaceHolder,store:new f({idProperty:"family",data:[]}),onChange:function(){a.onChange.apply(a,
[a.get("value")])}},this.fontFamilyControlNode);this.loadFontFamilies();this.fontSize=new w({name:"fontSize",disabled:!this.showFontSize,required:!1,placeHolder:this.fontSizePlaceHolder,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",trim:!0,store:new f({idProperty:"size",data:[{size:"16px",label:"16px"},{size:"18px",label:"18px"},{size:"20px",label:"20px"},{size:"24px",label:"24px"},{size:"28px",label:"28px"},{size:"30px",label:"30px"},{size:"32px",label:"32px"},{size:"34px",label:"34px"},
{size:"38px",label:"38px"},{size:"40px",label:"40px"},{size:"42px",label:"42px"},{size:"50px",label:"50px"}]}),searchAttr:"label",labelAttr:"label",placeHolder:z.lblFontSizePlaceHolder,onChange:function(){a.onChange.apply(a,[a.get("value")])}},this.fontSizeControlNode);this.fontWeight=new D({name:"fontWeight",disabled:!this.showFontWeight,required:!1,searchAttr:"weight",labelAttr:"label",labelType:"html",fetchProperties:{sort:[{attribute:"label"}]},placeHolder:this.fontWeightPlaceHolder||z.lblFontWeightPlaceHolder,
store:new f({idProperty:"weight",data:[{weight:"normal",label:"normal",labelHtml:'\x3cspan style\x3d"font-weight: normal"\x3enormal\x3c/span\x3e'},{weight:"bold",label:"bold",labelHtml:'\x3cspan style\x3d"font-weight: bold"\x3ebold\x3c/span\x3e'},{weight:"bolder",label:"bolder",labelHtml:'\x3cspan style\x3d"font-weight: bolder"\x3ebolder\x3c/span\x3e'},{weight:"lighter",label:"lighter",labelHtml:'\x3cspan style\x3d"font-weight: lighter"\x3elighter\x3c/span\x3e'},{weight:"100",label:"100",labelHtml:'\x3cspan style\x3d"font-weight: 100"\x3e100\x3c/span\x3e'},
{weight:"200",label:"200",labelHtml:'\x3cspan style\x3d"font-weight: 200"\x3e200\x3c/span\x3e'},{weight:"300",label:"300",labelHtml:'\x3cspan style\x3d"font-weight: 300"\x3e300\x3c/span\x3e'},{weight:"400",label:"400",labelHtml:'\x3cspan style\x3d"font-weight: 400"\x3e400\x3c/span\x3e'},{weight:"500",label:"500",labelHtml:'\x3cspan style\x3d"font-weight: 500"\x3e500\x3c/span\x3e'},{weight:"600",label:"600",labelHtml:'\x3cspan style\x3d"font-weight: 600"\x3e600\x3c/span\x3e'},{weight:"700",label:"700",
labelHtml:'\x3cspan style\x3d"font-weight: 700"\x3e700\x3c/span\x3e'},{weight:"800",label:"800",labelHtml:'\x3cspan style\x3d"font-weight: 800"\x3e800\x3c/span\x3e'},{weight:"900",label:"900",labelHtml:'\x3cspan style\x3d"font-weight: 900"\x3e900\x3c/span\x3e'}]}),onChange:function(){a.onChange.apply(a,[a.get("value")])}},this.fontWeightControlNode);this.alignement=new D({name:"textAlign",disabled:!this.showAlignement,required:!1,searchAttr:"label",labelAttr:"label",placeHolder:this.textAlignPlaceHolder||
z.lblTextAlignPlaceHolder,query:{show:!0},store:new f({idProperty:"value",data:[{label:z.lblTextAlignLeft,value:"left",show:!0},{label:z.lblTextAlignRight,value:"right",show:!0},{label:z.lblTextAlignCenter,value:"center",show:!0},{label:z.lblTextAlignJustify,value:"justify",show:!0}]}),onChange:function(){a.onChange.apply(a,[a.get("value")])}},this.alignementControlNode);if(this.hiddenOptions&&this.hiddenOptions.alignement){var b=this.alignement.get("store");k.forEach(this.hiddenOptions.alignement,
function(a){if(a=b.get(a))a.show=!1})}this.uppercase=new u({name:"textTransform",value:"uppercase",disabled:!this.showUppercase,required:!1,onChange:function(){a.onChange.apply(a,[a.get("value")])}},this.uppercaseControlNode)},onChange:function(){x.trace("onChange void")},refresh:function(){this.inherited(arguments);this.loadFontFamilies()},loadFontFamilies:function(){var a=this.fontLoader.getFontsStoreData();a&&a.length&&(this.fontFamily.get("store").setData([]),this.fontFamily.get("store").setData(a))},
_setDisabledAttr:function(a,b){console.debug("cacca",a,b);if(void 0===b)n[a?"add":"remove"](this.domNode,"dijitDisabled");k.forEach(this._getDescendantFormWidgets(),function(e){void 0!==b&&b!=e.name||e.set("disabled",a)})},_setReadOnlyAttr:function(a,b){k.forEach(this._getDescendantFormWidgets(),function(e){void 0!==b&&b!=e.name||e.set("readOnly",a)})},_setFontFamilyFilterAttr:function(a){this.fontFamilyFilter=a||{};this.fontFamily&&this.fontFamily.set("query",this.fontFamilyFilter)},_setShowFontFamilyAttr:function(a){n[a?
"remove":"add"](this.domNode,"nofamily");this.fontFamily&&this.fontFamily.set("disabled",!a)},_setShowFontSizeAttr:function(a){n[a?"remove":"add"](this.domNode,"nosize");this.fontSize&&this.fontSize.set("disabled",!a)},_setShowFontWeightAttr:function(a){n[a?"remove":"add"](this.domNode,"noweight");this.fontWeight&&this.fontWeight.set("disabled",!a)},_setShowAlignementAttr:function(a){n[a?"remove":"add"](this.domNode,"noalign");this.alignement&&this.alignement.set("disabled",!a)},_setShowUppercaseAttr:function(a){n[a?
"remove":"add"](this.domNode,"nouppercase");this.alignement&&this.uppercase.set("disabled",!a)},_setFontFamilyPlaceHolderAttr:function(a){this.fontFamily&&void 0!==a&&(this.fontFamily.set("placeHolder",a),this._set("fontFamilyPlaceHolder",a))},_setFontSizePlaceHolderAttr:function(a){this.fontSize&&void 0!==a&&(this.fontSize.set("placeHolder",a),this._set("fontSizePlaceHolder",a))},_setFontWeightPlaceHolderAttr:function(a){this.fontWeight&&void 0!==a&&(this.fontWeight.set("placeHolder",a),this._set("fontWeightPlaceHolder",
a))},_setTextAlignPlaceHolderAttr:function(a){this.alignement&&void 0!==a&&(this.alignement.set("placeHolder",a),this._set("textAlignPlaceHolder",a))},_getValueAttr:function(){var a=this.inherited(arguments);void 0!==a.fontSize&&/^\d+(?:\.\d+)?$/.test(a.fontSize)&&(a.fontSize+="px");return a}})})},"ebPlatformWidgets/Evento/Guests/ManageFieldsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/on dojo/Deferred dojo/request dojo/topic dojo/store/Memory dojo/store/Observable dojo/dnd/Manager dojo/dnd/Source dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/query dojo/string dojo/json dojo/text!./templates/ManageFieldsWidget.html dijit/form/Button dijit/form/FilteringSelect dijit/form/ValidationTextBox dijit/Tooltip dgrid/OnDemandGrid dgrid/Keyboard dgrid/Selection dgrid/extensions/DnD dgrid/editor put-selector/put app/utility ebPlatform/stato ebPlatform/commonDialogs ebPlatform/logger! ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Dialogs/SceltaLinguaDialogWidget ebPlatformWidgets/Dialogs/EditIntegerDialogWidget ./AddFieldDialogWidget ./ManageListValuesDialogWidget dojo/i18n dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q){return q([T],{templateString:G,baseClass:"manageFieldsWidget",hasToolbar:!0,mainTitleTooltip:Q.msgManageFieldsInstructions,appWidget:null,parentWidget:null,gridStore:null,gridCols:null,dddFieldDialogWidget:null,manageListValuesDialogWidget:null,sceltaLinguaDialogWidget:null,editIntegerDialogWidget:null,gridWidget:null,addFieldTopBtn:null,addFieldBottomBtn:null,messages:Q,commonMessages:Z,textFields:null,
listFields:null,newId:1,tipiCampo:[{tipo:"Testo libero",label:Q.lblManageFieldsGridFieldType_Testo_libero,email:!1,validSources:["Data","Id esterno","Lista"],addOnly:!1},{tipo:"Lista",label:Q.lblManageFieldsGridFieldType_Lista,email:!1,validSources:["Testo libero"],addOnly:!1},{tipo:"ListaMulti",label:Q.lblManageFieldsGridFieldType_ListaMulti,email:!1,validSources:[,"Lista"],addOnly:!0},{tipo:"Numero accompagnatori",label:Q.lblManageFieldsGridFieldType_Numero_accompagnatori,email:!1,validSources:[],
addOnly:!1},{tipo:"Email",label:Q.lblManageFieldsGridFieldType_Email,email:!0,validSources:[],addOnly:!1},{tipo:"Data",label:Q.lblManageFieldsGridFieldType_Data,email:!1,validSources:[],addOnly:!0},{tipo:"Id esterno",label:Q.lblManageFieldsGridFieldType_ID,email:!1,validSources:["Testo libero"],addOnly:!1},{tipo:"File",label:Q.lblManageFieldsGridFieldType_File,email:!1,validSources:[],addOnly:!0}],tipoStoreQuery:function(a){var b=this.tipo,d=this.includiNumeroAccompagnatori,e=this.valoriDuplicati,
f=!1;"Lista"==b&&this.mappaParametri&&this.mappaParametri.multiple&&this.mappaParametri.multiple&&(b="ListaMulti");return f=k.some(a.validSources,function(A){(A=A==b)&&("Numero accompagnatori"!=a.tipo||d?"Id esterno"==a.tipo&&e?A=!1:"Id esterno"==a.tipo&&"Numero accompagnatori"==b&&(A=!1):A=!1);return A})},tabIndexBase:1E3,daEliminare:null,postCreate:function(){this.inherited(arguments);this.stato.watch(a.hitch(this,function(a,b,d){d!=b&&"dirty"!=a&&this.stato.set("dirty",!0);"dirty"==a&&(1==d?this.appWidget.setMustSaveToContinueMode():
this.appWidget.resetMustSaveToContinueMode())}));this.addFieldTopBtn=new C({"class":"addFieldBtn",onClick:a.hitch(this,function(){this.addFieldDialogWidget.show({id:this.newId++,fields:this.gridWidget.get("store").data,tipoStore:new b({idProperty:"tipo",data:a.clone(this.tipiCampo)})})})},this.addFieldTopBtnNode);this.addFieldBottomBtn=new C({"class":"addFieldBtn",onClick:a.hitch(this,function(){this.addFieldDialogWidget.show({id:this.newId++,fields:this.gridWidget.get("store").data,tipoStore:new b({idProperty:"tipo",
data:a.clone(this.tipiCampo)})})})},this.addFieldBottomBtnNode);this.addFieldDialogWidget=new ea({parentWidget:this,title:Q.lblManageFieldsFieldAddedDialogTitle,style:"width:590px;"});this.manageListValuesDialogWidget=new H({title:Q.lblManageFieldsPopupAddItemsTip,style:"width:640px;"});this.initGrid();this.sceltaLinguaDialogWidget=new Y({lingue:null,onSelect:null});K.debug("this.sceltaLinguaDialogWidget",this.sceltaLinguaDialogWidget);this.editIntegerDialogWidget=new R({});h.subscribe("app_evento.set_mustSaveToContinue",
a.hitch(this,function(){this.parentWidget.headerToolbar.disableByCode("selectList");this.parentWidget.footerToolbar.disableByCode("selectList");this.parentWidget.headerSecondaryToolbar&&this.parentWidget.headerSecondaryToolbar.disableByCode("back",a.partial(aa.askUserToLeavePage,this.appWidget,a.hitch(this,function(){this.parentWidget.selectTab("manage_fields",{})})))}));h.subscribe("app_evento.reset_mustSaveToContinue",a.hitch(this,function(){this.parentWidget.headerToolbar.enableByCode("selectList");
this.parentWidget.footerToolbar.enableByCode("selectList");this.parentWidget.headerSecondaryToolbar&&this.parentWidget.headerSecondaryToolbar.enableByCode("back")}));var d=q([],{max:0,count:0,constructor:function(a){this.max=a.max;this.reset()},add:function(){return this.count++},remove:function(a){return this.count--},canAdd:function(){return this.max>this.count},reset:function(){this.count=0}});this.textFields=new d({max:F.commons.config.maxTextFields});this.listFields=new d({max:F.commons.config.maxListFields});
if(F.commons.permissions.hasPardot){var e=this;require(ebplatform.config.enableLoadBuilt?["built/pardot"]:[],function(){require(["ebPlatformWidgets/integration/pardot/MapFieldDialogWidget","dojo/i18n!ebPlatformWidgets/integration/pardot/nls/pardot"],function(a,b){e.pardotMapFieldWidget=new a({parentWidget:e,title:b.lblMapFieldDialogTitle})})})}},hasToLoadData:function(){return!0},loadData:function(){return f.get("/getEventFields.plp",{query:{idEvento:F.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},
processLoadedData:function(b){K.debug("processLoadedData",b);var d,e={};k.forEach(F.evento.stato.event_details.languages,function(a){e[a.idLingua]=ca.getLocalization("ebPlatform","commons",F.getLinguaById(a.idLingua,F.evento.stato.event_details.languages).dojoLocale)});this.listFields.reset();this.textFields.reset();k.forEach(b.data,a.hitch(this,function(a){"Nome"==a.fieldName||"Cognome"==a.fieldName?(d=[],k.forEach(F.evento.stato.event_details.languages,function(b){d.push({label:e[b.idLingua]["Nome"==
a.fieldName?"lblNome":"lblCognome"],lingua:{idLingua:b.idLingua}})}),a.labels=d):"Lista"==a.tipo?(this.listFields.add(),a.mappaParametri.multiple=!a.mappaParametri||"true"!=a.mappaParametri.multiple&&1!=a.mappaParametri.multiple?!1:!0):"Numero accompagnatori"!=a.tipo&&this.textFields.add()}));return{fields:b.data}},preProcessDataToBePosted:function(b){K.debug("dataObj",b);var d=null;this.stato.get("dirty")&&(d=this.gridStore.query({nuovo:!0}),k.forEach(b.fields,a.hitch(this,function(a){var b=this.gridStore.get(a.origName);
b?(a.posizione=b.posizione,a.nuovo=a.nuovo||b.nuovo,a.modificato=!a.nuovo&&(a.modificato||b.modificato)):0<a.idCustomField&&K.warn("non trovo ",a)})));b=b.fields||[];d&&d.forEach(function(a){b.push(a)});K.debug("dataObj",b)},aggiornaUI:function(){this.daEliminare=[];return this.inherited(arguments).then(a.hitch(this,function(){K.debug("[ManageFieldsWidget]  AGGIORNA UI");this.loadGridData();h.publish("ManageFieldsWidget.aggiornaUI.end",{})}),a.hitch(this,function(){K.warn("ManageFieldsWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){J.hideLoading()})},
initGrid:function(){this.gridStore=new r(new b({stato:this.stato,idProperty:"origName",remove:function(d){K.debug("remove",d);k.forEach(this.data,a.hitch(this,function(a){a.posizione>this.data[this.index[d]].posizione&&(--a.posizione,a.nuovo||(a.modificato=!0))}));return b.prototype.remove.call(this,d)},put:function(a,d){K.debug("put",a,d);var e=null;if(d){var A=this.data,f=this.index,h=a[this.idProperty];void 0===a.posizione&&(a.posizione=1E3);e=h;h in f&&(K.debug("rimuovo",h,f[h]),A.splice(f[h],
1));if(d.before){for(var h=d.before[this.idProperty],k=-1,O=0;O<A.length&&0>k;O++)A[O][this.idProperty]==h&&(K.debug("trovato before",h,O),k=O);-1<k?(A.splice(k,0,a),K.debug("infilo",a.fieldName,O)):K.debug("err",h)}else O=A.push(a),K.debug("infilo (last)",a.fieldName,O-1);for(O=0;O<A.length;O++)h=A[O][this.idProperty],f[h]=O,K.debug("index",h,f[h]),0<=A[O].posizione?A[O].posizione!=O-1&&(K.debug("rinumero",A[O].fieldName,A[O].posizione,O-1),A[O].posizione=O-1,A[O].nuovo||(A[O].modificato=!0)):K.debug("non rinumero",
A[O].fieldName,A[O].posizione);this.stato.set("dirty",!0);a.nuovo||(a.modificato=!0);void 0===a._posizione&&(a._posizione=a.posizione)}else e=b.prototype.put.call(this,a,d);return e}}));this.gridWidget=(new q([v,S,d,M]))({dndSourceType:"draggable",store:this.gridStore,rowsPerPage:20,columns:[],sort:[{attribute:"posizione",descending:!1}],selectionMode:"single",allowTextSelection:!0,dndParams:{withHandles:!0,onDndStart:function(a,b,e){a==this&&(d.GridSource.prototype.onDndStart.call(this,a,b,e),x.add(m.manager().avatar.node,
"manageFieldsDnd"))},onDndDrop:function(a,b,e,f){a==this&&d.GridSource.prototype.onDndDrop.call(this,a,b,e,f)},onMouseMove:function(a){this.current&&(d.GridSource.prototype.onMouseMove.call(this,a),this.isDragging&&this.targetAnchor&&x.contains(this.targetAnchor,"notarget")&&m.manager().canDrop(!1))}}},this.gridNode);this.gridWidget.startup();this.gridWidget.on("dgrid-datachange",a.hitch(this,function(a){var b=this.gridWidget.row(a),d=this.gridWidget.cell(a);if("fieldName"==d.column.field)this.aggiornaNomeCampo(b.data._posizione,
e,a.value);else{var e=d.column.id;K.debug("EDITATA ",d,"Nuovo valore:",a.value);this.aggiornaLabelCampo(b.data._posizione,e,a.value)}}));var e=this.tabIndexBase;this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(a){new E({connectId:this.gridNodeContainer,selector:".default.labelsListaBtnContainer",label:Q.lblManageFieldsPopupAddItemsTip});z(".dgrid-row.lastRow",a.grid.contentNode)&&0<z(".dgrid-row.lastRow",a.grid.contentNode).length&&x.remove(z(".dgrid-row.lastRow",a.grid.contentNode)[0],
"lastRow");z(".dgrid-row",a.grid.contentNode)&&0<z(".dgrid-row",a.grid.contentNode).length&&x.add(z(".dgrid-row",a.grid.contentNode)[z(".dgrid-row",a.grid.contentNode).length-1],"lastRow");var b=1;z(".dgrid-input, [widgetid]",a.grid.contentNode).forEach(function(a){w.set(a,"tabIndex",e+ ++b)})}));this.gridWidget.on("dgrid-editor-show",a.hitch(this,function(a){this.editing=this.gridWidget.row(a).data}));this.gridWidget.on("dgrid-editor-hide",a.hitch(this,function(a){this.gridWidget.row(a);delete this.editing}));
n.after(this.gridWidget,"renderRow",function(a,b){"Nome"!=b[0].origName&&"Cognome"!=b[0].origName||x.add(a,"notarget");return a})},loadGridData:function(){var d=a.hitch(this,function(a,b,d){return d.appendChild(D.create("div",0<=a.posizione?{"class":"dndico dojoDndHandle"}:{}))}),A=a.hitch(this,function(b,d,A){d=D.create("div");A=A.appendChild(d);if("Nome"!=b.origName&&"Cognome"!=b.origName&&"Id esterno"!=b.tipo&&"Numero accompagnatori"!=b.tipo||"Email"==b.tipo&&F.evento.statoCalcolato.listaInvitatiCaricata)d=
D.create("div",{},d),d=new C({"class":"deleteFieldBtn",iconClass:"deleteFieldBtn",label:"",onClick:a.hitch(this,function(){var d=new e;b.nuovo?d.resolve():void 0===b.utilizzato?(J.showLoading(),f.post("/getEventFieldInfo.plp",{data:{idEvento:F.evento.stato.idEvento,jsonData:t.stringify(b)},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){J.hideLoading();"OK"==(a.result||a).resultCode?(b.valoriDuplicati=a.data.valoriDuplicati,b.utilizzato=
a.data.utilizzato,d.resolve()):d.reject()}),a.hitch(this,function(a){d.reject();J.hideLoading()}))):d.resolve();d.promise.then(a.hitch(this,function(){var a=Q.msgManageFieldsWarningDeleteField;b.utilizzato&&(a=Q.msgManageFieldsWarningDeleteReferencedField);J.setUpConfirmDialog(X.footerInc.lblWarningMsgDialogTitle,a,this,function(a){if(a=this.gridWidget.row(b)){this.gridWidget.get("store").remove(a.id);for(var d=this.stato.get("fields"),e=0;e<d.length;e++)d[e].fieldName==a.id&&("Lista"==d[e].tipo?
this.listFields.remove():"Numero accompagnatori"!=d[e].tipo&&this.textFields.remove(),d.splice(e,1));a.nuovo||(this.daEliminare.push(a.data.idCustomField),this.stato.set("dirty",!0))}});J.showConfirm()}),a.hitch(this,function(a){d.reject();J.hideLoading();J.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)}))})},d),b.utilizzatoInFiltri?(d.set("disabled",!0),new E({connectId:d.domNode,label:Q.msgManageFieldsWarningFilterField})):d.set("disabled",!1);return A}),
h=a.hitch(this,function(d,A,h,U){"Lista"==A&&d.mappaParametri&&d.mappaParametri.multiple&&d.mappaParametri.multiple&&(A="ListaMulti");if("Nome"==d.origName||"Cognome"==d.origName||"Email"==d.tipo||"Lista"==d.tipo&&!d.listaCustom||"Numero accompagnatori"==d.tipo||"Data"==d.tipo&&F.evento.statoCalcolato.listaInvitatiCaricata||"File"==d.tipo)N(h,"label",Q["lblManageFieldsGridFieldType_"+A.replace(" ","_")]);else if(d.utilizzatoInFiltri||d.mappaParametri&&void 0!==d.mappaParametri.multiple&&d.mappaParametri.multiple)N(h,
"label.configurable",Q["lblManageFieldsGridFieldType_"+A.replace(" ","_")]),C({showLabel:!1,iconClass:"fa fa-cog",onClick:a.hitch(this,function(){this.manageListValuesDialogWidget.show({campoLista:this.getFieldDaStatoByPosizione(d._posizione),stato:this.stato})})},N(h,"div"));else{U=new b({idProperty:"tipo",data:this.tipiCampo});var O={},O=new p({_query:{addOnly:!1,email:!1},query:a.hitch(d,this.tipoStoreQuery),store:U,searchAttr:"label",value:A||"Testo libero"},N(h,"div")),v=C({showLabel:!1,iconClass:"fa fa-cog",
onClick:a.hitch(this,function(){this.manageListValuesDialogWidget.show({campoLista:this.getFieldDaStatoByPosizione(d._posizione),stato:this.stato})})},N(O.domNode,"+div"));"Lista"!=d.tipo&&x.add(v.domNode,"dijitHidden");O.onChange=a.hitch(this,function(b){if("Id esterno"==b){var A=new e;null==d.valoriDuplicati?(J.showLoading(),f.post("/getEventFieldInfo.plp",{data:{idEvento:F.evento.stato.idEvento,jsonData:t.stringify(d)},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){J.hideLoading();"OK"==(a.result||a).resultCode?(d.valoriDuplicati=a.data.valoriDuplicati,d.utilizzato=a.data.utilizzato,A.resolve()):A.reject()}),a.hitch(this,function(a){A.reject();J.hideLoading()}))):A.resolve();A.promise.then(a.hitch(this,function(){d.valoriDuplicati?(J.showInfoWithCloseButton(Q.msgManageFieldsWarningValoriDuplicati,X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton),O.set("value",d.tipo,!1)):(x.add(v.domNode,"dijitHidden"),this.aggiornaTipo(d._posizione,b))}),a.hitch(this,
function(a){A.reject();J.hideLoading();J.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)}))}else{var h=d.tipo;d.tipo=b;this.aggiornaTipo(d._posizione,b);if("Lista"==h&&"Lista"!=b&&"ListaMulti"!=b&&1<F.evento.stato.event_details.languages.length){K.debug("this.sceltaLinguaDialogWidget",this.sceltaLinguaDialogWidget);if(!this.sceltaLinguaDialogWidget.lingue){var U=k.map(F.evento.stato.event_details.languages,function(a){var b=F.getLinguaById(a.idLingua);return{idLingua:a.idLingua,
nome:b.nome,disponibile:!0}});this.sceltaLinguaDialogWidget.lingue=U}d.mappaParametri.shortValues?-1!=this.sceltaLinguaDialogWidget.lingue[0].idLingua&&this.sceltaLinguaDialogWidget.lingue.unshift({idLingua:-1,nome:Q.lblManageFieldsPopupGridFieldValue,disponibile:!0}):-1==this.sceltaLinguaDialogWidget.lingue[0].idLingua&&this.sceltaLinguaDialogWidget.lingue.shift();this.sceltaLinguaDialogWidget.onSelect=a.hitch(this,function(a,b){this.sceltaLinguaDialogWidget.hide();this.getFieldDaStatoByPosizione(a).toTestoIdLingua=
b},d._posizione);this.sceltaLinguaDialogWidget.visualizzaScelte({titolo:Q.msgManageFieldsScegliLinguaDialogTitle,testo:Q.msgManageFieldsScegliLinguaDialogText,onHide:a.hitch(this,function(){this.getFieldDaStatoByPosizione(d._posizione).toTestoIdLingua||(this.aggiornaTipo(d._posizione,"Lista"),O.set("value","Lista"))})})}"Lista"!=b&&"ListaMulti"!=b||"Lista"!=h&&"ListaMulti"!=h?x.add(v.domNode,"dijitHidden"):x.remove(v.domNode,"dijitHidden");"Lista"==d.tipo?(this.listFields.add(),this.textFields.remove()):
(this.listFields.remove(),this.textFields.add())}});O.startup()}if(F.commons.permissions.hasPardot&&(x.add(h,"pardot"),"Nome"!=d.origName&&"Cognome"!=d.origName)){var m=this;C({showLabel:!1,iconClass:"fa fa-cloud pardot"+(d.mappaParametri&&d.mappaParametri.pardot?" mapped":""),onClick:function(){var a=this.iconNode;m.pardotMapFieldWidget.show({config:d.mappaParametri?d.mappaParametri.pardot:null,callback:function(b){d.modificato=!d.nuovo;m.stato.set("dirty",!0);b?(d.mappaParametri=d.mappaParametri||
{},d.mappaParametri.pardot=b):d.mappaParametri&&delete d.mappaParametri.pardot;x[b?"add":"remove"](a,"mapped")}})}},N(h,"div"))}}),v=this,U=this.gridWidget,m=[{id:"posizione",label:"",field:"posizione",renderCell:d,sortable:!1},{id:"actions",label:"",field:"actions",renderCell:A,sortable:!1},L({id:"fieldName",label:Q.lblManageFieldsGridFieldName,field:"fieldName",editor:I,editorArgs:{value:null,required:!0,trim:!0,regExp:"^[\\w\u00c0-\u00ff\u0100-\u017f\u0400-\u04ff\\d\\_\\-\\s+\\(\\)\x3c\x3e#\"\u20ac\u00a3$%\x26\x3d\\?'\u00b0*@,.]{1,50}$",
_pattern:function(){var a="",b="^",d=this._dgridLastValue;U.get("store").data&&0<U.get("store").data.length&&U.get("store").data.fieldName!=d&&(b="^(?!",k.forEach(U.get("store").data,function(e){e.fieldName!=d&&(b+=a+"^"+e.fieldName.toLowerCase()+"$",a="|")}),b+=")");return b+="[\\w\u00c0-\u00ff\u0100-\u017f\u0400-\u04ff\\d\\_\\-\\s+\\(\\)\x3c\x3e#\"\u20ac\u00a3$%\x26\x3d\\?'\u00b0*@,.]{1,50}"},validator:function(a,b){var d=I.prototype.validator.call(this,a,b);if(v.editing&&d){var e=U.get("store").query(function(b){var d=
!1;a&&b&&b.fieldName&&(d=a.trim().toLowerCase()==b.fieldName.trim().toLowerCase());return d});1<e.length?d=!1:1==e.length&&(d=v.editing.idCustomField==e[0].idCustomField);d||J.showInfoWithCloseButton(Q.msgValoreGiaPresente,X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton)}return d}},editOn:"dblclick",canEdit:function(a,b){return"Nome"!=a.origName&&"Cognome"!=a.origName&&"Email"!=a.tipo},sortable:!1}),{id:"tipo",label:Q.lblManageFieldsGridFieldType,field:"tipo",className:F.commons.permissions.hasPardot?
"pardot":"",renderCell:h,sortable:!1}];k.forEach(F.evento.stato.event_details.languages,function(a){var b=F.getLinguaById(a.idLingua),d="";F.evento.stato.event_details.languages&&1<F.evento.stato.event_details.languages.length&&(d=" "+b.iso639_1.toUpperCase());m.push(L({id:b.idLingua,label:Q.lblManageFieldsGridLabel+d,field:"label_"+a.idLingua,canEdit:function(a,b){return"Nome"!=a.origName&&"Cognome"!=a.origName},autoSave:!0,sortable:!1},"Text"))});this.gridCols=m;d=k.map(this.stato.get("fields"),
function(a){var b,d;"Nome"==a.fieldName?(b=Z.lblNome,d=-2):"Cognome"==a.fieldName?(b=Z.lblCognome,d=-1):(b="Numero accompagnatori"==a.tipo?Q.lblManageFieldsGridFieldType_Numero_accompagnatori:a.origName,d=a.posizione);var e={origName:a.origName||a.fieldName,fieldName:b,idCustomField:a.idCustomField,posizione:d,_posizione:d,tipo:a.tipo||"Testo libero",utilizzatoInFiltri:a.utilizzatoInFiltri,listaCustom:a.listaCustom,mappaParametri:a.mappaParametri,valoriDuplicati:a.valoriDuplicati,indiceCustomField:a.indiceCustomField,
indiceIdValore:a.indiceIdValore,labels:a.labels,valoriLista:a.valoriLista};k.forEach(a.labels,function(a){e["label_"+a.lingua.idLingua]=a.label;e["idlabel_"+a.lingua.idLingua]=a.idCustomFieldLabel});return e});K.debug("storeData",d);this.gridStore.setData(d);this.gridWidget.set("columns",this.gridCols);y.set(this.gridNode,"width",563+220*F.evento.stato.event_details.languages.length+"px");this.gridWidget.refresh()},getFieldDaStatoByPosizione:function(b){var d=null;k.forEach(this.stato.get("fields"),
a.hitch(this,function(a){a.posizione==b&&(d=a)}));return d},aggiornaNomeCampo:function(a,b,d){if(a=this.getFieldDaStatoByPosizione(a))a.fieldName=d,a.nuovo||(a.modificato=!0),this.stato.set("dirty",!0)},aggiornaLabelCampo:function(b,d,e){if(b=this.getFieldDaStatoByPosizione(b)){if(b.labels){var A=!1;k.forEach(b.labels,a.hitch(this,function(a){a.lingua.idLingua==d&&(a.label=e,A=!0)}));A||b.labels.push({idCustomFieldLabel:0,label:e,lingua:{idLingua:parseInt(d)}})}else b.labels=[{idCustomFieldLabel:0,
label:e,lingua:{idLingua:parseInt(d)}}];b.nuovo||(b.modificato=!0);this.stato.set("dirty",!0)}},aggiornaTipo:function(a,b){var d=this.getFieldDaStatoByPosizione(a);d&&(d.nuovo||(d.modificato=!0),"ListaMulti"==b?(d.tipo="Lista",d.mappaParametri=d.mappaParametri||{},d.mappaParametri.multiple=!0,delete d.mappaParametri.render):(d.tipo=b,d.mappaParametri=d.mappaParametri||{},d.mappaParametri.multiple=!1),K.debug("aggiornaTipo: ",b,d),"Lista"==d.tipo?d.valoriLista||(d.valoriLista=[]):delete d.mappaParametri.multiple,
this.stato.set("dirty",!0))},aggiungiCampo:function(a,b){console.log("aggiungiCampo",a,b);"Lista"==a.tipo?this.listFields.add():"Numero accompagnatori"!=a.tipo&&this.textFields.add();this.gridStore.put(a,{before:this.gridStore.query({idCustomField:b})[0]});this.stato.set("dirty",!0);this.gridWidget.refresh();var d=0;k.forEach(F.evento.stato.event_details.languages,function(b){a.labels[d++]={idCustomFieldLabel:0,label:a["label_"+b.idLingua],lingua:b}})},save:function(){var b=0;k.forEach(this.stato.get("fields"),
function(a){"Id esterno"==a.tipo&&b++});1<b?J.showInfoWithCloseButton(Q.msgManageFieldsMaxFieldsIdEsterno,X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton):this.listFields.count>this.listFields.max&&this.textFields.count>this.textFields.max?J.showInfoWithCloseButton(B.substitute(Q.msgManageFieldsMaxFields,{maxText:this.textFields.max,maxList:this.listFields.max}),X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton):this.listFields.count>this.listFields.max?J.showInfoWithCloseButton(B.substitute(Q.msgManageFieldsMaxFieldsList,
{maxText:this.textFields.max,maxList:this.listFields.max}),X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton):this.textFields.count>this.textFields.max?J.showInfoWithCloseButton(B.substitute(Q.msgManageFieldsMaxFieldsText,{maxText:this.textFields.max,maxList:this.listFields.max}),X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton):this.validate()?(this.newId=1,this.salvaStato("/updateEventFields.plp","jsonData",{idEvento:F.evento.stato.idEvento,trm:this.daEliminare}).then(a.hitch(this,function(a){a=
a.result||a;J.hideLoading();"OK"!=a.resultCode&&J.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)})),a.hitch(this,function(a){J.hideLoading();J.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)})):J.showInfoWithCloseButton(Q.msgManageFieldsInvalidListaCampi,X.footerInc.lblWarningMsgDialogTitle,Z.lblOKButton)},validate:function(){var a=!0,a=a&&!!this.gridStore.data&&0<this.gridStore.data.length;k.forEach(this.gridStore.data,
function(b){k.forEach(F.evento.stato.event_details.languages,function(d){if(null==b["label_"+d.idLingua]||""==b["label_"+d.idLingua].trim())a=!1})});return a},postCommit:function(){this.aggiornaUI()}})})},"ebPlatformWidgets/Evento/EventSummary/EventSummaryWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/request dojo/topic dojo/dom-style dojo/dom-construct dojo/date dojo/date/locale dojo/text!./templates/EventSummaryWidget.html dojox/gfx dojox/charting/Chart dojox/charting/themes/Claro dojox/charting/plot2d/Pie dijit/form/Button ebPlatform/stato ebPlatform/logger! ebPlatform/commonDialogs ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Evento/Communication/MailAggiornaStatsWidget ebPlatformWidgets/Chart/Funnel ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/EbPlatformWidgetHelper dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Communication/nls/MailStatisticheWidget dojo/i18n!./nls/EventSummaryWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d){return q([G],{templateString:m,baseClass:"eventSummaryWidget",appWidget:null,parentWidget:null,hasToolbar:!0,stato:null,coloriPie:["red","green","blue"],dependsOnWidgetsData:["event_details"],chartWidget:null,chartNode:null,registratiDettagliChartWidget:null,partecipantiDettagliChartWidget:null,aggiornaStatsWidget:null,mailStatsBtn:null,messages:d,commonMessages:M,testi:S,getToolbarConfig:function(){return{buttons:[{type:"dijit/form/Button",
options:{code:"eventSummary.refreshButton",label:"",action:a.hitch(this,this.aggiornaUI),"class":"refreshButton"}}]}},getHeaderToolbar:function(){this.headerToolbar||(this.headerToolbar=new I({toolbarConfig:this.getToolbarConfig()}));return this.headerToolbar},getFooterToolbar:function(){this.footerToolbar||(this.footerToolbar=new I({toolbarConfig:this.getToolbarConfig()}));return this.footerToolbar},postCreate:function(){this.inherited(arguments);this.registratiSwitchWidget=new E({title:d.lblRegistratiDettaglio,
dropDown:this.registratiContainerNode,opened:!1,onOpenDropDown:a.hitch(this,function(){this.registratiDettagliChartWidget&&this.registratiDettagliChartWidget.destroy();this.registratiDettagliChartWidget=this.creaPieChart([{x:1,color:this.coloriPie[0],y:this.stato.iscritti_da_form_nominativo},{x:1,color:this.coloriPie[1],y:this.stato.iscritti_da_form_generico},{x:1,color:this.coloriPie[2],y:this.stato.iscritti_da_be},{x:1,color:this.coloriPie[3],y:this.stato.iscritti_da_import_massivo}],this.registratiDettagliChartNode)})},
this.registratiBtnNode);this.partecipantiSwitchWidget=new E({title:d.lblPartecipantiDettaglio,dropDown:this.partecipantiContainerNode,opened:!1,onOpenDropDown:a.hitch(this,function(){this.partecipantiDettagliChartWidget&&this.partecipantiDettagliChartWidget.destroy();this.partecipantiDettagliChartWidget=this.creaPieChart([{x:1,color:this.coloriPie[0],y:this.stato.partecipanti_registrati},{x:1,color:this.coloriPie[1],y:this.stato.partecipanti_invitati_non_registrati},{x:1,color:this.coloriPie[2],y:this.stato.partecipanti_inseriti_da_app}],
this.partecipantiDettagliChartNode)})},this.partecipantiBtnNode);this.disponibilitaSwitchWidget=new E({title:d.lblDisponibilitaDettaglio,dropDown:this.disponibilitaContainerNode,opened:!1,onOpenDropDown:a.hitch(this,function(){})},this.disponibilitaBtnNode);e.subscribe(this.appWidget.mainStackContainer.get("id")+"-selectChild",a.hitch(this,function(a){"tab_event_summary"==a.id&&(this.registratiDettagliChartWidget&&this.registratiDettagliChartWidget.resize(150,150),this.partecipantiDettagliChartWidget&&
this.partecipantiDettagliChartWidget.resize(150,150))}));this.aggiornaStatsWidget=new C({},this.aggiornaStatisticheNode)},hasToLoadData:function(){return!0},loadData:function(){return l.get("/getDatiEventSummary.plp",{query:{idEvento:z.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,function(){this.aggiornaGrafici();this.registratiSwitchWidget.openDropDown();this.partecipantiSwitchWidget.openDropDown();
this.disponibilitaSwitchWidget.openDropDown();this.aggiornaStatsWidget.init("INVITO",z.evento.stato.idEvento,null,null,a.hitch(this,this.reloadDati));this.aggiornaDisponibilita()}),a.hitch(this,function(){B.debug("EventDetailsWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){t.hideLoading()})},reloadDati:function(){var b=new n;v.loadDataIfNeeded(this,b);b.promise.then(a.hitch(this,function(){this.aggiornaGrafici()}));b.promise.always(function(){t.hideLoading()})},aggiornaGrafici:function(){var a=
0,b=0,e=0,f=0,k=this.stato.iscritti_da_be+this.stato.iscritti_da_form_generico+this.stato.iscritti_da_form_nominativo+this.stato.iscritti_da_import_massivo,v=this.stato.partecipanti;this.stato.datiInvito&&this.stato.datiInvito.Consegnate&&(a=this.stato.datiInvito.Consegnate,b=a+this.stato.datiInvito.HardBounce+this.stato.datiInvito.SoftBounce+this.stato.datiInvito.OtherError,e=this.stato.datiInvito.Aperte,f=this.stato.datiInvito.Cliccate);this.chartWidget&&this.chartWidget.destroyRecursive(!1);this.chartNode=
h.create("div",{},this.chartNodeContainer);this.chartWidget=new p({labelWidth:400,chartWidth:300,height:300,items:[{label:d.lblEmailInvitoSpedite,value:b},{label:d.lblEmailInvitoConsegnate,value:a},{label:d.lblEmailInvitoAperte,value:e},{label:d.lblEmailInvitoClickate,value:f},{label:d.lblRegistrati,value:k},{label:d.lblPartecipanti,value:v}]},this.chartNode);this.registratiDaFormNominativoNode.innerHTML=this.stato.iscritti_da_form_nominativo?this.stato.iscritti_da_form_nominativo:0;this.registratiDaFormGenericoNode.innerHTML=
this.stato.iscritti_da_form_generico?this.stato.iscritti_da_form_generico:0;this.registratiDaBENode.innerHTML=this.stato.iscritti_da_be?this.stato.iscritti_da_be:0;this.registratiDaImportMassivoNode.innerHTML=this.stato.iscritti_da_import_massivo?this.stato.iscritti_da_import_massivo:0;this.registratiTotNode.innerHTML=k?k:0;this.partecipantiRegistratiNode.innerHTML=this.stato.partecipanti_registrati?this.stato.partecipanti_registrati:0;this.partecipantiInvitatiNonRegistratiNode.innerHTML=this.stato.partecipanti_invitati_non_registrati?
this.stato.partecipanti_invitati_non_registrati:0;this.partecipantiInseritiDaAppDaBENode.innerHTML=this.stato.partecipanti_inseriti_da_app?this.stato.partecipanti_inseriti_da_app:0;this.partecipantiTotNode.innerHTML=v?v:0;this.nonInteressatiTotNode.innerHTML=this.stato.non_interessati?this.stato.non_interessati:0;this.cancellatiTotNode.innerHTML=this.stato.iscritti_cancellati?this.stato.iscritti_cancellati:0},creaPieChart:function(a,b){var d=null,d=new w(b);d.setTheme(D);d.addPlot("default",{type:y,
radius:70,fontColor:"white",labelOffset:25});d.addSeries("principale",a);d.render();return d},aggiornaDisponibilita:function(){var b=this.stato.get("date"),d=null,e=!1,v,m,p;k.forEach(b,a.hitch(this,function(b){k.forEach(b.fasce,a.hitch(this,function(a){a.capienza&&(e=!0)}))}));e?(m=this.stato.get("msgPostiDisponibili"),f.set(this.disponibilitaAccordionContainer,"display","block"),h.empty(this.disponibilitaDettagliChartContainerNode),k.forEach(b,a.hitch(this,function(b){d=h.create("div",{"class":"dataData"},
this.disponibilitaDettagliChartContainerNode);h.create("strong",{innerHTML:r.format(new Date(b.dataEventoUTC),{selector:"date"})},d);k.forEach(b.fasce,a.hitch(this,function(a){a.descrizione&&h.create("span",{"class":"titoloFascia",innerHTML:a.descrizione},this.disponibilitaDettagliChartContainerNode);d=h.create("div",{"class":"rigaData"},this.disponibilitaDettagliChartContainerNode);h.create("span",{"class":"orariFascia",innerHTML:r.format(new Date(a.oraInizioUTC),{selector:"time"})+" - "+r.format(new Date(a.oraFineUTC),
{selector:"time"})},d);a.capienza&&(d=h.create("span",{"class":"numeroPostiDisponibili",innerHTML:m+": "},d),p="green",0>=a.capienza-a.numIscritti&&(p="red"),v=a.capienza-a.numIscritti+"/"+a.capienza,h.create("span",{"class":p,innerHTML:v},d))}))}))):f.set(this.disponibilitaAccordionContainer,"display","none")}})})},"ebPlatformWidgets/Chart/Funnel":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojox/gfx dojox/lang/functional dijit/_WidgetBase".split(" "),function(q,a,k,n,
l,e){return q([e],{labelWidth:500,chartWidth:400,height:400,items:null,fontFamily:"encodesans, Arial, Helvetica, sans-serif",fontSize:"18px",chartFontSize:"24px",colors:"#9DAF72 #566047 #562F32 #462D44 #859731 #640E27".split(" "),postCreate:function(){var e=n.createSurface(this.domNode,this.labelWidth+this.chartWidth,this.height),h=this.getNormalizedValues();if(this.items){var b=this.height/this.items.length,r=this.labelWidth+this.chartWidth/2;k.forEach(this.items,a.hitch(this,function(a,f){var k=
f*b;e.createText({x:this.labelWidth-10,y:k+b/2+parseInt(this.fontSize)/3,text:a.label,align:"end"}).setFont({family:this.fontFamily,size:this.fontSize,weight:"normal"}).setFill("black");var m=h[f].dxUp,l,x,u,n;n=h[f].dxDown;l=r-m;x=r+m;u=r+n;n=r-n;0<m&&e.createPolyline([{x:l,y:k},{x:x,y:k},{x:u,y:k+b},{x:n,y:k+b},{x:l,y:k}]).setFill({type:"linear",x1:0,y1:k,x2:0,y2:k+b,colors:[{offset:0,color:this.colors[f]},{offset:1,color:this.shadeColor1(this.colors[f],30)}]}).setStroke("white");e.createText({x:r,
y:k+b/2+parseInt(this.chartFontSize)/3,text:a.value?a.value:0,align:"middle"}).setFont({family:this.fontFamily,size:this.chartFontSize,weight:"normal"}).setFill(0<m?"white":"black")}))}},getNormalizedValues:function(){var e=this.items.length,h=this.items[0].value,h=l.reduce(this.items,function(a,b){return a.value>b.value?{value:a.value}:{value:b.value}},{value:0}),h=h.value,b=k.map(this.items,a.hitch(this,function(a,b){var f=a.value/h*(this.chartWidth/2),k=f;b<e-1&&(k=this.items[b+1].value/h*(this.chartWidth/
2));return{dxUp:f,dxDown:k,value:a.value}})),r=0;k.forEach(b,a.hitch(this,function(a,b){var e=1+parseInt(Math.log(a.value)/Math.LN10),e=parseInt(this.chartFontSize)*e,f=a.dxDown+a.dxUp;2*f<e&&(r=Math.max(r,e-2*f))}));0<r&&k.forEach(b,a.hitch(this,function(a,b){a.dxUp<this.chartWidth/2&&0<a.dxUp&&(a.dxUp+=r/2);a.dxDown<this.chartWidth/2&&(a.dxDown+=r/2)}));return b},shadeColor1:function(a,e){var b=parseInt(a.slice(1),16),f=Math.round(2.55*e),h=(b>>16)+f,k=(b>>8&255)+f,b=(b&255)+f;return"#"+(16777216+
65536*(255>h?1>h?0:h:255)+256*(255>k?1>k?0:k:255)+(255>b?1>b?0:b:255)).toString(16).slice(1)}})})},"ebPlatformWidgets/Evento/EventDetails/DatesTimeSlotsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-attr dojo/dom-class dojo/topic dojo/date/locale dojo/window dojo/text!./templates/DatesTimeSlotsWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/layout/ContentPane dijit/form/RadioButton ebPlatformWidgets/CustomTooltip ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ./DateWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventDetailsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p){return q([m,u],{mouseAnim:null,templateString:r,baseClass:"datesTimeSlotsWidget",parentWidget:null,value:null,stato:null,datesEsclusiveWidget:null,datesNotEsclusiveWidget:null,datesExclusivenessTooltip:null,timeSlotsExclusiveWidget:null,timeSlotsNotExclusiveWidget:null,timeSlotsExclusivenessTooltip:null,datesTimeSlotsContainerWidget:null,messages:p,postCreate:function(){this.inherited(arguments);n.set(this.domNode,"position","relative");this.datesEsclusiveWidget=
new D({name:"_datesEsclusiveness",value:!0,onChange:a.hitch(this,function(){this.stato.set("datesEsclusiveness",this.datesEsclusiveWidget.get("checked"))})},this.datesEsclusiveNode);this.datesNotEsclusiveWidget=new D({name:"_datesEsclusiveness",value:!1},this.datesNotEsclusiveNode);this.timeSlotsExclusiveWidget=new D({name:"_timesEsclusiveness",value:!0,onChange:a.hitch(this,function(){this.stato.set("timeSlotsEsclusiveness",this.timeSlotsExclusiveWidget.get("checked"))})},this.timeSlotsExclusiveNode);
this.timeSlotsNotExclusiveWidget=new D({name:"_timesEsclusiveness",value:!1},this.timeSlotsNotExclusiveNode);this.datesTimeSlotsContainerWidget=new w({_setReadOnlyAttr:function(a){this.getChildren().forEach(function(b){e.contains(b.domNode,"dijitButton")?b.set("disabled",a):b.set("readOnly",a)})}},this.datesTimeSlotsContainerNode);l.set(this.datesEsclusivenessTooltipNode,"id",this.id+"_datesEsclusivenessTooltip");l.set(this.timeSlotsEsclusivenessTooltipNode,"id",this.id+"_timeSlotsEsclusivenessTooltip");
f.subscribe("TimeSlotWidget.Update",a.hitch(this,function(a){"add"!=a.updateType&&"remove"!=a.updateType||this.aggiornaVisibilitaExclusiveness();this.stato.set("dirty",!0)}));f.subscribe("DatesTimeSlotsWidget.DateUpdate",a.hitch(this,function(a){"add"!=a.updateType&&"remove"!=a.updateType||this.aggiornaVisibilitaExclusiveness();this.stato.set("dirty",!0)}))},_setDisabledAttr:function(a){a?e.add(this.domNode,"hideWithMask"):e.remove(this.domNode,"hideWithMask")},_setReadOnlyAttr:function(a){this.inherited(arguments);
this.getChildren().forEach(function(b){e.contains(b.domNode,"dijitButton")?b.set("disabled",a):b.set("readOnly",a)})},aggiornaUI:function(){this.datesEsclusiveWidget.set("checked",this.stato.get("datesEsclusiveness"));this.datesNotEsclusiveWidget.set("checked",!this.stato.get("datesEsclusiveness"));this.timeSlotsExclusiveWidget.set("checked",this.stato.get("timeSlotsEsclusiveness"));this.timeSlotsNotExclusiveWidget.set("checked",!this.stato.get("timeSlotsEsclusiveness"));this.datesTimeSlotsContainerWidget.destroyDescendants();
var e=null;k.forEach(this.stato.dates,a.hitch(this,function(b,f){var h=new t({stato:a.mixin(b,{internalId:f}),parentWidget:this});this.datesTimeSlotsContainerWidget.addChild(h);h.aggiornaUI();b.focus&&(e=h);delete b.focus}));this.aggiornaVisibilitaExclusiveness();e&&b.scrollIntoView(e.domNode)},aggiornaVisibilitaExclusiveness:function(){var a=!!this.stato.dates&&1<this.stato.dates.length,b=k.some(this.stato.dates,function(a){return!!a.timeSlots&&1<a.timeSlots.length});a?(n.set(this.datesEsclusivenessNode,
"display","table-row"),this.createDatesExclusivenessTooltip()):n.set(this.datesEsclusivenessNode,"display","none");b?(n.set(this.timeSlotsEsclusivessNode,"display","table-row"),this.createTimeSlotsExclusivenessTooltip()):n.set(this.timeSlotsEsclusivessNode,"display","none");a||b?n.set(this.boxResistrazioneEsclusivaNode,"display","block"):n.set(this.boxResistrazioneEsclusivaNode,"display","none");this.parentWidget.resizeContainer&&this.parentWidget.resizeContainer()},createDatesExclusivenessTooltip:function(){this.datesExclusivenessTooltip||
(this.datesExclusivenessTooltip=new y({connectId:this.id+"_datesEsclusivenessTooltip",label:p.msgDatesExclusivenessTip}))},createTimeSlotsExclusivenessTooltip:function(){this.timeSlotsExclusivenessTooltip||(this.timeSlotsExclusivenessTooltip=new y({connectId:this.id+"_timeSlotsEsclusivenessTooltip",label:p.msgTimeSlotsExclusivenessTip}))},addDate:function(a){var b=a instanceof Date?h.format(a,{selector:"date",datePattern:"yyyy-MM-dd"}):a;if(k.some(this.stato.dates,function(a){return a.date==b}))return!1;
this.stato.dates.push({focus:!0,id:null,date:b,timeSlots:[{startTime:null,endTime:null,description:null,capacity:null,hideEndTime:!1}]});this.stato.dates.sort(function(a,b){var e=0;a.date>b.date?e=1:a.date<b.date?e=-1:a.date.startTime>b.date.startTime?e=1:a.date.startTime<b.date.startTime?e=-1:a.date.endTime>b.date.endTime?e=1:a.date.endTime<b.date.endTime&&(e=-1);return e});this.aggiornaUI();f.publish("DatesTimeSlotsWidget.DateUpdate",{updateType:"add"})},deleteDate:function(a){this.stato.dates=
k.filter(this.stato.dates,function(b){return b.internalId!=a});this.aggiornaUI();f.publish("DatesTimeSlotsWidget.DateUpdate",{updateType:"remove"})},editDate:function(a){this.parentWidget.editDate(a)},isThereAtLeastOneDate:function(){return!!this.stato.dates&&0<this.stato.dates.length},areAllDatesValid:function(){return this.isThereAtLeastOneDate()&&k.every(this.stato.dates,function(a){return!!a.timeSlots&&0<a.timeSlots.length&&k.every(a.timeSlots,function(a){return!!a.startTime&&!!a.endTime})})},
validate:function(){var b=this.isThereAtLeastOneDate(),e=this.areAllDatesValid(),f=k.every(this.datesTimeSlotsContainerWidget.getChildren(),a.hitch(this,function(a){return a.validate()}));return b&&e&&f},focus:function(){this.isThereAtLeastOneDate()||this.parentWidget.addDateWidget.set("checked",!0);B.showInfoWithCloseButton(p.msgInconsistentCalendarWarning,C.footerInc.lblWarningMsgDialogTitle,G.lblOKButton)}})})},"ebPlatformWidgets/Evento/EventPage/EditTestiAccompagnatoriDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditTestiAccompagnatoriDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([n,e],{baseClass:"editTestiAccompagnatoriDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new f({parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset();a.title&&this.set("title",a.title);a.currentState&&a.currentState.accompanyingGuestsSectionTitle&&this.mainWidget.impostaTesto("sectionTitle",
a.currentState.accompanyingGuestsSectionTitle);a.currentState&&a.currentState.maxAccompanyingGuests&&this.mainWidget.impostaTesto("maxAccompanyingGuests",a.currentState.maxAccompanyingGuests);a.currentState&&a.currentState.maxAccompanyingGuestsNoCapacity&&this.mainWidget.impostaTesto("maxAccompanyingGuestsNoCapacity",a.currentState.maxAccompanyingGuestsNoCapacity);a.currentState&&a.currentState.maxAccompanyingGuestsFull&&this.mainWidget.impostaTesto("maxAccompanyingGuestsFull",a.currentState.maxAccompanyingGuestsFull);
a.currentState&&a.currentState.numAccompanyingGuestAdded&&this.mainWidget.impostaTesto("numAccompanyingGuestAdded",a.currentState.numAccompanyingGuestAdded);a.currentState&&a.currentState.addAccompanyingGuests&&this.mainWidget.impostaTesto("addAccompanyingGuests",a.currentState.addAccompanyingGuests);a.currentState&&a.currentState.addOneMoreAccompanyingGuest&&this.mainWidget.impostaTesto("addOneMoreAccompanyingGuest",a.currentState.addOneMoreAccompanyingGuest);a.currentState&&a.currentState.backToParent&&
this.mainWidget.impostaTesto("backToParent",a.currentState.backToParent);a.currentState&&a.currentState.accompanyingGuestSectionTitle&&this.mainWidget.impostaTesto("accompanyingGuestSectionTitle",a.currentState.accompanyingGuestSectionTitle);a.currentState&&a.currentState.accompanyingGuestFieldInLists&&this.mainWidget.impostaTesto("accompanyingGuestFieldInLists",a.currentState.accompanyingGuestFieldInLists);a.currentState&&a.currentState.accompanyingGuestPosition&&this.mainWidget.impostaTesto("accompanyingGuestPosition",
a.currentState.accompanyingGuestPosition);a.currentState&&a.currentState.accompanyingGuestsSectionTitleInEmail&&this.mainWidget.impostaTesto("accompanyingGuestsSectionTitleInEmail",a.currentState.accompanyingGuestsSectionTitleInEmailName);a.currentState&&a.currentState.accompaniedGuestThanksTitle&&this.mainWidget.impostaTesto("accompaniedGuestThanksTitle",a.currentState.accompaniedGuestThanksTitle);a.currentState&&a.currentState.accompaniedGuestThanksSubTitle&&this.mainWidget.impostaTesto("accompaniedGuestThanksSubTitle",
a.currentState.accompaniedGuestThanksSubTitle);a.currentState&&a.currentState.accompanyingGuestThanksTitle&&this.mainWidget.impostaTesto("accompanyingGuestThanksTitle",a.currentState.accompanyingGuestThanksTitle);a.currentState&&a.currentState.accompanyingGuestThanksSubTitle&&this.mainWidget.impostaTesto("accompanyingGuestThanksSubTitle",a.currentState.accompanyingGuestThanksSubTitle);a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection);this.resize()},_setAdditionalMessagesAttr:function(a){this.mainWidget.set("additionalMessages",
a);this.mainWidget.impostaPlaceHolders()}})})},"ebPlatformWidgets/Evento/EventPage/ShopifyFormLayoutWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/request dojo/json dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dnd/Manager dojo/dnd/Source dojo/date dojo/date/locale dojo/text!./templates/ShopifyFormLayoutWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/CheckBox dijit/form/Button ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p){return q([y,x],{mouseAnim:null,templateString:D,baseClass:"shopifyFormLayoutWidget",parentWidget:null,messages:p,stato:null,checkboxes:null,newStato:null,listaCampi:null,source:null,updateShopifyFormAssetBtn:null,openUpdateShopifyOtherAssetsPopupBtn:null,postCreate:function(){this.inherited(arguments);this.updateShopifyFormAssetBtn=new B({label:p.lblUpdateShopifyFormAsset,onClick:a.hitch(this,function(){this.updateShopifyFormAsset()})},this.updateShopifyFormBtnNode);
this.openUpdateShopifyTextsPopupBtn=new B({label:p.lblUpdateShopifyOtherAssets,onClick:a.hitch(this,function(){C.setUpConfirmDialog(p.lblUpdateShopifyOtherAssetsDialogTitle,p.msgUpdateShopifyOtherAssetsDialogQuestion,this,function(){this.updateShopifyOtherAssets()},function(){},null,!0);C.showConfirm()})},this.openUpdateShopifyOtherAssetsPopupBtnNode)},aggiornaUI:function(){if(this.stato.get("settingsShopify")){var f=e.parse(this.stato.get("settingsShopify"));b.empty(this.rowsContainerNode);l.post("/getEventFields.plp",
{data:{idEvento:G.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){b.data&&(this.listaCampi=[],k.forEach(b.data,a.hitch(this,function(b,e,h){var d=null,v=b.idCustomField,m=null;if(!b.tipo||"Email"==b.tipo||"Testo libero"==b.tipo||"Lista"==b.tipo&&!b.mappaParametri.multiple)"Nome"==b.fieldName?(v=-1,m=1):"Cognome"==b.fieldName?(v=-2,m=2):"Email"==b.tipo&&(m=3),k.forEach(f.descrittore,a.hitch(this,function(a){a.idCustomFieldEvento==
v&&(d=a)})),this.listaCampi.push({idCustomfield:v,item:b,item_shopify:d,posizione:m||(d?d.posizione:h.length+e),indice:e})})),this.listaCampi.sort(function(a,b){return a.posizione>b.posizione?1:a.posizione<b.posizione?-1:0}),this.checkboxes={},k.forEach(this.listaCampi,a.hitch(this,function(a,b){this.costruisciRiga(a.item,a.item_shopify,b)})),this.source&&this.source.destroy(),this.source=new m(this.rowsContainerNode,{isSource:!0,skipForm:!1,singular:!0,withHandles:!0}),this.updateLastUpdates(),this.stato.set("dirty",
!1))}),a.hitch(this,function(a){C.showError(commonMessages.msgErroreServer)}))}},costruisciRiga:function(e,f,h){var k,v=!1,d=!1,m=!1,p=!1;"Nome"==e.fieldName?(k="-1",m=d=v=!0):"Cognome"==e.fieldName?(k="-2",m=d=v=!0):"Email"==e.tipo?(k=e.idCustomField,m=d=v=!0):(k=e.idCustomField,f&&(v=f.visualizza,d=f.obbligatorio),p=!0);this.checkboxes["cbx"+k]={visualizza:v,obbligatorio:d};f=b.create("tr",{"class":(p?"dojoDndItem":"")+" "+(0==h%2?"pari":" dispari"),"data-idcustomfield":k},this.rowsContainerNode);
h=b.create("td",{"class":"dnd dojoDndHandle"},f);p?b.create("img",{src:"/img/dnd.png"},h):b.create("span",{innerHTML:"\x26nbsp;"},h);b.create("td",{"class":"nome",innerHTML:e.fieldLabel||e.labels[0].label},f);e=b.create("td",{"class":"visualizza"},f);e=b.create("input",{type:"checkbox"},e);e=new z({checked:v,disabled:m,onChange:a.hitch(this,function(a){(this.checkboxes["cbx"+k].visualizza=a)?this.checkboxes["cbx"+k].obbligatorioCbx.set("disabled",!1):(this.checkboxes["cbx"+k].obbligatorioCbx.set("checked",
!1),this.checkboxes["cbx"+k].obbligatorioCbx.set("disabled",!0));this.stato.set("dirty",!0)})},e);f=b.create("td",{"class":"obbligatorio"},f);f=b.create("input",{type:"checkbox"},f);v=new z({checked:d,disabled:m||!v,onChange:a.hitch(this,function(a){this.checkboxes["cbx"+k].obbligatorio=a})},f);this.checkboxes["cbx"+k].visualizzaCbx=e;this.checkboxes["cbx"+k].obbligatorioCbx=v},trasferisciStato:function(){this.newStato=[];k.forEach(this.rowsContainerNode.childNodes,a.hitch(this,function(b,e){var h=
f.get(b,"data-idcustomfield"),v=null,d=null;k.forEach(this.listaCampi,a.hitch(this,function(a){""+a.idCustomfield==h&&(v=a.item.tipo||"",d=a.item.fieldLabel||a.item.labels[0].label||"")}));this.newStato.push({idCustomFieldEvento:h,visualizza:this.checkboxes["cbx"+h].visualizza,obbligatorio:this.checkboxes["cbx"+h].obbligatorio,posizione:e,tipo:v,label:d})}));var b=e.parse(this.stato.get("settingsShopify"));b.descrittore=this.newStato;this.stato.set("settingsShopify",e.stringify(b))},updateShopifyFormAsset:function(){this.trasferisciStato();
var b="";k.forEach(this.newStato,a.hitch(this,function(e){var f=null;k.forEach(this.listaCampi,a.hitch(this,function(a){e.idCustomFieldEvento==a.idCustomfield+""&&(f=a.item)}));if(e.visualizza&&f){var h=f.fieldLabel||f.labels[0].label;"-1"==e.idCustomFieldEvento||"-2"==e.idCustomFieldEvento||"Testo libero"==f.tipo||"Email"==f.tipo?b+=this.getHtmlTesto(h,e.obbligatorio):"Lista"==f.tipo&&(b+=this.getHtmlLista(h,e.obbligatorio,f))}}));t.debug("RET\n",b);C.showLoadingWithMsg(p.msgUpdatingShopifyFormAssetDialogText,
p.msgUpdatingShopifyFormAssetDialogTitle);l.post("/updateShopifyFormConfig.plp",{data:{idEvento:G.evento.stato.idEvento,htmlFragment:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){C.hideLoadingWithMsg();"OK"==a.resultCode?(C.showInfoWithCloseButton(p.msgUpdatingShopifyFormOK,p.msgUpdatingShopifyFormAssetDialogTitle),this.updateLastUpdates()):C.showInfoWithCloseButton(p["msgErrorUpdatingShopifyAsset_"+a.msg],p.msgUpdatingShopifyFormAssetDialogTitle);
this.stato.set("dirty",!1)}),a.hitch(this,function(a){C.showError(commonMessages.msgErroreServer)}))},updateShopifyOtherAssets:function(){C.showLoadingWithMsg(p.msgUpdatingShopifyOtherAssetsDialogText,p.msgUpdatingShopifyOtherAssetsDialogTitle);l.post("/updateShopifyOtherAssets.plp",{data:{idEvento:G.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){C.hideLoadingWithMsg();"OK"==a.resultCode?(C.showInfoWithCloseButton(p.msgUpdatingShopifyOtherAssetsOK,
p.msgUpdatingShopifyOtherAssetsDialogTitle),this.updateLastUpdates()):C.showInfoWithCloseButton(p["msgErrorUpdatingShopifyAsset_"+a.msg],p.msgUpdatingShopifyOtherAssetsDialogTitle);this.stato.set("dirty",!1)}),a.hitch(this,function(a){C.showError(commonMessages.msgErroreServer)}))},updateLastUpdates:function(){l.post("/getShopifyLastUpdates.plp",{data:{idEvento:G.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==
a.result.resultCode&&(this.shopifyFormLastUpdateNode.innerHTML=a.formLastUpdate?"\x26nbsp;\x26nbsp;"+p.lblShopifyLastUpdate+": "+w.format(new Date(a.formLastUpdate),{}):"",this.shopifyOtherAssetsLastUpdateNode.innerHTML=a.otherAssetsLastUpdate?"\x26nbsp;\x26nbsp;"+p.lblShopifyLastUpdate+": "+w.format(new Date(a.otherAssetsLastUpdate),{}):"")}),a.hitch(this,function(a){C.showError(commonMessages.msgErroreServer)}))},getHtmlTesto:function(a,b){var e="",f=a.replace(" ","");return e+'\x3cdiv class\x3d"custom-field"\x3e\n'+
('\t\x3clabel for\x3d"'+a+'"\x3e'+a+(b?"*":"")+"\x3c/label\x3e\x3cinput "+(b?"required ":"")+'type\x3d"text" id\x3d"'+f+'" name\x3d"properties['+a+']"\x3e\n')+"\x3c/div\x3e\n"},getHtmlLista:function(a,b,e){var f="";a.replace(" ","");var h=G.evento.stato.event_details.languages[0].idLingua;e=e.valoriLista?k.map(e.valoriLista,function(a){return{valore:a.id,label:a.labels[h].replace(/[\u00A0-\u9999<>\&]/gim,function(a){return"\x26#"+a.charCodeAt(0)+";"})}}):k.map(G.commons.data.standardLists[e.nomeLista],
function(a){return{valore:a.id,label:a.label.replace(/[\u00A0-\u9999<>\&]/gim,function(a){return"\x26#"+a.charCodeAt(0)+";"})}});f+='\x3cdiv class\x3d"custom-field"\x3e\n';f+='\t\x3clabel for\x3d"'+a+'"\x3e'+a+(b?"*":"")+"\x3c/label\x3e";f+="\x3cselect"+(b?" required":"")+' name\x3d"properties['+a+']"\x3e\n';f+='\t\t\x3coption value\x3d""\x3e'+p.lblShopifyComboSelectLabel+"\x3c/option\x3e\n";e.sort(function(a,b){return a.label>b.label?1:a.label<b.label?-1:0});k.forEach(e,function(a){f+='\t\t\x3coption value\x3d"'+
a.label+'"\x3e'+a.label+"\x3c/option\x3e\n"});f+="\t\x3c/select\x3e\n";return f+="\x3c/div\x3e\n"}})})},"ebPlatformWidgets/Evento/Communication/EditRegistrationButtonsDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditRegistrationButtonsDialogContentWidget dojo/i18n!./nls/CommunicationWidget".split(" "),function(q,a,k,n,l,e,f,h){return q([n,e],{baseClass:"editCommunicationButtonsDialogWidget",
postCreate:function(){this.inherited(arguments);this.mainWidget=new f({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);a.title&&this.set("title",a.title);this.mainWidget.show(a)}})})},"ebPlatformWidgets/Form/ColorPickerWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/dnd/move dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/fx dojo/on dojo/query dojo/text!./templates/ColorPickerWidget.html dijit/_base/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/DropDownButton dijit/form/HorizontalSlider dijit/form/ValidationTextBox dojox/widget/ColorPicker dojox/color/_base put-selector/put ebPlatform/logger! dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/form".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M){return q([y,x],{mouseAnim:null,templateString:w,baseClass:"colorPickerWidget",transp:p.fromString("transparent"),white:p.fromString("white"),parentWidget:null,label:"",value:null,showResetBtn:!1,resetColor:null,resetLabel:"",allowTransparent:!1,dropDownBtn:null,colorPicker:null,colorCode:null,resetBtn:null,alphaSlider:null,colorCodeNode:null,colorPickerNode:null,dropDownBtnNode:null,postMixInProperties:function(){this.inherited(arguments)},
postCreate:function(){this.onChangeActive=!1;this.inherited(arguments);this.value=this.value||this.white;this.resetColor=this.resetColor||this.white;if(void 0===this.resetColor.r){var b=new p.Color;b.setColor(this.resetColor);this.resetColor=b}void 0===this.value.r&&(b=new p.Color,b.setColor(this.value),this.value=b);this.colorCode=new G({parent:this,uppercase:!0,onChange:function(a){if(this.isValid()){var b=this.parent;e.remove(b.dropDownBtn.domNode,"transparent");b._set("value",p.fromString(a));
b.colorPicker.update(b.value,!1,!1);b.allowTransparent?(b.value.a=Math.floor(b.colorPicker.alphaSlider.get("value"))/10,h.set(b.colorPicker.previewNode,"backgroundColor",b.value.toCss(!0))):b.value.a=1;h.set(b.dropDownBtn.domNode,"backgroundColor",b.value.toCss(!0));b.onChange(b.get("value"))}},validator:function(b){var d=!1;return d=void 0!==b&&""==a.trim(b)&&this.parent.allowTransparent?!0:!!p.fromString(b)}},this.colorCodeNode);this.colorPicker=new C({parent:this,liveUpdate:!0,onChange:function(a){this.parent.allowTransparent&&
(a=p.fromString(this.get("value")||this.p.resetColor||"white"),a.a=Math.floor(this.alphaSlider.get("value"))/10,h.set(this.previewNode,"backgroundColor",a.toCss(!0)))},onOpen:function(){var a=this.parent;a.allowTransparent&&this.alphaSlider.set("value",null,!1);this.update(a.value,!1,a.isTransparent(a.value))},update:function(a,b,d){d=this.parent;this._updatePickerLocations(a);this._updateColorInputs(a);this._updateValue(a,b);b=10;d.allowTransparent&&(a&&void 0!==a.a&&(b=10*a.a),this.alphaSlider.set("value",
b))},onExecute:function(){E.trace("onExecute")}},this.colorPickerNode);this.allowTransparent&&m(u("img",this.colorPicker.hueNode),"click",a.hitch(this,function(a){a=50;this.colorPicker.animatePoint&&(a+=this.colorPicker.slideDuration);var b=this.colorPicker,d=this.resetColor;setTimeout(function(){var a=p.fromString(b.get("value")||d||"white");a.a=Math.floor(b.alphaSlider.get("value"))/10;h.set(b.previewNode,"backgroundColor",a.toCss(!0))},a)}));var d=this.allowTransparent;u(".dojoxColorPicker",this.domNode).forEach(function(a){e[d?
"add":"remove"](a,"alphactl")});var b=u(".dojoxColorPicker",this.domNode)[0],b=I(b,"tfoot"),b=I(b,"tr"),f=I(b,"td"),b=I(b,"td.btnContainer[colspan\x3d2]");new z({parent:this,cp:this.colorPicker,label:v.lblOKButton,onClick:function(){var a=p.fromString(this.cp.get("value")||this.parent.resetColor||"white");this.parent.allowTransparent&&(a.a=Math.floor(this.cp.alphaSlider.get("value"))/10);this.parent.colorCode.set("value",a.toHex(),!1);h.set(this.parent.dropDownBtn.domNode,"backgroundColor",a.toCss(!0));
this.parent._set("value",a);this.parent.onChange(this.parent.get("value"));this.parent.dropDownBtn.closeDropDown()}},I(b,"div"));new z({parent:this,label:v.lblChiudiButton,onClick:function(){this.parent.dropDownBtn.closeDropDown()}},I(b,"div"));if(this.allowTransparent){this.colorPicker.alphaNode=I(f,"div.alphactl[aria-live\x3dpolite]");var b=I(this.colorPicker.alphaNode,"label[style\x3dfloat:none]","Alpha: "),k=I(b,"span"),b=I(b,"+div#"+this.colorPicker._uId+"_al.dojoxColorPickerHexCode");this.colorPicker.alphaSlider=
new t({parent:this,cp:this.colorPicker,name:"slider",value:10,minimum:0,maximum:10,discreteValues:11,intermediateChanges:!0,onChange:function(a){var b=p.fromString(this.cp.get("value")||this.parent.resetColor||"white");b.a=Math.floor(a)/10;k.innerHTML=b.a;h.set(this.cp.previewNode,"backgroundColor",b.toCss(!0))}},b)}this.dropDownBtn=new B({label:"",dropDown:this.colorPicker},this.dropDownBtnNode);this.showResetBtn?(this.resetBtn=new z({"class":"resetBtn",label:this.resetLabel,onClick:a.hitch(this,
function(){this.set("value",this.resetColor)})},this.resetNode),h.set(this.resetNode,"display","block")):h.set(this.resetNode,"display","none");this.label&&(this.labelNode.innerHTML=this.label);this.colorCode.set("value",this.value.toHex(),!1);h.set(this.dropDownBtn.domNode,"backgroundColor",this.value.toCss());this.onChangeActive=!0},_setValueAttr:function(b,d){var e=!1;try{if(b)this.value=p.fromString(b);else if(null===b||""==a.trim(b))this.value=this.allowTransparent?this.transp:this.resetColor;
this.undoValue=this.value;e=!0}catch(N){this.value=this.white,E.error(N)}e&&(this.isTransparent(this.value),this.colorCode&&this.colorCode.set("value",this.value.toHex(),!1),this.dropDownBtn&&h.set(this.dropDownBtn.domNode,"backgroundColor",this.value.toCss(!0)));if((void 0===d||d)&&this.onChangeActive)this.onChange(this.get("value"))},_getValueAttr:function(){var a=null;this.value&&(a=this.allowTransparent&&this.isTransparent(this.value)?this.value.toCss(!0):this.value.toHex().toUpperCase());return a},
isTransparent:function(a){var b=!1;a&&void 0!==a.a&&(b=0<=a.a&&1>a.a);return b},onChange:function(a){this.doOnChange&&this.doOnChange(a)}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPersonalDetailsDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),function(q,a,k,n,l,e,f,h){return q([n,l],{baseClass:"editPersonalDetailsDialogWidget",
disabled:!1,additionalMessages:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new e({disabled:this.disabled,parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions,additionalMessages:this.additionalMessages});this.addChild(this.mainWidget)},show:function(a){console.log("[EditPersonalDetailsDialogWidget] show",a);this.inherited(arguments);this.mainWidget.reset();a&&(a.idLanguage&&(this.mainWidget.localizedMessages=h.getLocalization("ebPlatformWidgets.Evento.EventPage",
"EventPageWidget",f.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.localizedCommonMessages=h.getLocalization("ebPlatform","commons",f.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.attualizzaLocalizedMessages()),a.title&&this.set("title",a.title),a.editColors?(k.set(this.mainWidget.editSectionNode,"display","block"),k.set(this.mainWidget.titleColorWidget.domNode,"display","block")):(k.set(this.mainWidget.editSectionNode,"display","none"),k.set(this.mainWidget.titleColorWidget.domNode,
"display","none")),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection),a.currentState&&(void 0!==a.currentState.sectionTitle&&this.mainWidget.impostaTitoloSezione(a.currentState.sectionTitle),void 0!==a.currentState.showCheckPersonalInfoWarning&&this.mainWidget.impostaShowCheckPersonalInfoWarning(a.currentState.showCheckPersonalInfoWarning),void 0!==a.currentState.showMandatoryFieldsWarning&&this.mainWidget.impostaShowMandatoryFieldsWarning(a.currentState.showMandatoryFieldsWarning),
void 0!==a.currentState.showDuplicatedEmailWarning&&this.mainWidget.impostaShowDuplicatedEmailWarning(a.currentState.showDuplicatedEmailWarning),void 0!==a.currentState.showWrongPersonWarning&&this.mainWidget.impostaShowWrongPersonWarning(a.currentState.showWrongPersonWarning),void 0!==a.currentState.showWrongAnonymousWarning&&this.mainWidget.impostaShowWrongAnonymousWarning(a.currentState.showWrongAnonymousWarning),a.currentState.additionText&&this.mainWidget.impostaTestoAddizionale(a.currentState.additionText),
void 0!==a.currentState&&(this.mainWidget.allowPartnerWithProfileInsertion="PROFILATI"==a.currentState.partnersType),a.currentState.backgroundColor&&this.mainWidget.backgroundColorWidget.set("value",a.currentState.backgroundColor),a.currentState.titleColor&&this.mainWidget.titleColorWidget.set("value",a.currentState.titleColor),a.currentState.textColor&&this.mainWidget.textColorWidget.set("value",a.currentState.textColor),this.mainWidget.fontControlWidget.refresh(),a.currentState.font&&this.mainWidget.fontControlWidget.set("value",
a.currentState.font),this.mainWidget.fontTitleControlWidget.refresh(),a.currentState.fontTitle&&this.mainWidget.fontTitleControlWidget.set("value",a.currentState.fontTitle),a.currentState.fontTitleSizePh&&this.mainWidget.fontTitleControlWidget.set("fontSizePlaceHolder",a.currentState.fontTitleSizePh)));this.resize(null)},_setAdditionalMessagesAttr:function(a){this.mainWidget.set("additionalMessages",a)}})})},"ebPlatformWidgets/Evento/Communication/SpedisciEmailTestWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/SpedisciEmailTestWidget.html dojox/validate dojox/validate/web dijit/dijit dijit/form/CheckBox dijit/form/TextBox dijit/form/Button ebPlatform/stato ebPlatform/commonDialogs ebPlatform/utility ./MailSpedizionePopupWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C){return q([f,h],{testiComuni:G,dialogTitle:null,sendEmailsURL:null,getDataForSendEmailsURL:null,canSend:null,doOnShippingComplete:null,dialogNoAddressesTitle:null,inviaEmailDiTestBtnWidget:null,inviaEmailDiTestDestinatariWidget:null,popupWidget:null,opener:null,conLink:!1,templateString:b,baseClass:"spedisciEmailTestWidget",mouseAnim:null,postCreate:function(){this.inherited(arguments);this.inviaEmailDiTestDestinatariWidget=new D({tabIndex:1,disabled:!1,
placeHolder:C.msgSendTestEmailPlaceHolder},this.inviaEmailDiTestDestinatariNode);l.set(this.inviaEmailDiTestDestinatariWidget,"autocomplete","on");this.popupWidget=new t({parentWidget:this,dialogTitle:this.dialogTitle,sendEmailsURL:this.sendEmailsURL,getDataForSendEmailsURL:a.hitch(this,this.decoratedGetDataForSendEmailsURL),doOnShippingComplete:this.doOnShippingComplete});var b=this.fform;this.inviaEmailDiTestBtnWidget=new y({tabIndex:2,onClick:function(){b.submit()}},this.inviaEmailDiTestBtnNode);
n(this.inviaEmailDiTestBtnWidget,"mouseDown",a.hitch(this,function(){this.doSpedisci(!1)}));"http://storetest.eventboost.com"==x.commons.data.storeURL||x.commons.permissions.impersonated?(this.inviaEmailDiTestConLinkBtnWidget=new y({},this.inviaEmailDiTestConLinkBtnNode),n(this.inviaEmailDiTestConLinkBtnWidget,"mouseDown",a.hitch(this,function(){this.doSpedisci(!0)})),this.inviaEmailDiTestSoloTestoBtnWidget=new w({},this.inviaEmailDiTestSoloTestoBtnNode)):(e.set(this.inviaEmailDiTestConLinkBtnContainerNode,
"display","none"),e.set(this.inviaEmailDiTestSoloTestoBtnContainerNode,"display","none"))},doSpedisci:function(b){this.conLink=b;console.log("[SpedisciEmailTestWidget] SPEDISCO ...");var e=this.inviaEmailDiTestDestinatariWidget.get("value");console.log("[SpedisciEmailTestWidget] SPEDISCO a ",e,this.decoratedGetDataForSendEmailsURL());e&&(this.canSend&&this.canSend()||!this.canSend)?(e=e.split(","),e=k.map(e,function(a){return a.trim()}),b=k.every(e,function(a){return r.isEmailAddress(a)}),console.log("indirizziValidi",
b),b?(this.popupWidget.setTotToSend(e.length),this.popupWidget.show(),this.popupWidget.showSendEmails()):this.opener&&z.showInfoWithCloseButton(C.msgAddressesListNotValid,this.dialogNoAddressesTitle,G.lblOKButton,a.hitch(this,function(){this.opener.openDropDown();this.inviaEmailDiTestDestinatariWidget.set("value",e.join(","))}))):z.showInfoWithCloseButton(C.msgAddressesListMandatory,this.dialogNoAddressesTitle,G.lblOKButton)},decoratedGetDataForSendEmailsURL:function(){var a=this.getDataForSendEmailsURL&&
"function"==typeof this.getDataForSendEmailsURL?this.getDataForSendEmailsURL():{};a.destinatari=this.inviaEmailDiTestDestinatariWidget.get("value");a.conLink=this.conLink;x.commons.permissions.impersonated&&(a.soloTesto=this.inviaEmailDiTestSoloTestoBtnWidget.get("checked"));return a},setGetDataForSendEmailsURL:function(a){this.getDataForSendEmailsURL=a},onOpen:function(){x.commons.permissions.impersonated&&this.inviaEmailDiTestSoloTestoBtnWidget.set("checked",!1);this.inviaEmailDiTestDestinatariWidget.set("value",
"");this.inviaEmailDiTestDestinatariWidget.focus()},setOpener:function(a){this.opener=a},onExecute:function(){}})})},"ebPlatformWidgets/Evento/Communication/CommunicationRecipientsListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-class dojo/dom-style dojo/store/JsonRest dojo/text!./templates/CommunicationRecipientsListWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/FilteringSelect dojox/lang/functional dgrid/editor ebPlatform/stato ebPlatform/statoEmail ebPlatform/commonDialogs ebPlatform/utility ../Guests/_ListWidgetMixin dojo/i18n!ebPlatform/nls/commons dojo/i18n!../Guests/nls/ManageGuestsWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I){return q([r,m,G],{mouseAnim:null,templateString:b,baseClass:"communicationRecipientsListWidget",parentWidget:null,idEvento:x.evento.stato.idEvento,idSchedulation:null,idEmail:null,categoriaDestinatariPianificazione:null,applicaFiltriPianificazione:null,freshList:!0,disableDownloadButtons:!1,configFiltri:{filtraStatoEmail:!0,filtraNonInteressati:!1,filtraModalitaIscrizione:!1,filtraDataFascia:!1,filtraAzioniOspite:!1,filtraValoreLista:!0},messages:I,
guestsMessages:p,commonMessages:C,postCreate:function(){this.gruppoDefault="";this.downloadLinkPath="downloadListaPersone.plp";this.inherited(arguments);this.initList()},initList:function(){this.initCommonStores();this.initCommonSubWidgets({gruppo:this.gruppoDefault,idPianificazioneEmail:this.idSchedulation,idTemplate:this.idEmail});this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(b){b.results.total.then(a.hitch(this,function(a){var e;x.evento.stato.app_setup.collectPersonalDetails?
e=a:b.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti")&&"-"!=b.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti")&&b.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti")!=a&&(e=b.results.ioArgs.xhr.getResponseHeader("Eventboost-TotalePartecipanti"));b.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")&&"-"!=b.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")&&b.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")!=
a&&(e+=" ("+p.lblAttendancesNum+": "+b.results.ioArgs.xhr.getResponseHeader("Eventboost-Partecipazioni")+")");this.numPersoneLabelNode.innerHTML=e}))}));n(this.exportExcelNode,"click",a.hitch(this,function(a){this.disableDownloadButtons&&a.preventDefault()}))},reset:function(){this.idEmail=this.idSchedulation=null;this.gridWidget.set("filterStatus",null);this.gridWidget.query={idEvento:x.evento.stato.idEvento,gruppo:""};this.filterListDialogWidget.reset(!1);this.filterListDialogWidget.mainWidget.aggiornaSelezionePulsanteFiltri(!1)},
aggiornaUI:function(a){this.inherited(arguments);a&&(a.idSchedulation&&(this.idSchedulation=a.idSchedulation),a.idEmail&&(this.idEmail=a.idEmail),this.stats=a.toBeSent?!1:!0,e[this.stats?"remove":"add"](this.gridWidget.domNode,"next"));this.refreshList()},refreshList:function(){this.gridWidget.store=null;this.gridWidget.revert();this.gridWidget.query=a.mixin(this.gridWidget.query,{idEvento:x.evento.stato.idEvento,gruppo:this.gruppoDefault,chiave:void 0,accompagnatori:!1,statoEmailPerTipo:!1,idPianificazioneEmail:this.idSchedulation,
idTemplate:this.idEmail,accompagnatori:!1,stats:this.stats});this.gridWidget.set("sort",[{attribute:"cognome"}]);this.gridWidget.store=this.personeStore;this.searchTextBox.set("value",null,!1);this.refreshGridColumns(!0)},customizeGridColumns:function(b,e){x.evento.stato.app_setup.collectPersonalDetails?a.hitch(this,function(b,e,d){var f="",f=b.inseritoDaApp?'\x3cspan class\x3d"icoNew"\x3e\x3c/span\x3e':"\x3cspan /\x3e";null!=e&&(f+=" "+e.nome+" "+e.cognome);return b.inseritoDaApp?(b=new u({rowId:b.id,
label:f,title:p.lblRefPerson,onClick:a.hitch(this,function(){this.visualizzaInfoPadre(e)})},d.appendChild(document.createElement("div"))),b._destroyOnRemove=!0,b):""}):b.splice(2,0,{label:p.lblPartners,field:"numeroAccompagnatori",sortable:!1});return b=[{label:p.lblEmailStatus,field:"esitoInvio",sortable:!0,renderCell:z.actionRender(e)}].concat(b)},aggiornaAbilitazioneExportLinks:function(a){this.disableDownloadButtons=!a}})})},"ebPlatform/templateUtility":function(){define(["dojo/_base/lang","dojo/query"],
function(q,a){return{getElementById:function(k,n){var l=null;a("[data-ebplatform-template-elementId\x3d'"+k+"']",n).forEach(function(a){l=a});return l}}})},"ebPlatformWidgets/Toolbar/SingleSelectableButtonsStripToolbarWidget":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/form/ToggleButton","./ButtonsStripToolbarWidget"],function(q,a,k,n,l){return q([l],{postCreate:function(){this.toolbarConfig&&(k.forEach(this.toolbarConfig.buttons,a.hitch(this,function(e){e.type=
"dijit/form/ToggleButton";var f=e.options.action;e.options.action=a.hitch(this,function(){this.decheckOthers(e);f()})})),this.inherited(arguments))},decheckOthers:function(e){k.forEach(this.toolbarConfig.buttons,a.hitch(this,function(a){a!=e?(a.button.set("checked",!1),a.button.set("disabled",!1)):a.button.set("disabled",!0)}))},clickByCode:function(a){this.inherited(arguments);this.buttonRegistry[a]&&this.buttonRegistry[a].set("checked",!0)}})})},"ebPlatform/daemon":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/promise/Promise","ebPlatform/logger!"],function(q,a,k,n){return q([],{working:!1,task:null,timer:null,constructor:function(l,e,f){f&&""!=a.trim(f)?this.taskName=f:this.taskName="ebTask-"+(""+Math.random()).substring(2);this.timer=new dojox.timing.Timer(l);this.task=e;this.timer.onTick=a.hitch(this,function(){n.trace(this.taskName,"refresh");if(this.task)if(this.working)n.warn(this.taskName,"refresh","still working");else{n.trace(this.taskName,"refresh","start");this.working=
!0;var e=this.task();e&&e instanceof k?e.always(a.hitch(this,function(){this.working=!1;n.trace(this.taskName,"refresh","end")})):(this.working=!1,n.trace(this.taskName,"refresh","end"))}});this.timer.onStart=a.hitch(this,function(){n.trace(this.taskName,"Starting timer")});this.timer.onStop=a.hitch(this,function(){n.trace(this.taskName,"Stopping timer")});n.debug(this.taskName,"running "+this.timer.isRunning,"interval "+this.timer.interval)},start:function(a){this.timer&&!this.timer.isRunning&&(a&&
0<a&&(this.timer.interval=a),this.timer.start())},stop:function(){this.timer&&this.timer.isRunning&&this.timer.stop()}})})},"ebPlatformWidgets/Evento/Badges/PrintBadgeDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-geometry dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./PrintBadgeDialogContentWidget dojo/i18n!./nls/BadgesManagementWidget".split(" "),function(q,a,k,n,l,e,f,h,b){return q([l,f],{baseClass:"printBadgeDialogContentWidget",
messages:b,postCreate:function(){e.trace("postCreate",this.idEvento);this.inherited(arguments);this.mainWidget=new h({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){e.trace("show",a);this.inherited(arguments);var b,f=b="";a.formatoPagina&&(b="pf\x3d"+a.formatoPagina+"\x26");a.orientamento&&(f="o\x3d"+a.orientamento+"\x26");a.idPersona?b="/printBadge.plp?"+b+f+"idBadge\x3d"+a.idBadge+"\x26idPersona\x3d"+a.idPersona:(b="/printBadges.plp?"+b+f+"idBadge\x3d"+a.idBadge+"\x26categoria\x3d"+
a.categoria+"\x26ebe\x3d"+a.excludeBe+"\x26eah\x3d"+a.excludeAtHome,a.guestCategory&&(b+="\x26categoriaOspite\x3d"+a.guestCategory));a.borders&&(b+="\x26b\x3d"+a.borders);b+="\x26tzo\x3d"+(new Date).getTimezoneOffset();this.mainWidget.reset({idBadge:a.idBadge});ebplatform&&ebplatform.config&&ebplatform.config.badge&&ebplatform.config.badge.debug&&(b+="\x26debug\x3dtrue");this.mainWidget.loadDocument(b)},hide:function(){e.trace("hide");this.inherited(arguments);var a=this.parentWidget.stato.get("dirty");
this.mainWidget.ultimaStampaInvitati&&(this.parentWidget.stato.dataStampaInvitati=this.mainWidget.ultimaStampaInvitati);this.mainWidget.ultimaStampaRegistrati&&(this.parentWidget.stato.dataStampaRegistrati=this.mainWidget.ultimaStampaRegistrati);this.parentWidget.stato.set("dirty",a);this.mainWidget.removeDocument()}})})},"ebPlatformWidgets/Dialogs/FilterListDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./FilterListDialogContentWidget dojo/i18n!./nls/FilterListDialogWidget".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([n,f],{baseClass:"filterListDialogWidget",parentWidget:null,targetGrid:null,gridContainerWidget:null,config:null,filtriBtn:null,gruppoDefault:null,mainWidget:null,postCreate:function(){this.inherited(arguments);this.title||this.set("title",b.lbldialogTitle);this.mainWidget=new h({parentWidget:this,targetGrid:this.targetGrid,gridContainerWidget:this.gridContainerWidget,config:this.config,filtriBtn:this.filtriBtn,gruppoDefault:this.gruppoDefault});this.addChild(this.mainWidget);
k.set(this.closeButtonNode,"display","none")},show:function(a){this.inherited(arguments);this.refresh()},reset:function(a){this.mainWidget.reset(a)},refresh:function(){this.mainWidget.refresh()},nascondiFiltroRegistrazioniShopifyCompletate:function(){this.mainWidget.nascondiFiltroRegistrazioniShopifyCompletate()}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsFormWithLogicDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dnd/Manager dojo/dom-style dojo/keys dijit/Dialog ebPlatformWidgets/Dialogs/_DialogWithDnDMixin ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPersonalDetailsFormWithLogicDialogContentWidget ebPlatform/logger! ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u){return q([e,h,f],{baseClass:"editPersonalDetailsFormWithLogicDialogWidget",disabled:!1,additionalMessages:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new b({disabled:this.disabled,parentWidget:this});this.addChild(this.mainWidget)},show:function(a){r.debug("[EditPersonalDetailsFormWithLogicDialogWidget] show",a);this.inherited(arguments);a&&(a.title&&this.set("title",a.title),a.currentState&&(this.mainWidget.allowPartnerWithProfileInsertion=
"PROFILATI"==a.currentState.partnersType,this.mainWidget.allowUneditableFieldsManagement=1==a.currentState.allowUneditableFieldsManagement,a.currentState.fieldsDetails&&this.mainWidget.impostaCampi(a.currentState.fieldsDetails,a.currentState.texts),a.currentState.azioniCampi&&(this.mainWidget.azioniCampi=a.currentState.azioniCampi),a.currentState.condizioniCampi&&(this.mainWidget.condizioniCampi=a.currentState.condizioniCampi),a.currentState.mappaListe&&(this.mainWidget.mappaListe=a.currentState.mappaListe),
a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection)));this.resize(null)}})})},"ebPlatformWidgets/Form/MultiLanguageTextWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/dom-construct dijit/layout/ContentPane dijit/layout/StackContainer dijit/form/Textarea dijit/Editor dijit/_editor/plugins/ViewSource dojox/editor/plugins/InsertEntity dojox/editor/plugins/SafePaste ebPlatformWidgets/Form/editor/plugins/LinkDialog ebPlatform/htmlTags ebPlatform/stato ebPlatform/logger! ebPlatform/i18n ./LanguageSelectionWidget dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G){return q([f],{baseClass:"multiLanguageTextWidget",required:!1,placeHolders:null,descMode:!1,dateMode:!1,stato:null,changed:null,languageContainer:null,languageWidget:null,textStackContainer:null,textAreasHash:null,contentPanesHash:null,postCreate:function(){z.debug("STATO",this.stato);this.inherited(arguments);this.descMode=!this.dateMode;this.languageContainer=new f({style:"height:40px;"});this.languageWidget=new t({onSelect:a.hitch(this,function(a){this.selectEditor(a)})});
this.languageContainer.addChild(this.languageWidget);this.addChild(this.languageContainer);this.textStackContainer=new h({});this.textStackContainer.startup();this.addChild(this.textStackContainer);this.textAreasHash={};this.contentPanesHash={}},selectEditor:function(b){if(this.contentPanesHash[b])this.textStackContainer.selectChild(this.contentPanesHash[b]);else{var h=["viewsource",{name:"safepaste",stripTags:y,width:"640px"}];this.withLinkPlugin&&h.splice(h.length,0,"|","createLink","unlink");var m=
new f;this.textStackContainer.addChild(m);this.textStackContainer.selectChild(m);var l=e.create("div",{style:"width:100%; height:100%;"},m.containerNode),l=e.create("div",{},l);this.textAreasHash[b]=new r({extraPlugins:h,height:"100%",onChange:a.hitch(this,function(a){this.aggiornaDescrizioneLingua(b,a)})},l);ebplatform.config.enableLoadBuilt?this.textAreasHash[b].addStyleSheet("/css/allstyles.css"):this.textAreasHash[b].addStyleSheet("/css/style.css");this.contentPanesHash[b]=m;this.textAreasHash[b].startup()}var v;
k.forEach(this.stato,a.hitch(this,function(a){a.idLingua==b&&(v=a)}));v&&(this.descMode?this.textAreasHash[v.idLingua].set("value",v.descrizione?v.descrizione:""):this.dateMode?this.textAreasHash[v.idLingua].set("value",v.testoData?v.testoData:""):z.error("Configurazione errata"))},_setDisabledAttr:function(a){for(idLingua in this.textAreasHash)this.textAreasHash[idLingua].set("disabled",a)},aggiornaDescrizioneLingua:function(b,e){z.debug("aggiornaDescrizioneLingua",b,e);k.forEach(this.stato,a.hitch(this,
function(a){a.idLingua==b&&(this.descMode?(a.descrizione=e,this.changed=!0):this.dateMode?(a.testoData=e,this.changed=!0):z.error("Configurazione errata"))}))},creaStato:function(b){z.debug("creaStato","languages:",b,"stato:",this.stato);var e=a.clone(b);k.forEach(e,a.hitch(this,function(a){0==a.idLingua&&(a.idLingua=x.getLinguaByLocale(a.locale).idLingua)}));z.debug("...languages:",e);k.forEach(e,a.hitch(this,function(b){var e=!1;k.forEach(this.stato,a.hitch(this,function(a){a.idLingua==b.idLingua&&
(e=!0)}));e||this.stato.push({idLingua:b.idLingua,descrizione:"",testoData:"",ordinamento:b.ordinamento})}));var f=[];k.forEach(this.stato,a.hitch(this,function(b){var h=!1;k.forEach(e,a.hitch(this,function(a){b.idLingua==a.idLingua&&b.idLingua&&a.idLingua&&(h=!0)}));h||f.push(b)}));0<f.length&&k.forEach(f,a.hitch(this,function(a){this.stato.splice(this.stato.indexOf(a),1)}));z.debug("creaStato ...",this.stato)},aggiornaUI:function(a){z.debug("STATO",this.stato);this.changed=!1;a&&this.languageWidget.set("filterArray",
a);1<this.languageWidget.listaLingue.length?(n.remove(this.domNode,"mono"),l.set(this.languageContainer.domNode,"display","block")):(n.add(this.domNode,"mono"),l.set(this.languageContainer.domNode,"display","none"));this.languageWidget.setLanguage(this.languageWidget.listaLingue[0].idLingua,!1);this.selectEditor(this.languageWidget.listaLingue[0].idLingua)}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/text!./templates/EditPersonalDetailsDialogContentWidget.html dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/FontControlWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t){return q([b,r],{mouseAnim:null,templateString:f,baseClass:"editPersonalDetailsDialogContentWidget",parentWidget:null,localizedMessages:null,localizedCommonMessages:null,additionalMessages:null,allowPartnerWithProfileInsertion:null,doOnSelection:null,sectionTitleWidget:null,additionalTextWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:t,commonMessages:B,disabled:!1,postCreate:function(){this.inherited(arguments);if(this.additionalMessages)for(var b in this.additionalMessages)this.messages[b]=
this.additionalMessages[b];this.widgetCache=[];this.sectionTitleWidget=new m({placeHolder:t.lblPersonalDetailsSectionTitlePlaceHolder},this.sectionTitleNode);this.showCheckPersonalInfoWarningWidget=new w({},this.showCheckPersonalInfoWarningNode);this.showMandatoryFieldsWarningWidget=new w({},this.showMandatoryFieldsWarningNode);this.showDuplicatedEmailWarningWidget=new w({},this.showDuplicatedEmailWarningNode);this.showWrongPersonWarningWidget=new w({},this.showWrongPersonWarningNode);this.showWrongAnonymousWarningWidget=
new w({},this.showWrongAnonymousWarningNode);this.additionTextWidget=new u({"class":"additionalText",height:30,placeHolder:t.msgAdditionalTextPlaceHolder,placeholder:t.msgAdditionalTextPlaceHolder},this.additionalTextNode);this.backgroundColorWidget=new x({label:t.lblBackgroundColor,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.backgroundColorNode);this.titleColorWidget=new x({label:t.lblColorPlaceHolder,value:"#000000"},this.titleColorNode);this.textColorWidget=new x({label:t.lblColorPlaceHolder,
value:"#000000"},this.textColorNode);var e=this.sectionTitleWidget,f=this.fontTitleControlWidget=new z({required:!1,vertical:!0,showFontSize:!0,showAlignement:!1,showFontWeight:!0,showUppercase:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",fontWeightPlaceHolder:"bold",onChange:function(a){var b=this.fontFamilyPlaceHolder;h(".dijitInputInner, .dijitPlaceHolder",e.domNode).forEach(function(e){l.set(e,"fontFamily",a.fontFamily||b)})}},this.fontTitleSelectorNode),k=this.additionTextWidget;this.fontControlWidget=
new z({required:!1,showFontSize:!1,showAlignement:!1,showFontWeight:!1,showUppercase:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",onChange:function(a){f.set("fontFamilyPlaceHolder",a.fontFamily||"Helvetica, Arial, sans-serif");l.set(k.domNode,"fontFamily",a.fontFamily);f.get("value")&&f.get("value").fontFamily||h(".dijitInputInner, .dijitPlaceHolder",e.domNode).forEach(function(b){l.set(b,"fontFamily",a.fontFamily)})}},this.fontSelectorNode);this.cancelBtnWidget=new D({label:B.lblChiudiButton,
onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new D({label:B.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e={sectionTitle:this.sectionTitleWidget.get("value"),additionText:this.additionTextWidget.get("value"),fieldsChanged:this.fieldsChanged,showCheckPersonalInfoWarning:this.showCheckPersonalInfoWarningWidget.get("checked"),showMandatoryFieldsWarning:this.showMandatoryFieldsWarningWidget.get("checked"),showDuplicatedEmailWarning:this.showDuplicatedEmailWarningWidget.get("checked"),
showWrongPersonWarning:this.showWrongPersonWarningWidget.get("checked"),showWrongAnonymousWarning:this.showWrongAnonymousWarningWidget.get("checked"),backgroundColor:this.backgroundColorWidget.get("value"),titleColor:this.titleColorWidget.get("value"),textColor:this.textColorWidget.get("value"),font:this.fontControlWidget.get("value"),fontTitle:this.fontTitleControlWidget.get("value")};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode)},
attualizzaLocalizedMessages:function(){this.sectionTitleWidget.set("placeHolder",this.localizedMessages.lblPersonalDetailsSectionTitlePlaceHolder)},reset:function(){this.sectionTitleWidget.set("value","");this.showCheckPersonalInfoWarningWidget.set("checked",!0);this.showMandatoryFieldsWarningWidget.set("checked",!0);this.showDuplicatedEmailWarningWidget.set("checked",!0);this.showWrongPersonWarningWidget.set("checked",!0);this.showWrongAnonymousWarningWidget.set("checked",!0);this.additionTextWidget.set("value",
"");this.fieldsChanged=!1;this.backgroundColorWidget.set("value","#FFFFFF");this.titleColorWidget.set("value","#000000");this.textColorWidget.set("value","#000000")},impostaTitoloSezione:function(a){this.sectionTitleWidget.set("value",a)},impostaShowCheckPersonalInfoWarning:function(a){this.showCheckPersonalInfoWarningWidget.set("checked",a)},impostaShowMandatoryFieldsWarning:function(a){this.showMandatoryFieldsWarningWidget.set("checked",a)},impostaShowDuplicatedEmailWarning:function(a){this.showDuplicatedEmailWarningWidget.set("checked",
a)},impostaShowWrongPersonWarning:function(a){this.showWrongPersonWarningWidget.set("checked",a)},impostaShowWrongAnonymousWarning:function(a){this.showWrongAnonymousWarningWidget.set("checked",a)},impostaTestoAddizionale:function(a){this.additionTextWidget.set("value",a)},_setAdditionalMessagesAttr:function(a){if(a)for(var b in a)this[b+"Node"]&&(this[b+"Node"].innerHTML=a[b])}})})},"ebPlatformWidgets/Form/I18TextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/fx dojo/dom-class dojo/dom-style dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/_FormMixin dijit/form/_FormValueMixin dijit/form/ValidationTextBox dijit/layout/ContentPane dijit/layout/TabContainer put-selector/put ebPlatform/logger! ebPlatform/stato dijit/focus dojo/i18n!./nls/form".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t){return q([D,m,r],{templateString:'\x3cdiv class\x3d"dijitTabContainer" data-dojo-attach-point\x3d"focusNode"\x3e\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\x3c/div\x3e',baseClass:"i18TextBox",
useMenu:!1,useSlider:!1,placeHolder:null,constraints:null,maxLength:null,languages:null,countChars:!0,countCharsHandler:null,messages:t.richTextBoxWidget,postCreate:function(){this.inherited(arguments);this.labels={};this.counters={};var b=this,e;this.rcNode;this.countChars&&(this.rcNode=y(this.domNode,"+div.remainingChars",t.richTextBoxWidget.lblRemainingChars+" "),this.rcNode=y(this.rcNode,"span"));k.forEach(z.commons.data.languages,function(h,k){h.disponibileFe&&(b.labels[h.idLingua]=new u({index:k,
title:h.iso639_1,name:""+h.idLingua,placeHolder:b.placeHolder,constraints:b.constraints||{},maxLength:b.maxLength,countChars:b.countChars,rcNode:b.rcNode,onChange:function(a){b._priorityChange&&b._handleOnChange(b.get("value"),!0)},onFocus:function(){this.countChars&&(this.startCountChars(),l.add(this.rcNode.parentNode,"dijitFcoused"))},onBlur:function(){this.countChars&&this.stopCountChars();l.remove(this.rcNode.parentNode,"dijitFcoused")},startCountChars:function(){this.countChars&&(n.fadeIn({node:this.rcNode.parentNode,
duration:500}).play(),this.updateCharsCount(),this.countCharsHandler=f(this,"keyUp",a.hitch(this,this.updateCharsCount)))},stopCountChars:function(){this.countChars&&(n.fadeOut({node:this.rcNode.parentNode,duration:200}).play(),this.countCharsHandler.remove())},updateCharsCount:function(){this.countChars&&(this.rcNode.innerHTML=this.maxLength-this.get("value").length)}}),e=new w({title:h.iso639_1,disabled:!0}),e.addChild(b.labels[h.idLingua]),b.labels[h.idLingua].startup(),b.addChild(e))});this.startup();
this.getChildren()&&0<this.getChildren().length&&this.selectChild(this.getChildren()[this.getChildren().length-1])},setupLanguages:function(a,b){var e=this,f;for(f in this.labels)this.labels[f].set("disabled",!0),this.getChildren()[this.labels[f].index].set("disabled",!0);var h=-1,m=0;k.forEach(a,function(a){e.labels[a.idLingua].set("disabled",!1);e.getChildren()[e.labels[a.idLingua].index].set("disabled",!1);m++;if(0>h||h>a.ordinamento)h=a.ordinamento,e.selectChild(e.getChildren()[e.labels[a.idLingua].index])});
l[1==m?"add":"remove"](this.domNode,"mono");if(void 0===b||b){var t=[];k.forEach(this.getChildren(),function(a){!0===a.disabled&&t.push(a.content)});for(f=0;f<t.length;f++)t[f].set&&t[f].set("value",null)}},onChange:function(a){},selectFirst:function(){if(this.getChildren())for(var a=0;a<this.getChildren().length;a++)if(!1===this.getChildren()[a].disabled){this.selectChild(this.getChildren()[a]);break}},_setPlaceHolderAttr:function(a){x.debug("placeHolder",a);this.placeHolder=a;for(var b in this.labels)this.labels[b].set("placeHolder",
a)},_setConstraintsAttr:function(a){x.debug("constraints",a);this.constraints=a;for(var b in this.labels)this.labels[b].set("constraints",a||{})},_setMaxLengthAttr:function(a){x.debug("maxLength",a);this.maxLength=a;for(var b in this.labels)this.labels[b].set("maxLength",a)},_setLanguagesAttr:function(a,b){x.debug("languages",a);this.languages=a;this.setupLanguages(a,b)},_setDisabledAttr:function(a){this.inherited(arguments);k.forEach(this._getDescendantFormWidgets(),function(b){b.set("disabled",
a)})},compare:function(a,b){var e=0;if(void 0!==a&&void 0===b)e=-1;else if(void 0===a&&void 0!==b)e=1;else{for(var f in a)0==e&&(e=void 0===b[f]?-1:a[f]<b[f]?-1:a[f]>b[f]?1:0);for(f in b)0==e&&(e=void 0===a[f]?1:a[f]<b[f]?-1:a[f]>b[f]?1:0)}return e},_setValueAttr:function(a,b){void 0!==b&&!1===b&&(this._priorityChange=!1,this.inherited(arguments),this.defer(function(){this._priorityChange=!0}))}})})},"ebPlatformWidgets/Evento/Communication/EditBarCodeSectionDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditBarCodeSectionDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h){return q([n,l],{baseClass:"editBarCodeSectionDialogWidget",disabled:!1,additionalMessages:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new e({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){console.log("[EditBarCodeSectionDialogWidget] show",a);this.inherited(arguments);this.mainWidget.reset();a.title&&this.set("title",a.title);a.currentState&&a.currentState.barCodeTitle&&this.mainWidget.impostaTesto("barCodeTitle",a.currentState.barCodeTitle);
a.currentState&&this.mainWidget.impostaCheckBox("hideBarCodeTitle",a.currentState.hideBarCodeTitle);a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection);this.resize(null)},_setAdditionalMessagesAttr:function(a){this.mainWidget.set("additionalMessages",a);this.mainWidget.impostaPlaceHolders()}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsFormWithLogicDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/topic dojo/aspect dojo/text!./templates/EditPersonalDetailsFormWithLogicDialogContentWidget.html dojo/fx dojo/dom dojo/dom-style dojo/dom-class dojo/query dojo/NodeList-dom ebPlatform/dojo/store/Memory dojo/store/Observable dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/registry dijit/tree/ObjectStoreModel dijit/Tree ebPlatform/dijit/tree/dndSourceEmitter ./EditRegistrationFormElementsSetupsWidget ./EditRegistrationFormElementRuleWidget ./EditRegistrationFormElementRuleDialogWidget ebPlatform/utility ebPlatform/commonDialogs ebPlatform/logger! ebPlatform/stato dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa){return q([x,z],{mouseAnim:null,templateString:f,baseClass:"editPersonalDetailsFormWithLogicDialogContentWidget",parentWidget:null,eventPageWidgetRef:null,treeStore:null,observableTreeStore:null,treeModel:null,treeWidget:null,editRegistrationFormElementsSetupsWidget:null,editRegistrationFormElementRuleWidget:null,allowPartnerWithProfileInsertion:null,allowUneditableFieldsManagement:null,azioniCampi:null,condizioniCampi:null,mappaListe:null,
messages:aa,commonMessages:N,postCreate:function(){this.inherited(arguments);this.treeStore=new D({data:[{id:0,name:"Registration Form"}],getChildren:function(a){return this.query({parent:a.id},{sort:[{attribute:"subPosition"}]})}});e.after(this.treeStore,"put",a.hitch(this,function(){function a(d){return d in b?a(b[d]).concat(""+d):[""+d]}var b={};k.forEach(this.treeStore.data,function(a){b[a.id]=a.parent});k.forEach(this.treeStore.data,function(b){b.path=a(b.id)})}));this.observableTreeStore=new y(this.treeStore);
this.treeModel=new G({store:this.observableTreeStore,query:{id:0},mayHaveChildren:function(a){return a.hasChildren}});this.treeWidget=new C({model:this.treeModel,autoExpand:!0,onOpen:a.hitch(this,function(a,b){a.opened=!0}),onClose:a.hitch(this,function(a,b){a.opened=!1}),onMouseDown:a.hitch(this,function(a){(a=this.treeWidget.getItemIdFromTreeRowNode(a.target))&&m.add("formElementRow_"+a,"selected")}),onClick:a.hitch(this,function(a,b,d){this.evidenziaRigaSetups(a.id,"selected");m.add("formElementRow_"+
a.id,"hover");this.nascondiRegole()}),getIconClass:function(a,b){return iconClass=this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"label"==a.itemType?"ebDijitLabel":"Lista"==a.itemType?"ebDijitComboBox":"dijitLeaf"},getLabel:function(a){a=a[this.model.labelAttr].replace(/\r?\n|\r/g," ");90<a.length&&(a=a.substr(0,87)+"...");return a},getLabelStyle:function(a,b){var d={};"label"==a.itemType&&(d={color:"white",background:"#ccc",paddingLeft:"5px",paddingRight:"5px"});return d},
getRowClass:function(a,b){return"treeRow_"+a.id},onMouseOver:a.hitch(this,function(a){(a=this.treeWidget.getItemIdFromTreeRowNode(a.target))&&this.evidenziaRigaSetups(a,"hover")}),onMouseLeave:a.hitch(this,function(a){this.evidenziaRigaSetups(null,"reset")}),onMouseUp:a.hitch(this,function(a){u(".dndDropTarget").removeClass("dndDropTarget")}),getItemIdFromTreeRowNode:function(a){var b;if(!a)return b;if(-1<a.className.indexOf("treeRow_"))a=a.className.split(" "),k.forEach(a,function(a){-1<a.indexOf("treeRow_")&&
(b=a.substr(a.indexOf("treeRow_")+8))});else if(a.parentNode)return this.getItemIdFromTreeRowNode(a.parentNode);return b},showRoot:!1,dndController:p,betweenThreshold:5,checkItemAcceptance:a.hitch(this,function(a,b,d){var e=t.getEnclosingWidget(a),f=!0;try{b.anchor.item.parent==e.item.parent&&b.anchor.item.subPosition+1==e.item.subPosition&&(f=!1)}catch(R){console.log("Problemi nella checkItemAcceptance - target,source,position,targetTreeNode:",a,b,d,e),f=!1}"over"==d&&(f=f&&("Lista"==e.item.itemType?
!0:!1));u(".dndDropTarget").removeClass("dndDropTarget");u(".hoverDnDTarget").removeClass("hoverDnDTarget");u(".hoverDnDTargetFirst").removeClass("hoverDnDTargetFirst");u(".hoverDnDTargetBetween").removeClass("hoverDnDTargetBetween");u(".hoverDnDTargetLast").removeClass("hoverDnDTargetLast");f&&"over"==d&&(m.add(e.domNode,"dndDropTarget"),this.evidenziaRigaSetups(e.item.id,"hoverDnDTarget"));return f})},this.treeNode);e.after(this.treeWidget,"_adjustWidths",a.hitch(this,function(){this.editRegistrationFormElementsSetupsWidget.impostaCampi(this.getCampi())}));
this.treeWidget.startup();this.editRegistrationFormElementsSetupsWidget=new I({parentWidget:this},this.nodesSetupsNode);l.subscribe("dndSourceEmitter.DndDrop",a.hitch(this,function(a,b,d,e){this.editRegistrationFormElementsSetupsWidget.impostaCampi(this.getCampi());this.signalDataChange()}));this.editRegistrationFormElementRuleWidget=new v({parentWidget:this});this.addTextBtnWidget=new B({label:aa.lblAddText,onClick:a.hitch(this,function(){this.aggiungiTesto()})},this.addTextBtnNode);this.resetLogicBtnWidget=
new B({label:aa.lblResetLogic,onClick:a.hitch(this,function(){S.setUpConfirmDialog(aa.msgConfirmResetLogicDialogTitle,aa.msgConfirmResetLogicDialogMsg,this,function(){this.resettaLogiche()},function(){},null,!0);S.showConfirm()})},this.resetLogicBtnNode)},impostaCampi:function(b,d){this.nascondiRegole();var e=[];k.forEach(b,function(a){a.parentId&&e.push(a.parentId)});k.forEach(d,function(a){a.idDipendeDa&&e.push(a.idDipendeDa)});this.observableTreeStore.query(function(){return!0}).forEach(a.hitch(this,
function(a){this.observableTreeStore.remove(a.id)}));var f=[];b&&(f=f.concat(b));d&&(f=f.concat(d));f.sort(function(a,b){var d=a.posizioneNelForm||a.position||0,e=b.posizioneNelForm||b.position||0;return d<e?-1:d>e?1:0});k.forEach(f,a.hitch(this,function(a){var b="idTesto"in a?"label":a.type;this.observableTreeStore.add({id:"label"==b?"t"+a.idTesto:a.id,name:a.label||a.testo,parent:a.parentId||a.idDipendeDa||0,hasChildren:"Lista"==a.type?!0:!1,subPosition:a.subPosition||a.posizioneNelGruppo||0,itemType:"idTesto"in
a?"label":a.type,show:a.show||a.visualizzaFormIscrizione||!1,showForPartner:a.showForPartner||a.visualizzaAccompagnatori||!1,mandatory:a.mandatory||!1,mandatoryForPartner:a.mandatoryForPartner||!1,uneditable:a.uneditable||!1,uneditableForPartner:a.uneditableForPartner||!1,opened:!0,visible:!0,rule:"label"!=b?"parametersMap"in a&&a.parametersMap&&"rule"in a.parametersMap?a.parametersMap.rule:null:"mappaParametri"in a&&a.mappaParametri&&"rule"in a.mappaParametri?a.mappaParametri.rule:null,multiple:"parametersMap"in
a&&a.parametersMap&&"multiple"in a.parametersMap?a.parametersMap.multiple:!1,style:a.stile?a.stile:null})}));this.editRegistrationFormElementsSetupsWidget.impostaCampi(this.getCampi())},getCampi:function(){var a=[];this.observableTreeStore.query(function(){return!0}).forEach(function(b){a.push(b)});return a},aggiungiTesto:function(){var a=this.getCampi(),b=0;k.forEach(a,function(a){!a.parent&&a.subPosition>b&&(b=a.subPosition)});this.observableTreeStore.add({id:"tnew_"+a.length,name:"XXXXXXXXXXXXXXXXX",
parent:0,hasChildren:!1,subPosition:b+1,itemType:"label",show:!0,showForPartner:!1,opened:!0,visible:!0,style:null});this.editRegistrationFormElementsSetupsWidget.impostaCampi(this.getCampi());this.parentWidget.aggiustaAltezza()},rimuoviTesto:function(a){this.observableTreeStore.remove(a);this.parentWidget.aggiustaAltezza()},aggiornaProp:function(a,b,d){a=this.observableTreeStore.get(a.id);a[b]!=d&&(a[b]=d,this.observableTreeStore.put(a))},evidenziaRigaSetups:function(b,d){var e=[];k.forEach(this.getCampi(),
function(a){m.remove("formElementRow_"+a.id,["hover"]);a.parent==b&&e.push(a.id)});this.treeWidget.selectedItems&&(k.forEach(this.getCampi(),a.hitch(this,function(a){var b=!1;k.forEach(this.treeWidget.selectedItems,function(d){a.id==d.id&&(b=!0)});b||m.remove("formElementRow_"+a.id,["selected"])})),k.forEach(this.treeWidget.selectedItems,function(a){m.add("formElementRow_"+a.id,"selected")}));if("reset"!=d&&"hoverDnDTarget"!=d)m.add("formElementRow_"+b,d);else if("hoverDnDTarget"==d)if(e&&0<e.length)if(m.add("formElementRow_"+
b,"hoverDnDTargetFirst"),1<e.length){for(var f=0;f<e.length-1;f++)m.add("formElementRow_"+e[f],"hoverDnDTargetBetween");m.add("formElementRow_"+e[e.length-1],"hoverDnDTargetLast")}else m.add("formElementRow_"+e[0],"hoverDnDTargetLast");else m.add("formElementRow_"+b,d)},mostraRegole:function(a){var b=this.observableTreeStore.get(a.parent);this.treeWidget.set("paths",[a.path]);this.editRegistrationFormElementRuleWidget.show(a,b,this.azioniCampi,this.condizioniCampi,this.mappaListe)},nascondiRegole:function(){},
getLabelValoreLista:function(b,d){var e="",f;if(f=a.isObject(this.mappaListe[b])?this.mappaListe[b]:L.commons.data.standardLists[this.mappaListe[b]])if(f=k.filter(f,function(a){return a.id==d}))e=f[0].label;return e},resettaLogiche:function(){var b=1;this.observableTreeStore.query(function(){return!0}).forEach(a.hitch(this,function(a){a.parent=0;a.subPosition=b++;a.path=["0",""+a.id];a.rule=null;this.observableTreeStore.put(a)}));this.editRegistrationFormElementsSetupsWidget.impostaCampi(this.getCampi());
this.signalDataChange()},signalDataChange:function(){this.eventPageWidgetRef.stato.set("dirty",!0)},save:function(){this.eventPageWidgetRef.pageLayoutWidget.aggiornaStatoLogiche(this.getCampi());this.eventPageWidgetRef.save()}})})},"ebPlatformWidgets/Evento/Communication/EditRegistrationButtonsDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/text!./templates/EditRegistrationButtonsDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/Editor dijit/form/Button dijit/form/ValidationTextBox dojox/editor/plugins/SafePaste ebPlatform/htmlTags ebPlatformWidgets/Form/ColorPickerWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Dialogs/nls/EditTextWithFontDialogWidget dojo/i18n!ebPlatformWidgets/Evento/EventPage/nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y){return q([l,e],{mouseAnim:null,templateString:n,baseClass:"editCommunicationButtonsDialogContentWidget",parentWidget:null,doOnSelection:null,eventPageMessages:y,registrationButtonLabelWidget:null,registrationButtonColorWidget:null,registrationButtonBgColorWidget:null,denyButtonLabelWidget:null,denyTextEditorWidget:null,denyButtonColorWidget:null,denyButtonBgColorWidget:null,postCreate:function(){this.inherited(arguments);this.registrationButtonLabelWidget=new b({},
this.registrationBtnLabelNode);this.denyButtonLabelWidget=new b({},this.denyBtnLabelNode);this.denyTextEditorWidget=new f({extraPlugins:["viewsource",{name:"safepaste",stripTags:m,width:"640px"}],height:"100px"},this.denyTextEditNode);this.denyTextEditorWidget.startup();this.registrationButtonColorWidget=new u({label:D.lblColorPlaceHolder,value:"#000000"},this.registrationBtnColorNode);this.registrationButtonBgColorWidget=new u({"class":"right",label:D.lblBackgroundColorPlaceHolder,value:"#FFFFFF"},
this.registrationBtnBgColorNode);this.denyButtonColorWidget=new u({label:D.lblColorPlaceHolder,value:"#000000"},this.denyBtnColorNode);this.denyButtonBgColorWidget=new u({"class":"right",label:D.lblBackgroundColorPlaceHolder,value:"#FFFFFF"},this.denyBtnBgColorNode);this.saveBtn=new h({label:w.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e={registration:{text:this.registrationButtonLabelWidget.get("value"),color:this.registrationButtonColorWidget.get("value")||"#000000",
backgroundColor:this.registrationButtonBgColorWidget.get("value")||"#ffffff"},deny:{text:this.denyButtonLabelWidget.get("value"),thankuText:this.denyTextEditorWidget.get("value"),color:this.denyButtonColorWidget.get("value")||"#000000",backgroundColor:this.denyButtonBgColorWidget.get("value")||"#ffffff"}};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.saveBtnNode);this.cancelBtn=new h({label:w.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},
this.cancelBtnNode)},show:function(a){this.inherited(arguments);a.placeHolderRegistration?this.registrationButtonLabelWidget.set("placeHolder",a.placeHolderRegistration):this.registrationButtonLabelWidget.set("placeHolder","");a.placeHolderDeny?this.denyButtonLabelWidget.set("placeHolder",a.placeHolderDeny):this.denyButtonLabelWidget.set("placeHolder","");a.color&&this.registrationButtonColorWidget.set("value",a.color,!0);a.backgroundColor&&this.registrationButtonBgColorWidget.set("value",a.backgroundColor,
!0);a.color&&this.denyButtonColorWidget.set("value",a.color,!0);a.backgroundColor&&this.denyButtonBgColorWidget.set("value",a.backgroundColor,!0);a.doOnSelection&&(this.doOnSelection=a.doOnSelection);a.registration&&(this.registrationButtonLabelWidget.set("value",a.registration.text||""),this.registrationButtonColorWidget.set("value",a.registration.color||"#000000"),this.registrationButtonBgColorWidget.set("value",a.registration.backgroundColor||"#FFFFFF"));a.deny&&(this.denyButtonLabelWidget.set("value",
a.deny.text||""),this.denyTextEditorWidget.set("value",a.deny.thankuText||""),this.denyButtonColorWidget.set("value",a.deny.color||"#000000"),this.denyButtonBgColorWidget.set("value",a.deny.backgroundColor||"#FFFFFF"));a.showPartecipationDeny?k.set(this.denyControlsContainerNode,"display","block"):k.set(this.denyControlsContainerNode,"display","none")}})})},"ebPlatformWidgets/Evento/Communication/utility":function(){define(["dojo/_base/lang","dojo/json","ebPlatform/logger!","dojo/i18n!./nls/CommunicationWidget"],
function(q,a,k,n){return{getValue:function(l,e){k.debug("formalValue",l);var f={value:"",layoutPlaceholder:"",popupTitle:"",popupPlaceholder:""};if("string"===typeof l&&0==l.indexOf("{")){var h,f=a.parse(l);for(c in f)f[c]&&0==f[c].indexOf("[")&&(h=f[c].substr(1,f[c].length-2),f[c]="value"==c?q.getObject(h,!1,e?e:n):q.getObject(h,!1,n))}else f.value=l;k.debug("retObj",f);return f}}})},"ebPlatformWidgets/Evento/Communication/EditPersonalDetailsFormDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dnd/Manager dojo/dnd/Source dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/on dojo/text!./templates/EditPersonalDetailsFormDialogContentWidget.html dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button put-selector/put ebPlatform/commonDialogs ebPlatform/logger! ebPlatform/stato ebPlatformWidgets/CustomTooltip dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/EventPage/nls/EventPageWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S){return q([D,y],{mouseAnim:null,templateString:u,baseClass:"editPersonalDetailsFormDialogContentWidget confirmationEmail",parentWidget:null,localizedMessages:null,localizedCommonMessages:null,widgetCache:null,fieldsChanged:null,campi:null,campiVisibili:null,campiVisibiliAccompagnatori:null,additionalMessages:null,allowPartnerWithProfileInsertion:null,doOnSelection:null,cancelBtnWidget:null,okBtnWidget:null,messages:S,eventPageMessages:M,
commonMessages:v,disabled:!1,tabIndexBase:4E3,postCreate:function(){this.inherited(arguments);if(this.additionalMessages)for(var d in this.additionalMessages)this.eventPageMessages[d]=this.additionalMessages[d];this.widgetCache=[];this.firstNameShowWidget=new B({checked:!0,disabled:!0},this.firstNameShowNode);this.firstNameShowForPartnerWidget=new B({checked:!0,disabled:!0},this.firstNameShowForPartnerNode);this.surnameShowWidget=new B({checked:!0,disabled:!0},this.surnameShowNode);this.surnameShowForPartnerWidget=
new B({checked:!0,disabled:!0},this.surnameShowForPartnerNode);this.cancelBtnWidget=new t({label:v.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new t({label:v.lblOKButton,onClick:a.hitch(this,function(){var b=this;w("tbody.dojoDndItem \x3e tr").forEach(function(a,d){var f=e.get(a,"idx");b.campi[f]?(b.campi[f].positionOnMail!=d+1&&(b.fieldsChanged=!0),b.campi[f].positionOnMail=d+1):p.warn("non trovo il campo "+f,b.campi,a)});var d=
this.parentWidget.hide();if(this.fieldsChanged){this.ordinaCampi();this.stato.fields=[];var f=this.stato;k.forEach(this.campi,function(a,b){f.fields.push(a)})}var h={campi:this.campi,fieldsDetails:this.stato.fields,fieldsChanged:this.fieldsChanged};this.doOnSelection&&(d?d.then(a.hitch(this,function(){this.doOnSelection(h)})):this.doOnSelection(h))})},this.okBtnNode);b.set(this.lblShowForPartnerFieldTdNode,"display","none");b.set(this.firstNameShowForPartnerTdNode,"display","none");b.set(this.surnameShowForPartnerTdNode,
"display","none")},attualizzaLocalizedMessages:function(){this.firstNameLabelNode.innerHTML=this.localizedCommonMessages.lblNome;this.surnameNameLabelNode.innerHTML=this.localizedCommonMessages.lblCognome},reset:function(){this.fieldsChanged=!1;this.stato={};this.campi=[];this.campiVisibili={};this.campiVisibiliAccompagnatori={};k.forEach(this.widgetCache,function(a){a.destroy()});w("tbody.dojoDndItem",this.fieldsTbodyNode.parentNode).forEach(function(a){G(a,"!")})},_setAdditionalMessagesAttr:function(a){if(a)for(var b in a)this[b+
"Node"]&&(this[b+"Node"].innerHTML=a[b])},impostaCampi:function(d){p.debug("impostaCampi",d);this.tabIndex=1;this.stato={fields:d};console.debug(2);b.set(this.lblShowForPartnerFieldTdNode,"display","none");b.set(this.firstNameShowForPartnerTdNode,"display","none");b.set(this.surnameShowForPartnerTdNode,"display","none");d?(d&&(this.campi=this.campi.concat(a.clone(d))),this.ordinaCampi()):this.campi=[];k.forEach(this.campi,a.hitch(this,function(d,e){var f=G(this.fieldsTbodyNode.parentNode,"tbody.dojoDndItem"),
f=G(f,"tr#$[type\x3d$][idx\x3d$]",("label"!=d.type?"cf":"tx")+"_"+d.id,("label"==d.type?"text":"field")+"Element",e);G(f,"td \x3e div.dndico.dojoDndHandle"," ");var h=G(f,"td.NomeCampo"),k=G(f,"td.Show"),k=G(k,"input[type\x3dcheckbox]"),m=G(f,"td.ShowForPartner");G(m,"input[type\x3dcheckbox]");G(f,"td");b.set(m,"display","none");h.innerHTML=d.label;f=new B({checked:d.showOnMail,onChange:a.hitch(this,function(a){d.showOnMail=a;this.fieldsChanged=!0})},k);this.widgetCache.push(f);this.campiVisibili[d.positionOnMail]=
f}));this.makeDnD()},ordinaCampi:function(){this.campi.sort(function(a,b){var d=0;a!==b&&(d=!isNaN(a.positionOnMail)&&isNaN(b.positionOnMail)?-1:isNaN(a.positionOnMail)&&!isNaN(b.positionOnMail)?1:null!=a.positionOnMail&&null==b.positionOnMail?-1:null==a.positionOnMail&&null!=b.positionOnMail?1:a.positionOnMail<b.positionOnMail?-1:1);return d})},makeDnD:function(){this.source=new l(this.fieldsTbodyNode.parentNode,{isSource:!0,skipForm:!1,singular:!0,withHandles:!0,autoSync:!0,dropParent:this.fieldsTbodyNode.parentNode,
onDndStart:function(a,b,e){a==this&&(l.prototype.onDndStart.call(this,a,b,e),f.add(n.manager().avatar.node,"editPersonalDetailsFormDialogWidget"))}})}})})},"ebPlatformWidgets/Evento/Badges/EditGuestCategoryDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/request dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/store/Memory dojo/text!./templates/EditGuestCategoryDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button dijit/form/FilteringSelect dijit/form/Select ebPlatform/logger! ebPlatform/templateUtility ebPlatformWidgets/Form/ColorPickerWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Dialogs/nls/EditTextWithFontDialogWidget dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E){return q([m,u],{mouseAnim:null,templateString:r,baseClass:"editGuestCategoryDialogContentWidget",parentWidget:null,doOnSave:null,idEvento:null,idLingua:null,guestCategories:null,categorySelection:null,categoryShowText:null,categories:null,fontFamily:null,fontSize:null,fontFamilyDefaultData:null,fontSizeDefaultData:null,categoriesChanged:!1,messages:E,commonMessages:p,postCreate:function(){t.debug("postCreate",this.idEvento);this.inherited(arguments);
this.cancelBtnWidget=new x({label:p.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new x({label:p.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e={showText:this.categoryShowText.checked,fontFamily:this.fontFamily.value,fontSize:this.fontSize.value};this.doOnSave&&(b?b.then(a.hitch(this,function(){this.doOnSave(e)})):this.doOnSave(e))})},this.okBtnNode);this.categoryShowText=new y({onChange:a.hitch(this,
function(a){this.fontFamily.set("disabled",!a);this.fontSize.set("disabled",!a)})},this.categoryShowTextNode);this.fontFamilyDefaultData=[{label:"Helvetica",value:"Arial, Helvetica, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Courier New",value:"'Courier New', Courier, monospace"},{label:"Times New Roman",value:"'Times New Roman', Times, serif"},{label:"Encode Sans",value:"Encode Sans Normal"},{label:"PT Sans",value:"'PT Sans'"},{label:"PT Sans Narrow",value:"'PT Sans Narrow'"},
{label:"Noto Sans",value:"Noto Sans, Helvetica, sans-serif"}];this.fontFamilyStore=new b({idProperty:"value",data:this.fontFamilyData||this.fontFamilyDefaultData});this.fontSizeDefaultData=[16,18,20,24,28,30,32,34,38,40,42,50];fsd=this.fontSizeData||this.fontSizeDefaultData;fsdd=k.map(fsd,function(a){return{value:a+"px",label:a}});this.fontSizeStore=new b({idProperty:"value",data:fsdd});this.fontFamily=new z({required:!1,style:"width:150px;",store:this.fontFamilyStore,searchAttr:"label",labelAttr:"label",
placeHolder:I.lblFontFamilyPlaceHolder},this.guestCategoryFontFamily);this.fontSize=new z({required:!1,style:"width:150px;",store:this.fontSizeStore,searchAttr:"label",labelAttr:"label",placeHolder:p.lblFontSizePlaceHolder},this.guestCategoryFontSize)},reset:function(a){t.trace("reset",a);this.inherited(arguments);this.doOnSave=a.doOnSave;this.categoryShowText.set("value",a.stato.guestCategoryShowText);a.stato.guestCategoryFontFamily?this.fontFamily.set("value",a.stato.get("guestCategoryFontFamily")):
this.fontFamily.set("value",this.fontFamilyStore.data[0].value);a.stato.guestCategoryFontSize?this.fontSize.set("value",a.stato.get("guestCategoryFontSize")):this.fontSize.set("value",this.fontSizeStore.data[0].value);this.categoriesChanged=!1},initCategorieOspiti:function(b,e,m,d){t.trace("initCategorieOspiti",b,e,d);this.categorySelection=new B({store:e,query:{tipo:"Lista"},queryOptions:{sort:[{attribute:"idx"},{attribute:"fieldLabel"}]},sortByLabel:!1,searchAttr:"fieldLabel",labelAttr:"fieldLabel",
guestCategories:d,onChange:a.hitch(this,function(a){t.trace("categorySelection",a,this.categorySelection.store);this.aggiornaValoriCategoria(this.categorySelection.store.query({fieldName:a})[0]);this.categoriesChanged=!0})},this.categorySelectionNode);this.resetSelezioneColori();d&&0<d.length&&(this.categorySelection.set("value","customfield"+d[0].customField.posizione,!1),this.categories=k.map(d,a.hitch(this,function(b,d){var e=f.create("div",{},this.guestCategoriesNode);return{idCategory:b.idGuestCategory,
value:b.valoreLista,color:new C({label:b.valoreLista.label,value:b.colore,doOnChange:a.hitch(this,function(a){t.debug("new color",a);this.categoriesChanged=!0})},e)}})),h.set(this.guestCategoriesNode,"display","block"))},aggiornaValoriCategoria:function(b){t.debug("aggiornaValoriCategoria",b);var e=new n;l.post("/getListeEvento.plp",{data:{idEvento:this.idEvento,idLingua:this.idLingua},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){var d;
t.debug("aggiornaValoriCategoria valori",a,b,a.length);for(var f=0;f<a.length&&!d;f++)t.debug("aggiornaValoriCategoria valore",a[f],a[f].id==b.idLista,b.idLista),a[f].id==b.idLista&&(d=a[f]);t.debug("aggiornaValoriCategoria valori filtrati",d);d?(h.set(this.guestCategoriesNode,"display","block"),this.initSelezioneColori(d)):(h.set(this.guestCategoriesNode,"display","none"),this.resetSelezioneColori());e.resolve()}),a.hitch(this,function(a){commonDialogs.showInfoWithCloseButton(p.msgErroreServer,jspMessages.footerInc.lblErrorMsgDialogTitle,
p.lblOKButton);e.reject()}));return e.promise},resetSelezioneColori:function(){for(t.trace("resetSelezioneColori");this.categories&&0<this.categories.length;){var a=this.categories.pop();this.guestCategoriesNode.removeChild(a.color.domNode)}},initSelezioneColori:function(b){t.debug("initSelezioneColori",b);this.categories?this.resetSelezioneColori():this.categories=[];for(var e=0;e<b.valori.length;e++){var h=f.create("div",{},this.guestCategoriesNode);this.categories.push({idCategory:0,value:b.valori[e],
color:new C({label:b.valori[e].label,doOnChange:a.hitch(this,function(a){t.debug("new color",a)})},h)})}t.debug("initSelezioneColori colori",this.categories)}})})},"ebPlatformWidgets/Evento/Guests/InviteListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/cookie dojo/Deferred dojo/json dojo/on dojo/dom-style dojo/dom-class dojo/dom-attr dojo/store/Memory dojo/store/JsonRest dojo/request dojo/string dojo/topic dojo/when dojo/text!./templates/InviteListWidget.html dojo/i18n!dgrid/extensions/nls/pagination dijit/_WidgetBase dijit/_TemplatedMixin dijit/layout/ContentPane dijit/form/Form dijit/form/TextBox dijit/form/ValidationTextBox dijit/form/CheckBox dijit/form/Button dijit/form/RadioButton dijit/form/FilteringSelect dijit/registry ebPlatformWidgets/CustomTooltip dojox/form/Uploader dgrid/Grid dgrid/tree dgrid/extensions/Pagination dgrid/editor put-selector/put ebPlatform/logger! ebPlatform/stato ebPlatform/statoEmail ebPlatform/commonDialogs ebPlatform/utility ebPlatform/ebcometd ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ./_ListWidgetMixin ./UploadedInviteListDialogWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Communication/nls/CommunicationWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O,V,U,da,ka,P){return q([G,C,O],{mouseAnim:null,templateString:B,baseClass:"inviteListWidget",parentWidget:null,idEvento:H.evento.stato.idEvento,totLista:0,maxDemoGuests:10,disableDownloadButtons:!1,configFiltri:{filtraStatoEmail:!0,filtraNonInteressati:!0,filtraModalitaIscrizione:!1,filtraDataFascia:!1,filtraAzioniOspite:!1,filtraValoreLista:!0,filtraDuplicati:!1},pardotWidget:null,formSwitchWidget:null,
caricaListaFormWidget:null,scegliFileWidget:null,nomeFileWidget:null,operazioneAppendWidget:null,operazioneOverwriteWidget:null,operazioneAppendNewWidget:null,caricaListaFormSubmitWidget:null,recipientsAuthorizationTooltipWidget:null,filtraStatoEmailWidget:null,filtraNonInteressatiWidget:null,sceltaInvitoWidget:null,cancellaListaWidget:null,inserisciAnagraficaBtn:null,uploadedFilesPopupBtnWidget:null,uploadedInviteListDialogWidget:null,messages:P,commonMessages:da,postCreate:function(){this.gruppoDefault=
"INVITO";this.downloadLinkPath="downloadListaInvitati.plp";this.inherited(arguments);this.initUploadForm();this.aggiornaVisibilitaLista();this.initList();this.initListenerAnagraficaAggiunta();this.initFilesUploaded();if(H.commons.permissions.hasPardot){var b=this;require(ebplatform.config.enableLoadBuilt?["built/pardot"]:[],function(){require(["ebPlatformWidgets/integration/pardot/ImportProspectsWidget"],function(a){b.pardotWidget=new a({parentWidget:b},b.pardotNode)})});r.add(this.importInviteeRowWrapperNode,
"pardotPresent")}new aa({label:P.msgDuplicatiPop,connectId:[this.invitatiConDuplicatiNode]});h(this.invitatiConDuplicatiNode,"click",a.hitch(this,function(a){this.duplicatiDialogWidget.mainWidget.filtraDuplicati="SOLTANTO";this.duplicatiDialogWidget.mainWidget.filtraDuplicatiWidget.set("value",this.duplicatiDialogWidget.mainWidget.filtraDuplicati);this.duplicatiDialogWidget.mainWidget.applyFilters()}))},initUploadForm:function(){this.caricaListaFormWidget=new I({id:"caricaListaInvitatiForm",method:"POST",
encType:"multipart/form-data",onSubmit:a.hitch(this,function(a){this.apriCanaleCometd();this.recipientsAuthorizationWidget.set("checked",!1)})},this.caricaListaFormNode);this.nomeFileWidget=new E({id:"fileListaInvitati","class":"ro",readonly:!0},this.nomeFileNode);this.scegliFileWidget=new dojox.form.Uploader({id:"listaInvitatiUploader",label:da.lblScegliFile,multiple:!1,uploadOnSelect:!1,name:"fileLista",url:"/doCaricaListaInvitati.plp?format\x3dtext"},this.scegliFileNode);this.scegliFileWidget.on("change",
a.hitch(this,function(a){if(0<a.length){var b=a[0].name.substr(a[0].name.lastIndexOf(".")+1).toLowerCase();-1<k.indexOf(["xls","xlsx"],b)?(this.nomeFileWidget.set("value",a[0].name),this.selectedFile=a[0],this.recipientsAuthorizationWidget.get("checked")&&this.caricaListaFormSubmitWidget.set("disabled",!1),this.aggiornaTitleScegliFileWidget()):(this.caricaListaFormSubmitWidget.set("disabled",!0),X.showInfoWithCloseButton(P.msgInvalidInviteListFileExt,U.footerInc.lblErrorMsgDialogTitle,da.lblOKButton))}}));
this.scegliFileWidget.on("begin",a.hitch(this,function(a){}));this.scegliFileWidget.on("complete",a.hitch(this,function(a){ea.debug("on complete:",(new Date).getTime(),a);"OK"!=a.result&&(X.hideLoadingWithMsg(),a.msg?X.showInfoWithCloseButton(a.msg,U.footerInc.lblErrorMsgDialogTitle,da.lblOKButton):X.showInfoWithCloseButton(da.msgErroreServer,U.footerInc.lblErrorMsgDialogTitle,da.lblOKButton))}));this.scegliFileWidget.startup();this.operazioneAppendWidget=new d({name:"operazione",value:"append",checked:!0},
this.operazioneAppendNode);this.operazioneOverwriteWidget=new d({name:"operazione",value:"overwrite"},this.operazioneOverwriteNode);this.operazioneAppendNewWidget=new d({name:"operazione",value:"appendNew"},this.operazioneAppendNewNode);this.caricaListaFormSubmitWidget=new S({label:da.lblUploadButton,type:"submit",disabled:!0},this.caricaListaFormSubmitNode);h(this.caricaListaFormSubmitWidget,"click",a.hitch(this,function(a){var b;if("DEMO"==H.evento.stato.event_subscription.tipo&&H.evento.statoCalcolato.numInvitati>=
H.evento.stato.event_subscription.maxInvitati||"SINGOLO_500"==H.evento.stato.event_subscription.tipo&&H.evento.statoCalcolato.numInvitati>=H.evento.stato.event_subscription.maxPersone)return a=y.substitute(P.msgInviteListFileWarningDEMONoMore,{maxInvitati:H.evento.stato.event_subscription.maxInvitati}),b=P.msgInviteListFileWarningDEMONoMoreTitle,"SINGOLO_500"==H.evento.stato.event_subscription.tipo&&H.evento.statoCalcolato.numInvitati>=H.evento.stato.event_subscription.maxPersone&&(a=P.msgInviteListFileWarningSingolo500NoMore,
b=P.msgInviteListFileWarningSingolo500NoMoreTitle),X.showInfoWithCloseButton(a,b,da.lblOKButton,function(){},"msgDemoMarketingPushMsg",da.lblBuyButton,"buyBtn",H.commons.data.storeURL),!1;m.set(this.idEventoNode,"value",H.evento.stato.idEvento);if(this.validaFile())a="....","SINGOLO_500"==H.evento.stato.event_subscription.tipo&&(a=P.msgInviteListFileWarningSingolo500+"\x3cbr/\x3e...."),"DEMO"==H.evento.stato.event_subscription.tipo&&(a=y.substitute(P.msgInviteListFileWarningDEMO,{maxInvitati:H.evento.stato.event_subscription.maxInvitati})+
"\x3cbr/\x3e...."),X.showLoadingWithMsg(a,P.lblProcessingInviteListDialogTitle);else return X.showInfoWithCloseButton(P.msgInviteListChoseFileWarning,U.footerInc.lblErrorMsgDialogTitle,da.lblOKButton),!1}));this.caricaListaFormWidget.startup();this.recipientsAuthorizationTooltipWidget=new aa({label:'\x3cdiv class\x3d"'+this.baseClass+'RecipientsAuthorizationTooltip"\x3e'+P.msgRecipientsAuthorizationTip+"\x3c/div\x3e",connectId:[this.permessoDestinatariTooltipIconNode]});this.caricaListaFormSubmitDisabledTooltipWidget=
new aa({label:'\x3cdiv class\x3d"'+this.baseClass+'FormSubmitDisabledTooltip"\x3e'+P.msgUploadBtnDisabledNeedAuthorizationTip+"\x3c/div\x3e",connectId:[this.caricaListaFormSubmitWidget.domNode]});this.recipientsAuthorizationWidget=new M({onChange:a.hitch(this,function(a){this.caricaListaFormSubmitWidget.set("disabled",!a);this.nomeFileWidget.set("disabled",!a);a?this.caricaListaFormSubmitDisabledTooltipWidget&&this.caricaListaFormSubmitDisabledTooltipWidget.destroyRecursive():this.caricaListaFormSubmitDisabledTooltipWidget=
new aa({label:'\x3cdiv class\x3d"'+this.baseClass+'FormSubmitDisabledTooltip"\x3e'+P.msgUploadBtnDisabledNeedAuthorizationTip+"\x3c/div\x3e",connectId:[this.caricaListaFormSubmitWidget.domNode]})})},this.permessoDestinatariNode);this.formSwitchWidget=new A({title:P.lblImportInvite,dropDown:this.importInviteContainerNode,opened:!H.evento.statoCalcolato.listaInvitatiCaricata},this.importInviteBtnNode)},initList:function(){this.initCommonStores();this.initCommonSubWidgets({gruppo:this.gruppoDefault});
this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(d){this.aggiornaStatoCalcolato().then(a.hitch(this,function(a){H.evento.statoCalcolato.numOspitiConDuplicati&&0<H.evento.statoCalcolato.numOspitiConDuplicati?(this.numInvitatiConDuplicatiLabelNode.innerHTML=H.evento.statoCalcolato.numOspitiConDuplicati,b.set(this.invitatiConDuplicatiNode,"display","block")):b.set(this.invitatiConDuplicatiNode,"display","none")}));d.results.total.then(a.hitch(this,function(d){this.numInvitatiLabelNode.innerHTML=
d;H.evento.statoCalcolato.numOspitiConDuplicati&&0<H.evento.statoCalcolato.numOspitiConDuplicati?(this.numInvitatiConDuplicatiLabelNode.innerHTML=H.evento.statoCalcolato.numOspitiConDuplicati,b.set(this.invitatiConDuplicatiNode,"display","block")):b.set(this.invitatiConDuplicatiNode,"display","none");this.totLista=d;0!=d||H.evento.statoCalcolato.tracciatoEventoDefinito?d&&b.set(this.listContainerNode,"display","block"):b.set(this.listContainerNode,"display","none");this.aggiornaAbilitazioneExportLinks(!!d||
!!H.evento.statoCalcolato.tracciatoEventoDefinito);this.gridWidget.query.duplicati&&"SOLTANTO"==this.gridWidget.query.duplicati&&(this.mostraIstruzioniDuplicati(!0),this.gridWidget.infoDuplicatiNode&&R(this.gridWidget.infoDuplicatiNode,"!"),this.gridWidget.infoDuplicatiNode=R(this.gridWidget.paginationStatusTopNode,"+i.fa.fa-info-circle"),new aa({label:P.lblInfoDuplicatiTitle,connectId:[this.gridWidget.infoDuplicatiNode]}),h(this.gridWidget.infoDuplicatiNode,"click",a.hitch(this,function(){this.mostraIstruzioniDuplicati(!1)})))}))}));
this.sceltaInvitoWidget=new W({messages:P});this.cancellaListaWidget=new S({iconClass:"fa fa-trash-o",showLabel:!1,onClick:a.hitch(this,function(){this.richiediConfermaCancellaLista()}),title:P.lblDeleteInviteListBtn},this.cancellaListaBtnNode);this.inserisciAnagraficaBtn=this.getInserisciAnagraficaBtn();h(this.exportExcelNode,"click",a.hitch(this,function(a){this.disableDownloadButtons&&a.preventDefault()}))},aggiornaUI:function(){this.inherited(arguments);this.aggiornaVisibilitaLista(Z.elvis("tracciatoEventoDefinito",
H.evento.statoCalcolato,!1));this.aggiornaVisibilitaWarningSingolo500();this.aggiornaVisibilitaWarningDEMO();this.pardotWidget&&this.pardotWidget.aggiornaUI();this.refreshList();this.formSwitchWidget.opened=!H.evento.statoCalcolato.listaInvitatiCaricata;this.formSwitchWidget.aggiornaUI();this.scegliFileWidget.reset();this.aggiornaTitleScegliFileWidget();this.updateUIByPermission();H.evento.statoCalcolato.numOspitiConDuplicati&&0<H.evento.statoCalcolato.numOspitiConDuplicati?(r.remove(this.duplicatiBtn.domNode,
"dijitDisabled"),this.numInvitatiConDuplicatiLabelNode.innerHTML=H.evento.statoCalcolato.numOspitiConDuplicati,b.set(this.invitatiConDuplicatiNode,"display",null)):(r.add(this.duplicatiBtn.domNode,"dijitDisabled"),b.set(this.invitatiConDuplicatiNode,"display","none"))},apriCanaleCometd:function(){var b="/importazioneListaInvitati/"+H.evento.stato.idEvento;Q.addListener("/meta/unsubscribe",a.hitch(this,function(a){X.hideLoadingWithMsg()}));Q.subscribe(b,a.hitch(this,function(a){ea.debug("RICEVO SU CANALE",
b,a.data);if("OK"==a.data.esito)if("PING"==a.data.messaggio)ea.trace(b,"PING");else if("fine"==a.data.messaggio){Q.unsubscribe(b);H.evento.statoCalcolato.tracciatoEventoDefinito=!0;H.evento.statoCalcolato.listaInvitatiCaricata=0<a.data.totPersoneAssociate;H.evento.statoCalcolato.numInvitati=a.data.totPersoneAssociate;this.parentWidget.listSelectionWidget.resetChecked();this.parentWidget.aggiornaPulsanteGestioneCampi();this.aggiornaUI();this.nomeFileWidget.set("value","");X.hideLoadingWithMsg();var d=
"",e="",f="",A="",h="",k="";a.data.scartiNum&&(d=y.substitute(P.msgErrNotProcessedRows,{num:a.data.scartiNum,link:a.data.scartiLink}));a.data.riconosciute&&(e=y.substitute(P.msgHeadersOk,{h:a.data.riconosciute}));a.data.nonRiconosciute&&(f=y.substitute(P.msgHeadersKo,{h:a.data.nonRiconosciute}));a.data.fieldNames&&(A=P.msgFieldNamesAsHeader);a.data.lingua&&(h=y.substitute(P.msgLabelsAsHeader,{lingua:a.data.lingua}));a.data.numDuplicati&&(r.remove(this.duplicatiBtn.domNode,"dijitDisabled"),k=P.msgRowsNumProcessedWithDuplicates);
var U={numProcessati:a.data.numProcessati,numAggiornati:a.data.numAggiornati,numImportati:a.data.numImportati,numDuplicati:a.data.numDuplicati,numVuote:a.data.numVuote,numOk:a.data.numAggiornati+a.data.numImportati};a.data.soloIntestazioni?X.showInfoWithCloseButton(P.msgOnlyHeadersProcessed,P.lblProcessingInviteListDialogTitle,da.lblOKButton,null,"importListeReport"):X.showInfoWithCloseButton(y.substitute(P.msgRowsNumProcessed,U)+d+A+h+e+f+k,P.lblProcessingInviteListDialogTitle,da.lblOKButton,null,
"importListeReport")}else X.setMsgOnLoadingWithMsg(P.msgRowsNumProcessing+" "+a.data.messaggio,P.lblProcessingInviteListDialogTitle);else Q.unsubscribe(b),X.hideLoadingWithMsg(),d=a.data.messaggio,a.data.campiDuplicati&&(d=y.substitute(P.msgDuplicatedFields,{headers:a.data.campiDuplicati})),X.showInfoWithCloseButton(d,P.lblImportErrorInviteListDialogTitle,da.lblOKButton),this.nomeFileWidget.set("value","")}),{forceDebounceUnsubscribeDelay:6E4}).otherwise(function(a){console.debug("err",a)})},richiediConfermaCancellaLista:function(){X.setUpConfirmDialog(P.lblDeleteInviteListDialogTitle,
P.msgDeleteInviteListDialogMsg,this,this.cancellaLista,null);X.showConfirm()},cancellaLista:function(){X.showLoading();D.post("/cancellaListaInvitati.plp",{data:{idEvento:H.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?(H.evento.statoCalcolato.listaInvitatiCaricata=!1,H.evento.statoCalcolato.tracciatoEventoDefinito=!1,H.evento.statoCalcolato.numInvitati=0,this.parentWidget.listSelectionWidget.resetChecked(),
this.parentWidget.aggiornaPulsanteGestioneCampi(),X.hideLoading(),this.aggiornaUI()):(X.hideLoading(),X.showError(P.msgDeleteInviteListProblemWarning))}),a.hitch(this,function(a){X.hideLoading();X.showError(P.msgDeleteInviteListProblemWarning)}))},refreshList:function(){this.gridWidget.store=null;this.gridWidget.revert();this.gridWidget.query=a.mixin(this.gridWidget.query,{idEvento:H.evento.stato.idEvento,gruppo:this.gruppoDefault,statoEmail:"TUTTI",chiave:void 0,accompagnatori:"NON_PROFILATI"!=H.evento.stato.event_details.partnersType});
this.gridWidget.set("sort",[{attribute:"cognome"}]);this.gridWidget.store=this.personeStore;this.searchTextBox.set("value",null,!1);H.evento.statoCalcolato.tracciatoEventoDefinito?(ea.debug("VISUALIZZO LISTA"),b.set(this.visualizzaListaNode,"display","block"),b.set(this.noListWarningNode,"display","none"),this.operazioneOverwriteWidget.set("checked",!1),H.evento.statoCalcolato.emailInvitiSpedite||H.evento.statoCalcolato.emailGenericheSpedite||H.evento.statoCalcolato.eventoIniziato||H.evento.statoCalcolato.numIscritti?
(this.operazioneAppendWidget.set("checked",!0),b.set(this.operazioneAppendContainerNode,"display","inline"),b.set(this.operazioneOverwriteContainerNode,"display","none"),this.cancellaListaWidget.set("disabled",!0),H.evento.statoCalcolato.eventoIniziato?this.cancellaListaWidget.set("title",P.msgDeleteInviteListDisabledEventAlreadyStartedTitle):H.evento.statoCalcolato.emailInvitiSpedite||H.evento.statoCalcolato.emailGenericheSpedite?this.cancellaListaWidget.set("title",P.msgDeleteInviteListDisabledSentInviteTitle):
this.cancellaListaWidget.set("title",P.msgDeleteInviteListDisabledRegisteredPeoplePresent)):(this.operazioneAppendWidget.set("checked",!0),b.set(this.cancellaListaBtnContainerNode,"display","inline"),b.set(this.operazioneAppendContainerNode,"display","inline"),b.set(this.operazioneOverwriteContainerNode,"display","inline"),this.cancellaListaWidget.set("title",P.lblDeleteInviteListBtn)),b.set(this.operazioneAppendNewContainerNode,"display","inline")):(b.set(this.visualizzaListaNode,"display","none"),
b.set(this.noListWarningNode,"display","block"),b.set(this.operazioneAppendContainerNode,"display","none"),b.set(this.operazioneOverwriteContainerNode,"display","none"),b.set(this.operazioneAppendNewContainerNode,"display","none"),this.operazioneOverwriteWidget.set("checked",!1),this.operazioneAppendWidget.set("checked",!1),this.operazioneAppendNewWidget.set("checked",!1));this.refreshGridColumns(!0)},customizeGridColumns:function(b,d){var f=a.hitch(this,function(b,d,f){d=f.appendChild(document.createElement("div"));
r.add(d,"btnTableContainer");if(void 0===b.ospiteOriginale){var A=d.appendChild(document.createElement("div")),h=!0,k=P.lblSendInviteActionTitle,h=(f=!H.evento.statoCalcolato.inseritoAlmenoUnInvito||!!b.eventiPersona&&b.eventiPersona.some(function(a){return"ISCRIZIONE"==a.evento.substr(0,10)})||!H.commons.permissions.canModifyEvent||!this.allConfimationEmailsCreated&&H.evento.stato.event_page.sendConfirmationEmail)||!b.customfield0;!this.allConfimationEmailsCreated&&H.evento.stato.event_page.sendConfirmationEmail?
k=ka.msgSchedulingNotAllConfirmationsCreatedTip.replace("\x3cbr /\x3e"," ").replace("\x26lt;","\x3c").replace("\x26gt;","\x3e"):(H.evento.statoCalcolato.inseritoAlmenoUnInvito||(k=P.msgSendInviteActionDisabledNoInviteTemplateTitle),b.eventiPersona&&b.eventiPersona.some(function(a){return"ISCRIZIONE"==a.evento.substr(0,10)})&&(k=P.msgSendInviteActionDisabledRegisteredUserTitle),b.customfield0||(k=P.msgSendCommunicationActionDisabledNoEmail));A=new S({iconClass:"fa fa-fw fa-envelope-o btnInvito",showLabel:!1,
disabled:h,rowId:b.id,title:k,onClick:a.hitch(this,function(){H.commons.permissions.canModifyEvent&&(X.setUpConfirmDialog(P.lblSendInviteDialogTitle,P.msgSendInviteDialogQuestion+b.nome+" "+b.cognome+" ?",this,this.sendInvitoToPersona,null,[b.idPersona]),X.showConfirm())})},A);b.btnSendEmail=A;b.cantSend=f;A._destroyOnRemove=!0}b.ospiteOriginale?(f=d.appendChild(document.createElement("div")),(new S({iconClass:"fa fa-fw fa-user-plus",showLabel:!1,rowId:b.id,"class":"btnInserisci",onClick:a.hitch(this,
function(){var a,d;"DEMO"==H.evento.stato.event_subscription.tipo&&H.evento.statoCalcolato.numInvitati>=H.evento.stato.event_subscription.maxInvitati||"SINGOLO_500"==H.evento.stato.event_subscription.tipo&&H.evento.statoCalcolato.numInvitati>=H.evento.stato.event_subscription.maxPersone?(a=y.substitute(P.msgInviteListFileWarningDEMONoMore,{maxInvitati:H.evento.stato.event_subscription.maxInvitati}),d=P.msgInviteListFileWarningDEMONoMoreTitle,"SINGOLO_500"==H.evento.stato.event_subscription.tipo&&
H.evento.statoCalcolato.numInvitati>=H.evento.stato.event_subscription.maxPersone&&(a=P.msgInviteListFileWarningSingolo500NoMore,d=P.msgInviteListFileWarningSingolo500NoMoreTitle),X.showInfoWithCloseButton(a,d,da.lblOKButton,function(){},"msgDemoMarketingPushMsg",da.lblBuyButton,"buyBtn",H.commons.data.storeURL)):X.showGenericDialog(P.lblAddInviteeToList,null,"/showAnagrafica.plp?idEvento\x3d"+H.evento.stato.idEvento+"\x26idPersona\x3d"+b.idPersona,!1,{width:400,height:650},!1,!0)}),title:P.lblAddInviteeDupBtn},
f))._destroyOnRemove=!0):(f=d.appendChild(document.createElement("div")),(new S({iconClass:"fa fa-fw fa-address-card-o btnIscrizione",showLabel:!1,disabled:!H.evento.stato.event_page.allowRegistrationUpdateFromBE,rowId:b.id,title:H.evento.stato.event_page.allowRegistrationUpdateFromBE?P.lblRegistrationActionTitle:P.lblRegistrationActionDisabledTitle,onClick:a.hitch(this,function(){window.open(b.linkIscrizione+"\x26fromBE\x3dtrue","windowIscrizione","width\x3d"+window.outerWidth+",height\x3d"+window.outerHeight+
",toolbar\x3dyes,location\x3dyes,directories\x3dyes,status\x3dyes,menubar\x3dyes,scrollbars\x3dyes,copyhistory\x3dyes,resizable\x3dyes")})},f))._destroyOnRemove=!0);f=d.appendChild(document.createElement("div"));(new S({iconClass:"fa fa-fw fa-trash-o",showLabel:!1,rowId:b.id,"class":"btnDelete",title:P.lblDeleteActionTitle,onClick:a.hitch(this,function(){var d=0;if(H.evento.statoCalcolato.numOspitiConDuplicati&&0<H.evento.statoCalcolato.numOspitiConDuplicati&&void 0===b.ospiteOriginale){var f=new e,
d=f.promise;D.post("/getNumeroDuplicati.plp",{data:{idPersona:b.idPersona},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(function(a){"OK"==(a.result||a).resultCode?f.resolve(a.nrDuplicati||0):f.resolve(0)},function(a){f.resolve(0)})}z(d,a.hitch(this,function(d){X.setUpConfirmDialog(P.lblDeleteGuestDialogTitle,y.substitute(P.msgDeleteGuestDialogaMsg,{nome_e_cognome:a.trim(a.trim(b.nome||"")+" "+a.trim(b.cognome||""))})+(d?"\x3cbr /\x3e"+P.msgDeleteDuplicatesDialogWarn:
""),this,this.eliminaPersona,null,[b.idPersona]);X.showConfirm()}))})},f))._destroyOnRemove=!0;void 0===b.ospiteOriginale&&this.getEditUserButton(d,b);b.personeDuplicate&&0<b.personeDuplicate.length&&(f=R(d,"span.dijitIcon.indicator.fa-stack"),R(f,"i.fa.fa-fw.fa-stack-2x.fa-circle-thin"),f=R(f,"b.fa-stack-1x",b.personeDuplicate.length),new aa({label:'\x3cdiv class\x3d"'+this.baseClass+' duplicatiTooltip"\x3e'+P.msgDuplicatiTip+"\x3c/div\x3e",connectId:[f]}));return d});H.evento.stato.event_details.partnersType&&
"NON_PROFILATI"==H.evento.stato.event_details.partnersType&&b.splice(0,1);return[K({allowDuplicates:!0,label:P.lblActions,field:"id",width:"230px",className:"azioni",renderCell:f,sortable:!1,side:"left"}),{label:P.lblEmailStatus,field:"esitoInvio",renderCell:ca.actionRender(d),sortable:!0,side:"left"}].concat(b)},aggiornaAbilitazioneExportLinks:function(a){this.disableDownloadButtons=!a},sendInvitoToPersona:function(a){this.sceltaInvitoWidget.visualizzaSceltePer(a)},initFilesUploaded:function(){this.uploadedInviteListDialogWidget=
new V({});this.uploadedFilesPopupBtnNode.innerHTML=P.lblUploadedInviteListFilesPopupBtnLabel;h(this.uploadedFilesPopupBtnNode,"click",a.hitch(this,function(a){this.uploadedInviteListDialogWidget.show()}))},aggiornaVisibilitaWarningSingolo500:function(){b.set(this.warningSingolo500Node,"display","SINGOLO_500"==H.evento.stato.event_subscription.tipo?"block":"none")},aggiornaVisibilitaWarningDEMO:function(){"DEMO"==H.evento.stato.event_subscription.tipo&&(this.warningDEMONode.innerHTML=y.substitute(P.msgInviteListFileWarningDEMO,
{maxInvitati:H.evento.stato.event_subscription.maxInvitati}));"DEMO"==H.evento.stato.event_subscription.tipo&&H.evento.statoCalcolato.numInvitati>=H.evento.stato.event_subscription.maxInvitati&&(this.warningDEMONode.innerHTML=y.substitute(P.msgInviteListFileWarningDEMONoMore,{maxInvitati:H.evento.stato.event_subscription.maxInvitati}));b.set(this.warningDEMONode,"display","DEMO"==H.evento.stato.event_subscription.tipo?"block":"none")},updateUIByPermission:function(){H.commons.permissions.canModifyEvent?
(this.formSwitchWidget.set("disabled",!1),this.cancellaListaWidget.set("disabled",H.evento.statoCalcolato.emailInvitiSpedite||H.evento.statoCalcolato.emailGenericheSpedite||H.evento.statoCalcolato.eventoIniziato||H.evento.statoCalcolato.numIscritti?!0:!1),this.inserisciAnagraficaBtn.set("disabled",!1),this.enableCellEditing=!0):(this.formSwitchWidget.closeDropDown(),this.formSwitchWidget.set("disabled",!0),this.cancellaListaWidget.set("disabled",!0),this.inserisciAnagraficaBtn.set("disabled",!0),
this.enableCellEditing=!1);this.pardotWidget&&this.pardotWidget.set("disabled",!H.commons.permissions.hasPardot)},aggiornaStatoCalcolato:function(){return D.get("/getEventStatoCalcolato.plp",{query:{idEvento:H.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a&&(H.evento.statoCalcolato=a,x.publish("sys.statoCalcolato.updated",a));ea.debug("------ AGGIORNATO StatoCalcolato:",a)}),a.hitch(this,function(){ea.debug("------ PROBLEMI aggiornaStatoCalcolato:",
data)}))},mostraIstruzioniDuplicati:function(a){var b=l(H.evento.stato.idCliente+".showHelpDuplicati");void 0===a||a||(b=!0);if(void 0===b||"true"==b||1==b){var b=new p({"class":"helpDuplicati"}),d=new p({content:P.msgHelpDuplicati});b.addChild(d);if(void 0===a||a)a=new p({}),b.addChild(a),R(a.containerNode,"br"),d=R(a.containerNode,"input"),R(a.containerNode,"label",da.lblNonMostrarePiu),new M({checked:!1,onChange:function(a){var b=new Date;b.setFullYear(b.getFullYear()+1);l(H.evento.stato.idCliente+
".showHelpDuplicati",!a,{expires:b.toUTCString()})}},d),R(a.containerNode,"br");X.showGenericDialog(P.lblInfoDuplicatiTitle,b,null,null,null,null,null,null,null,!0)}}})})},"ebPlatformWidgets/Evento/Checkin/CheckinWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-class dojo/date dojo/date/locale dojo/store/Memory dojo/text!./templates/CheckinWidget.html dojo/request dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/FilteringSelect ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ebPlatform/dateUtility ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Form/ToggleButtonWidget ./CheckinGuestListWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget dojo/i18n!./nls/CheckinWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M){return q([G],{templateString:b,baseClass:"checkinWidget",dependsOnWidgetsData:["event_details","badges"],appWidget:null,parentWidget:null,stato:null,hasToolbar:!1,aggiornaUISilently:!0,idFascia:null,storeData:null,filtraDataFasciaWidget:null,registratiBtnWidget:null,entratiBtnWidget:null,masterBtnWidget:null,listWidget:null,messages:M,commonMessages:I,hasToLoadData:function(){return!1},postCreate:function(){this.inherited(arguments);this.initSezioneDateFasce();
this.initPulsanti();this.listWidget=new p({parentWidget:this},this.listaNode);this.listWidget.on("dgrid-refresh-complete",a.hitch(this,function(a){this.updateCounters()}))},onDeactivate:function(){this.listWidget.toggleScanButton.set("checked",!1)},aggiornaUI:function(b){return this.inherited(arguments).then(a.hitch(this,function(){x.debug("CheckinWidget.aggiornaUI");b||(this.idFascia="",this.filtraDataFasciaWidget&&this.filtraDataFasciaWidget.set("value",null));this.aggiornaSezioneDateFasce();this.idFascia?
(n.set(this.pulsantiContainerNode,"display","block"),n.set(this.listaContainerNode,"display","block"),this.abilitaPulsanti(!0),"automatica"==z.evento.stato.event_details.registration?this.visualizzaListaRegistratiFasciaCorrente():this.visualizzaListaMasterFasciaCorrente()):(this.abilitaPulsanti(!1),n.set(this.listaContainerNode,"display","none"),n.set(this.pulsantiContainerNode,"display","none"))}),a.hitch(this,function(){x.debug("CheckinWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){B.hideLoading()})},
updateCounters:function(){this.idFascia&&r.post("/getContatoriFascia.plp",{data:{idFascia:this.idFascia},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==a.result.resultCode?(0<a.data.numIscritti?(n.set(this.registratiNumNode,"display","block"),this.registratiNumNode.innerHTML=a.data.numIscritti):n.set(this.registratiNumNode,"display","none"),0<a.data.numPartecipanti?(n.set(this.entratiNumNode,"display","block"),this.entratiNumNode.innerHTML=
a.data.numPartecipanti):n.set(this.entratiNumNode,"display","none"),0<a.data.numListaMaster?(n.set(this.masterNumNode,"display","block"),this.masterNumNode.innerHTML=a.data.numListaMaster):n.set(this.masterNumNode,"display","none")):B.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}),a.hitch(this,function(a){B.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}))},clearCounters:function(){n.set(this.registratiNumNode,
"display","none");n.set(this.entratiNumNode,"display","none");n.set(this.masterNumNode,"display","none")},initSezioneDateFasce:function(){var b=this.getTimeSlotsStore();this.scegliFasciaStore=new h({idProperty:"idDataFascia",data:b});this.filtraDataFasciaWidget=new y({"class":"filtraFascia",name:"filtraFascia",placeHolder:M.lblSelectSessionPlaceholder,required:!1,store:this.scegliFasciaStore,searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.idFascia=a;this.clearCounters();
this.aggiornaUI(!0)})},this.slotSelectionNode)},initPulsanti:function(){this.registratiBtnWidget=new D({label:M.lblRegistrati,onClick:a.hitch(this,function(){x.debug("registrati");this.visualizzaListaRegistratiFasciaCorrente()})},this.registratiBtnNode);this.entratiBtnWidget=new D({label:M.lblEntrati,onClick:a.hitch(this,function(){x.debug("entrati");this.visualizzaListaEntratiFasciaCorrente()})},this.entratiBtnNode);this.masterBtnWidget=new D({label:M.lblMaster,onClick:a.hitch(this,function(){x.debug("master");
this.visualizzaListaMasterFasciaCorrente()})},this.masterBtnNode);n.set(this.pulsantiContainerNode,"display","none")},abilitaPulsanti:function(a){this.registratiBtnWidget.set("disabled",!a);this.entratiBtnWidget.set("disabled",!a);this.masterBtnWidget.set("disabled",!a)},aggiornaSezioneDateFasce:function(){x.debug("CheckinWidget.aggiornaSezioneDateFasce");if(1==z.evento.stato.event_details.dates.length&&1==z.evento.stato.event_details.dates[0].timeSlots.length){var a=z.evento.stato.event_details.dates[0],
b=a.timeSlots[0],e=t.getLocaleFormattedTimeFromString(b.startTime.substring(0,b.startTime.lastIndexOf(":"))),f=t.getLocaleFormattedTimeFromString(b.endTime.substring(0,b.startTime.lastIndexOf(":"))),a=t.getLocaleFormattedDateFromString(a.date)+" - "+v.lblFromTime+" "+e+" "+v.lblToTime+" "+f;this.singleSlotNode.innerHTML=a;n.set(this.singleSlotNode,"display","block");n.set(this.multipleSlotsNode,"display","none");x.debug("fascia",b);this.idFascia=b.id;n.set(this.listaContainerNode,"display","block");
this.abilitaPulsanti(!0);this.idFascia||this.visualizzaListaMasterFasciaCorrente()}else b=this.getTimeSlotsStore(),this.scegliFasciaStore.setData(b),n.set(this.singleSlotNode,"display","none"),n.set(this.multipleSlotsNode,"display","block")},getTimeSlotsStore:function(){var a=[];k.forEach(z.evento.stato.event_details.dates,function(b,e){k.forEach(b.timeSlots,function(d){var e,f;e=t.getLocaleFormattedTimeFromString(d.startTime.substring(0,d.startTime.lastIndexOf(":")));f=t.getLocaleFormattedTimeFromString(d.endTime.substring(0,
d.startTime.lastIndexOf(":")));e=t.getLocaleFormattedDateFromString(b.date)+" - "+e+" "+v.lblToTime+" "+f+(d.description?" - "+d.description:"");a.push({idDataFascia:d.id,label:e})})});x.debug("storeData",a);return a},visualizzaListaMasterFasciaCorrente:function(a){x.debug("this.masterBtnWidget",this.masterBtnWidget);this.rimuoviHoverPulsanti();l.add(this.masterBtnWidget.containerNode,"hover");this.listWidget.gruppoDefault="";this.listWidget.set("idFascia",this.idFascia);this.listWidget.idFasciaQuery=
null;this.listWidget.aggiornaUI(!0);a&&this.listWidget.searchTextBox.set("value","["+a+"]")},visualizzaListaEntratiFasciaCorrente:function(){this.listWidget.gruppoDefault="PARTECIPAZIONE";this.rimuoviHoverPulsanti();l.add(this.entratiBtnWidget.containerNode,"hover");this.listWidget.set("idFascia",this.idFascia);this.listWidget.idFasciaQuery=this.filtraDataFasciaWidget.get("value");this.listWidget.aggiornaUI(!0)},visualizzaListaRegistratiFasciaCorrente:function(){this.listWidget.gruppoDefault="ISCRIZIONE";
this.rimuoviHoverPulsanti();l.add(this.registratiBtnWidget.containerNode,"hover");this.listWidget.set("idFascia",this.idFascia);this.listWidget.idFasciaQuery=this.filtraDataFasciaWidget.get("value");this.listWidget.aggiornaUI(!0)},rimuoviHoverPulsanti:function(){l.remove(this.masterBtnWidget.containerNode,"hover");l.remove(this.entratiBtnWidget.containerNode,"hover");l.remove(this.registratiBtnWidget.containerNode,"hover")},mostraPersonaInListaMaster:function(a){this.visualizzaListaMasterFasciaCorrente(a)}})})},
"ebPlatformWidgets/Form/AlwaysVisibleInvalidMessageValidationTextBox":function(){define(["dojo/_base/declare","dijit/form/ValidationTextBox","dijit/Tooltip"],function(q,a,k){return q([a],{displayMessage:function(a){a?k.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):k.hide(this.domNode)}})})},"ebPlatformWidgets/Evento/Communication/EditPersonalDetailsFormDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dnd/Manager dojo/dom-style dojo/keys dijit/Dialog ebPlatformWidgets/Dialogs/_DialogWithDnDMixin ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPersonalDetailsFormDialogContentWidget ebPlatform/logger! ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u){return q([e,h,f],{baseClass:"editPersonalDetailsFormDialogWidget",disabled:!1,additionalMessages:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new b({disabled:this.disabled,parentWidget:this,additionalMessages:this.additionalMessages});this.addChild(this.mainWidget)},show:function(a){r.debug("[EditPersonalDetailsFormDialogWidget] show",a);this.inherited(arguments);this.mainWidget.reset();a&&(a.idLanguage&&(this.mainWidget.localizedMessages=
u.getLocalization("ebPlatformWidgets.Evento.EventPage","EventPageWidget",m.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.localizedCommonMessages=u.getLocalization("ebPlatform","commons",m.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.attualizzaLocalizedMessages()),a.title&&this.set("title",a.title),a.currentState&&(a.currentState.fieldsDetails&&this.mainWidget.impostaCampi(a.currentState.fieldsDetails),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection)));this.resize(null)},
_setAdditionalMessagesAttr:function(a){this.mainWidget.set("additionalMessages",a)}})})},"ebPlatform/CaseInsesitiveSortableMixin":function(){define(["dojo/_base/declare"],function(q){return q([],{query:function(a,k){var n=k&&k.sort;n&&(k.sort=function(a,e){for(var f=0;f<n.length;f++){var h,b;n[f].ignoreCase?(h=a[n[f].attribute].toLowerCase?a[n[f].attribute].toLowerCase():a,b=e[n[f].attribute].toLowerCase?e[n[f].attribute].toLowerCase():e):(h=a[n[f].attribute]?a[n[f].attribute]:a,b=e[n[f].attribute]?
e[n[f].attribute]:e);if(h!==b){var k=0,k=null!=h&&""!=h||null==b||""==b?null==h||""==h||null!=b&&""!=b?h>b?1:-1:-1:1;return k*(n[f].descending?-1:1)}}return 0});return this.inherited(arguments)}})})},"ebPlatform/ebcometd":function(){define("dojo/_base/config dojox/cometd dojox/cometd/ack dojo/Deferred dojo/_base/lang ebPlatform/logger!".split(" "),function(q,a,k,n,l,e){function f(b,f,h){var k,l,w,t;e.group("subscribeWhenConnected");e.log("qcometd: subscribe",arguments);e.log("qcometd: subscriptions",
m);if("string"!==typeof b)e.error("Il primo argomento del subscribe deve essere il nome del canale",b);else if("function"!==typeof f)e.error("Il secondo argomento del subscribe deve essere la funzione che riceve i messaggi",f);else return b in m?e.log("qcometd: chiamato subscribe su un canale gi\u00e0 aperto, non faccio niente."):(e.log("***",h),h&&h.hasOwnProperty("forceDebounceUnsubscribeDelay")&&0==h.forceDebounceUnsubscribeDelay?(e.log("######### debouncedUnsubscribeFunc \x3d exporting.unsubscribe"),
l=function(){e.log("NOOP unsubscribe")}):(w=h&&h.hasOwnProperty("forceDebounceUnsubscribeDelay")?h.forceDebounceUnsubscribeDelay:5E3,l=_.debounce(function(){e.log("qcometd: eseguo il debounced unsubscribe ["+w+"]");r.unsubscribe.apply(this,arguments)},w)),t=function(){e.log("qcometd: provo ad eseguire il debounced unsubscribe",new Date);l.apply(this,arguments)},k=function(){e.log("qcometd: messaggio sul canale "+b);var a;a=f.apply(this,arguments);t(m[b].subscription);return a},e.log("qcometd: chiamo subscribe"),
k=a.subscribe.call(this,b,k),m[b]={},m[b].subscription=k,t(m[b].subscription)),e.groupEnd(),m[b].subscription}function h(){e.log("connetti",u,!a.isDisconnected());if(q.has.ebPlatform){var b=q.has.ebPlatform;b.log&&b.log["ebPlatform/ebcometd/cometd"]&&a.setLogLevel(b.log["ebPlatform/ebcometd/cometd"]);void 0===b.override||void 0===b.override.websocket||!b.override.websocket&&b.override.websocket||(a.websocketEnabled=b.override.websocket)}u=u||new n;a.isDisconnected()&&a.handshake();return u.promise}
function b(){e.log("unsubscribeSuTuttiICanaliAperti",m);Object.keys(m).forEach(function(b){a.unsubscribe(m[b])})}var r={},m={},u=null;(function(){var b=!1;if(q.has.ebPlatform){var e=q.has.ebPlatform;void 0===e.websocket||!e.websocket&&e.websocket||(b=e.websocket)}a.ackEnabled=!0;a.websocketEnabled=b;a.configure({url:location.protocol+"//"+location.hostname+"/cometd",logLevel:"info"})})();(function(){require(["underscore"],function(){Object.keys(a).forEach(function(b){switch(b){case "subscribe":r[b]=
function(a,b,k){e.log("qcometd: richiesto subscribe");e.log("... con options",k);var m=new n;h().then(l.hitch(this,function(){var e=f.call(this,a,b,k);e?m.resolve(e):m.reject()}),l.hitch(this,function(){e.log("Effettuo unsubscribe per promise rejected");m.reject();r.unsubscribe(a)}));return m.promise};break;case "unsubscribe":r[b]=function(){var b,f,h;e.log("qcometd: unsubscribe",arguments);e.log("qcometd: subscriptions",m);f=arguments[0];"string"===typeof f?m[f]&&(h=m[f].subscription):(h=f,f=h["0"]);
!a.isDisconnected()&&h&&(b=a.unsubscribe(h));return b};break;default:r[b]=a[b]}})})})();a.addListener("/meta/handshake",function(b){e.group("handshake",new Date);e.log("/meta/handshake",b,u,a.isDisconnected());e.log("qcometd: subscriptions",m);a.isDisconnected()?e.log("Esco dall'handshake in quanto disconnesso!"):(u||(e.info("deferred \u00e8 null"),u=new n),b.successful?(u.isFulfilled()||u.resolve(b),e.groupEnd()):(u.reject(b),u=null))});a.addListener("/meta/connect",function(a){e.group("/meta/connect",
new Date);e.groupEnd()});a.addListener("/meta/subscribe",function(a){e.group("/meta/subscribe",new Date);e.groupEnd()});a.addListener("/meta/disconnect",function(a){e.group("disconnect",new Date);e.log("/meta/disconnect",a);e.log("qcometd: subscriptions",m);u&&!u.isFulfilled()&&u.reject(a);u=null;b();e.groupEnd()});a.addListener("/meta/unsubscribe",function(b){var f;e.group("unsubscribe",new Date);f=b.subscription;e.log("/meta/unsubscribe",f,b);e.log("qcometd: subscriptions",m);delete m[f];0===Object.keys(m).length&&
(e.log("disconnetti",u,!a.isDisconnected(),u&&!u.isFulfilled()),u&&!u.isFulfilled()&&u.reject(),u=null,r.disconnect());e.groupEnd()});return r})},"ebPlatformWidgets/Evento/Badges/EditGuestCategoryDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditGuestCategoryDialogContentWidget dojo/i18n!./nls/BadgesManagementWidget".split(" "),function(q,a,k,n,l,e,f,h){return q([n,e],{baseClass:"editGuestCategoryDialogWidget",
idEvento:null,idLingua:null,postCreate:function(){l.trace("postCreate",this.idEvento);this.inherited(arguments);this.mainWidget=new f({parentWidget:this,idEvento:this.idEvento,idLingua:this.idLingua});k.set(this.closeButtonNode,"display","none");this.addChild(this.mainWidget)},show:function(a){l.trace("show",a);this.inherited(arguments);this.mainWidget.reset({fields:a.fields,guestCategories:a.guestCategories,campiEvento:a.campiEvento,stato:a.stato,doOnSave:a.doOnSave})}})})},"ebPlatformWidgets/Evento/EventPage/EditPrivacyDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPrivacyDialogContentWidget".split(" "),
function(q,a,k,n,l,e){return q([n,l],{baseClass:"ditPrivacyDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new e({parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset();a&&(a.title&&this.set("title",a.title),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection),a.currentState&&(a.currentState.showPrivacy&&this.mainWidget.impostaCheckBox("showPrivacy",
a.currentState.showPrivacy),a.currentState.showPrivacyIntro&&this.mainWidget.impostaCheckBox("showPrivacyIntro",a.currentState.showPrivacyIntro),a.currentState.privacyIntro&&this.mainWidget.impostaTesto("privacyIntro",a.currentState.privacyIntro),a.currentState.privacy&&this.mainWidget.impostaTesto("privacy",a.currentState.privacy),a.currentState.showConsentRequest1&&this.mainWidget.impostaCheckBox("showConsentRequest1",a.currentState.showConsentRequest1),a.currentState.isConsentRequest1Mandatory&&
this.mainWidget.impostaCheckBox("isConsentRequest1Mandatory",a.currentState.isConsentRequest1Mandatory),a.currentState.consentRequest1Text&&this.mainWidget.impostaTesto("consentRequest1Text",a.currentState.consentRequest1Text),a.currentState.showConsentRequest2&&this.mainWidget.impostaCheckBox("showConsentRequest2",a.currentState.showConsentRequest2),a.currentState.isConsentRequest2Mandatory&&this.mainWidget.impostaCheckBox("isConsentRequest2Mandatory",a.currentState.isConsentRequest2Mandatory),a.currentState.consentRequest2Text&&
this.mainWidget.impostaTesto("consentRequest2Text",a.currentState.consentRequest2Text),a.currentState.showConsentRequest3&&this.mainWidget.impostaCheckBox("showConsentRequest3",a.currentState.showConsentRequest3),a.currentState.isConsentRequest3Mandatory&&this.mainWidget.impostaCheckBox("isConsentRequest3Mandatory",a.currentState.isConsentRequest3Mandatory),a.currentState.consentRequest3Text&&this.mainWidget.impostaTesto("consentRequest3Text",a.currentState.consentRequest3Text),a.currentState.backgroundColor&&
this.mainWidget.backgroundColorWidget.set("value",a.currentState.backgroundColor),a.currentState.textColor&&this.mainWidget.textColorWidget.set("value",a.currentState.textColor)));this.resize(null)}})})},"ebPlatformWidgets/Evento/Communication/RecipientsSelectionWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/data/ObjectStore dojo/Deferred dojo/request dojo/dom-style dojo/dom-class dojo/store/Memory dojo/text!./templates/RecipientsSelectionWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/FilteringSelect dojox/form/CheckedMultiSelect ebPlatform/CaseInsesitiveSortableMixin ebPlatform/logger! ebPlatform/stato ebPlatform/utility ebPlatform/commonDialogs ebPlatformWidgets/Form/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!../../Dialogs/nls/FilterListDialogWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E){return q([m,u],{mouseAnim:null,templateString:r,baseClass:"recipientsSelectionWidget",parentWidget:null,value:null,stato:null,customListsData:null,recipientsCategoriesStore:null,recipientsCategoryWidget:null,recipientsFilterFieldStore:null,recipientsFilterFieldWidget:null,recipientsFilterConditionTypeStore:null,recipientsFilterConditionTypeWidget:null,recipientsFilterValueStore:null,recipientsFilterValueWidget:null,recipientsFilterMultiValueStore:null,
recipientsFilterMultiValueWidget:null,messages:E,commonMessages:p,postCreate:function(){this.inherited(arguments);this.noValue={id:-1,label:I.lblNessunValoreSelezionato,modificato:!1,nuovo:!1,utilizzato:!0};this.recipientsCategoriesStore_Invitation=new b({idProperty:"categoria",data:[{categoria:"INVITATI",label:E.invitationCommunication.lblAllRecipients},{categoria:"INVITATI_NON_ISCRITTI",label:E.lblsScheduledCommunicationRecipientsCategory.INVITATI_NON_ISCRITTI},{categoria:"INVITATI_NON_ISCRITTI_ESCLUSI_NON_INTERESSATI",
label:E.lblsScheduledCommunicationRecipientsCategory.INVITATI_NON_ISCRITTI_ESCLUSI_NON_INTERESSATI},{categoria:"INVITO_NON_SPEDITO",label:E.lblsScheduledCommunicationRecipientsCategory.INVITO_NON_SPEDITO}]});this.recipientsCategoriesStore_Other=new b({idProperty:"categoria",data:k.map(z.commons.data.scheduledCommunicationRecipientsCategories,function(a,b){return{categoria:a,label:E.lblsScheduledCommunicationRecipientsCategory[a]}})});this.recipientsCategoriesStore=this.recipientsCategoriesStore_Invitation;
this.recipientsCategoryWidget=new w({store:this.recipientsCategoriesStore,searchAttr:"label",labelAttr:"label",value:null,required:!0,onChange:a.hitch(this,function(a){this.aggiornaStoresFiltro();this.stato.set("recipientsCategory",this.recipientsCategoryWidget.get("value"));this.aggiornaIndicatore()})},this.categorySelectionNode);this.aggiornaStoreCategorieDestinatari();this.recipientsFilterFieldStore=new b({idProperty:"indiceIdValore",data:[]});this.recipientsFilterFieldWidget=new w({store:this.recipientsFilterFieldStore,
searchAttr:"label",labelAttr:"label",required:!1,"class":"secondColumn",placeHolder:E.lblRecipientsFilterFieldPlaceHolder,onChange:a.hitch(this,function(a){this.aggiornaRecipientsFilterValueStoreData(!0);this.aggiornaFiltro({listFieldIndex:a});this.aggiornaVisibilitaDettagliFiltro(!0);this.recipientsFilterConditionTypeWidget.set("value","UGUALE",!!a)})},this.filterFieldSelectionNode);this.recipientsFilterConditionTypeStore=new b({idProperty:"tipologia",data:k.map(z.commons.data.scheduledCommunicationRecipientsFilterConditionTypes,
function(a,b){return{tipologia:a,label:E.scheduledCommunicationRecipientsFilterConditionTypes[a]}})});this.recipientsFilterConditionTypeWidget=new w({store:this.recipientsFilterConditionTypeStore,searchAttr:"label",labelAttr:"label",required:!1,"class":"firstColumn",value:B.elvis("recipientsFilters[0].conditionType",this.stato,"UGUALE"),onChange:a.hitch(this,function(a){this.aggiornaFiltro({conditionType:a})})},this.filterConditionTypeSelectionNode);this.recipientsFilterValueStore=new b({idProperty:"id",
data:[]});this.recipientsFilterValueWidget=new w({store:this.recipientsFilterValueStore,searchAttr:"label",labelAttr:"label",required:!1,"class":"secondColumn",placeHolder:E.lblRecipientsFilterFieldValuePlaceHolder,onChange:a.hitch(this,function(a){this.aggiornaFiltro({idListValue:[a]})})},this.filterValueSelectionNode);this.recipientsFilterMultiValueStore=new (q([n,y]))({objectStore:this.recipientsFilterValueStore,queryOptions:{ignoreCase:!0}});this.recipientsFilterMultiValueWidget=new D({store:this.recipientsFilterMultiValueStore,
_priorityChange:!0,dropDown:!0,multiple:!0,searchAttr:"label",labelAttr:"label",required:!1,intermediateChanges:!1,"class":"secondColumn",placeHolder:E.lblRecipientsFilterFieldValuePlaceHolder,onChange:a.hitch(this,function(a){this.aggiornaFiltro({idListValue:a,doSetDirty:this.recipientsFilterMultiValueWidget._priorityChange});this.recipientsFilterMultiValueWidget._priorityChange=!0})},this.filterMultiValueSelectionNode);this.recipientsFilterMultiValueWidget.startup();this.aggiornaVisibilitaWarningFiltroInvalido(!1);
f.set(this.categorySelectionContainerNode,"position","relative")},_setDisabledAttr:function(a){a?h.add(this.categorySelectionContainerNode,"hideWithMask"):h.remove(this.categorySelectionContainerNode,"hideWithMask")},aggiornaStoreCategorieDestinatari:function(){this.recipientsCategoriesStore="invitation"==this.parentWidget.communicationType?this.recipientsCategoriesStore_Invitation:this.recipientsCategoriesStore_Other;this.recipientsCategoryWidget.set("store",this.recipientsCategoriesStore)},aggiornaRecipientsFilterValueStoreData:function(a){var b=
this.recipientsFilterFieldWidget.get("value"),e=k.filter(this.customListsData,function(a){return a.indiceIdValore==b});e&&0<e.length&&(e[0].multiple?(f.set(this.recipientsFilterValueWidget.domNode,"display","none"),f.set(this.recipientsFilterMultiValueWidget.domNode,"display","block")):(f.set(this.recipientsFilterValueWidget.domNode,"display","block"),f.set(this.recipientsFilterMultiValueWidget.domNode,"display","none")),e[0].valori?this.recipientsFilterValueStore.setData([this.noValue].concat(e[0].valori)):
this.recipientsFilterValueStore.setData([this.noValue].concat(z.commons.data.standardLists[e[0].nome])),this.recipientsFilterMultiValueWidget.set("store",this.recipientsFilterMultiValueStore),a&&B.exists("recipientsFilters[0]",this.stato)&&(e[0].multiple?(a=k.map(this.stato.recipientsFilters[0].values,function(a,b){return a.valore.idValoreLista}),this.recipientsFilterMultiValueWidget.set("value",a)):this.recipientsFilterValueWidget.set("value",this.stato.recipientsFilters[0].values[0].valore.idValoreLista)))},
aggiornaVisibilitaCategoriaDestinatari:function(){},aggiornaUI:function(){this.aggiornaStoreCategorieDestinatari();G.aggiornaValoreDaStato("recipientsCategory",this);return this.aggiornaStoresFiltro().always(a.hitch(this,function(){this.aggiornaIndicatore();this.aggiornaVisibilitaWarningFiltroInvalido(!1)}))},reset:function(){this.aggiornaVisibilitaFiltro(!1);this.recipientsFilterFieldWidget.set("value",null,!1);this.recipientsFilterConditionTypeWidget.set("value",null,!1);this.recipientsFilterValueWidget.set("value",
null,!1);this.recipientsFilterMultiValueWidget.set("value",null,!1);this.recipientsFilterValueStore.setData([]);this.recipientsFilterConditionTypeWidget.set("disabled",!0);this.recipientsFilterValueWidget.set("disabled",!0);this.recipientsFilterMultiValueWidget.set("disabled",!0);this.recipientsFilterConditionTypeWidget.set("required",!1);this.recipientsFilterValueWidget.set("required",!1);this.recipientsFilterMultiValueWidget.set("required",!1)},aggiornaStoresFiltro:function(){var b=new l;e.post("/getListeEvento.plp",
{data:{idEvento:z.evento.stato.idEvento,idLingua:z.commons.data.beLanguage,tipoEmail:this.parentWidget.communicationsTypeMap[this.parentWidget.communicationType]},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a&&"null"!=a?(this.customListsData=a,this.aggiornaVisibilitaFiltro(!0),a=k.map(a,function(a){return{indiceIdValore:a.indiceIdValore,label:a.label,multiple:void 0!==a.multiple&&a.multiple}}),a=[{indiceIdValore:0,label:E.lblRemoveFilter,
multiple:!1}].concat(a),this.recipientsFilterFieldStore.setData(a)):this.aggiornaVisibilitaFiltro(!1);B.exists("recipientsFilters[0]",this.stato)?(this.recipientsFilterFieldWidget.set("value",this.stato.recipientsFilters[0].listFieldIndex,!1),this.recipientsFilterConditionTypeWidget.set("value",this.stato.recipientsFilters[0].conditionType,!1),a=k.map(this.stato.recipientsFilters[0].values,function(a,b){return a.valore.idValoreLista}),this.aggiornaRecipientsFilterValueStoreData(),this.recipientsFilterValueWidget.set("value",
a[0]||-1,!1),this.recipientsFilterMultiValueWidget._priorityChange=!1,this.recipientsFilterMultiValueWidget.set("value",a,!1),this.stato.recipientsFilters[0].listFieldIndex&&(this.recipientsFilterConditionTypeWidget.set("disabled",!1),this.recipientsFilterValueWidget.set("disabled",!1),this.recipientsFilterMultiValueWidget.set("disabled",!1))):(x.debug("[RecipientsSelectionWidget] aggiornaStoresFiltro: RESETTO UI"),this.recipientsFilterFieldWidget.set("value",null,!1),this.recipientsFilterConditionTypeWidget.set("value",
null,!1),this.recipientsFilterValueWidget.set("value",null,!1),this.recipientsFilterMultiValueWidget.set("value",null,!1),this.recipientsFilterValueStore.setData([]),this.recipientsFilterConditionTypeWidget.set("disabled",!0),this.recipientsFilterValueWidget.set("disabled",!0),this.recipientsFilterMultiValueWidget.set("disabled",!0));b.resolve()}),a.hitch(this,function(a){t.showInfoWithCloseButton(p.msgErroreServer,C.footerInc.lblErrorMsgDialogTitle,p.lblOKButton);b.reject()}));return b.promise},
aggiornaVisibilitaFiltro:function(a){var b=!!this.recipientsCategoryWidget.get("value");f.set(this.filterFieldSelectionContainerNode,"display",a&&b?"block":"none");this.aggiornaVisibilitaDettagliFiltro(a&&b)},aggiornaVisibilitaDettagliFiltro:function(a){var b=B.exists("recipientsFilters[0]",this.stato)&&!!this.stato.recipientsFilters[0].listFieldIndex;f.set(this.filterValueSelectionContainerNode,"display",a&&b?"block":"none")},aggiornaVisibilitaWarningFiltroInvalido:function(a){a&&t.showInfoWithCloseButton(E.msgInvalidFilterWarning,
C.footerInc.lblWarningMsgDialogTitle,p.lblOKButton)},aggiornaFiltro:function(b){x.debug("[RecipientsSelectionWidget] aggiornaFiltro",b,b.hasOwnProperty("listFieldIndex"),0==b.listFieldIndex);this.stato.recipientsFilters||(this.stato.recipientsFilters=[]);b.hasOwnProperty("listFieldIndex")&&0==b.listFieldIndex?(x.debug("[RecipientsSelectionWidget] aggiornaFiltro: RIMUOVO Filtro"),this.recipientsFilterValueStore.setData([]),this.recipientsFilterConditionTypeWidget.set("disabled",!0),this.recipientsFilterConditionTypeWidget.set("required",
!1),this.recipientsFilterValueWidget.set("disabled",!0),this.recipientsFilterValueWidget.set("required",!1),this.recipientsFilterMultiValueWidget.set("disabled",!0),this.recipientsFilterMultiValueWidget.set("required",!1),this.stato.recipientsFilters.shift()):(this.recipientsFilterConditionTypeWidget.set("disabled",!1),this.recipientsFilterValueWidget.set("required",!0),this.recipientsFilterValueWidget.set("disabled",!1),this.recipientsFilterValueWidget.set("required",!0),this.recipientsFilterMultiValueWidget.set("disabled",
!1),this.recipientsFilterMultiValueWidget.set("required",!0),this.stato.recipientsFilters[0]||(this.stato.recipientsFilters[0]={idSchedulation:this.stato.idSchedulation,idFilter:0}),b.hasOwnProperty("listFieldIndex")?(this.stato.recipientsFilters[0]=a.mixin(this.stato.recipientsFilters[0],b,{conditionType:null}),this.recipientsFilterConditionTypeWidget.set("value",null,!1),this.recipientsFilterValueWidget.set("value",null,!1),this.recipientsFilterMultiValueWidget.set("value",null,!1)):(this.stato.recipientsFilters[0]=
a.mixin(this.stato.recipientsFilters[0],b),b.hasOwnProperty("idListValue")&&(delete this.stato.recipientsFilters[0].idListValue,this.stato.recipientsFilters[0].values=k.map(b.idListValue,function(a,b){return{valore:{idValoreLista:a}}}))));(void 0===b.doSetDirty||b.doSetDirty)&&this.stato.set("dirty",!0);this.aggiornaIndicatore()},aggiornaIndicatore:function(){var b=0,m=0,l="";this.recipientsCategoryWidget.get("value")?(f.set(this.indicatorContainerNode,"display","block"),h.add(this.indicatorNode,
"fa fa-spinner fa-pulse"),this.indicatorNode.innerHTML="",this.recipientsFilterFieldWidget.get("value")&&0!=this.recipientsFilterFieldWidget.get("value")&&this.recipientsFilterConditionTypeWidget.isValid()&&this.recipientsFilterValueWidget.isValid()&&(b=this.stato.recipientsFilters[0].listFieldIndex,m=k.map(this.stato.recipientsFilters[0].values,function(a,b){return a.valore.idValoreLista}),l=this.stato.recipientsFilters[0].conditionType),b={idEvento:z.evento.stato.idEvento,tipoEmail:this.parentWidget.communicationsTypeMap[this.parentWidget.communicationType],
categoriaDestinatari:this.stato.get("recipientsCategory")||"INVITATI",indiceIdValore:b,valori:m,tipoCondizione:l,idPianificazione:this.stato.get("idSchedulation")},e.post("/getScheduledCommunicationRecipientsNum.plp",{data:b,handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){h.remove(this.indicatorNode,"fa fa-spinner fa-pulse");this.indicatorNode.innerHTML=a.numeratore+"/"+a.denominatore}),a.hitch(this,function(){h.remove(this.indicatorNode,
"fa fa-spinner fa-pulse");this.indicatorNode.innerHTML="-/-";t.showInfoWithCloseButton(p.msgErroreServer,C.footerInc.lblErrorMsgDialogTitle,p.lblOKButton)}))):f.set(this.indicatorContainerNode,"display","none")},validate:function(){var a;a=this.recipientsCategoryWidget.validate();B.exists("recipientsFilters[0]",this.stato)&&(this.stato.recipientsFilters[0].conditionType?k.some(this.stato.recipientsFilters[0].values,function(a){return!!a.valore&&!!a.valore.idValoreLista})||(a=!1):a=!1);return a},focus:function(){this.recipientsCategoryWidget.isValid()?
this.aggiornaVisibilitaWarningFiltroInvalido(!0):this.recipientsCategoryWidget.focus()}})})},"ebPlatformWidgets/Evento/Badges/EditFrontDataDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-style dojo/text!./templates/EditFrontDataDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button dijit/form/FilteringSelect dijit/form/Select ebPlatform/logger! ebPlatformWidgets/Form/FontControlWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Dialogs/nls/EditTextWithFontDialogWidget dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G){return q([h,b],{mouseAnim:null,templateString:f,baseClass:"editFrontDataDialogContentWidget",parentWidget:null,doOnSave:null,idEvento:null,edLines:null,messages:G,commonMessages:B,postCreate:function(){x.debug("postCreate",this.idEvento);this.inherited(arguments);this.cancelBtnWidget=new w({label:B.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new w({label:B.lblOKButton,onClick:a.hitch(this,
function(){var b=this.parentWidget.hide(),e=this.edLines;this.doOnSave&&(b?b.then(a.hitch(this,function(){this.doOnSave(e)})):this.doOnSave(e))})},this.okBtnNode);this.setupCampiEvento(this.fields,this.campiEvento)},reset:function(a){x.trace("reset",a.fields,a.campiEvento,a.doOnSave);this.inherited(arguments);this.initCampiEvento(a.stato)},initCampiEvento:function(a){for(var b=0;b<this.edLines.length;b++)if(this.edLines[b].field&&this.edLines[b].field.node){var f=this.edLines[b].field._fontFamily,
h=this.edLines[b].field._fontSize,k=this.edLines[b].field._fontWeight,m=this.edLines[b].field._value,t=this.edLines[b].field._block,d=this.edLines[b].field._uppercase,r=this.edLines[b].field._placeHolder,C={};l.remove(this[this.edLines[b].id+"Label"],"dijitDisabled");x.debug(this.edLines[b].field.id,e.get(this.edLines[b].field.id,"display"),n.get(this.edLines[b].field.node,"value"),n.get(this.edLines[b].field.node,"placeholdermsg"),r,f,h,d,t);null!==m?(this.edLines[b].value.set("value",m),this.edLines[b].value.set("readOnly",
!0)):(this.edLines[b].value.set("value",a.get(this.edLines[b].field.statoVar)),this.edLines[b].value.set("readOnly",!1),a.get(this.edLines[b].field.statoVar)?this.edLines[b].value.set("query",{}):this.edLines[b].value.set("query",{valoreVero:!0}));r?this.edLines[b].value.set("placeHolder",r):this.edLines[b].value.set("placeHolder",G.lblCategorySelectionPlaceholder);C=a.get(this.edLines[b].field.statoFontVar);null!=d&&(C.textTransform=d?["uppercase"]:"",this.edLines[b].font.set("readOnly",!0,"textTransform"));
null!==f&&(C.fontFamily=f,this.edLines[b].font.set("fontFamilyPlaceHolder",f),this.edLines[b].font.set("readOnly",!0,"fontFamily"));null!==h&&(C.fontSize=h,this.edLines[b].font.set("fontSizePlaceHolder",h),this.edLines[b].font.set("readOnly",!0,"fontSize"));null!==k&&(C.fontWeight="",this.edLines[b].font.set("fontWeightPlaceHolder",k),this.edLines[b].font.set("readOnly",!0,"fontWeight"));null!=t?(this.edLines[b].brValue.set("value",t),this.edLines[b].brValue.set("checked",t),this.edLines[b].brValue.set("readOnly",
!0)):(this.edLines[b].brValue.set("value",a.get(this.edLines[b].field.statoBrVar)),this.edLines[b].brValue.set("checked",a.get(this.edLines[b].field.statoBrVar)),this.edLines[b].brValue.set("readOnly",!1));this.edLines[b].font.set("value",C)}else l.add(this[this.edLines[b].id+"Label"],"dijitDisabled"),this.edLines[b].value.set("disabled",!0),this.edLines[b].font.set("disabled",!0),this.edLines[b].brValue.set("disabled",!0)},setupCampiEvento:function(a,b,e){x.trace("setupCampiEvento",a);var f;this.edLines=
[];for(var h=0;h<a.length;h++)e=a[h].id,f=a[h].idBr,elUpperId=a[h].idUpper,this.edLines.push({field:a[h],id:e,value:new D({required:!1,style:"width:150px",localId:e,searchAttr:"fieldLabel",labelAttr:"fieldLabel",sortByLabel:!1,store:b,fetchProperties:{sort:[{attribute:"idx"},{attribute:"fieldLabel"}]},onChange:function(a){x.trace("combobox onchange "+this.localId,a)}},this[e+"Value"]),brValue:f?new u({localId:f,onChange:function(a){x.trace("checkBox onchange "+this.localId,a)}},this[f+"Value"]):null,
font:new z({showAlignement:!1,fontFamilyFilter:{badge:!0}},this[a[h].idFontFamily+"Value"])}),this[e+"Label"].innerHTML=G["lblFront"+e]}})})},"ebPlatformWidgets/Evento/Communication/ScheduledCommunicationTemplateWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/debounce dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/query dojo/NodeList-dom dojo/on dojo/request dojo/text!./templates/ScheduledCommunicationTemplateWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/Button dijit/form/ToggleButton dijit/form/ValidationTextBox dijit/layout/ContentPane dojox/validate dojox/validate/web ebPlatform/logger! ebPlatform/stato ebPlatform/utility ebPlatform/commonDialogs ebPlatform/templateUtility ebPlatformWidgets/CustomTooltip ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/EmailAddressTextBox ebPlatformWidgets/Form/RichTextBoxWidget ebPlatformWidgets/Form/ToggleVisibilityButtonWidget ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Dialogs/EditTextDialogWidget ebPlatformWidgets/Dialogs/EditImageDialogWidget ebPlatformWidgets/Dialogs/EditTextWithFontDialogWidget ./EditBodyWidget ./EditFooterWidget ./EditRegistrationButtonsDialogWidget ./EditBarCodeSectionDialogWidget ./EditPersonalDetailsFormDialogWidget ./utility dojo/i18n dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/CommunicationWidget dojo/i18n!ebPlatformWidgets/Evento/EventPage/nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O,V,U){return q([y,x],{mouseAnim:null,templateString:D,baseClass:"scheduledCommunicationTemplateWidget",appWidget:null,parentWidget:null,logger:null,headerDefaultFontSize:"42px",additionaInformationEditorConfig:null,registrationButtonDisabled:!1,value:null,senderWidget:null,replyToWidget:null,subjectWidget:null,backGroundColorWidget:null,backGroundBodyColorWidget:null,editTextDialog:null,editImageDialogWidget:null,
editTextWithEditorWidget:null,editTextWithFontDialogWidget:null,editRegistrationButtonsWidget:null,showHeaderBtn:null,editHeaderTextBtn:null,logoBoxNode:null,logoEditBtnContainerNode:null,logoEditBtn:null,eventDetailsBoxNode:null,logoAndEventDetailsVisibilityBtnContainerNode:null,logoAndEventDetailsVisibilityBtn:null,eventImageBoxNode:null,eventImageVisibilityBtnContainerNode:null,eventImageVisibilityBtn:null,eventImageEditBtnContainerNode:null,eventImageEditBtn:null,additionalInformationBoxNode:null,
additionalInformationVisibilityBtnContainerNode:null,additionalInformationVisibilityBtn:null,additionalInformationEditBtnContainerNode:null,additionalInformationEditBtn:null,registrationButtonBoxNode:null,registrationButtonVisibilityBtnContainerNode:null,registrationButtonVisibilityBtn:null,registrationButtonEditBtnContainerNode:null,registrationButtonEditBtn:null,barCodeBoxNode:null,barCodeVisibilityBtnContainerNode:null,barCodeVisibilityBtn:null,footerImageBoxNode:null,footerImageVisibilityBtnContainerNode:null,
footerImageVisibilityBtn:null,footerImageEditBtnContainerNode:null,footerImageEditBtn:null,footerBoxNode:null,footerVisibilityBtnContainerNode:null,footerVisibilityBtn:null,headerTextLayoutPlaceHolder:null,headerTextPopupTitle:null,headerTextPopupPlaceHolder:null,logoPopupTitle:null,eventImagePopupTitle:null,additionalInformationLayoutPlaceHolder:null,additionalInformationPopupTitle:null,registrationBtnLabelLayoutPlaceHolder:null,registrationBtnLabelPopupTitle:null,registrationBtnLabelPopupPlaceHolder:null,
footerImagePopupTitle:null,messages:V,commonMessages:A,eventPageMessages:U,localizeMessagesHASH:null,localizedMessages:null,postCreate:function(){this.inherited(arguments);this.logger=E;this.formWidget=new z({},this.formNode);var b=this.stato,d=this.replyToWidget=new F({countChars:!1,value:this.stato.get("replyTo"),tooltip:V[this.parentWidget.communicationType+"Communication"].msgReplyToTip,onChange:function(d){d&&a.trim(d)!=d?this.set("value",a.trim(d)):b.set("replyTo",d)},validator:function(a,b){return a&&
""!=a?M.isEmailAddress(a):!0},missingMessage:A.validateMissingMessage,invalidMessage:V.msgValidEmailAddressNeeded},this.replyToNode);this.senderWidget=new aa({required:!0,value:this.stato.get("sender"),missingMessage:A.validateMissingMessage,invalidMessage:V.msgValidEmailAddressNeeded,tooltip:V[this.parentWidget.communicationType+"Communication"].msgFromTip,onChange:function(a){b.set("sender",a);d.get("value")&&""!=d.get("value")||d.set("placeHolder",this.getAddress())}},this.senderNode);this.subjectWidget=
new F({countChars:!1,required:!0,value:this.stato.get("subject"),tooltip:V[this.parentWidget.communicationType+"Communication"].msgSubjectTip,onChange:a.hitch(this,function(a){this.stato.set("subject",a)}),missingMessage:A.validateMissingMessage},this.subjectNode);this.initTemplate();e.set(this.templateContainerNode,"position","relative")},_setDisabledAttr:function(a){this.senderWidget.set("disabled",a);this.replyToWidget.set("disabled",a);this.subjectWidget.set("disabled",a);a?f.add(this.templateContainerNode,
"hideWithMask"):f.remove(this.templateContainerNode,"hideWithMask")},disableRegistrationButton:function(){this.registrationButtonEditBtn&&(this.registrationButtonEditBtn.set("disabled",!0),this.registrationButtonVisibilityBtn.set("checked",!1),this.registrationButtonVisibilityBtn.set("disabled",!0));this.registrationButtonDisabled=!0},enableRegistrationButton:function(){this.registrationButtonEditBtn&&(this.registrationButtonEditBtn.set("disabled",!1),this.registrationButtonVisibilityBtn.set("disabled",
!1));this.registrationButtonDisabled=!1},initTestiDefault:function(){k.forEach(["invitation","other"],a.hitch(this,function(a){this["headerTextLayoutPlaceHolder_"+a]=V[a+"Communication"].lblHeaderTextLayoutPlaceholder;this["headerTextPopupTitle_"+a]=V[a+"Communication"].lblEditHeaderTextDialogTitle;this["footerTextPopupTitle_"+a]=V[a+"Communication"].lblEditFooterTextDialogTitle;this["headerTextPopupPlaceHolder_"+a]=A.lblEnterTextHere;this["logoPopupTitle_"+a]=V.lblEditLogo;this["eventImagePopupTitle_"+
a]=V.lblEditEventImage;this["additionalInformationLayoutPlaceHolder_"+a]=V[a+"Communication"].lblAdditionalInformationPlaceholder;this["additionalInformationPopupTitle_"+a]=V[a+"Communication"].lblEditAdditionalInformationDialogTitle;this["registrationBtnLabelLayoutPlaceHolder_"+a]=V[a+"Communication"].lblRegistrationButtonLabelPlaceholder;this["negaPartecipazioneBtnLabelLayoutPlaceHolder_"+a]=V[a+"Communication"].lblNegaPartecipazioneButtonLabelPlaceholder;this["registrationBtnLabelPopupTitle_"+
a]=V.lblEditRegistrationButtonLabel;this["registrationBtnLabelPopupPlaceHolder_"+a]=A.lblEnterTextHere;this["negaPartecipazioneBtnLabelPopupPlaceHolder_"+a]=A.lblEnterTextHere;this["footerImagePopupTitle_"+a]=V.lblEditFooterImage;this["unsubscribeTextPopupTitle_"+a]=V.lblEditUnsubscribe;this["unsubscribeTextPopupPlaceHolder_"+a]=A.lblEnterTextHere}))},initTemplate:function(){this.initTestiDefault();this.editTextDialog=new T({});this.editTextWithRichTextBoxDialog=new T({createCustomTextBox:a.hitch(this,
function(a){return new F({countChars:!1})})});this.editImageDialogWidget=new Y({});this.editTextWithEditorWidget=new ea({});this.editTextWithFontDialogWidget=new R({});this.editFooterWidget=new H({});this.editRegistrationButtonsWidget=new ca({});this.editBarCodeSectionDialogWidget=X({});this.editPersonalDetailsFormDialogWidget=new Z({style:"max-height:80%; max-width: 640px; overflow:auto;"});this.backGroundColorWidget=new K({label:V.lblBackgroundColor,doOnChange:a.hitch(this,function(a){this.stato.set("backGroundColor",
a);this.aggiornaColoreBackground(this.stato.get("backGroundColor"))})},this.backGroundColorNode);this.backGroundBodyColorWidget=new K({label:V.lblBodyBackgroundColor,doOnChange:a.hitch(this,function(a){this.stato.set("backGroundBodyColor",a);this.aggiornaColoreBackgroundCorpo(a)})},this.backGroundBodyColorNode);this.foreGroundBodyColorWidget=new K({label:V.lblBodyForegroundColor,doOnChange:a.hitch(this,function(a){this.stato.set("foreGroundBodyColor",a);this.aggiornaColoreForegroundCorpo(a)})},this.foreGroundBodyColorNode);
this.linkBodyColorWidget=new K({label:V.lblBodyLinkColor,doOnChange:a.hitch(this,function(a){this.stato.set("linkBodyColor",a);this.aggiornaColoreLinkCorpo(a)})},this.linkBodyColorNode);this.linkSystemColorWidget=new K({label:V.lblSystemLinkColor,doOnChange:a.hitch(this,function(a){this.stato.set("linkSystemColor",a);this.aggiornaColoreLinkSistema(a)})},this.linkSystemColorNode);this.iframe=b.create("iframe",{width:680,height:100,scrolling:"no",src:""},this.templateNode);e.set(this.iframe,"overflow",
"hidden");u(this.iframe,"load",a.hitch(this,function(){var d;this.logger.info("260 LOADED ........ src:|"+l.get(this.iframe,"src")+"|",!!l.get(this.iframe,"src"));E.info("260 LOADED ........ src:|"+l.get(this.iframe,"src")+"|",!!l.get(this.iframe,"src"));this.iframeDocument=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document;l.get(this.iframe,"src")?(this.aggiornaAltezzaIFrame(),localizedMessages=W.getLocalization("ebPlatformWidgets.Evento.Communication","CommunicationWidget",
v.getLinguaById(this.stato.get("idLanguage"),v.evento.stato.event_details.languages).dojoLocale),r("[data-ebplatform-template-role~\x3d'templateContainer']",this.iframeDocument.body).addClass("templateContainer"),r("[data-ebplatform-template-role~\x3d'borderedBox']",this.iframeDocument.body).addClass("border"),this.initBoxHeader(),this.initBoxLogoAndEventDetails(),this.initBoxImmagine(),this.initBoxAdditionalInformation(),this.initBoxRegistrationButton(),"invitation"!=this.parentWidget.communicationType&&
this.initBoxBarCode(),this.initBoxImmagineFooter(),this.initBoxFooter(),this.initBoxUnsubscribe(),"other"==this.parentWidget.communicationType&&(this.initBoxTools(),this.initBoxBadge(),this.initBoxDetails()),this.aggiornaColoreBackground(this.stato.get("backGroundColor")),this.aggiornaVisibilitaDateTimezone(this.parentWidget.stato.get("showTimezone")),0==this.stato.get("idSchedulation")?(d=this.parentWidget.selectTemplateModelWidget.store.query({modelType:"FROM_SCRATCH"})[0])?(this.parentWidget.selectTemplateModelWidget.set("value",
d.id),this.parentWidget.set("dirty",!1)):this.parentWidget.selectTemplateModelWidget.reset():(this.parentWidget.selectTemplateModelWidget.reset(),setTimeout(a.hitch(this,this.aggiornaAltezzaIFrame),1500))):(d=b.create("div",{"class":"boxLoading",style:{textAlign:"center"}},this.iframeDocument.body),b.create("img",{src:"/img/loading.gif",style:{padding:"10px",verticalAlign:"middle",textAlign:"center"}},d),b.create("div",{innerHTML:O.footerInc.lblLoadingDialogTitle,"class":"boxLoading",style:{fontFamily:"encodesans, Arial, Helvetica, sans-serif",
fontSize:"14px",lineHeight:"30px",textAlign:"center",width:"100%"}},this.iframeDocument.body))}))},applyTemplateModel:function(b){b&&0!=b&&w.get("/getEmailTemplateModel.plp",{query:{id:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){E.debug("DATA",b);if("OK"==(b.result||b).resultCode){this.initTestiDefault();var f=a.clone(this.parentWidget.statoStartUp);M.copyTo(b.modello,f,M.invertMapping(a.getObject(this.parentWidget.mappingName,!1,
v)));E.debug("MODELLO",f);for(c in f)if(f[c]||!1===f[c])f[c]=Q.getValue(f[c],this.localizeMessagesHASH[this.stato.get("idLanguage")]);E.debug("MODELLO",f);f.sender&&("string"==typeof f.sender?N.aggiornaStatoEValore("sender",this,f.sender):N.aggiornaStatoEValore("sender",this,f.sender.value),this.stato.get("idEmail")&&0!=this.stato.get("idEmail")||(v.evento.stato.communication.scheduledCommunications&&v.evento.stato.communication.scheduledCommunications.invitations&&0<v.evento.stato.communication.scheduledCommunications.invitations.length?
N.aggiornaStatoEValore("sender",this,v.evento.stato.communication.scheduledCommunications.invitations[0].sender,this.stato.get("sender"),!1):v.evento.stato.communication.scheduledCommunications&&v.evento.stato.communication.scheduledCommunications.others&&0<v.evento.stato.communication.scheduledCommunications.others.length?N.aggiornaStatoEValore("sender",this,v.evento.stato.communication.scheduledCommunications.others[0].sender,this.stato.get("sender"),!1):v.evento.stato.communication.confirmationEmails&&
0<v.evento.stato.communication.confirmationEmails.length&&N.aggiornaStatoEValore("sender",this,v.evento.stato.communication.confirmationEmails[0].sender,this.stato.get("sender"),!1)));f.replyTo&&("string"==typeof f.replyTo?(N.aggiornaStatoEValore("replyTo",this,f.replyTo),this.replyToWidget.set("placeHolder",f.replyTo)):(N.aggiornaStatoEValore("replyTo",this,f.replyTo.value),this.replyToWidget.set("placeHolder",f.replyTo.value)),this.stato.get("idEmail")&&0!=this.stato.get("idEmail")||(v.evento.stato.communication.scheduledCommunications&&
v.evento.stato.communication.scheduledCommunications.invitations&&0<v.evento.stato.communication.scheduledCommunications.invitations.length?N.aggiornaStatoEValore("replyTo",this,v.evento.stato.communication.scheduledCommunications.invitations[0].replyTo,this.stato.get("replyTo"),!1):v.evento.stato.communication.scheduledCommunications&&v.evento.stato.communication.scheduledCommunications.others&&0<v.evento.stato.communication.scheduledCommunications.others.length?N.aggiornaStatoEValore("replyTo",
this,v.evento.stato.communication.scheduledCommunications.others[0].replyTo,this.stato.get("replyTo"),!1):v.evento.stato.communication.confirmationEmails&&0<v.evento.stato.communication.confirmationEmails.length&&N.aggiornaStatoEValore("replyTo",this,v.evento.stato.communication.confirmationEmails[0].replyTo,this.stato.get("replyTo"),!1)));this.replyToWidget.set("placeHolder",this.senderWidget.getAddress());f.subject&&("string"==typeof f.subject?N.aggiornaStatoEValore("subject",this,f.subject):N.aggiornaStatoEValore("subject",
this,f.subject.value));f.headerText&&""!=f.headerText&&(this.stato.set("headerText",f.headerText.value),""!=f.headerText.layoutPlaceHolder&&(b=d.getElementById("headerTextNode",this.iframeDocument.body),b.innerHTML=this.stato.get("headerText")?this.stato.get("headerText"):f.headerText.layoutPlaceHolder,this["headerTextLayoutPlaceHolder_"+this.parentWidget.communicationType]=f.headerText.layoutPlaceHolder),""!=f.headerText.popupTitle&&(this["headerTextPopupTitle_"+this.parentWidget.communicationType]=
f.headerText.popupTitle),""!=f.headerText.popupPlaceHolder&&(this["headerTextPopupPlaceHolder_"+this.parentWidget.communicationType]=f.headerText.popupPlaceHolder));b=d.getElementById("headerTextNode",this.iframeDocument.body);f.headerFontFamily&&""!=f.headerFontFamily.value&&(this.stato.set("headerFontFamily",f.headerFontFamily.value),e.set(b,"fontFamily",this.stato.get("headerFontFamily")));if(f.headerFontSize&&""!=f.headerFontSize.value){var h=d.getElementById("headerTextTopSpacerNode",this.iframeDocument.body),
k=d.getElementById("headerTextBottomSpacerNode",this.iframeDocument.body);this.stato.set("headerFontSize",f.headerFontSize.value);e.set(b,"fontSize",this.stato.get("headerFontSize"));e.set(h,"fontSize",this.stato.get("headerFontSize"));e.set(k,"fontSize",this.stato.get("headerFontSize"))}f.centerHeader&&void 0!==f.centerHeader.value&&(this.stato.set("centerHeader",f.centerHeader.value),this.stato.get("centerHeader")?e.set(b,"textAlign","center"):e.set(b,"textAlign","left"));this.stato.set("showHeader",
f.showHeader.value);this.headerVisibilityBtn.set("checked",this.stato.get("showHeader"));f.logo&&""!=f.logo&&(this.stato.set("logo",f.logo.value),b=d.getElementById("logoImgNode",this.iframeDocument.body),l.set(b,"src",f.logo.value),""!=f.logo.layoutPlaceHolder&&(d.getElementById("logoPlaceHolderLabelNode",this.iframeDocument.body).innerHTML=f.logo.layoutPlaceHolder),""!=f.logo.popupTitle&&(this["logoPopupTitle_"+this.parentWidget.communicationType]=f.logo.popupTitle),this.aggiornaVisibilitaLogoPlaceHolder(!this.stato.get("logo")));
this.stato.set("showLogoEventDetails",f.showLogoEventDetails.value);this.logoAndEventDetailsVisibilityBtn.set("checked",this.stato.get("showLogoEventDetails"));f.eventImage&&""!=f.eventImage&&(this.stato.set("eventImage",f.eventImage.value),b=d.getElementById("eventImageImgNode",this.iframeDocument.body),l.set(b,"src",f.eventImage.value),""!=f.eventImage.layoutPlaceHolder&&(d.getElementById("eventImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=f.eventImage.layoutPlaceHolder),""!=f.eventImage.popupTitle&&
(this["eventImagePopupTitle_"+this.parentWidget.communicationType]=f.eventImage.popupTitle),this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("eventImage")));this.stato.set("linkEventImageToEventPage",f.linkEventImageToEventPage.value);this.stato.set("showEventImage",f.showEventImage.value);this.eventImageVisibilityBtn.set("checked",this.stato.get("showEventImage"));"invitation"!=this.parentWidget.communicationType&&(f.showBarCode&&(this.stato.set("showBarCode",f.showBarCode.value),this.barCodeVisibilityBtn.set("checked",
this.stato.get("showBarCode"))),f.showTools&&(this.stato.set("showTools",f.showTools.value),this.toolsVisibilityBtn.set("checked",this.stato.get("showTools"))));f.additionalInformation&&""!=f.additionalInformation&&(this.stato.set("additionalInformation",f.additionalInformation.value),""!=f.additionalInformation.layoutPlaceHolder&&(d.getElementById("additionalInformationNode",this.iframeDocument.body).innerHTML=this.stato.get("additionalInformation")?this.stato.get("additionalInformation"):f.additionalInformation.layoutPlaceHolder,
this["additionalInformationLayoutPlaceHolder_"+this.parentWidget.communicationType]=f.additionalInformation.layoutPlaceHolder),""!=f.additionalInformation.popupTitle&&(this["additionalInformationPopupTitle_"+this.parentWidget.communicationType]=f.additionalInformation.popupTitle));this.stato.set("showAdditionalInformation",f.showAdditionalInformation.value);this.additionalInformationVisibilityBtn.set("checked",this.stato.get("showAdditionalInformation"));f.registrationBtnLabel&&(null!=f.registrationBtnLabel.value&&
this.stato.set("registrationBtnLabel",f.registrationBtnLabel.value),""!=f.registrationBtnLabel.layoutPlaceHolder&&(b=d.getElementById("registrationButtonNode",this.iframeDocument.body),b.innerHTML=this.stato.get("registrationBtnLabel")?this.stato.get("registrationBtnLabel"):f.registrationBtnLabel.layoutPlaceHolder,this["registrationBtnLabelLayoutPlaceHolder_"+this.parentWidget.communicationType]=f.registrationBtnLabel.layoutPlaceHolder),""!=f.registrationBtnLabel.popupTitle&&(this["registrationBtnLabelPopupTitle_"+
this.parentWidget.communicationType]=f.registrationBtnLabel.popupTitle),""!=f.registrationBtnLabel.popupPlaceHolder&&(this["registrationBtnLabelPopupPlaceHolder_"+this.parentWidget.communicationType]=f.registrationBtnLabel.popupPlaceHolder));f.registrationBtnColor&&(this.stato.set("registrationBtnColor",f.registrationBtnColor.value),b=d.getElementById("registrationButtonNode",this.iframeDocument.body),e.set(b,"color",this.stato.get("registrationBtnColor")));f.registrationBtnBackground&&(this.stato.set("registrationBtnBackground",
f.registrationBtnBackground.value),b=d.getElementById("registrationButtonNode",this.iframeDocument.body),e.set(b.parentNode,"background",this.stato.get("registrationBtnBackground")));f.partecipationDenyBtnLabel&&(null!=f.partecipationDenyBtnLabel.value&&this.stato.set("partecipationDenyBtnLabel",f.partecipationDenyBtnLabel.value),""!=f.partecipationDenyBtnLabel.layoutPlaceHolder&&(b=d.getElementById("denyRegistrationButtonNode",this.iframeDocument.body),b.innerHTML=this.stato.get("partecipationDenyBtnLabel")?
this.stato.get("partecipationDenyBtnLabel"):f.partecipationDenyBtnLabel.layoutPlaceHolder,this["negaPartecipazioneBtnLabelLayoutPlaceHolder_"+this.parentWidget.communicationType]=f.partecipationDenyBtnLabel.layoutPlaceHolder),""!=f.registrationBtnLabel.popupPlaceHolder&&(this["negaPartecipazioneBtnLabelPopupPlaceHolder_"+this.parentWidget.communicationType]=f.partecipationDenyBtnLabel.popupPlaceHolder));f.partecipationDenyBtnColor&&(this.stato.set("partecipationDenyBtnColor",f.partecipationDenyBtnColor.value),
b=d.getElementById("denyRegistrationButtonNode",this.iframeDocument.body),e.set(b,"color",this.stato.get("partecipationDenyBtnColor")));f.partecipationDenyBtnBackground&&(this.stato.set("partecipationDenyBtnBackground",f.partecipationDenyBtnBackground.value),b=d.getElementById("denyRegistrationButtonNode",this.iframeDocument.body),e.set(b.parentNode,"background",this.stato.get("partecipationDenyBtnBackground")));f.showRegistrationBtn&&(this.stato.set("showRegistrationBtn",f.showRegistrationBtn.value),
this.registrationButtonVisibilityBtn.set("checked",this.stato.get("showRegistrationBtn")));f.footerImage&&""!=f.footerImage&&(this.stato.set("footerImage",f.footerImage.value),b=d.getElementById("footerImageImgNode",this.iframeDocument.body),l.set(b,"src",f.footerImage.value),""!=f.footerImage.layoutPlaceHolder&&(d.getElementById("footerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=f.footerImage.layoutPlaceHolder),""!=f.footerImage.popupTitle&&(this["footerImagePopupTitle_"+this.parentWidget.communicationType]=
f.footerImage.popupTitle),this.aggiornaVisibilitaFooterImagePlaceHolder(!this.stato.get("footerImage")));this.stato.set("showFooterImage",f.showFooterImage.value);this.footerImageVisibilityBtn.set("checked",this.stato.get("showFooterImage"));this.stato.set("showFooter",f.showFooter.value);this.footerVisibilityBtn.set("checked",this.stato.get("showFooter"));f.backGroundColor&&""!=f.backGroundColor.value&&this.backGroundColorWidget.set("value",f.backGroundColor.value);f.backGroundBodyColor&&""!=f.backGroundBodyColor.value&&
this.backGroundBodyColorWidget.set("value",f.backGroundBodyColor.value);f.foreGroundBodyColor&&""!=f.foreGroundBodyColor.value&&this.foreGroundBodyColorWidget.set("value",f.foreGroundBodyColor.value);f.linkBodyColor&&""!=f.linkBodyColor.value&&this.linkBodyColorWidget.set("value",f.linkBodyColor.value);f.linkSystemColor&&""!=f.linkSystemColor.value&&this.linkSystemColorWidget.set("value",f.linkSystemColor.value);f.backGroundHeaderColor&&""!=f.backGroundHeaderColor.value&&(this.stato.set("backGroundHeaderColor",
f.backGroundHeaderColor.value),this.aggiornaColoreBackgroundHeader(this.stato.get("backGroundHeaderColor")));f.backGroundFooterColor&&""!=f.backGroundFooterColor.value&&(this.stato.set("backGroundFooterColor",f.backGroundFooterColor.value),this.aggiornaColoreBackgroundFooter(this.stato.get("backGroundFooterColor")));f.foreGroundColor&&""!=f.foreGroundColor.value&&(this.stato.set("foreGroundColor",f.foreGroundColor.value),this.aggiornaColoreTestoHeader(this.stato.get("foreGroundColor")));if(f.unsubscribeText){b=
d.getElementById("unsubscribeBox",this.iframeDocument.body);var h=d.getElementById("linkU",b),k=d.getElementById("linkU1",b),U=d.getElementById("linkU2",b),m=d.getElementById("linkU3",b);d.getElementById("filler",b);""!=f.unsubscribeText.value?(this.stato.set("unsubscribeText",f.unsubscribeText.value),h.innerHTML=this.stato.get("unsubscribeText"),e.set(h,"display","inline"),e.set(k,"display","none"),e.set(U,"display","none"),e.set(m,"display","none")):(this.stato.set("unsubscribeText",null),e.set(h,
"display","none"),e.set(k,"display","inline"),e.set(U,"display","inline"),e.set(m,"display","inline"))}setTimeout(a.hitch(this,this.aggiornaAltezzaIFrame),1500);this.stato.get("idSchedulation")&&0!=this.stato.get("idSchedulation")||this.stato.set("dirty",!1)}else S.showInfoWithCloseButton(A.msgErroreServer,O.footerInc.lblErrorMsgDialogTitle,A.lblOKButton),this.stato.set("dirty",!1)}),a.hitch(this,function(){S.showInfoWithCloseButton(A.msgErroreServer,O.footerInc.lblErrorMsgDialogTitle,A.lblOKButton)}))},
aggiornaAltezzaIFrame:n(function(){E.debug("[ScheduledCommunicationTemplateWidget] aggiornaAltezzaIFrame ....",this.iframeDocument.body);var a;try{a=h.getMarginBox(this.iframeDocument.body)}catch(ka){}E.debug(".... geometry:",a);a&&e.set(this.iframe,"height",a.h+"px")},500),aggiornaUI:function(){E.debug("AGGIORNA-UI");this.localizeMessages||(this.localizeMessagesHASH={},k.forEach(v.evento.stato.event_details.languages,a.hitch(this,function(a){this.localizeMessagesHASH[a.idLingua]=W.getLocalization("ebPlatformWidgets.Evento.Communication",
"CommunicationWidget",a.locale)})),E.debug("this.localizeMessages",this.localizeMessagesHASH));this.senderWidget.set("tooltip",V[this.parentWidget.communicationType+"Communication"].msgFromTip);this.replyToWidget.set("tooltip",V[this.parentWidget.communicationType+"Communication"].msgReplyToTip);this.subjectWidget.set("tooltip",V[this.parentWidget.communicationType+"Communication"].msgSubjectTip);this.senderWidget.update();N.aggiornaValoreDaStato("sender",this," ");N.aggiornaValoreDaStato("replyTo",
this,"");this.replyToWidget.set("placeHolder",this.senderWidget.getAddress());N.aggiornaValoreDaStato("subject",this,"");N.aggiornaValoreDaStato("backGroundColor",this,v.commons.data.customerDefaults.coloreBackGroundEmailDefault);N.aggiornaValoreDaStato("backGroundBodyColor",this,v.commons.data.customerDefaults.coloreBackGroundCorpoEmailDefault);N.aggiornaValoreDaStato("foreGroundBodyColor",this,"#282828");N.aggiornaValoreDaStato("linkBodyColor",this,"#282828");N.aggiornaValoreDaStato("linkSystemColor",
this,"#999999");var b="/getCommunicationPreviewHTML.plp?idEvento\x3d"+v.evento.stato.idEvento+"\x26idPianificazioneInvioEmail\x3d"+this.stato.get("idSchedulation")+"\x26forTemplating\x3dtrue\x26locale\x3d"+v.getLinguaById(this.stato.get("idLanguage"),v.evento.stato.event_details.languages).locale+"\x26tipo\x3d"+this.parentWidget.communicationsTypeMap[this.parentWidget.communicationType];E.debug("[ScheduledCommunicationTemplateWidget] CARICO: ",b);l.set(this.iframe,"src",b)},aggiornaColoreBackground:function(a){this.iframeDocument&&
r("[data-ebplatform-template-role~\x3d'hasBackground']",this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreBackgroundHeader:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasHeaderBackground']",this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreBackgroundFooter:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasFooterBackground']",this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreTestoHeader:function(a){this.iframeDocument&&
r("[data-ebplatform-template-role~\x3d'hasHeaderTextColor']",this.iframeDocument.body).style("color",a)},aggiornaColoreBackgroundCorpo:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasBodyBackground']",this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreForegroundCorpo:function(a){this.iframeDocument&&(r("[data-ebplatform-template-role~\x3d'hasBodyBackground'] td",this.iframeDocument.body).style("color",a),r("[data-ebplatform-template-role~\x3d'hasBodyBackground']",
this.iframeDocument.body).style("color",a))},aggiornaColoreLinkCorpo:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasBodyBackground'] a",this.iframeDocument.body).style("color",a)},aggiornaColoreLinkSistema:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'syslink']",this.iframeDocument.body).style("color",a)},initBoxHeader:function(){this.headerBoxNode=d.getElementById("boxHeader",this.iframeDocument.body);var f=b.create("div",{"class":"btnsControls",
style:""},this.headerBoxNode),A=b.create("div",{"class":"editBtnContainer",style:""},f),A=b.create("div",{},A),h=d.getElementById("headerTextNode",this.iframeDocument.body);this.headerTextEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editTextWithFontDialogWidget.show({title:this["headerTextPopupTitle_"+this.parentWidget.communicationType],text:this.stato.get("headerText"),showAlignment:!0,centered:this.stato.get("centerHeader"),showColorsSelection:!0,
color:this.stato.get("foreGroundColor"),backgroundColor:this.stato.get("backGroundHeaderColor"),showFontSelection:!0,fontFamily:this.stato.get("headerFontFamily"),fontSize:this.stato.get("headerFontSize"),placeHolder:this["headerTextPopupPlaceHolder_"+this.parentWidget.communicationType],doOnSave:a.hitch(this,function(a){var b=d.getElementById("headerTextTopSpacerNode",this.iframeDocument.body),f=d.getElementById("headerTextBottomSpacerNode",this.iframeDocument.body);this.stato.set("centerHeader",
a.centered);a.centered?e.set(h,"textAlign","center"):e.set(h,"textAlign","left");this.stato.set("headerText",a.text);h.innerHTML=a.text?a.text:this["headerTextLayoutPlaceHolder_"+this.parentWidget.communicationType];this.stato.set("headerFontFamily",a.fontFamily);a.fontFamily?e.set(h,"fontFamily",a.fontFamily):e.set(h,"fontFamily","");this.stato.set("headerFontSize",a.fontSize);a.fontSize?(e.set(h,"fontSize",a.fontSize),e.set(b,"fontSize",a.fontSize),e.set(f,"fontSize",a.fontSize)):(e.set(h,"fontSize",
this.headerDefaultFontSize),e.set(b,"fontSize",this.headerDefaultFontSize),e.set(f,"fontSize",this.headerDefaultFontSize));this.stato.set("foreGroundColor",a.color);this.aggiornaColoreTestoHeader(this.stato.get("foreGroundColor"));this.stato.set("backGroundHeaderColor",a.backgroundColor);this.aggiornaColoreBackgroundHeader(this.stato.get("backGroundHeaderColor"))})})})},A);this.aggiornaColoreTestoHeader(this.stato.get("foreGroundColor"));this.aggiornaColoreBackgroundHeader(this.stato.get("backGroundHeaderColor"));
f=b.create("div",{"class":"hideShowBtnContainer",style:""},f);f=b.create("div",{},f);this.headerVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showHeader"),doOnChange:a.hitch(this,function(a){this.stato.set("showHeader",a);this.aggiornaVisibilitaMask(!a,this.headerBoxNode)})},f);this.aggiornaVisibilitaMask(!this.stato.get("showHeader"),this.headerBoxNode);this.stato.get("centerHeader")?e.set(h,"textAlign","center"):e.set(h,"textAlign","left");this.stato.get("headerText")?h.innerHTML=
this.stato.get("headerText"):h.innerHTML=this["headerTextLayoutPlaceHolder_"+this.parentWidget.communicationType]},initBoxLogoAndEventDetails:function(){d.getElementById("logoPlaceHolderLabelNode",this.iframeDocument.body).innerHTML=V.lblLogoPlaceHolderLbl;this.logoBoxNode=d.getElementById("boxLogo",this.iframeDocument.body);this.logoEditBtnContainerNode=b.create("div",{"class":"editBtnContainer",style:""},this.logoBoxNode);var e=b.create("div",{},this.logoEditBtnContainerNode);this.logoEditBtn=new B({"class":"editButton",
label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:this["logoPopupTitle_"+this.parentWidget.communicationType],currentSrc:this.stato.get("logo"),imageType:"logoMailTemplate",fileFormatNote:V.msgLogoFormatNotes,previewMaxDim:{w:v.commons.config.ScheduledCommunications_logoWidth,h:v.commons.config.ScheduledCommunications_logoHeight},doOnSelection:a.hitch(this,function(a){var b=d.getElementById("logoImgNode",this.iframeDocument.body);a?(this.stato.set("logo",
a),l.set(b,"src",a),this.logoAndEventDetailsVisibilityBtn.set("checked",!0)):(this.stato.set("logo",""),l.set(b,"src","/img/logoPlaceHolder.png"));this.aggiornaVisibilitaLogoPlaceHolder(!this.stato.get("logo"))})})})},e);this.aggiornaVisibilitaLogoPlaceHolder(!this.stato.get("logo"));this.eventDetailsBoxNode=d.getElementById("boxEventDetails",this.iframeDocument.body);this.logoAndEventDetailsVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},this.eventDetailsBoxNode);
e=b.create("div",{},this.logoAndEventDetailsVisibilityBtnContainerNode);this.logoAndEventDetailsVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showLogoEventDetails"),doOnChange:a.hitch(this,function(a){this.stato.set("showLogoEventDetails",a);this.aggiornaVisibilitaMask(!a,this.logoBoxNode);this.aggiornaVisibilitaMask(!a,this.eventDetailsBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showLogoEventDetails"),this.logoBoxNode);this.aggiornaVisibilitaMask(!this.stato.get("showLogoEventDetails"),
this.eventDetailsBoxNode)},aggiornaVisibilitaLogoPlaceHolder:function(a){var b=d.getElementById("logoContainerNode",this.iframeDocument.body),f=d.getElementById("logoPlaceHolderContainerNode",this.iframeDocument.body);e.set(f,"display",a?"table":"none");e.set(b,"display",a?"none":"table")},aggiornaVisibilitaDateTimezone:function(a){var b=d.getElementById("dateEventoConTimezone",this.iframeDocument.body),f=d.getElementById("dateEventoNotimezone",this.iframeDocument.body);e.set(b,"display",a?"block":
"none");e.set(f,"display",a?"none":"block")},initBoxImmagine:function(){d.getElementById("eventImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=V.lblEventImagePlaceHolderLbl;this.eventImageBoxNode=d.getElementById("eventImageBox",this.iframeDocument.body);var e=b.create("div",{"class":"btnsControls",style:""},this.eventImageBoxNode);this.eventImageEditBtnContainerNode=b.create("div",{"class":"editBtnContainer",style:""},e);var f=b.create("div",{},this.eventImageEditBtnContainerNode);
this.eventImageEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){E.debug("this.parentWidget.communicationType",this.parentWidget.communicationType);this.editImageDialogWidget.show({title:this["eventImagePopupTitle_"+this.parentWidget.communicationType],currentSrc:this.stato.get("eventImage"),imageType:"immagineMailTemplate",fileFormatNote:V.msgEventImageFormatNotes,previewMaxDim:{w:v.commons.config["ScheduledCommunications_"+this.parentWidget.communicationType+
"_eventImageWidth"],h:400},doOnSelection:a.hitch(this,function(b){var e=d.getElementById("eventImageImgNode",this.iframeDocument.body),f=b?b.file:null;this.stato.set("linkEventImageToEventPage",b.linkaImmagine);f?(this.stato.set("eventImage",f),l.set(e,"src",f),M.loadImage(f,a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.eventImageVisibilityBtn.set("checked",!0)):(this.stato.set("eventImage",""),l.set(e,"src","/img/eventImagePlaceHolder.png"),M.loadImage("/img/eventImagePlaceHolder.png",a.hitch(this,
this.aggiornaAltezzaIFrame),null,!0),this.eventImageVisibilityBtn.set("checked",!1));this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("eventImage"))}),showLinkImageCheckbox:!0,linkImageCheckboxLabel:V.lblLinkEventImageToEventPage,linkImageCheckboxChecked:this.stato.get("linkEventImageToEventPage")})})},f);this.eventImageVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},e);e=b.create("div",{},this.eventImageVisibilityBtnContainerNode);this.eventImageVisibilityBtn=
new J({noLabel:!0,startChecked:this.stato.get("showEventImage"),doOnChange:a.hitch(this,function(a){this.stato.set("showEventImage",a);this.aggiornaVisibilitaMask(!a,this.eventImageBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showEventImage"),this.eventImageBoxNode);this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("eventImage"))},aggiornaVisibilitaEventImagePlaceHolder:function(a){var b=d.getElementById("eventImageContainerNode",this.iframeDocument.body),f=d.getElementById("eventImagePlaceHolderContainerNode",
this.iframeDocument.body);e.set(f,"display",a?"block":"none");e.set(b,"display",a?"none":"block")},initBoxAdditionalInformation:function(){this.additionalInformationBoxNode=d.getElementById("additionalInformationBox",this.iframeDocument.body);var e=b.create("div",{"class":"btnsControls",style:""},this.additionalInformationBoxNode);this.additionalInformationEditBtnContainerNode=b.create("div",{"class":"editBtnContainer",style:""},e);var f=b.create("div",{},this.additionalInformationEditBtnContainerNode),
h=d.getElementById("additionalInformationNode",this.iframeDocument.body);this.additionalInformationEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editTextWithEditorWidget.show({withLinkPlugin:!0,withImagePlugin:!0,title:this["additionalInformationPopupTitle_"+this.parentWidget.communicationType],text:this.stato.get("additionalInformation"),insertUtentePlaceHolders:this.additionaInformationEditorConfig.insertUtentePlaceHolders,extraUtentePlaceHolders:this.additionaInformationEditorConfig.extraUtentePlaceHolders,
eventoPlaceHolders:this.additionaInformationEditorConfig.eventoPlaceHolders,doOnSave:a.hitch(this,function(a){this.stato.set("additionalInformation",a);h.innerHTML=a?a:this["additionalInformationLayoutPlaceHolder_"+this.parentWidget.communicationType];this.aggiornaAltezzaIFrame()})})})},f);this.stato.get("additionalInformation")?h.innerHTML=this.stato.get("additionalInformation"):h.innerHTML=this["additionalInformationLayoutPlaceHolder_"+this.parentWidget.communicationType];this.additionalInformationVisibilityBtnContainerNode=
b.create("div",{"class":"hideShowBtnContainer",style:""},e);e=b.create("div",{},this.additionalInformationVisibilityBtnContainerNode);this.additionalInformationVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showAdditionalInformation"),doOnChange:a.hitch(this,function(a){this.stato.set("showAdditionalInformation",a);this.aggiornaVisibilitaMask(!a,this.additionalInformationBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showAdditionalInformation"),this.additionalInformationBoxNode)},
showDenyRegistrationButton:function(a){var b=d.getElementById("denyRegistrationButtonContainerNode",this.iframeDocument.body);a?e.set(b,"display","inline-block"):e.set(b,"display","none")},initBoxRegistrationButton:function(){this.registrationButtonBoxNode=d.getElementById("registrationButtonBox",this.iframeDocument.body);var f=b.create("div",{"class":"btnsControls",style:""},this.registrationButtonBoxNode);this.registrationButtonEditBtnContainerNode=b.create("div",{"class":"editBtnContainer",style:""},
f);var h=b.create("div",{},this.registrationButtonEditBtnContainerNode),A=d.getElementById("registrationButtonNode",this.iframeDocument.body),k=d.getElementById("denyRegistrationButtonNode",this.iframeDocument.body);this.registrationButtonEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editRegistrationButtonsWidget.show({title:this["registrationBtnLabelPopupTitle_"+this.parentWidget.communicationType],registration:{text:this.stato.get("registrationBtnLabel"),
color:this.stato.get("registrationBtnColor"),backgroundColor:this.stato.get("registrationBtnBackground")},deny:{text:this.stato.get("partecipationDenyBtnLabel"),thankuText:this.stato.get("partecipationDenyText"),color:this.stato.get("partecipationDenyBtnColor"),backgroundColor:this.stato.get("partecipationDenyBtnBackground")},showPartecipationDeny:this.stato.get("showPartecipationDenyBtn"),placeHolderRegistration:this["registrationBtnLabelPopupPlaceHolder_"+this.parentWidget.communicationType],placeHolderDeny:this["negaPartecipazioneBtnLabelPopupPlaceHolder_"+
this.parentWidget.communicationType],tooltip:V.msgEditRegistrationButtonLabelTip,doOnSelection:a.hitch(this,function(a){var b=d.getElementById("registrationButtonNode",this.iframeDocument.body),f=d.getElementById("denyRegistrationButtonNode",this.iframeDocument.body);this.stato.set("registrationBtnLabel",a.registration.text);this.stato.set("partecipationDenyBtnLabel",a.deny.text);this.stato.set("partecipationDenyText",a.deny.thankuText);this.stato.set("registrationBtnColor",a.registration.color);
this.stato.set("registrationBtnBackground",a.registration.backgroundColor);e.set(b,"color",this.stato.get("registrationBtnColor"));e.set(b.parentNode,"background",this.stato.get("registrationBtnBackground"));this.stato.set("partecipationDenyBtnColor",a.deny.color);this.stato.set("partecipationDenyBtnBackground",a.deny.backgroundColor);e.set(f,"color",this.stato.get("partecipationDenyBtnColor"));e.set(f.parentNode,"background",this.stato.get("partecipationDenyBtnBackground"));this.stato.get("registrationBtnLabel")?
b.innerHTML=this.stato.get("registrationBtnLabel"):b.innerHTML=this["registrationBtnLabelLayoutPlaceHolder_"+this.parentWidget.communicationType];this.stato.get("partecipationDenyBtnLabel")?f.innerHTML=this.stato.get("partecipationDenyBtnLabel"):f.innerHTML=this["negaPartecipazioneBtnLabelLayoutPlaceHolder_"+this.parentWidget.communicationType]})})})},h);this.stato.get("registrationBtnLabel")?A.innerHTML=this.stato.get("registrationBtnLabel"):A.innerHTML=this["registrationBtnLabelLayoutPlaceHolder_"+
this.parentWidget.communicationType];this.stato.get("partecipationDenyBtnLabel")?k.innerHTML=this.stato.get("partecipationDenyBtnLabel"):k.innerHTML=this["negaPartecipazioneBtnLabelLayoutPlaceHolder_"+this.parentWidget.communicationType];this.showDenyRegistrationButton(this.stato.get("showPartecipationDenyBtn"));this.registrationButtonVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},f);f=b.create("div",{},this.registrationButtonVisibilityBtnContainerNode);this.registrationButtonVisibilityBtn=
new J({noLabel:!0,startChecked:this.stato.get("showRegistrationBtn"),doOnChange:a.hitch(this,function(a){this.stato.set("showRegistrationBtn",a);this.aggiornaVisibilitaMask(!a,this.registrationButtonBoxNode)})},f);this.aggiornaVisibilitaMask(!this.stato.get("showRegistrationBtn"),this.registrationButtonBoxNode);this.registrationButtonDisabled&&(this.registrationButtonEditBtn.set("disabled",!0),this.registrationButtonVisibilityBtn.set("checked",!1),this.registrationButtonVisibilityBtn.set("disabled",
!0))},initBoxBarCode:function(){this.barCodeBoxNode=d.getElementById("barCodeBox",this.iframeDocument.body);var e=b.create("div",{"class":"btnsControls",style:""},this.barCodeBoxNode);this.barCodeSectionEditBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},e);var f=b.create("div",{},this.barCodeSectionEditBtnContainerNode);this.barCodeSectionEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editBarCodeSectionDialogWidget.show({title:V.lblBarCodeSectionDialogTitle,
currentState:{barCodeTitle:this.stato.get("barCodeTitle"),hideBarCodeTitle:this.stato.get("hideBarCodeTitle")},doOnSelection:a.hitch(this,function(a){console.log("RESTITUITO",a);this.stato.set("barCodeTitle",a.barCodeTitle);this.stato.set("hideBarCodeTitle",a.hideBarCodeTitle);console.log("STATO",this.stato);this.aggiornaSezioneBarCode()})})})},f);this.aggiornaSezioneBarCode();this.barCodeVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},e);e=b.create("div",{},this.barCodeVisibilityBtnContainerNode);
this.barCodeVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showBarCode"),doOnChange:a.hitch(this,function(a){this.stato.set("showBarCode",a);this.aggiornaVisibilitaMask(!a,this.barCodeBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showBarCode"),this.barCodeBoxNode)},aggiornaSezioneBarCode:function(){var a=d.getElementById("barCodeTitleNode",this.iframeDocument.body);this.stato.get("barCodeTitle")?a.innerHTML=this.stato.get("barCodeTitle"):a.innerHTML=d.getElementById("barCodeTitleDefaultTextNode",
this.iframeDocument.body).innerHTML;a=d.getElementById("barCodeTitleContainerNode",this.iframeDocument.body);this.stato.get("hideBarCodeTitle")?e.set(a,"display","none"):e.set(a,"display","block")},initBoxUnsubscribe:function(){var h=d.getElementById("unsubscribeBox",this.iframeDocument.body),A=b.create("div",{"class":"btnsControls",style:""},h),k=b.create("div",{"class":"hideShowBtnContainer",style:""},A),k=b.create("div",{},k),U=d.getElementById("linkU",h),O=d.getElementById("linkU1",h),m=d.getElementById("linkU2",
h),V=d.getElementById("linkU3",h),t=d.getElementById("filler",h);v.commons.permissions.impersonated||this.stato.get("showUnsubscribe")?(this.unsubscribeEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editTextWithFontDialogWidget.show({title:this["unsubscribeTextPopupTitle_"+this.parentWidget.communicationType],text:this.stato.get("unsubscribeText"),showAlignment:!1,showColorsSelection:!1,showFontSelection:!1,placeHolder:this["unsubscribeTextPopupPlaceHolder_"+
this.parentWidget.communicationType],doOnSave:a.hitch(this,function(a){this.stato.set("unsubscribeText",a.text);a.text?(U.innerHTML=a.text,e.set(U,"display","inline"),e.set(O,"display","none"),e.set(m,"display","none"),e.set(V,"display","none")):(e.set(U,"display","none"),e.set(O,"display","inline"),e.set(m,"display","inline"),e.set(V,"display","inline"))})})})},k),e.set(t,"display","none"),this.stato.get("showUnsubscribe")?this.stato.get("unsubscribeText")?(U.innerHTML=this.stato.get("unsubscribeText"),
e.set(U,"display","inline"),e.set(O,"display","none"),e.set(m,"display","none"),e.set(V,"display","none")):(e.set(U,"display","none"),e.set(O,"display","inline"),e.set(m,"display","inline"),e.set(V,"display","inline")):(e.set(t,"display","inline"),e.set(U,"display","none"),e.set(O,"display","none"),e.set(m,"display","none"),e.set(V,"display","none"))):(e.set(t,"display","inline"),e.set(U,"display","none"),e.set(O,"display","none"),e.set(m,"display","none"),e.set(V,"display","none"),v.commons.permissions.impersonated||
f.remove(h,"border"));v.commons.permissions.impersonated&&(this.unsubscribeVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},A),h=b.create("div",{},this.unsubscribeVisibilityBtnContainerNode),this.unsubscribeVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showUnsubscribe"),doOnChange:a.hitch(this,function(a){this.stato.set("showUnsubscribe",a);e.set(t,"display",a?"none":"inline");e.set(U,"display",a?this.stato.get("unsubscribeText")?"inline":"none":"none");
e.set(O,"display",a?this.stato.get("unsubscribeText")?"none":"inline":"none");e.set(m,"display",a?this.stato.get("unsubscribeText")?"none":"inline":"none");e.set(V,"display",a?this.stato.get("unsubscribeText")?"none":"inline":"none")})},h))},initBoxImmagineFooter:function(){d.getElementById("footerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=V.lblFooterImagePlaceHolderLbl;this.footerImageBoxNode=d.getElementById("footerImageBox",this.iframeDocument.body);var e=b.create("div",{"class":"btnsControls",
style:""},this.footerImageBoxNode);this.footerImageEditBtnContainerNode=b.create("div",{"class":"editBtnContainer",style:""},e);var f=b.create("div",{},this.footerImageEditBtnContainerNode),h=d.getElementById("footerImageImgNode",this.iframeDocument.body);this.footerImageEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:this["footerImagePopupTitle_"+this.parentWidget.communicationType],currentSrc:this.stato.get("footerImage"),
imageType:"immagineMailTemplate",fileFormatNote:V.msgFooterImageFormatNotes,previewMaxDim:{w:v.commons.config["ScheduledCommunications_"+this.parentWidget.communicationType+"_footerImageWidth"],h:null},showImageLink:!0,imageLink:this.stato.get("footerImageLink"),doOnSelection:a.hitch(this,function(b){var d=b?b.file:null;this.stato.set("footerImageLink",b.linkImmagine);d?(this.stato.set("footerImage",d),l.set(h,"src",d),M.loadImage(d,a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.footerImageVisibilityBtn.set("checked",
!0)):(this.stato.set("footerImage",""),l.set(h,"src","/img/footerImagePlaceHolder.png"),M.loadImage("/img/footerImagePlaceHolder.png",a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.footerImageVisibilityBtn.set("checked",!1));this.aggiornaVisibilitaFooterImagePlaceHolder(!this.stato.get("footerImage"))})})})},f);this.aggiornaVisibilitaFooterImagePlaceHolder(!this.stato.get("footerImage"));this.footerImageVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},e);
e=b.create("div",{},this.footerImageVisibilityBtnContainerNode);this.footerImageVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showFooterImage"),doOnChange:a.hitch(this,function(a){this.stato.set("showFooterImage",a);this.aggiornaVisibilitaMask(!a,this.footerImageBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showFooterImage"),this.footerImageBoxNode)},aggiornaVisibilitaFooterImagePlaceHolder:function(a){var b=d.getElementById("footerImageContainerNode",this.iframeDocument.body),
f=d.getElementById("footerImagePlaceHolderContainerNode",this.iframeDocument.body);e.set(f,"display",a?"block":"none");e.set(b,"display",a?"none":"block")},initBoxFooter:function(){this.footerBoxNode=d.getElementById("footerBox",this.iframeDocument.body);var e=b.create("div",{"class":"btnsControls",style:""},this.footerBoxNode),f=b.create("div",{"class":"editBtnContainer",style:""},e),f=b.create("div",{},f);d.getElementById("footerTextNode",this.iframeDocument.body);this.footerTextEditBtn=new B({"class":"editButton",
label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editFooterWidget.show({title:this["footerTextPopupTitle_"+this.parentWidget.communicationType],showColorsSelection:!0,backgroundColor:this.stato.get("backGroundFooterColor"),showFontSelection:!1,resetColor:this.stato.get("backGroundHeaderColor"),doOnSave:a.hitch(this,function(a){this.stato.set("backGroundFooterColor",a.backgroundColor);this.aggiornaColoreBackgroundFooter(this.stato.get("backGroundFooterColor"))})})})},f);this.aggiornaColoreBackgroundFooter(this.stato.get("backGroundFooterColor"));
this.footerVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},e);e=b.create("div",{},this.footerVisibilityBtnContainerNode);this.footerVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showFooter"),doOnChange:a.hitch(this,function(a){this.stato.set("showFooter",a);this.aggiornaVisibilitaMask(!a,this.footerBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showFooter"),this.footerBoxNode)},initBoxTools:function(){var e=d.getElementById("toolsBox",
this.iframeDocument.body),f=b.create("div",{"class":"hideShowBtnContainer",style:""},e),f=b.create("div",{},f);this.toolsVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showTools"),doOnChange:a.hitch(this,function(a){this.stato.set("showTools",a);this.aggiornaVisibilitaMask(!a,e)})},f);this.aggiornaVisibilitaMask(!this.stato.get("showTools"),e)},initBoxBadge:function(){E.debug("initBoxBadge");var a=d.getElementById("printBadgeBtnContainer",this.iframeDocument.body);e.set(a,"display",
"subject"==this.operazioneCorrente&&this.stato.get("showBadgeLink")?"table":"none")},initBoxDetails:function(){this.detailsBoxNode=d.getElementById("detailsBox",this.iframeDocument.body);var e=b.create("div",{"class":"btnsControls",style:""},this.detailsBoxNode);this.detailsEditBtnContainerNode=b.create("div",{"class":"editBtnContainer",style:""},e);var f=b.create("div",{},this.detailsEditBtnContainerNode);this.detailsEditBtn=new B({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,
function(){this.editPersonalDetailsFormDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:V.lblEditTicketPersonalDetails,currentState:{fieldsDetails:this.stato.get("fieldsDetails")},doOnSelection:a.hitch(this,function(a){a.fieldsChanged&&(a.campi&&(this.stato.set("fieldsDetails",a.campi),this.riordinaPersonalDetails(a.campi)),this.stato.set("dirty",!0))})})})},f);this.detailsVisibilityBtnContainerNode=b.create("div",{"class":"hideShowBtnContainer",style:""},e);e=b.create("div",{},this.detailsVisibilityBtnContainerNode);
this.detailsVisibilityBtn=new J({noLabel:!0,startChecked:this.stato.get("showDetails"),doOnChange:a.hitch(this,function(a){this.stato.set("showDetails",a);this.aggiornaVisibilitaMask(!a,this.detailsBoxNode)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showDetails"),this.detailsBoxNode)},aggiornaVisibilitaMask:function(a,b){a?f.add(b,"hideWithMask"):f.remove(b,"hideWithMask")},validate:function(){return this.formWidget.validate()},focus:function(){this.parentWidget.configureTemplateSwitchWidget.openDropDown();
this.formWidget.validate()},reset:function(){this.senderWidget.reset();this.subjectWidget.reset()},riordinaPersonalDetails:function(a){var f,h=d.getElementById("personalDetails",this.iframeDocument.body);k.forEach(a,function(a,d){(f=(f=r("#"+a.id,h))&&f[0]?f[0]:null)?(b.place(f,h,"last"),e.set(f,"display",a.showOnMail?"inline":"none")):console.warn("non trovo",tiem.id)});(f=r("#partner_list",h))&&f[0]&&b.place(f[0],h,"last");this.aggiornaAltezzaIFrame()}})})},"ebPlatformWidgets/Evento/Guests/RegistrantListWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/store/Memory dojo/store/JsonRest dojo/request dojo/string dojo/mouse dojo/date/locale dojo/text!./templates/RegistrantListWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/registry dijit/form/Form dijit/form/TextBox dijit/form/Button dijit/form/RadioButton dijit/form/Select dijit/form/FilteringSelect dijit/Tooltip dojox/form/Uploader dojox/lang/functional dgrid/Grid dgrid/editor put-selector/put ebPlatform/logger! ebPlatform/stato ebPlatform/statoEmail ebPlatform/commonDialogs ebPlatform/utility ebPlatform/dateUtility ebPlatform/ebcometd ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget ./_ListWidgetMixin ./ManageCheckinWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!../EventDetails/nls/EventDetailsWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O){return q([x,z,X],{mouseAnim:null,templateString:y,baseClass:"registrantListWidget",parentWidget:null,idEvento:F.evento.stato.idEvento,freshList:!0,disableDownloadButtons:!1,configFiltri:{filtraStatoEmail:!0,filtraNonInteressati:!1,filtraModalitaIscrizione:!0,filtraDataFascia:!0,filtraAzioniOspite:!1,filtraValoreLista:!0,filtraCancellati:!0,filtraRegistrazioniShopifyCompletate:!0},formSwitchWidget:null,
editRegistrationDateBtn:null,filtraModalitaIscrizioneStore:null,manageCheckinWidget:null,messages:O,commonMessages:Q,eventDetailsMessages:A,postCreate:function(){this.gruppoDefault="ISCRIZIONE";this.downloadLinkPath="downloadListaIscritti.plp";this.inherited(arguments);this.initUploadForm();this.aggiornaVisibilitaLista();this.initList();this.editRegistrationDateBtn=new C({onClick:a.hitch(this,function(){this.parentWidget.appWidget.mainStackContainer.selectChild(B.byId("tab_event_details"));this.parentWidget.appWidget.mainWidgetsRegistry.event_details.registrationClosingDeadlineSwitchWidget.set("checked",
!0);this.parentWidget.appWidget.mainWidgetsRegistry.event_details.registrationClosingDeadlineSwitchWidget.aggiornaUI()})},this.editBtnNode);this.popupSendCompletaRegShopifyIscrizioneWidget=new ca({parentWidget:this,dialogTitle:O.lblOpenResendCompleteRegistrationShopifyPopupBtn,introSpedizione:O.msgSendAllCompletaRegShopifyDialogIntro,sendEmailsURL:"/sendEmailShopifyCompletaIscrizione.plp"});new v({connectId:this.uploadFormInnerMaskNode,label:O.msgWarningCantUploadRegistrationListBeforeRegistrantList})},
initUploadForm:function(){this.caricaListaFormWidget=new t({id:"caricaListaRegistrazioniForm",method:"POST",encType:"multipart/form-data",onSubmit:a.hitch(this,function(a){this.apriCanaleCometd()})},this.caricaListaFormNode);this.nomeFileWidget=new G({id:"fileListaRegistrazioni",disabled:!0},this.nomeFileNode);this.scegliFileWidget=new dojox.form.Uploader({id:"listaRegistrazioniUploader",label:Q.lblScegliFile,multiple:!1,uploadOnSelect:!1,name:"fileLista",url:"/doCaricaListaRegistrazioni.plp?format\x3dtext"},
this.scegliFileNode);this.scegliFileWidget.on("change",a.hitch(this,function(a){if(0<a.length){var b=a[0].name.substr(a[0].name.lastIndexOf(".")+1).toLowerCase();-1<k.indexOf(["xls","xlsx"],b)?(this.nomeFileWidget.set("value",a[0].name),this.selectedFile=a[0],this.aggiornaTitleScegliFileWidget()):(this.caricaListaFormSubmitWidget.set("disabled",!0),K.showInfoWithCloseButton(O.msgInvalidInviteListFileExt,W.footerInc.lblErrorMsgDialogTitle,Q.lblOKButton))}}));this.scegliFileWidget.on("complete",a.hitch(this,
function(a){aa.debug("on complete:",(new Date).getTime(),a);"OK"!=a.result&&(K.hideLoadingWithMsg(),a.msg?K.showInfoWithCloseButton(a.msg,W.footerInc.lblErrorMsgDialogTitle,Q.lblOKButton):K.showInfoWithCloseButton(Q.msgErroreServer,W.footerInc.lblErrorMsgDialogTitle,Q.lblOKButton))}));this.scegliFileWidget.startup();this.caricaListaFormSubmitWidget=new C({label:Q.lblUploadButton,type:"submit",disabled:!1},this.caricaListaFormSubmitNode);n(this.caricaListaFormSubmitWidget,"click",a.hitch(this,function(a){f.set(this.idEventoNode,
"value",F.evento.stato.idEvento);if(this.validaFile())K.showLoadingWithMsg("....",O.lblProcessingRegistrationsListDialogTitle);else return K.showInfoWithCloseButton(O.msgRegistrationsListChoseFileWarning,W.footerInc.lblErrorMsgDialogTitle,Q.lblOKButton),!1}));this.caricaListaFormWidget.startup();this.formSwitchWidget=new H({title:O.lblImportRegistrations,dropDown:this.importRegistrationsContainerNode,opened:!1},this.importRegistrationsBtnNode)},initList:function(){this.initCommonStores();this.initCommonSubWidgets({gruppo:this.gruppoDefault});
this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(b){var d=0;b.results.forEach(a.hitch(this,function(){d++})).then(a.hitch(this,function(){this.aggiornaVisibilitaTutto(!!d||!this.freshList);this.aggiornaAbilitazioneExportLinks(!!d)}));b.results.total.then(a.hitch(this,function(a){if(this.filtriImpostati())this.infoTableNode.innerHTML="";else{var d,e,f,h,A,k,U,m,V;d=b.results.ioArgs.xhr.getResponseHeader("Eventboost-Iscrizioni");f=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrittiDaFormGenerico");
h=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrittiDaFormNominativo");A=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrittiDaBe");k=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrittiDaImportMassivo");U=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrittiAccompagnatori");e=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrizioniAccompagnatori");m=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrittiNoAccompagnatori");V=b.results.ioArgs.xhr.getResponseHeader("Eventboost-IscrizioniNoAccompagnatori");
var t='\x3ctable class\x3d"infoTable"\x3e',l=parseInt(m)+(U?parseInt(U):0);m&&(t=t+"\x3ctr\x3e"+('\x3ctd class\x3d"label"\x3e'+O.lblRegistrantsNum+":\x3c/td\x3e"),t+='\x3ctd class\x3d"valore"\x3e'+m+"\x3c/td\x3e",!V||"-"==V||V==a&&m==l||(t+='\x3ctd class\x3d"label"\x3e'+O.lblRegistrationsNum+":\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+V+"\x3c/td\x3e"),t+="\x3c/tr\x3e",U&&"-"!=U&&m!=l&&0!=U&&(t=t+"\x3ctr\x3e"+('\x3ctd class\x3d"label"\x3e'+O.lblAccompagnatori+":\x3c/td\x3e"),t=t+('\x3ctd class\x3d"valore"\x3e'+
U+"\x3c/td\x3e")+('\x3ctd class\x3d"label"\x3e'+O.lblRegistrationsNum+":\x3c/td\x3e"),t=t+('\x3ctd class\x3d"valore"\x3e'+e+"\x3c/td\x3e")+"\x3c/tr\x3e",t+='\x3ctr class\x3d"totali"\x3e',t+='\x3ctd class\x3d"label"\x3e'+Q.lblTotale+":\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+l+"\x3c/td\x3e",t+='\x3ctd class\x3d"label"\x3e'+Q.lblTotale+":\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+d+"\x3c/td\x3e",t+="\x3c/tr\x3e"),t+="\x3c/table\x3e",f&&"-"!=f&&f!=l&&0!=f||h&&"-"!=h&&h!=l&&0!=h||A&&"-"!=A&&
A!=l&&0!=A||k&&"-"!=k&&k!=l&&0!=k)&&(a=!0,t+='\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e',t+='\x3ctable class\x3d"infoDetailsTable"\x3e',t+="\x3ctr\x3e",f&&"-"!=f&&f!=l&&0!=f&&(t+='\x3ctd class\x3d"label"\x3e'+O.lblRegistrationsNumFromGenericForm+"\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+f+"\x3c/td\x3e",a=!1),h&&"-"!=h&&h!=l&&0!=h&&(t+='\x3ctd class\x3d"label'+(a?"":" bordoSx")+'"\x3e'+O.lblRegistrationsNumFromPersonalForm+"\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+h+"\x3c/td\x3e",a=!1),
A&&"-"!=A&&A!=l&&0!=A&&(t+='\x3ctd class\x3d"label'+(a?"":" bordoSx")+'"\x3e'+O.lblRegistrationsNumFromBE+"\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+A+"\x3c/td\x3e"),k&&"-"!=k&&k!=l&&0!=k&&(t+='\x3ctd class\x3d"label'+(a?"":" bordoSx")+'"\x3e'+O.lblRegistrationsNumFromMassiveImport+"\x3c/td\x3e",t+='\x3ctd class\x3d"valore"\x3e'+k+"\x3c/td\x3e"),t+="\x3c/tr\x3e",t+="\x3c/table\x3e");this.infoTableNode.innerHTML=t}}))}));this.rispedisciEmailCompletaRegistrazioneWidget=new C({onClick:a.hitch(this,
function(){this.tentaSpedizioneEmailCompletaRegistrazione()}),title:O.lblOpenResendCompleteRegistrationShopifyPopupBtn},this.popupRispedisciEmailCompletaRegistrazioneShopifyBtnNode);this.manageCheckinWidget=new Z({});n(this.exportExcelNode,"click",a.hitch(this,function(a){this.disableDownloadButtons&&a.preventDefault()}))},aggiornaUI:function(){this.inherited(arguments);this.aggiornaVisibilitaTutto(0<T.elvis("numIscritti",F.evento.statoCalcolato,0));this.refreshList();this.parentWidget.appWidget.mainWidgetsRegistry.event_details.registrationClosingDeadlineWidget.aggiornaIndicazioneOraChiusura(this.registrationStatusNode,
this.registrationOpennessStatusNode);this.registrationStatusTitleNode.innerHTML=this.parentWidget.appWidget.mainWidgetsRegistry.event_details.registrationClosingDeadlineWidget.messages.lblRegistrationStatus;F.evento.stato.event_details.payment&&F.evento.statoCalcolato.possiedeCampiAggiuntivi||(this.filterListDialogWidget.nascondiFiltroRegistrazioniShopifyCompletate(),l.set(this.popupRispedisciEmailCompletaRegistrazioneShopifyBtnContainerNode,"display","none"));f.set(this.donwloadRegistrationsFileSampleNode,
"href","/downloadEsempioListaRegistrazioni.plp?idEvento\x3d"+F.evento.stato.idEvento);this.aggiornaVisibilitaMascheraUploadRegistrazioni();F.evento.stato.event_details.payment&&l.set(this.importRegistrationsRowNode,"display","none");this.updateUIByPermission()},aggiornaVisibilitaMascheraUploadRegistrazioni:function(){l.set(this.uploadFormInnerMaskNode,"display",F.evento.statoCalcolato.listaInvitatiCaricata?"none":"block")},apriCanaleCometd:function(){var b="/importazioneListaRegistrazioni/"+F.evento.stato.idEvento;
R.addListener("/meta/unsubscribe",a.hitch(this,function(a){K.hideLoadingWithMsg()}));R.subscribe(b,a.hitch(this,function(a){aa.debug("RICEVO SU CANALE",b,a.data);if("OK"==a.data.esito)"fine"==a.data.messaggio?(R.unsubscribe(b),this.parentWidget.listSelectionWidget.resetChecked(),this.aggiornaUI(),this.nomeFileWidget.set("value",""),K.hideLoadingWithMsg(),d=u.substitute(O.msgRegistrationRowsNumProcessed,{tot:a.data.numRegistrati}),d+="\x3cbr/\x3e"+u.substitute(O.msgDeregistrationRowsNumProcessed,{tot:a.data.numDeregistrati}),
a.data.numNonRiconosciuti&&(d+="\x3cbr/\x3e"+O.msgUnrecognizedRowsNum),K.showInfoWithCloseButton(d,O.lblImportRegistrations,Q.lblOKButton)):K.setMsgOnLoadingWithMsg(O.msgRowsNumProcessing+" "+a.data.messaggio,O.lblProcessingRegistrationsListDialogTitle);else{R.unsubscribe(b);K.hideLoadingWithMsg();var d=a.data.messaggio;K.showInfoWithCloseButton(d,O.lblImportErrorInviteListDialogTitle,Q.lblOKButton);this.nomeFileWidget.set("value","")}}),{forceDebounceUnsubscribeDelay:6E4})},aggiornaVisibilitaTutto:function(a){this.aggiornaVisibilitaLista(a);
a?l.set(this.registrationStatusBoxNode,"display","block"):l.set(this.registrationStatusBoxNode,"display","none")},refreshList:function(){this.gridWidget.store=null;this.gridWidget.revert();this.gridWidget.query=a.mixin(this.gridWidget.query,{idEvento:F.evento.stato.idEvento,gruppo:this.gruppoDefault,statoEmail:"TUTTI",idData:void 0,idFascia:void 0,cancellati:this.cancellatiDefault,accompagnatori:"NON_PROFILATI"!=F.evento.stato.event_details.partnersType,chiave:void 0,conFigli:"y",registrazioniShopifyCompletate:void 0});
this.gridWidget.set("sort",[{attribute:"cognome"}]);this.gridWidget.store=this.personeStore;this.filterListDialogWidget.reset();this.searchTextBox.set("value",null,!1);this.freshList=!0;this.refreshGridColumns(!0)},customizeGridColumns:function(b,d,f){f=a.hitch(this,function(b,d,f){var h="";"DELETE_ISCRIZIONE"==b.storicoEventi[b.storicoEventi.length-1].evento&&(h="DELETE_ISCRIZIONE");f=f.appendChild(document.createElement("div"));var A=d=null;d=N(f,"div"+("DELETE_ISCRIZIONE"==h?".filler":""));F.evento.stato.event_details.payment&&
F.evento.statoCalcolato.possiedeCampiAggiuntivi&&!b.idUniqueGuestPadre&&(A=f.appendChild(document.createElement("div")));var k=f.appendChild(document.createElement("div")),U=f.appendChild(document.createElement("div"));e.add(f,"btnTableContainer");if("DELETE_ISCRIZIONE"!=h){var h=!F.commons.permissions.canModifyEvent||!b.customfield0,m=O.lblSendRegConfirmationActionTitle;b.customfield0||(m=O.msgSendCommunicationActionDisabledNoEmail);(new C({iconClass:"fa fa-fw fa-envelope-o",showLabel:!1,disabled:h,
rowId:b.id,title:m,onClick:a.hitch(this,function(){F.commons.permissions.canModifyEvent&&(K.setUpConfirmDialog(O.lblSendRegConfirmationDialogTitle,u.substitute(O.lblSendRegConfirmationDialogQuestion,{nome:b.nome+" "+b.cognome}),this,this.sendConfermaIscrizioneToPersona,null,[b.idPersona]),K.showConfirm())})},d))._destroyOnRemove=!0}F.evento.stato.event_details.payment&&F.evento.statoCalcolato.possiedeCampiAggiuntivi&&!b.idUniqueGuestPadre&&((new C({disabled:!1,rowId:b.id,"class":"btnSendCompletaRegShopify",
title:O.lblSendCompletaRegShopifyActionTitle,onClick:a.hitch(this,function(){F.commons.permissions.canModifyEvent&&(K.setUpConfirmDialog(O.lblSendCompletaRegShopifyDialogTitle,u.substitute(O.lblSendCompletaRegShopifyDialogQuestion,{nome:b.nome+" "+b.cognome}),this,this.sendCompletaRegShopifyIscrizioneToPersona,null,[b.idPersona]),K.showConfirm())})},A))._destroyOnRemove=!0);(new C({iconClass:"fa fa-fw fa-address-card-o",showLabel:!1,disabled:!F.evento.stato.event_page.allowRegistrationUpdateFromBE,
rowId:b.id,title:F.evento.stato.event_page.allowRegistrationUpdateFromBE?O.lblRegistrationActionTitle:O.lblRegistrationActionDisabledTitle,onClick:a.hitch(this,function(){window.open(b.linkIscrizione+"\x26fromBE\x3dtrue","windowIscrizione","width\x3d"+window.outerWidth+",height\x3d"+window.outerHeight+",toolbar\x3dyes,location\x3dyes,directories\x3dyes,status\x3dyes,menubar\x3dyes,scrollbars\x3dyes,copyhistory\x3dyes,resizable\x3dyes")})},k))._destroyOnRemove=!0;(new C({iconClass:"fa fa-fw fa-check-square-o",
showLabel:!1,disabled:!1,rowId:b.id,"class":"btnCheckin",title:O.lblCheckinActionTitle,onClick:a.hitch(this,function(){this.manageCheckinWidget.manageCheckinFor(b.idPersona)})},U))._destroyOnRemove=!0;return f});var A=a.hitch(this,function(a,b,d){var e=null;b="";a.eventiPersona&&k.forEach(a.eventiPersona,function(a){"ISCRIZIONE"==a.evento.substr(0,10)&&(e=a.evento)});var f=".icoListaIscritti";"DELETE_ISCRIZIONE"==a.storicoEventi[a.storicoEventi.length-1].evento&&(e="DELETE_ISCRIZIONE");a.ultimoStatoIscrizione=
e;a.ultimoStatoIscrizioneattribuzioneBy=a.storicoEventi[a.storicoEventi.length-1].attribuzioneBy;0==a.idUniqueGuest.indexOf("shopify-")?f+=".store":"DELETE_ISCRIZIONE"==e?(f+=".DELETE_ISCRIZIONE",a.ultimoStatoIscrizioneattribuzioneBy&&(f=a.idPersona==a.ultimoStatoIscrizioneattribuzioneBy.split("-")[1]?f+".DA_FE":f+".DA_BE")):f+="."+e;b=0==a.idUniqueGuest.indexOf("shopify-")?"Ticket store":O["lblTipoIscrizione_"+e];d=N(d,"div"+f,b);n(d,w.leave,function(){v.hide(this)});n(d,w.enter,function(){var b=
"",d;if(a.storicoEventi){var e=!1,f=!1;k.forEach(a.storicoEventi,function(a){-1<a.evento.indexOf("ISCRIZIONE")&&(e=!0);-1<a.evento.indexOf("DELETE_ISCRIZIONE")&&(f=!0);-1<a.evento.indexOf("ISCRIZIONE")&&e&&f&&(a.iscrizzioneSuccessiva=!0)})}var h=[];k.forEach(a.storicoEventi,function(a){"DELETE_ISCRIZIONE"==a.evento&&h.push(a)});k.forEach(h,function(b){k.forEach(a.storicoEventi,function(a){0==a.evento.indexOf("ISCRIZIONE")&&b.fasciaOraria.idFasciaOraria==a.fasciaOraria.idFasciaOraria&&b.dataAttribuzione<
a.dataAttribuzione&&1E3>a.dataAttribuzione-b.dataAttribuzione&&(b.daNascondere=!0,a.daRendereComeUpdate=!0)})});k.forEach(a.storicoEventi,function(b){k.forEach(a.storicoEventi,function(a){b.daRendereComeUpdate&&b.idEventoPersonaStorico!=a.idEventoPersonaStorico&&0==a.evento.indexOf("ISCRIZIONE")&&1E3>Math.abs(b.dataAttribuzione-a.dataAttribuzione)&&!a.daRendereComeUpdate&&(a.daRendereComeUpdate=!0)})});b=S.foldr(a.storicoEventi,function(b,e,f){f="";if(0==e.evento.indexOf("ISCRIZIONE")||"DELETE_ISCRIZIONE"==
e.evento){var h=D.parse(e.dataAttribuzioneStr+" "+e.oraAttribuzioneStr,{selector:"date",datePattern:"yyyy-MM-dd HH:mm:ss"});d=D.format(h,{selector:"date"});d+=" "+D.format(h,{selector:"time"});0==a.idUniqueGuest.indexOf("shopify-")?f="DELETE_ISCRIZIONE"==e.evento?f+(d+" - Delete"):e.iscrizzioneSuccessiva?f+(d+" - "+O["lblTipoIscrizioneTooltip_"+e.evento]):f+(d+" - Ticket store"):"DELETE_ISCRIZIONE"==e.evento&&e.attribuzioneBy?e.daNascondere||(f=a.idPersona==e.attribuzioneBy.split("-")[1]?f+(d+" - "+
O["lblTipoIscrizioneTooltip_"+e.evento+"_da_se"]):f+(d+" - "+O["lblTipoIscrizioneTooltip_"+e.evento+"_da_be"])):f+=d+" - "+(e.daRendereComeUpdate?" "+O.lblUpdatedRegistration+" - ":"")+O["lblTipoIscrizioneTooltip_"+e.evento];e.daNascondere||(f+=" ["+Y.getLocaleFormattedDateFromString(e.dataEventoStr),f+=" - "+Y.getLocaleFormattedTimeFromString(e.fasciaOraria.oraInizio.substr(0,5))+" - "+Y.getLocaleFormattedTimeFromString(e.fasciaOraria.oraFine.substr(0,5)),e.fasciaOraria.descrizione&&0<e.fasciaOraria.descrizione.length&&
(f+=" "+e.fasciaOraria.descrizione),f+="]\x3cbr/\x3e")}return b+f},"");v.show(b,this)})});"PROFILATI"==F.evento.stato.event_details.partnersType&&(this.addMostraAccompagnatoriRenderCell(b),this.addGuestStatusRenderCell(b));var U=!0;if(T.exists("evento.stato.event_details.dates[1]",F)||T.exists("evento.stato.event_details.dates[0].timeSlots[1]",F))U=!1,b=[{label:O.lblRegistrationDates,field:"eventiTxt",className:"field-registrationDate",renderCell:function(a,b,d){b="";"DELETE_ISCRIZIONE"!=a.ultimoStatoIscrizione||
a.eventiTxt?a.eventiTxt&&(b=a.eventiTxt.replace(/\n/gi,"\x3cbr /\x3e")):a.ultimoStatoIscrizioneattribuzioneBy&&(b=a.idPersona==a.ultimoStatoIscrizioneattribuzioneBy.split("-")[1]?b+O.lblTipoIscrizioneTooltip_DELETE_ISCRIZIONE_da_se:b+O.lblTipoIscrizioneTooltip_DELETE_ISCRIZIONE_da_be);a=h.toDom("\x3cdiv\x3e"+b+"\x3c/div\x3e");return d.appendChild(a)},sortable:!0,side:"left"}].concat(b);d=[{label:O.lblActions,field:"id",width:"200px",className:"azioni",renderCell:f,sortable:!1,side:"left"},{label:O.lblEmailStatus,
field:"esitoInvio",renderCell:J.actionRender(d),sortable:!0,side:"left"},{label:O.lblRegistrationMode,field:U?"eventiTxt":"id",className:"field-iscrizione",width:"200px",renderCell:A,sortable:U,side:"left"}];return d=d.concat(b)},aggiornaAbilitazioneExportLinks:function(a){this.disableDownloadButtons=!a},sendConfermaIscrizioneToPersona:function(b){m.post("/sendEmailConfermaIscrizioneToPersona.plp",{data:{idEvento:F.evento.stato.idEvento,idPersona:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){"OK"==(a.result||a).resultCode?K.showInfo(O.msgSentRegConfirmationDialogMsg):K.showError(O.msgProblemSendingRegConfirmationDialogMsg);this.aggiornaUI()}),a.hitch(this,function(a){K.showError(O.msgProblemSendingRegConfirmationDialogMsg);this.aggiornaUI()}))},sendCompletaRegShopifyIscrizioneToPersona:function(b){m.post("/sendEmailShopifyCompletaIscrizioneToPersona.plp",{data:{idPersona:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==
(a.result||a).resultCode?K.showInfo(O.msgSentCompletaRegShopifyDialogMsg):K.showError(O.msgProblemSendingCompletaRegShopifyDialogMsg);this.aggiornaUI()}),a.hitch(this,function(a){K.showError(O.msgProblemSendingCompletaRegShopifyDialogMsg);this.aggiornaUI()}))},tentaSpedizioneEmailCompletaRegistrazione:function(){m.post("/countEmailShopifyCompletaIscrizioneDaSpedire.plp",{data:{idEvento:F.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){"OK"==(a.result||a).resultCode?0<a.tot?(this.popupSendCompletaRegShopifyIscrizioneWidget.getDataForSendEmailsURL={idEvento:F.evento.stato.idEvento},this.popupSendCompletaRegShopifyIscrizioneWidget.show(),this.popupSendCompletaRegShopifyIscrizioneWidget.showSendEmails(),this.popupSendCompletaRegShopifyIscrizioneWidget.setTotToSend(a.tot)):K.showInfo(O.msgNoCompletaRegShopifyEmailsToSendDialogMsg,O.lblOpenResendCompleteRegistrationShopifyPopupBtn):K.showError(Q.msgErroreServer)}),a.hitch(this,
function(a){K.showError(Q.msgErroreServer);this.aggiornaUI()}))},registerAllGuests:function(b){F.evento.statoCalcolato.listaInvitatiCaricata?F.evento.statoCalcolato.numOspitiMasterList==F.evento.statoCalcolato.numIscritti?K.showInfoWithCloseButton(O.msgWarningCantUploadRegistrationListAllGuestAlreadyRegistrered,W.footerInc.lblWarningMsgDialogTitle,Q.lblOKButton):m.post("/getNumPersoneNonRegistrate.plp",{data:{idEvento:F.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){"OK"==(a.result||a).resultCode?0<a.tot?(K.setUpConfirmDialog(O.lblRegisterAllGuestsDialogTitle,u.substitute(O.lblRegisterAllGuestsDialogQuestion,{tot:a.tot}),b,b.doRegisterAllGuests,null,[a.tot]),K.showConfirm()):K.showInfo(O.lblNoGuestsToRegister):K.showError(Q.msgErroreServer)}),a.hitch(this,function(a){K.showError(Q.msgErroreServer);this.aggiornaUI()})):K.showInfoWithCloseButton(O.msgWarningCantUploadRegistrationListBeforeRegistrantList,W.footerInc.lblWarningMsgDialogTitle,Q.lblOKButton)},
doRegisterAllGuests:function(b){K.showLoadingWithMsg(u.substitute(O.lblRegisteringAllGuestsDialogMsg,{tot:b}),O.lblRegisterAllGuestsDialogTitle);m.post("/registraNonRegistrati.plp",{data:{idEvento:F.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){K.hideLoadingWithMsg();"OK"==(a.result||a).resultCode?0<a.tot?(K.showInfoWithCloseButton(u.substitute(O.lblAllGuestsRegisteredDialogMsg,{tot:a.tot}),null,Q.lblOKButton),this.aggiornaUI()):
K.showInfoWithCloseButton(O.lblNoGuestsToRegister,null,Q.lblOKButton):K.showError(Q.msgErroreServer)}),a.hitch(this,function(a){K.hideLoadingWithMsg();K.showError(Q.msgErroreServer);this.aggiornaUI()}))},updateUIByPermission:function(){F.commons.permissions.canModifyEvent?(this.editRegistrationDateBtn.set("disabled",!1),this.enableCellEditing=!0):(this.editRegistrationDateBtn.set("disabled",!0),this.enableCellEditing=!1)}})})},"ebPlatformWidgets/Evento/EventPage/EditRegistrationFormElementRuleWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-construct dojo/dom-style dojo/dom-prop dojo/dom-attr dojo/json ebPlatform/stato put-selector/put dojo/text!./templates/EditRegistrationFormElementRuleWidget.html dijit/_WidgetBase dijit/_TemplatedMixin ebPlatform/logger! dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([w,D],{mouseAnim:null,templateString:u,baseClass:"editRegistrationFormElementRuleWidget",parentWidget:null,messages:z,commonMessages:x,item:null,parent:null,azioniCampi:null,condizioniCampi:null,mappaListe:null,newRule:null,postCreate:function(){this.inherited(arguments);n(this.conditionNode,"change",a.hitch(this,function(a){a=f.get(this.conditionNode,"value");this.impostaConditionValues(a,[]);this.aggiornaRegolaItem()}));n(this.conditionValuesNode,
"change",a.hitch(this,function(a){this.aggiornaRegolaItem()}));n(this.actionNode,"change",a.hitch(this,function(a){this.aggiornaRegolaItem()}))},show:function(a,e,f,h,m){console.log("item",a,"parent",e);this.item=a;this.parent=e;this.azioniCampi=f;this.condizioniCampi=h;this.mappaListe=m;this.childNameNode.innerHTML="["+a.name+"]";this.parentNameNode.innerHTML=e.name;this.debugRuleNode.innerHTML=b.stringify(a.rule);e=k.map(h,function(a){return{valore:a,label:z["lblRuleCondition_"+a]}});f=k.map(f,
function(a){return{valore:a,label:z["lblRuleAction_"+a]}});h="rule"in a&&a.rule?a.rule.condition:"";m="rule"in a&&a.rule?a.rule.conditionValues:"";a="rule"in a&&a.rule?a.rule.action:"";this.impostaOpzioni(this.conditionNode,e,h);this.impostaOpzioni(this.actionNode,f,a);this.impostaConditionValues(h,m)},impostaConditionValues:function(b,k){f.set(this.conditionValuesNode,"multiple",!0);h.set(this.conditionValuesNode,"size",4);if("IN"==b||"NOT_IN"==b){var m;e.set(this.conditionValuesNode,"display","inline-block");
this.parent.id in this.mappaListe?(m=a.isObject(this.mappaListe[this.parent.id])?this.mappaListe[this.parent.id]:r.commons.data.standardLists[this.mappaListe[this.parent.id]],this.impostaOpzioni(this.conditionValuesNode,m,k)):console.log("Lista assente per idCustomField: "+this.parent.id)}else e.set(this.conditionValuesNode,"display","none")},impostaOpzioni:function(b,e,f,h){l.empty(b);a.isArray(f);k.forEach(e,function(e){var h=a.isObject(e)?"id"in e?e.id:e.valore:e;e=a.isObject(e)?e.label:e;e={value:h,
innerHTML:e};f&&-1<f.indexOf(h)&&(e.selected="selected");m(b,"option",e)})},aggiornaRegolaItem:function(){this.newRule=this.generaRegola()},aggiornaRegoleSullItem:function(){this.newRule&&(this.item.rule=this.newRule,this.parentWidget.parentWidget.signalDataChange())},generaRegola:function(){var a=f.get(this.conditionNode,"value"),b="IN"==a||"NOT_IN"==a?this.getConditionValues():[],e=f.get(this.actionNode,"value");return{condition:a,conditionValues:b,action:e}},getConditionValues:function(){for(var a=
[],b=0;b<this.conditionValuesNode.options.length;b++)this.conditionValuesNode.options[b].selected&&a.push(parseInt(this.conditionValuesNode.options[b].value));return a}})})},"ebPlatformWidgets/Evento/Communication/MailStatisticheWidget":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Color dojo/_base/fx dojo/_base/lang dojo/Deferred dojo/number dojo/request dojo/date dojo/date/locale dojo/on dojo/mouse dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojox/color/_base dojox/fx/scroll dojo/window dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/MailStatisticheWidget.html dijit/Tooltip dijit/TitlePane dojox/charting/Chart dojox/charting/widget/SelectableLegend ebPlatform/chartingThemes/Claro dojox/charting/plot2d/Pie dojox/charting/action2d/Highlight dojox/charting/action2d/Magnify dojox/charting/action2d/MoveSlice dojox/charting/action2d/Tooltip ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ./MailAggiornaStatsWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/statoEmail dojo/i18n!./nls/MailStatisticheWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca){return a([G,C],{testiComuni:ea,testi:ca,testiStato:H,templateString:p,baseClass:"statisticheEmailWidget",mouseAnim:null,emailTemplateTypeEnum:null,idPianificazioneInvioEmail:null,idTemplate:null,chartInvii:null,dimensioniChartInvii:{w:250,h:250,r:100},postCreate:function(){this.inherited(arguments);this.numTotaleNode.innerHTML="0";this.numInviateNode.innerHTML="0";this.numConsegnateNode.innerHTML="0";this.numAperteNode.innerHTML=
"0";this.numCliccateNode.innerHTML="0";this.numNonConsegnateNode.innerHTML="0";this.numHardBounceNode.innerHTML="0";this.numSoftBounceNode.innerHTML="0";this.numOtherErrorNode.innerHTML="0";this.numNotSentNode.innerHTML="0";this.numToBeSentNode.innerHTML="0";this.numNoEmailNode.innerHTML="0";this.numAddressMalformedNode.innerHTML="0";this.numNoEmailFixedNode.innerHTML="0";this.numAddressMalformedFixedNode.innerHTML="0";this.numNoEmailFixedDetNode.innerHTML="0";this.numAddressMalformedFixedDetNode.innerHTML=
"0";this.percDeliveryRateNode.innerHTML="0";this.percOpenRateNode.innerHTML="0";this.percClickRateNode.innerHTML="0";l.hitch(this,this.aggiornaBoxStatistiche);this.callbackAggiornaStats=l.hitch(this,function(a){this.aggiornaBoxStatistiche();dijit.getEnclosingWidget(this.domNode.parentNode).aggiornaUI(a,!0)});this.aggiornaStatsWidget=new Y({},this.aggiornaStatisticheNode);var a=this,b=this,d=this.parentWidget;m(this.tabStats,"click",function(){d.aggiornaUI({idSchedulation:b.idPianificazioneInvioEmail,
idEmail:b.idTemplate,nome:d.currentOptions.nome,tipo:b.emailTemplateTypeEnum,to:d.currentOptions.to,ultimoInvio:d.currentOptions.ultimoInvio,toBeSent:!1})});m(this.tabCurrent,"click",function(){"CONFERMA_ISCRIZIONE"==a.emailTemplateTypeEnum&&K.evento.stato.event_page.sendConfirmationEmail||d.aggiornaUI({idSchedulation:b.idPianificazioneInvioEmail,idEmail:b.idTemplate,nome:d.currentOptions.nome,tipo:b.emailTemplateTypeEnum,to:d.currentOptions.to,ultimoInvio:d.currentOptions.ultimoInvio,toBeSent:!0})});
new I({label:ca.msgProssimoInvioTooltip,connectId:[this.prossimoInvioTooltipNode]},this.prossimoInvioTooltipNode)},aggiornaBoxStatistiche:function(){h.post("/getDatiStatisticheInvii.plp",{data:{emailTemplateTypeEnum:this.emailTemplateTypeEnum,idEvento:K.evento.stato.idEvento,idPianificazioneInvioEmail:null===this.idPianificazioneInvioEmail?0:this.idPianificazioneInvioEmail,idTemplate:null===this.idTemplate?0:this.idTemplate},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(l.hitch(this,
function(a){void 0!==a.numDestinatari?0<a.numDestinatari?y.remove(this.domNode,"nomore"):y.add(this.domNode,"nomore"):y.remove(this.domNode,"nomore");this.aggiornaStatsWidget.set("disabled",!1);var b=a.dati,d=a.invii,e=null,h=function(a,b){var d=parseInt(a,10)/parseInt(b,10)*100;return f.format(d,{places:1,locale:ebplatform.config.beLocale.toLowerCase().replace("_","-")})};if(b&&Object.keys(b).length){var k;Object.keys(b).forEach(l.hitch(this,function(a){this["num"+a+"Node"]&&(k=b[a],this["num"+a+
"FixedNode"]&&(k+=b[a+"Fixed"],this["num"+a+"FixedDetNode"]&&(this["num"+a+"FixedDetNode"].innerHTML=f.format(b[a+"Fixed"]))),this["num"+a+"Node"].innerHTML=f.format(k))}));var t=b.Consegnate,U=b.HardBounce+b.SoftBounce+b.OtherError,v=b.AddressMalformed+b.NoEmail,p=b.AddressMalformedFixed+b.NoEmailFixed,n=t+U+v+p;this.numToBeSentNode.innerHTML=f.format(a.numDestinatari-p-b.SoftBounce);this.numConsegnateNode.innerHTML=f.format(t);this.numNonConsegnateNode.innerHTML=f.format(U);this.numNotSentNode.innerHTML=
f.format(v+p);this.numNotSentFixedNode.innerHTML=f.format(p);this.stats?(this.numTotaleNode.innerHTML=f.format(n),this.numInviateNode.innerHTML=f.format(t+U)):(this.numTotaleNode.innerHTML=f.format(a.numDestinatari),this.numSoftBounceNextNode.innerHTML=f.format(b.SoftBounce));this.stats&&(this.parentWidget.indicatorNode.innerHTML=f.format(n)+this.to);this.percDeliveryRateNode.innerHTML=h(t,t+U);this.percOpenRateNode.innerHTML=h(b.Aperte,t);this.percClickRateNode.innerHTML=h(b.Cliccate,t);this.aggiornaGrafico(b)}d&&
0<d.length?(x.set(this.ultimaSpedizioneIntestazioneNode,"display","inline"),e=r.parse(d[0].dataInvioStr+" "+d[0].oraInvioStr,{selector:"date",datePattern:"yyyy-MM-dd HH:mm:ss"}),this.ultimaSpedizioneNode.innerHTML=r.format(e),1<d.length&&require(["/js/lib/notModules/underscore.js"],l.hitch(this,function(){var a=d.slice(1),b=_.reduce(a,function(a,b){e=r.parse(b.dataInvioStr+" "+b.oraInvioStr,{selector:"date",datePattern:"yyyy-MM-dd HH:mm:ss"});return a+r.format(e)+"\x3cbr/\x3e"},ca.lblSpedizioniPrecedenti+
":\x3cbr/\x3e");m(this.ultimaSpedizioneNode,u.leave,l.hitch(this,function(){I.hide(this.ultimaSpedizioneNode)}));m(this.ultimaSpedizioneNode,u.enter,l.hitch(this,function(){I.show(b,this.ultimaSpedizioneNode)}))}))):(x.set(this.ultimaSpedizioneIntestazioneNode,"display","none"),this.ultimaSpedizioneNode.innerHTML=ca.msgNessunaSpedizioneEffettuata)}),function(a){T.showInfoWithCloseButton(ea.msgErroreServer+" - "+a,R.footerInc.lblErrorMsgDialogTitle,ea.lblOKButton)})},aggiornaGrafico:function(a){J.debug("aggiornaGrafico",
a);var b=[];(a.Consegnate||0==a.Consegnate)&&b.push({x:1,y:a.Consegnate,fill:"#66A700",legend:ca.lblConsegnate,tooltip:ca.lblConsegnate+": "+a.Consegnate});(a.HardBounce||0==a.HardBounce)&&b.push({x:1,y:a.HardBounce,fill:"#AA0000",legend:ca.lblHardBounce,tooltip:ca.lblHardBounce+": "+a.HardBounce});(a.SoftBounce||0==a.SoftBounce)&&b.push({x:1,y:a.SoftBounce,fill:"#DD0000",legend:ca.lblSoftBounce,tooltip:ca.lblSoftBounce+": "+a.SoftBounce});(a.OtherError||0==a.OtherError)&&b.push({x:1,y:a.OtherError,
fill:"#FF0000",legend:ca.lblAltriErrori,tooltip:ca.lblAltriErrori+": "+a.OtherError});J.debug("aggiornaGrafico",b);null===this.chartInvii?(this.chartInvii=this.creaPieChart(b,this.chartInviiNode),this.chartInvii.resize(this.dimensioniChartInvii.w,this.dimensioniChartInvii.h)):(this.chartInvii.updateSeries("default",b),this.chartInvii.render())},creaPieChart:function(a,b){var e=new v(b);e.setTheme(S);e.addPlot("default",{type:d,radius:this.dimensioniChartInvii.r,markers:!0,fontColor:"#333",labelOffset:25});
e.addSeries("default",a);var f=new L(e,"default",{highlight:function(a){a=new z.Color(a);a.a=.3;return a}});new F(e,"default");new aa(e,"default",{duration:200,scale:1.1,shift:15});e.render();q.forEach(a,function(a,b){0>=a.y&&e.getPlot("default").runFilter.push(b)});var h=new M({chart:e,outline:!1,horizontal:!1},this.id+"_legend");h.legendAnim["default"]=f;q.forEach(a,function(a,b){0>=a.y&&h.toogle("default",b,!0)});return e},aggiornaUI:function(a){J.debug("[MailStatisticheWidget] aggiornaUI",a);
this.emailTemplateTypeEnum=a.tipo||"";this.idPianificazioneInvioEmail=a.idSchedulation||null;this.idTemplate=a.idEmail||null;this.to=a.to?" - "+a.to:"";this.stats=a.toBeSent?!1:!0;"CONFERMA_ISCRIZIONE"==this.emailTemplateTypeEnum&&K.evento.stato.event_page.sendConfirmationEmail?(y.add(this.tabCurrent,"hidden"),y.add(this.tabStats,"single")):(y.remove(this.tabCurrent,"hidden"),y.remove(this.tabStats,"single"));this.stats?(y.add(this.domNode,"stat"),y.remove(this.domNode,"next"),y.add(this.tabStats,
"active"),y.remove(this.tabCurrent,"active"),n.animateProperty({node:"boxGrafici",properties:{maxHeight:430}}).play()):(y.add(this.domNode,"next"),y.remove(this.domNode,"stat"),y.remove(this.tabStats,"active"),y.add(this.tabCurrent,"active"),n.animateProperty({node:"boxGrafici",properties:{maxHeight:160}}).play());this.aggiornaBoxStatistiche();this.aggiornaStatsWidget.init(this.emailTemplateTypeEnum,K.evento.stato.idEvento,this.idPianificazioneInvioEmail,this.idTemplate,l.partial(this.callbackAggiornaStats,
a))},setTotToBeSentNextTime:function(a){this.aggiornaGrafico({HardBounce:0,Consegnate:0,ToBeSent:a||0,NoEmail:0,AddressMalformed:0,Aperte:0,Cliccate:0,OtherError:0,SoftBounce:0})},filtraStatoEmail:function(a){var b=D.get(a.target,"stato");b||(b=D.get(a.target,"stato"));var d=this.parentWidget.recipientsListWidget.filterListDialogWidget.mainWidget;d.reset(!1);a=d.filtraStatoEmailWidget.store.get(b);d.filtraStatoEmailWidget.set("item",null,!1);d.filtraStatoEmailWidget.set("item",a);this.defer(function(){d.applyFilters();
B({node:this.parentWidget.recipientsListWidget.gridWidget.headerNode,win:window}).play()})}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsFormWithLogicPlainWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dnd/Manager dojo/dom-style dojo/dom-geometry dojo/keys dijit/layout/ContentPane ebPlatformWidgets/Dialogs/_DialogWithDnDMixin ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPersonalDetailsFormWithLogicDialogContentWidget ebPlatform/logger! ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w){return q([f],{baseClass:"editPersonalDetailsFormWithLogicPlainWidget",disabled:!1,additionalMessages:null,eventPageWidgetRef:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new r({disabled:this.disabled,parentWidget:this,eventPageWidgetRef:this.eventPageWidgetRef});this.addChild(this.mainWidget)},show:function(a){m.debug("[EditPersonalDetailsFormWithLogicPlainWidget] show",a);this.inherited(arguments);a&&(a.title&&this.set("title",a.title),
a.currentState&&(this.mainWidget.fieldsChanged=!1,this.mainWidget.allowPartnerWithProfileInsertion="PROFILATI"==a.currentState.partnersType,this.mainWidget.allowUneditableFieldsManagement=1==a.currentState.allowUneditableFieldsManagement,a.currentState.fieldsDetails&&this.mainWidget.impostaCampi(a.currentState.fieldsDetails,a.currentState.texts),a.currentState.azioniCampi&&(this.mainWidget.azioniCampi=a.currentState.azioniCampi),a.currentState.condizioniCampi&&(this.mainWidget.condizioniCampi=a.currentState.condizioniCampi),
a.currentState.mappaListe&&(this.mainWidget.mappaListe=a.currentState.mappaListe),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection)));this.aggiustaAltezza();window.scrollTo(0,0)},aggiustaAltezza:function(){var a=l.getMarginBox(this.mainWidget.domNode);this.resize({h:a.h})},hide:function(){},save:function(){this.mainWidget.save()}})})},"ebPlatformWidgets/Evento/Badges/EditGuestCategoriesWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/request dojo/Stateful dojo/store/Memory dojo/dom-construct dojo/dom-style dojo/text!./templates/EditGuestCategoriesWidget.html dijit/form/Button dijit/form/CheckBox dijit/form/Select dijit/layout/ContentPane ebPlatform/logger! ebPlatform/stato ebPlatform/utility ebPlatform/commonDialogs ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/_EbPlatformWidgetMixin dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I){return q([G],{mouseAnim:null,templateString:r,baseClass:"editGuestCategoriesWidget",mappingName:"evento.mappings.badges.guest_categories",hasToolbar:!1,showToolbar:!1,messages:I,commonMessages:p,categorySelection:null,configureUndefinedColor:null,configureSingleColor:null,colorsListContainer:null,colors:[],valoriListeStore:null,statoRollback:null,statoStartUp:{guest_categories:[]},aggiornaUISilently:!0,postCreate:function(){y.trace("postCreate");
this.inherited(arguments);this.stato=new e(this.statoShadowProp);this.stato.watch(a.hitch(this,function(a,b,e){y.debug("_____ CHANGE VALUE ["+a+"]","from",b," --\x3e ",e);e!=b&&"dirty"!=a&&this.stato.set("dirty",!0);"dirty"==a&&(1==e?this.appWidget.setMustSaveToContinueMode():this.appWidget.resetMustSaveToContinueMode())}));this.cancelBtnWidget=new m({label:p.lblClearButton,onClick:a.hitch(this,function(){y.debug("cancel",this.statoShadowProp.guest_categories,this.statoRollback);this.configureSingleColor.get("checked",
!1)?this.configureSingleColor.set("checked",!1):this.categorySelection.set("value","hide")})},this.cancelBtnNode);this.okBtnWidget=new m({label:p.lblSalvaButton,"class":"saveBtn",onClick:a.hitch(this,function(){this.save()})},this.okBtnNode);this.categorySelection=new w({query:{tipo:"Lista",multiple:!1},queryOptions:{sort:[{attribute:"idx"},{attribute:"fieldLabel"}]},sortByLabel:!1,searchAttr:"fieldLabel",labelAttr:"fieldLabel",value:"hide",onChange:a.hitch(this,function(a){y.trace("categorySelection",
a);this.stato.set("dirty",!0);this.resetCategorie();this.resetSelezioneColori();"hide"!=this.categorySelection.value?(this.configureSingleColor.set("checked",!1,!1),this.aggiornaValoriCategoria(this.categorySelection.store.query({fieldName:a})[0]),this.initColori(),b.set(this.colorsSelectionNode,"visibility","visible"),b.set(this.configureUndefinedColorContainerNode,"visibility","visible")):(b.set(this.colorsSelectionNode,"visibility","hidden"),b.set(this.configureUndefinedColorContainerNode,"visibility",
"hidden"))})},this.categorySelectionNode);this.colorsListContainer=new D({},this.colorsNode);this.configureUndefinedColor=new u({onChange:a.hitch(this,function(a){this.stato.set("dirty",!0);if(this.categorySelection.value&&"hide"!=this.categorySelection.value){if(a){var b={undefinedCategory:!0,evento:{idEvento:x.evento.stato.idEvento},idGuestCategory:0,customField:this.categorySelection.store.query({fieldName:this.categorySelection.value})[0],valoreLista:{label:I.lblUndefinedCategoryValue},colore:"#ffffff"};
this.stato.guest_categories.unshift(b);tmpColor=new t({parentWidget:this,cat:this.stato.guest_categories[0],label:this.stato.guest_categories[0].valoreLista.label,value:this.stato.guest_categories[0].colore});tmpColor.doOnChange=function(a){y.debug("new color",a);this.cat.colore=a;this.parentWidget.stato.set("dirty",!0)};this.colorsListContainer.addChild(tmpColor,0);this.colors.unshift(tmpColor)}else{for(a=0;a<this.colors.length;a++)this.colors[a].cat.undefinedCategory&&(this.colorsListContainer.removeChild(this.colors[a]),
b=this.colors[a].cat,this.colors.splice(a,1));for(a=0;b&&a<this.stato.guest_categories.length;a++)this.stato.guest_categories[a].idGuestCategory==b.idGuestCategory&&this.stato.guest_categories.splice(a,1)}this.stato.set("dirty",!0)}else this.configureUndefinedColor.set("checked",!1,!1)})},this.configureUndefinedColorNode);this.configureSingleColor=new u({onChange:a.hitch(this,function(a){this.stato.set("dirty",!0);this.resetCategorie();this.resetSelezioneColori();a?(this.configureUndefinedColor.set("checked",
!1,!1),b.set(this.categoriesConfigurationNode,"visibility","hidden"),b.set(this.configureUndefinedColorContainerNode,"visibility","hidden"),this.categorySelection.set("value","hide",!1),this.stato.guest_categories.unshift({flatCategory:!0,evento:{idEvento:x.evento.stato.idEvento},idGuestCategory:0,customField:null,valoreLista:null,colore:"#ffffff"}),this.initColori(),this.stato.set("dirty",!0),b.set(this.colorsSelectionNode,"visibility","visible")):(this.colors[0]&&this.colors[0].cat.flatCategory&&
(this.stato.guest_categories.shift(),this.colorsListContainer.removeChild(this.colors[0]),this.colors.shift()),this.stato.set("dirty",!0),b.set(this.colorsSelectionNode,"visibility","hidden"),b.set(this.categoriesConfigurationNode,"visibility","visible"))})},this.configureSingleColorNode)},hasToLoadData:function(){y.debug("hasToLoadData",0!=x.evento.stato.idEvento);return 0!=x.evento.stato.idEvento},loadData:function(){y.debug("loadData",x.evento.stato.idEvento);return l.get("/getGuestCategories.plp",
{query:{idEvento:x.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},pushLoadedDataToStatoShadow:function(b){y.debug("pushLoadedDataToStatoShadow","loadedData",b);this.resetCategorie();if(b.categories)for(var e=a.getObject("evento.mappings.guest_category",!1,x),f,h=0;h<b.categories.length;h++)f={},z.copyTo(b.categories[h],f,z.invertMapping(e)),f.customField.idCustomField||(f.customField=null,f.flatCategory=!0),f.valoreLista.id||(f.valoreLista=null,
f.undefinedCategory=!f.flatCategory),f.customField&&f.valoreLista?this.statoShadowProp.guest_categories.push(f):this.statoShadowProp.guest_categories.unshift(f);this.stato.set("dirty",!1);this.statoRollback=this.statoShadowProp.guest_categories.slice()},aggiornaUI:function(){y.debug("aggiornaUI");this.inherited(arguments).then(a.hitch(this,function(){this.resetSelezioneColori();this.initCategorieOspiti();this.stato.set("dirty",!1)})).always(function(){y.trace("aggiornaUI","always")})},updateUIByPermission:function(){y.debug("updateUIByPermission")},
setCampiEvento:function(a){y.debug("setCampiEvento",a);this.categorySelection.setStore(a)},resetSelezioneColori:function(){for(y.trace("resetSelezioneColori");this.colors&&0<this.colors.length;){var a=this.colors.pop();this.colorsListContainer.removeChild(a)}},resetCategorie:function(){for(y.trace("resetCategorie");this.stato.guest_categories&&0<this.stato.guest_categories.length;)this.stato.guest_categories.pop();this.stato.guest_categories||(this.stato.guest_categories=[])},initCategorieOspiti:function(){y.trace("initCategorieOspiti");
this.configureSingleColor.set("checked",!1,!1);this.stato.guest_categories&&(0<this.stato.guest_categories.length?(this.stato.guest_categories[0].customField?this.categorySelection.set("value",this.stato.guest_categories[0].customField.idCustomField,!1):(this.configureSingleColor.set("checked",!0,!1),b.set(this.categoriesConfigurationNode,"visibility","hidden"),b.set(this.configureUndefinedColorContainerNode,"visibility","hidden")),this.initColori(),b.set(this.colorsSelectionNode,"visibility","visible")):
(b.set(this.colorsSelectionNode,"visibility","hidden"),b.set(this.categoriesConfigurationNode,"visibility","visible"),b.set(this.configureUndefinedColorContainerNode,"visibility","visible")));b.set(this.configureUndefinedColorContainerNode,"visibility",!this.stato.guest_categories||0==this.stato.guest_categories.length||this.configureSingleColor.get("checked")?"hidden":"visible")},initColori:function(){y.debug("initColori");b.set(this.loadingIndicatorNode,"display","block");var a;this.configureUndefinedColor.set("checked",
!1,!1);for(var e=0;e<this.stato.guest_categories.length;e++)a=this.stato.guest_categories[e].customField?this.stato.guest_categories[e].valoreLista?this.stato.guest_categories[e].valoreLista.label:I.lblUndefinedCategoryValue:I.lblFlatCategoryValue,a=new t({parentWidget:this,cat:this.stato.guest_categories[e],label:a,value:this.stato.guest_categories[e].colore}),a.doOnChange=function(a){y.debug("new color",a);this.cat.colore!=a&&(this.cat.colore=a,this.parentWidget.stato.set("dirty",!0))},this.stato.guest_categories[e].undefinedCategory&&
this.configureUndefinedColor.set("checked",!0,!1),this.stato.guest_categories[e].valoreLista?this.colorsListContainer.addChild(a):this.colorsListContainer.addChild(a,0),this.colors.push(a);b.set(this.loadingIndicatorNode,"display","none")},aggiornaValoriCategoria:function(a){y.debug("aggiornaValoriCategoria",a.idLista);var b=b=a.valoriLista;b||(b=x.commons.data.standardLists[a.nomeLista]);if(b)for(var e=0;e<b.length;e++)this.stato.guest_categories[e]={evento:{idEvento:x.evento.stato.idEvento},idGuestCategory:0,
customField:a,valoreLista:b[e],colore:"#ffffff"}},validate:function(){y.debug("validate");for(var a=0,b=!1,e={},f=0;f<this.stato.guest_categories.length;f++)this.stato.guest_categories[f].colore&&"#ffffff"!=this.stato.guest_categories[f].colore&&"#fff"!=this.stato.guest_categories[f].colore?(e[this.stato.guest_categories[f].colore]||(e[this.stato.guest_categories[f].colore]=[]),e[this.stato.guest_categories[f].colore].push(this.stato.guest_categories[f])):a++;for(var d in e)1<e[d].length&&(b=!0);
b?B.showInfoWithCloseButton(I.msgColoriDuplicati,C.footerInc.lblWarningMsgDialogTitle,p.lblOKButton):0<a&&(B.setUpConfirmDialog(C.footerInc.lblWarningMsgDialogTitle,I.msgColoriNonConfigurati,this,this.save,null,[!0]),B.showConfirm());return 0==a&&!b},preProcessDataToBePosted:function(b){y.debug("preProcessDataToBePosted",b);b.categories=[];for(i=0;i<this.stato.guest_categories.length;i++)tmpCat={},z.copyTo(this.stato.guest_categories[i],tmpCat,a.getObject("evento.mappings.guest_category",!1,x)),b.categories.push(tmpCat)},
save:function(a){y.debug("save");(a||this.validate())&&this.salvaStato("/addUpdateCategorieOspiti.plp","jsonData",{idEvento:x.evento.stato.idEvento})},postCommit:function(a){for(var b=0;b<a.guest_categories.length;b++)this.stato.guest_categories[b].idGuestCategory=a.guest_categories[b].idGuestCategory,this.statoShadowProp.guest_categories[b].idGuestCategory=a.guest_categories[b].idGuestCategory,x.evento.stato.badges.guest_categories[b].idGuestCategory=a.guest_categories[b].idGuestCategory;this.statoRollback=
this.statoShadowProp.guest_categories.slice();this.stato.set("dirty",!1)},rollBack:function(){this.statoShadowProp.guest_categories=this.statoRollback.slice();this.stato.set("dirty",!1);this.inherited(arguments)}})})},"ebPlatformWidgets/Evento/EventPage/EditPrivacyDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/text!./templates/EditPrivacyDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs ebPlatformWidgets/Form/ColorPickerWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([f,h],{mouseAnim:null,templateString:e,baseClass:"editPrivacyDialogContentWidget",parentWidget:null,doOnSelection:null,showPrivacyWidget:null,showPrivacyIntroWidget:null,privacyIntroWidget:null,privacyWidget:null,showConsentRequest1Widget:null,isConsentRequest1MandatoryWidget:null,consentRequest1TextWidget:null,showConsentRequest2Widget:null,isConsentRequest2MandatoryWidget:null,consentRequest2TextWidget:null,showConsentRequest3Widget:null,isConsentRequest3MandatoryWidget:null,
consentRequest3TextWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:z,commonMessages:y,postCreate:function(){var b;this.inherited(arguments);this.showPrivacyWidget=new m({},this.showPrivacyNode);this.showPrivacyIntroWidget=new m({},this.showPrivacyIntroNode);this.privacyIntroWidget=new r({style:"min-height:40px;",placeHolder:z.msgPrivacyIntroPlaceHolder},this.privacyIntroNode);this.privacyWidget=new r({style:"min-height:150px;",placeHolder:z.msgPrivacyNoticePlaceHolder},this.privacyNode);
n.set(this.privacyIntroWidget.domNode,"placeholder",z.msgPrivacyIntroPlaceHolder);n.set(this.privacyWidget.domNode,"placeholder",z.msgPrivacyNoticePlaceHolder);for(b=1;3>=b;b++)this["isConsentRequest"+b+"MandatoryWidget"]=new m({},this["isConsentRequest"+b+"MandatoryNode"]),this["showConsentRequest"+b+"Widget"]=new m({mandatoryWidget:this["isConsentRequest"+b+"MandatoryWidget"],onChange:function(a){console.debug(this.mandatoryWidget);this.mandatoryWidget.set("disabled",!a);a||this.mandatoryWidget.set("checked",
!1)}},this["showConsentRequest"+b+"Node"]),this["consentRequest"+b+"TextWidget"]=new r({style:"min-height:60px;",placeHolder:z.msgConsentRequestNumPlaceHolder+b},this["consentRequest"+b+"TextNode"]),n.set(this["consentRequest"+b+"TextWidget"].domNode,"placeholder",z.msgConsentRequestNumPlaceHolder+b),this["showConsentRequest"+b+"LabelNode"].innerHTML=z.lblShowConsentRequestNum+b,this["isConsentRequest"+b+"MandatoryLabelNode"].innerHTML=z.lblConsentIsMandatory;this.backgroundColorWidget=new D({label:z.lblBackgroundColor,
value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.backgroundColorNode);this.textColorWidget=new D({label:z.lblColorPlaceHolder,value:"#000000"},this.textColorNode);this.cancelBtnWidget=new u({label:y.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new u({label:y.lblOKButton,onClick:a.hitch(this,function(){if(this.showPrivacyIntroWidget.get("checked")&&!this.privacyIntroWidget.get("value"))return w.showInfoWithCloseButton(z.msgPrivacyIntroMissing,
x.footerInc.lblWarningMsgDialogTitle,y.lblOKButton),!1;var b=this.parentWidget.hide(),e={showPrivacy:this.showPrivacyWidget.get("checked"),showPrivacyIntro:this.showPrivacyIntroWidget.get("checked"),privacyIntro:this.privacyIntroWidget.get("value"),privacy:this.privacyWidget.get("value"),showConsentRequest1:this.showConsentRequest1Widget.get("checked"),isConsentRequest1Mandatory:this.isConsentRequest1MandatoryWidget.get("checked"),consentRequest1Text:this.consentRequest1TextWidget.get("value"),showConsentRequest2:this.showConsentRequest2Widget.get("checked"),
isConsentRequest2Mandatory:this.isConsentRequest2MandatoryWidget.get("checked"),consentRequest2Text:this.consentRequest2TextWidget.get("value"),showConsentRequest3:this.showConsentRequest3Widget.get("checked"),isConsentRequest3Mandatory:this.isConsentRequest3MandatoryWidget.get("checked"),consentRequest3Text:this.consentRequest3TextWidget.get("value"),backgroundColor:this.backgroundColorWidget.get("value"),textColor:this.textColorWidget.get("value")};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):
this.doOnSelection(e))})},this.okBtnNode)},reset:function(){this.showPrivacyWidget.set("checked",!1);this.showPrivacyIntroWidget.set("checked",!1);this.privacyIntroWidget.set("value","");this.privacyWidget.set("value","");this.showConsentRequest1Widget.set("checked",!1);this.isConsentRequest1MandatoryWidget.set("checked",!1);this.isConsentRequest1MandatoryWidget.set("disabled",!this.showConsentRequest1Widget.get("checked"));this.consentRequest1TextWidget.set("value","");this.showConsentRequest2Widget.set("checked",
!1);this.isConsentRequest2MandatoryWidget.set("checked",!1);this.isConsentRequest2MandatoryWidget.set("disabled",!this.showConsentRequest2Widget.get("checked"));this.consentRequest2TextWidget.set("value","");this.showConsentRequest3Widget.set("checked",!1);this.isConsentRequest3MandatoryWidget.set("checked",!1);this.isConsentRequest3MandatoryWidget.set("disabled",!this.showConsentRequest3Widget.get("checked"));this.consentRequest3TextWidget.set("value","");this.backgroundColorWidget.set("value","#FFFFFF");
this.textColorWidget.set("value","#000000")},impostaTesto:function(a,b){this[a+"Widget"].set("value",b)},impostaCheckBox:function(a,b){this[a+"Widget"].set("checked",b)}})})},"ebPlatformWidgets/Evento/EventPage/EditEventDetailsDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/dnd/Manager dojo/dnd/Source dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/text!./templates/EditEventDetailsDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/CheckBox dijit/form/Button dijit/form/ValidationTextBox dojox/form/Uploader ebPlatform/commonDialogs ebPlatform/utility ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/FontControlWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L){return q([y,x],{mouseAnim:null,templateString:D,baseClass:"editEventDetailsDialogContentWidget",parentWidget:null,imageType:null,permittedExtensions:null,selectedFile:null,localizedMessages:null,doOnSelection:null,sectionTitleWidget:null,uploadImageFormWidget:null,scegliFileWidget:null,nomeFileWidget:null,uploadBtnWidget:null,showOrganizerDetailsWidget:null,showEventDescriptionWidget:null,showEventMapWidget:null,cancelBtnWidget:null,
okBtnWidget:null,messages:L,commonMessages:d,postCreate:function(){this.inherited(arguments);this.sectionTitleWidget=new B({placeHolder:L.lblEventDetailsSectionTitlePlaceHolder},this.sectionTitleNode);this.uploadImageFormWidget=new z({method:"POST",encType:"multipart/form-data",onSubmit:a.hitch(this,function(){I.showLoading()})},this.uploadImageFormNode);this.nomeFileWidget=new B({disabled:!0},this.nomeFileNode);this.scegliFileWidget=new dojox.form.Uploader({label:d.lblScegliFile,multiple:!1,uploadOnSelect:!1,
url:"",name:"fileAllegato"},this.scegliFileNode);this.scegliFileWidget.on("change",a.hitch(this,function(a){if(0<a.length){var b=a[0].name.substr(a[0].name.lastIndexOf(".")+1).toLowerCase();-1<k.indexOf(this.permittedExtensions,b)?(this.nomeFileWidget.set("value",a[0].name),this.uploadImageFormSubmitWidget.set("disabled",!1),this.aggiornaTitleScegliFileWidget()):(this.uploadImageFormSubmitWidget.set("disabled",!0),I.showInfoWithCloseButton(d.msgFileNonValidoWarning,S.footerInc.lblWarningMsgDialogTitle,
d.lblOKButton))}}));this.scegliFileWidget.on("complete",a.hitch(this,function(b){"OK"==b.result?(I.hideLoading(),this.impostaSrcPreview(b.fileAllegato).then(a.hitch(this,function(){})),this.selectedFile=b.fileAllegato,this.nomeFileWidget.set("value",""),this.uploadImageFormSubmitWidget.set("disabled",!0)):(I.hideLoading(),b.msg?I.showInfoWithCloseButton(b.msg,S.footerInc.lblErrorMsgDialogTitle,d.lblOKButton):I.showInfoWithCloseButton(d.msgErroreServer,S.footerInc.lblErrorMsgDialogTitle,d.lblOKButton))}));
this.scegliFileWidget.startup();this.doesImgSubstituteSxColWidget=new t({},this.doesImgSubstituteSxColNode);this.showEventDetailsImageWidget=new t({},this.showEventDetailsImageNode);this.showSectionTitleWidget=new t({},this.showSectionTitleNode);this.showEventDetailsDetailsWidget=new t({},this.showEventDetailsDetailsNode);this.showOrganizerDetailsWidget=new t({},this.showOrganizerDetailsNode);this.showEventDescriptionWidget=new t({},this.showEventDescriptionNode);this.showEventMapWidget=new t({},
this.showEventMapNode);this.backgroundColorWidget=new v({label:L.lblBackgroundColor,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.backgroundColorNode);this.titleColorWidget=new v({label:L.lblColorPlaceHolder,value:"#000000"},this.titleColorNode);this.textColorWidget=new v({label:L.lblColorPlaceHolder,value:"#000000"},this.textColorNode);var b=this.sectionTitleWidget;this.fontTitleControlWidget=new M({required:!1,vertical:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",fontWeightPlaceHolder:"bold",
showAlignement:!1,showWeight:!1,showUppercase:!1,onChange:function(a){var d=this.fontFamilyPlaceHolder;w(".dijitInputInner, .dijitPlaceHolder",b.domNode).forEach(function(b){u.set(b,"fontFamily",a.fontFamily||d)})}},this.fontTitleSelectorNode);this.fontAddressControlWidget=new M({required:!1,vertical:!1,showFontFamily:!1,showFontWeight:!1,showAlignement:!1,showUppercase:!1},this.fontAddressSelectorNode);this.fontAddressControlWidget.fontSize.store.data.unshift({size:"15px",label:"15px"});this.fontAddressControlWidget.fontSize.store.data.unshift({size:"14px",
label:"14px"});this.fontAddressControlWidget.fontSize.store.data.unshift({size:"13px",label:"13px"});this.fontAddressControlWidget.fontSize.store.data.unshift({size:"12px",label:"12px"});var e=this.fontTitleControlWidget;this.fontControlWidget=new M({required:!1,vertical:!0,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",textAlignPlaceHolder:d.lblTextAlignJustify,showFontWeight:!1,showUppercase:!1,hiddenOptions:{alignement:["right","center"]},onChange:function(a){e.set("fontFamilyPlaceHolder",
a.fontFamily||"Helvetica, Arial, sans-serif");e.get("value")&&e.get("value").fontFamily||w(".dijitInputInner, .dijitPlaceHolder",b.domNode).forEach(function(b){u.set(b,"fontFamily",a.fontFamily)})}},this.fontSelectorNode);this.fontControlWidget.fontSize.store.data.unshift({size:"15px",label:"15px"});this.fontControlWidget.fontSize.store.data.unshift({size:"14px",label:"14px"});this.fontControlWidget.fontSize.store.data.unshift({size:"13px",label:"13px"});this.fontControlWidget.fontSize.store.data.unshift({size:"12px",
label:"12px"});this.marginTopImage=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.eiMTopNode);this.marginBottomImage=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.eiMBotNode);this.marginTopDetails=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.edtMTopNode);this.marginBottomDetails=
new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.edtMBotNode);this.marginTopOrganizer=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.eoMTopNode);this.marginBottomOrganizer=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.eoMBotNode);this.marginTopDescription=new C({required:!1,
trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.edMTopNode);this.marginBottomDescription=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.edMBotNode);this.marginTopMap=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"10px",trim:!0},this.emMTopNode);this.marginBottomMap=new C({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",
placeHolder:"10px",trim:!0},this.emMBotNode);this.uploadImageFormSubmitWidget=new G({label:d.lblUploadButton,type:"submit"},this.uploadBtnNode);this.cancelBtnWidget=new G({label:d.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new G({label:d.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),d=["eventDetailsTitleNode"];w("\x3e div",this.dndSource).forEach(function(a){d.push(a.id)});var e={showImage:this.showEventDetailsImageWidget.get("checked"),
imageSrc:this.selectedFile,sectionTitle:this.sectionTitleWidget.get("value"),showOrganizerDetails:this.showOrganizerDetailsWidget.get("checked"),showEventDescription:this.showEventDescriptionWidget.get("checked"),showEventMap:this.showEventMapWidget.get("checked"),showSectionTitle:this.showSectionTitleWidget.get("checked"),showEventDetailsDetails:this.showEventDetailsDetailsWidget.get("checked"),doesImgSubstituteSxCol:this.doesImgSubstituteSxColWidget.get("checked"),backgroundColor:this.backgroundColorWidget.get("value"),
titleColor:this.titleColorWidget.get("value"),textColor:this.textColorWidget.get("value"),font:this.fontControlWidget.get("value"),fontTitle:this.fontTitleControlWidget.get("value"),fontAddress:this.fontAddressControlWidget.get("value"),sections:d.join(),marginTopMap:this.marginTopMap.isValid()?this.marginTopMap.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTopMap.get("value"))?"px":""):null,marginBottomMap:this.marginBottomMap.isValid()?this.marginBottomMap.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottomMap.get("value"))?
"px":""):null,marginTopDetails:this.marginTopDetails.isValid()?this.marginTopDetails.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTopDetails.get("value"))?"px":""):null,marginBottomDetails:this.marginBottomDetails.isValid()?this.marginBottomDetails.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottomDetails.get("value"))?"px":""):null,marginTopDescription:this.marginTopDescription.isValid()?this.marginTopDescription.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTopDescription.get("value"))?
"px":""):null,marginBottomDescription:this.marginBottomDescription.isValid()?this.marginBottomDescription.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottomDescription.get("value"))?"px":""):null,marginTopOrganizer:this.marginTopOrganizer.isValid()?this.marginTopOrganizer.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTopOrganizer.get("value"))?"px":""):null,marginBottomOrganizer:this.marginBottomOrganizer.isValid()?this.marginBottomOrganizer.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottomOrganizer.get("value"))?
"px":""):null,marginTopImage:this.marginTopImage.isValid()?this.marginTopImage.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTopImage.get("value"))?"px":""):null,marginBottomImage:this.marginBottomImage.isValid()?this.marginBottomImage.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottomImage.get("value"))?"px":""):null};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode);l(this.removeImgBtnNode,"click",a.hitch(this,function(){this.selectedFile=
"";this.scegliFileWidget.reset();this.nomeFileWidget.set("value","");this.impostaSrcPreview(null).then(a.hitch(this,function(){this.parentWidget._position()}))}))},attualizzaLocalizedMessages:function(){this.sectionTitleWidget.set("placeHolder",this.localizedMessages.lblEventDetailsSectionTitlePlaceHolder)},_setImageTypeAttr:function(a){this.imageType=a;this.scegliFileWidget.set("url","/doCaricaTempImmagine.plp?tipoAllegato\x3d"+a)},reset:function(){this.selectedFile=null;this.scegliFileWidget.reset();
this.nomeFileWidget.set("value","");this.impostaSrcPreview(null).then(a.hitch(this,function(){this.parentWidget._position()}));this.uploadImageFormSubmitWidget.set("disabled",!0);this.sectionTitleWidget.set("value","");this.showOrganizerDetailsWidget.set("checked",!0);this.showEventDescriptionWidget.set("checked",!0);this.showSectionTitleWidget.set("checked",!0);this.showEventDetailsDetailsWidget.set("checked",!0);this.showEventMapWidget.set("checked",!0);this.doesImgSubstituteSxColWidget.set("checked",
!1);this.backgroundColorWidget.set("value","#FFFFFF");this.titleColorWidget.set("value","#000000");this.textColorWidget.set("value","#000000");this.marginTopMap.set("value","");this.marginBottomMap.set("value","");this.marginTopDetails.set("value","");this.marginBottomDetails.set("value","");this.marginTopDescription.set("value","");this.marginBottomDescription.set("value","");this.marginTopOrganizer.set("value","");this.marginBottomOrganizer.set("value","");this.marginTopImage.set("value","");this.marginBottomImage.set("value",
"");this.source=new f(this.dndSource,{isSource:!0,skipForm:!0,singular:!0,withHandles:!0,onDndStart:function(a,b,d){a==this&&(f.prototype.onDndStart.call(this,a,b,d),r.add(e.manager().avatar.node,"editEventDetailsDialogWidget"))}})},aggiornaTitleScegliFileWidget:function(){var a=this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length?this.scegliFileWidget.get("value")[0].name:"";a?b.set(this.scegliFileWidget.inputNode,"title",a):b.set(this.scegliFileWidget.inputNode,"title",
d.lblScegliFile)},impostaDimensioniMassimePreview:function(a,b){a?u.set(this.imgPreviewNode,"maxWidth",a+"px"):u.set(this.imgPreviewNode,"maxWidth","none");b?u.set(this.imgPreviewNode,"maxHeight",b+"px"):u.set(this.imgPreviewNode,"maxHeight","none")},impostaNotaFormato:function(a){this.fileFormatNoteNode.innerHTML=a},impostaSrcPreview:function(d){var e=new n,f=this.parentWidget;d?(this.selectedFile=d,E.loadImage(d,a.hitch(this,function(){l(this.imgPreviewNode,"load",a.hitch(this,function(){e.resolve();
f.resize()}));b.set(this.imgPreviewNode,"src",d);u.set(this.imgPreviewContainerNode,"display","block")}),a.hitch(this,function(){u.set(this.imgPreviewContainerNode,"display","none");e.resolve();f.resize()}),!0)):(u.set(this.imgPreviewContainerNode,"display","none"),e.resolve());return e.promise},impostaTitoloSezione:function(a){this.sectionTitleWidget.set("value",a)},impostaMostraDettagliOrganizzatore:function(a){this.showOrganizerDetailsWidget.set("checked",a)},impostaMostraDescrizioneEvento:function(a){this.showEventDescriptionWidget.set("checked",
a)},impostaMostraMappaEvento:function(a){this.showEventMapWidget.set("checked",a)},impostaMostraTitoloSezione:function(a){this.showSectionTitleWidget.set("checked",a)},impostaMostraDettagliEvento:function(a){this.showEventDetailsDetailsWidget.set("checked",a)},impostaSostituisciColonnaSxConImmagine:function(a){this.doesImgSubstituteSxColWidget.set("checked",a)},riordinaSezioni:function(a){var b=this.dndSource;a=a.split(/\s*,\s*/);for(var d=0;d<a.length;d++)"eventDetailsTitleNode"!=a[d]&&m.place(h.byId(a[d]),
b,"last")}})})},"ebPlatformWidgets/Evento/Checkin/ScannerConfgurationDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./ScannerConfgurationDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),function(q,a,k,n,l,e,f,h,b){return q([n,e],{baseClass:"scannerConfgurationDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new f({parentWidget:this});this.addChild(this.mainWidget)},
show:function(a){this.inherited(arguments);this.mainWidget.reset(a);this.resize(null)}})})},"ebPlatformWidgets/Evento/Communication/RegistrationConfirmationEmailWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/Stateful dojo/dom-style dojo/dom-attr dojo/cookie dojo/window dojo/dom-geometry dojo/Deferred dojo/promise/all dojo/topic dojo/store/Memory dojo/text!./templates/RegistrationConfirmationEmailWidget.html dijit/form/Form dijit/form/Button dijit/form/CheckBox dijit/form/FilteringSelect dijit/form/Select dijit/form/TextBox dijit/layout/ContentPane ebPlatformWidgets/CustomTooltip ebPlatform/stato ebPlatform/utility ebPlatform/templateUtility ebPlatform/logger! ebPlatform/commonDialogs ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ./RegistrationConfirmationEmailTemplateWidget ./RegistrationConfirmationEmailTicketWidget ./PersonalFilesCategoriesToAttachWidget ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/Form/FileUploadWidget ebPlatformWidgets/Form/LanguageSelectionWidget ebPlatformWidgets/Form/LanguageSelectionSelectWidget put-selector/put ./SaveAsTemplateDialogWidget app/utility dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatformWidgets/Evento/EventPage/nls/EventPageWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W){return q([L],{templateString:y,baseClass:"registrationConfirmationEmailWidget",mappingName:"evento.mappings.registration_confirmation_email",internalName:"RegistrationConfirmationEmailWidget",statoShadowProp:null,appWidget:null,parentWidget:null,hasToolbar:!0,hasSecondaryToolbar:!0,dependsOnWidgetsData:["event_details","badges"],statoStartUp:{idEmail:0,sender:E.commons.data.customerDefaults.mittente,
replyTo:null,subject:"",updateSubject:"",deleteSubject:"",showHeader:!0,headerText:null,headerTextOnUpdate:null,headerTextOnDelete:null,headerFontFamily:"Helvetica, Arial, sans-serif",headerFontSize:"32px",showLogoRegistrationDetails:!1,logo:null,registrationDetailBoxTitle:"",registrationDetailBoxTitleOnUpdate:"",registrationDetailBoxTitleOnDelete:"",showEventImage:!1,eventImage:null,showBarCode:!0,barCodeTitle:"",hideBarCodeTitle:!1,showAdditionalInformation:!0,additionalInformationBoxTitle:null,
additionalInformationBoxTitleOnUpdate:null,additionalInformationBoxTitleOnDelete:null,additionalInformation:null,additionalInformationOnUpdate:null,additionalInformationOnDelete:null,showFooter:!0,attachmentFile:null,showHeaderImage:!1,headerImage:null,backGroundColor:null,foreGroundColor:null,foreGroundTitlesColor:null,showBadgeLink:!1,idBadge:null,idLanguage:1,language:null,allLanguages:{},sendRegistrationUpdatesCopyTo:null,attachTicket:!1,attachPartnerTicket:!1,downloadTicket:!1,idTicket:0,ticketShowTimezone:!1,
ticketShowEventImage:!0,ticketEventImage:null,ticketShowBarCode:!0,ticketShowRegistrationDetails:!0,ticketShowText:!1,ticketText:"",ticketIdLanguage:1,ticketFields:[],showUnsubscribe:!0,personalFilesCategories:[],showHeaderEventDates:!0,showHeaderRegistration:!1},sendRegistrationUpdatesCopyToWidget:null,languageSelectionWidget:null,selectTemplateModelSimpleStore:null,selectTemplateModelStore:null,selectTemplateModelWidget:null,saveAsTemplateModelWidget:null,saveAsTemplateDialogWidget:null,templateWidget:null,
ticketWidget:null,checkForSpamButton:null,recheckForSpamButton:null,moreDetailsButton:null,ticketPreviewButton:null,configureTemplateSwitchWidget:null,configureTicketSwitchWidget:null,attachmentFileSwitchWidget:null,attachmentFileWidget:null,personalFilesCategoriesToAttachWidget:null,messages:W,commonMessages:X,eventPageMessages:Q,operationType:null,postCreate:function(){this.inherited(arguments);this.statoShadowProp=a.clone(this.statoStartUp);this.stato=new l(this.statoShadowProp);this.formWidget=
new x({},this.formNode);this.checkForSpamButton=new z({label:W.lblCheckSpamButton,onClick:a.hitch(this,function(){this.stato.get("idSpamCheck")?this.parentWidget.viewReport():this.parentWidget.checkSpam()})},this.checkForSpamBtnNode);this.recheckForSpamButton=new z({title:W.lblCheckSpamButton,onClick:a.hitch(this,function(){this.parentWidget.checkSpam()})},this.recheckForSpamBtnNode);this.moreDetailsButton=new z({title:W.lblMaggioriInfoQui,onClick:a.hitch(this,function(){d.showInfoWithCloseButton(W.msgMaggioriInfoDialogText,
W.lblMaggioriInfoDialogTitle,null,null,"maggioriInfoDialog")})},this.moreDetailsBtnNode);this.sendRegistrationUpdatesCopyToWidget=new C({placeholder:W.msgAddressesListMandatory,value:this.stato.get("sendRegistrationUpdatesCopyTo"),onChange:a.hitch(this,function(){this.stato.set("sendRegistrationUpdatesCopyTo",this.sendRegistrationUpdatesCopyToWidget.get("value"))})},this.sendUpdatesCopyToNode);this.initConfigureTemplate();this.initSelectTemplateModel();"pagina conferma"!=this.operationType&&(this.initAttachFile(),
this.initConfigureTicket());this.languageSelectionWidget=new R({showLanguageName:!1,onSelect:a.hitch(this,function(a){this.stato.get("allLanguages")[a]?(this.stato.set("idLanguage",a),this.stato.set("idEmail",this.stato.get("allLanguages")[a]),delete this.stato.idEmailFrom,delete this.stato.languageTo):(this.stato.set("idLanguage",a),this.stato.set("idEmailFrom",this.stato.get("idEmail")),this.stato.set("languageTo",E.getLinguaById(a)));delete this.stato.idTicketFrom;this.aggiornaModelli();this.aggiornaUI()})},
this.templateWidget.languageSelectionNode);this.enableConfPageCheck=new B({onClick:a.hitch(this,function(){this.stato.set("dirty",!0)})},this.enableConfirmationPageNode);new I({label:Q.msgConfirmationPageTooltip,connectId:[this.confirmationPageTooltipNode]},this.confirmationPageTooltipNode);this.stato.watch(a.hitch(this,function(a,b,d){S.debug("_____ CHANGE VALUE ["+a+"]","from",b," --\x3e ",d);d!=b&&"dirty"!=a&&this.stato.set("dirty",!0);"dirty"==a&&(1==d?(this.appWidget.setMustSaveToContinueMode(),
this.languageSelectionWidget.set("disabled",!0),"pagina conferma"!=this.operationType&&this.ticketPreviewButton.set("disabled",!0)):(this.appWidget.resetMustSaveToContinueMode(),this.languageSelectionWidget.set("disabled",!1),"pagina conferma"!=this.operationType&&this.ticketPreviewButton.set("disabled",!(this.stato.get("idTicket")&&0!=this.stato.get("idTicket")))))}));w.subscribe("app_evento.set_mustSaveToContinue",a.hitch(this,function(){"registration_confirmation"==this.parentWidget.selectedTabName&&
this.abilitaPulsantiToolbar(!1)}));w.subscribe("app_evento.reset_mustSaveToContinue",a.hitch(this,function(){"registration_confirmation"==this.parentWidget.selectedTabName&&this.aggiornaStatoPulsantiToolbar()}))},loadData:function(){var b=new m;n.get("/getRegistrationConfirmationEmail.plp",{query:{idEmailTemplate:this.stato.get("idEmail"),idEvento:E.evento.stato.idEvento,confirmationPage:"pagina conferma"==this.operationType},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(d){if("OK"==(d.result||d).resultCode){var e=null,f=null;"pagina conferma"!=this.operationType?d.data.ticket&&(f=d.data.ticket.idTicketTemplate):(e=new m,e.resolve());u([e?e.promise:n.get("/getTicketFields.plp",{query:{idEvento:E.evento.stato.idEvento,idTicketTemplate:f,locale:ebplatform.config.beLocale},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode&&(d.descrittoreTicket=a.descrittore)})),n.get("/getEventoPersonaFields.plp",
{query:{idEvento:E.evento.stato.idEvento,l:this.stato.get("doCopy")?this.stato.idLanguage:d.data.lingua.idLingua,includeLabels:!1,s:"mail"},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode&&(d.descrittore=a.campi)}))]).then(function(){b.resolve(d)},function(){b.reject()})}else b.reject()}),a.hitch(this,function(){b.reject()}));return b.promise},hasToLoadData:function(){S.debug("[RegistrationConfirmationEmailWidget] hasToLoadData:",
0!=this.stato.get("idEmail"),this.stato);return 0!=this.stato.get("idEmail")},processLoadedData:function(b){var d=b.data;a.mixin(d,{allLanguages:b.allLanguages});var e=v.invertMapping(E.evento.mappings.field_details_ticket);d.ticket||(d.ticket={idTicketTemplate:0,visualizzaImmagine:!0,fileImmagine:null,visualizzaCodiceCheckin:!0,lingua:d.lingua,descrittore:null});d.ticket.descrittore=k.map(b.descrittoreTicket,function(a){var b={id:null,position:null,name:null,type:null,show:null,showLabel:null,inline:null,
mandatory:null,showForPartner:null};v.copyTo(a,b,e);return b});delete d.descrittoreTicket;e=v.invertMapping(E.evento.mappings.field_details);d.descrittore=[];k.forEach(b.descrittore,function(a){a.idCustomField&&d.descrittore.push({id:a.idCustomField,name:a.fieldName,label:a.fieldLabel,type:a.tipo,positionOnMail:a.posizioneNellaMail,showOnMail:a.visualizzaNellaMail,showOnMailForPartner:a.visualizzaNellaMailAccompagnatori})});b=[{normalizedName:"dettagli_iscrizione_disteso"}];"PROFILATI"==E.evento.stato.event_details.partnersType&&
b.push({normalizedName:"lista_accompagnatori"});"PROFILATI"!=E.evento.stato.event_details.partnersType&&"NON_PROFILATI"!=E.evento.stato.event_details.partnersType||b.push({normalizedName:"numero_figli"});this.templateWidget.additionaInformationEditorConfig.extraUtentePlaceHolders=b;this.stato.get("idEmailFrom")&&(d.idEmailTemplate=0,d.lingua=this.stato.get("languageTo"),this.stato.set("idTicketFrom",d.ticket.idTicketTemplate),d.ticket.idTicketTemplate=0,this.resetI18(d),console.debug("d",d));return d},
resetI18:function(a){console.debug("data",a);a.additionalInformation="";a.additionalInformationBoxTitle="";a.additionalInformationBoxTitleOnDelete="";a.additionalInformationBoxTitleOnUpdate="";a.additionalInformationOnDelete="";a.additionalInformationOnUpdate="";a.fileAllegato="";a.fileAllegatoAttachmentFilename="";a.oggetto="";a.oggettoCancellazione="";a.oggettoModifica="";a.testataCancellazioneIscrizione="";a.testataIscrizione="";a.testataModificaIscrizione="";a.testo="";a.testoCancellazione="";
a.testoModifica="";a.testoHeader="";a.titoloBoxIscrizione="";a.titoloBoxTesto="";a.titoloBoxTestoCancellazione="";a.titoloBoxTestoModifica="";a.titoloTestata="";a.titoloTestataCancellazione="";a.titoloTestataModifica="";a.ticket.testo=""},reset:function(b){var d=a.clone(this.statoStartUp);d.idLanguage=E.evento.stato.event_details.languages[0].idLingua;b&&a.mixin(d,b);v.copyObjToObj(d,this.statoShadowProp);v.copyObjToObj(d,this.stato);"pagina conferma"!=this.operationType&&n.get("/getTicketFields.plp",
{query:{idEvento:E.evento.stato.idEvento,locale:ebplatform.config.beLocale},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){if("OK"==(a.result||a).resultCode){var b=v.invertMapping(E.evento.mappings.field_details_ticket);this.stato.ticketFields=k.map(a.descrittore,function(a){var d={id:null,position:null,name:null,type:null,show:null,showLabel:null,inline:null,mandatory:null,showForPartner:null};v.copyTo(a,d,b);return d})}})).always(a.hitch(this,
function(){this.ticketWidget.reset()}));n.get("/getEventoPersonaFields.plp",{query:{idEvento:E.evento.stato.idEvento,l:this.stato.idLanguage,includeLabels:!1,s:"mail"},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){if("OK"==(a.result||a).resultCode){this.stato.fieldsDetails=[];var b=this.stato.fieldsDetails;k.forEach(a.campi,function(a){a.idCustomField&&b.push({id:a.idCustomField,name:a.fieldName,label:a.fieldLabel,type:a.tipo,positionOnMail:a.posizioneNellaMail,
showOnMail:a.visualizzaNellaMail,showOnMailForPartner:a.visualizzaNellaMailAccompagnatori})})}}));this.statoShadowProp.personalFilesCategories=[];this.stato.set("personalFilesCategories",[]);this.templateWidget.reset();this.languageSelectionWidget.setLanguage(b&&b.idLanguage?b.idLanguage:E.evento.stato.event_details.languages[0].idLingua);this.aggiornaUI()},initSelectTemplateModel:function(){this.saveAsTemplateDialogWidget=new H({});this.selectTemplateModelWidget=new t({required:!1,placeholder:X.lblsModelTypes.NONE,
store:new D({idProperty:"id"}),searchAttr:"label",labelAttr:"label",sortByLabel:!1,onChange:a.hitch(this,function(a){this.templateWidget.applyTemplateModel(a)})},this.templateWidget.selectTemplateModelNode);this.selectTemplateModelWidget.startup();this.saveAsTemplateModelWidget=new z({label:X.lblSaveAsTemplate,onClick:a.hitch(this,function(){this.saveAsTemplateDialogWidget.show({title:X.lblSaveAsTemplateDialogTitle,idCliente:E.evento.stato.idCliente,stato:this.stato,mappingName:this.mappingName,refreshCallback:this.aggiornaModelli,
refreshCallbackCtx:this,type:"CONFERMA_ISCRIZIONE"})})},this.templateWidget.saveAsTemplateBtnNode)},initConfigureTemplate:function(){this.templateWidget=new N({appWidget:this.appWidget,parentWidget:this,stato:this.stato,mode:this.operationType,additionaInformationEditorConfig:{insertUtentePlaceHolders:!0,eventoPlaceHolders:"nome hashtag luogo indirizzo cap citt\u00e0 regione provincia date date_descrizioni data_ora_chiusura_iscrizioni".split(" ")}},this.configureTemplateNode);this.configureTemplateSwitchWidget=
new K({title:W.registrationConfirmationEmail.lblConfigureTemplate,dropDown:this.configureTemplateContainerNode,opened:!0,onOpenDropDown:a.hitch(this,function(){this.templateWidget.aggiornaAltezzaIFrame();this.stato.idEmail&&0<this.stato.idEmail?e.set(this.checkSpamContainerNode,"visibility","visible"):e.set(this.checkSpamContainerNode,"visibility","hidden")}),onCloseDropDown:a.hitch(this,function(){this.templateWidget.aggiornaAltezzaIFrame();e.set(this.checkSpamContainerNode,"visibility","hidden")})},
this.configureTemplateBtnNode);"pagina conferma"!=this.operationType&&(this.configureTicketSwitchWidget=new K({title:W.registrationConfirmationEmail.lblConfigureTicket,dropDown:this.configureTicketContainerNode,opened:!0,onOpenDropDown:a.hitch(this,function(){this.ticketWidget.aggiornaAltezzaIFrame();e.set(this.ticketPreviewContainerNode,"visibility","visible")}),onCloseDropDown:a.hitch(this,function(){this.ticketWidget.aggiornaAltezzaIFrame();e.set(this.ticketPreviewContainerNode,"visibility","hidden")})},
this.configureTicketBtnNode))},initAttachFile:function(){this.attachmentFileSwitchWidget=new K({title:W.lblAttachAFile,dropDown:this.attachFileContainerNode,opened:!0},this.attachFileBtnNode);this.attachmentFileWidget=new T({permittedExtensions:"pdf jpg jpeg png doc docx ppt pptx zip".split(" "),formatNote:W.msgEmailAttachementsFormatNote,onChange:a.hitch(this,function(a){this.stato.set("attachmentFile",a)})},this.attachFileNode);this.attachmentFileWidget.set("imageType","allegatoMailTemplate");this.personalFilesCategoriesToAttachWidget=
new F({idEvento:E.evento.stato.idEvento},this.personalFilesCategoriesContainerNode)},initConfigureTicket:function(){this.ticketWidget=new aa({appWidget:this.appWidget,parentWidget:this,stato:this.stato},this.configureTicketNode);this.showTicketTimezoneWidget=new B({checked:this.stato.get("ticketShowTimezone"),onChange:a.hitch(this,function(){this.stato.set("ticketShowTimezone",this.showTicketTimezoneWidget.get("checked"));this.ticketWidget.aggiornaVisibilitaDateTimezone(this.showTicketTimezoneWidget.get("checked"))})},
this.showTicketTimezoneNode);this.attachTicketWidget=new B({checked:this.stato.get("attachTicket"),onChange:a.hitch(this,function(){this.stato.set("attachTicket",this.attachTicketWidget.get("checked"));this.attachTicketWidget.get("checked")||this.attachPartnerTicketWidget.set("checked",!1)})},this.attachTicketNode);this.attachPartnerTicketWidget=new B({checked:this.stato.get("attachPartnerTicket"),onChange:a.hitch(this,function(){this.stato.set("attachPartnerTicket",this.attachPartnerTicketWidget.get("checked"))})},
this.attachPartnerTicketNode);this.downloadTicketWidget=new B({checked:this.stato.get("downloadTicket"),onChange:a.hitch(this,function(){this.stato.set("downloadTicket",this.downloadTicketWidget.get("checked"))})},this.downloadTicketNode);this.ticketPreviewButton=new z({label:W.registrationConfirmationEmail.lblTicketPreview,disabled:!(this.stato.get("idTicket")&&0!=this.stato.get("idTicket")),onClick:a.hitch(this,function(){this.ticketWidget.mostraAnteprima()})},this.ticketPreviewBtnNode)},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,
function(){S.debug("[RegistrationConfirmationEmailWidget] aggiornaUI su Stato:",this.stato);if(0==this.stato.get("idEmail")&&E.evento.stato.badges.custom&&E.evento.stato.badges.custom.length){this.stato.set("showBadgeLink",!1,!1);this.stato.set("idBadge",null,!1);for(var a=0;a<E.evento.stato.badges.custom.length;a++)E.evento.stato.badges.custom[a].printableAtHome&&(this.stato.set("showBadgeLink",!0,!1),this.stato.set("idBadge",E.evento.stato.badges.custom[a].id,!1))}this.aggiornaTendinaModelli();
this.templateWidget.aggiornaUI();"pagina conferma"!=this.operationType?(this.ticketWidget.aggiornaUI(),J.aggiornaValoreDaStato("attachmentFile",this,""),this.stato.get("attachmentFile")?this.attachmentFileSwitchWidget.openDropDown():this.attachmentFileSwitchWidget.closeDropDown(),this.personalFilesCategoriesToAttachWidget.init(this.stato),0==this.stato.get("idEmail")&&this.personalFilesCategoriesToAttachWidget.setStatoDefault(),this.showTicketTimezoneWidget.set("checked",this.stato.get("ticketShowTimezone"),
!1),this.attachTicketWidget.set("checked",this.stato.get("attachTicket"),!1),this.attachPartnerTicketWidget.set("checked",this.stato.get("attachPartnerTicket"),!1),"NON_PROFILATI"==E.evento.stato.event_details.partnersType?e.set(this.partnerTicketSectionNode,"display","block"):e.set(this.partnerTicketSectionNode,"display","none"),this.downloadTicketWidget.set("checked",this.stato.get("downloadTicket"),!1)):(e.set(this.partnerTicketSectionNode,"display","none"),this.enableConfPageCheck.set("checked",
E.evento.stato.event_page.enableConfirmationPage,!1));new I({label:W.registrationConfirmationEmail.msgDownloadTicketWidgetTip,connectId:[this.downloadTicketTooltipNode]});this.languageSelectionWidget.setLanguage(this.stato.get("idLanguage"),!1);a=k.map(E.evento.stato.event_details.languages,function(a){return a.idLingua});this.languageSelectionWidget.set("filterArray",a);this.languageSelectionWidget.setAllLanguages(this.stato.get("allLanguages"));e.set(this.templateWidget.languageSelectionContainerNode,
"display",E.evento.stato.event_details.international?"inline-block":"none");this.mainTitleTooltip||(this.mainTitleTooltip=new I({label:W.registrationConfirmationEmail.msgGeneralTip,connectId:[this.mainTitleTooltipNode]}));new I({label:W.registrationConfirmationEmail.msgSendCopyOfRegistrationUpdatesToTip,connectId:[this.sendUpdatesCopyToTooltipIconNode]});this.stato.set("dirty",!1);this.aggiornaStatoPulsantiToolbar();this.stato.get("idEmail")?e.set(this.checkSpamContainerNode,"visibility","visible"):
e.set(this.checkSpamContainerNode,"visibility","hidden");this.stato.get("idSpamCheck")?(this.checkForSpamButton.set("label",W.lblViewSpamReportButton),e.set(this.recheckForSpamButton.domNode,"visibility","visible")):(this.checkForSpamButton.set("label",W.lblCheckSpamButton),e.set(this.recheckForSpamButton.domNode,"visibility","hidden"));this.sendRegistrationUpdatesCopyToWidget.set("value",this.stato.get("sendRegistrationUpdatesCopyTo"),!1);this.updateUIByPermission()}),a.hitch(this,function(){console.log("RegistrationConfirmationEmailWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){d.hideLoading()})},
aggiornaTendinaModelli:function(){0==this.stato.get("idEmail")&&this.stato.get("idEmailFrom")?(this.configureTemplateSwitchWidget.closeDropDown(),"pagina conferma"!=this.operationType&&this.configureTicketSwitchWidget.closeDropDown()):(this.configureTemplateSwitchWidget.openDropDown(),"pagina conferma"!=this.operationType&&this.configureTicketSwitchWidget.openDropDown());this.aggiornaModelli()},preProcessDataToBePosted:function(a){console.log("[RegistrationConfirmationEmailWidget] preProcessDataToBePosted:",
a);"pagina conferma"!=this.operationType&&(a.ticket.descrittore=k.map(a.ticket.descrittore,function(a){var b={};v.copyTo(a,b,E.evento.mappings.field_details_ticket);return b}));delete a.allLanguages},save:function(){console.log("SAVE",this.stato);if(this.validate()){var a=h(E.evento.stato.idEvento+".showEmailDataWarning"),a=void 0===a||"true"==a?!0:!1,b=k.map(this.stato.fieldsDetails,function(a){var b={};v.copyTo(a,b,E.evento.mappings.field_details);delete b.mappaParametri;return b});this.salvaStato("/addUpdateRegistrationConfirmationEmail.plp",
"jsonData",{idEvento:E.evento.stato.idEvento,confirmationPage:"pagina conferma"==this.operationType,confirmationPageEnable:"pagina conferma"==this.operationType&&this.enableConfPageCheck.get("checked"),descrittore:JSON.stringify(b)});if(a){a=new p({"class":"emailWarning"});b=new p({content:W.msgConfirmSaveIncompleteConfirmation});a.addChild(b);b=new p({});a.addChild(b);ea(b.containerNode,"br");var e=ea(b.containerNode,"input");ea(b.containerNode,"label",X.lblNonMostrarePiu);new B({checked:!1,onChange:function(a){var b=
new Date;b.setFullYear(b.getFullYear()+1);h(E.evento.stato.idEvento+".showEmailDataWarning",!a,{expires:b.toUTCString()})}},e);ea(b.containerNode,"br");d.showGenericDialog(Z.footerInc.lblWarningMsgDialogTitle,a,null,null,null,null,null,null,null,!0)}}else console.log("DOES NOT Validate")},validate:function(){return this.formWidget.validate()},mostraAnteprima:function(){ebPlatform.iframePreviewLoaded=new m;var e="/getCommunicationPreviewHTML.plp?idEvento\x3d"+E.evento.stato.idEvento+"\x26idEmailTemplate\x3d"+
this.stato.get("idEmail")+"\x26op\x3d"+this.templateWidget.operazioneCorrente,h=b.getBox(),k=d.showAnteprima(W.registrationConfirmationEmail[this.templateWidget.mappaOperazioneCorrentePreviewTitle[this.templateWidget.operazioneCorrente]],null,e,!0,{width:850,height:.9*h.h,scrolling:"yes"},X.msgPreparazioneAnteprima);ebPlatform.iframePreviewLoaded.then(a.hitch(this,function(b){S.debug("preview LOADED",k);var e=k.contentDocument?k.contentDocument:k.contentWindow.document;b=M.getElementById("headerImageImgNode",
e.body);var h=M.getElementById("eventImageImgNode",e.body),A=M.getElementById("logoImgNode",e.body),e=M.getElementById("footerLogoImgNode",e.body),U=[];b&&f.get(b,"src")&&U.push(v.loadImagePromise(f.get(b,"src"),!0));h&&f.get(h,"src")&&U.push(v.loadImagePromise(f.get(h,"src"),!0));A&&f.get(A,"src")&&U.push(v.loadImagePromise(f.get(A,"src"),!0));e&&f.get(e,"src")&&U.push(v.loadImagePromise(f.get(e,"src"),!0));0<U.length?u(U).then(a.hitch(this,function(){this.aggiornaAltezzaIFrame(k);d.resizeAnteprimaDialog()}),
a.hitch(this,function(){S.debug("preview IMGS LOAD ERROR");this.aggiornaAltezzaIFrame(k);d.resizeAnteprimaDialog()})):(this.aggiornaAltezzaIFrame(k),d.resizeAnteprimaDialog())}),a.hitch(this,function(a){S.debug("preview LOAD ERROR");this.aggiornaAltezzaIFrame(k);d.resizeAnteprimaDialog()}))},aggiornaAltezzaIFrame:function(a){var b=r.getMarginBox((a.contentDocument?a.contentDocument:a.contentWindow.document).body);S.debug("aggiornaAltezzaIFrame PREVIEW",b);e.set(a,"height",b.h+"px");ebPlatform.iframePreviewLoaded=
null},configuraSpedizioneEmailTest:function(){this.parentWidget.spedisciEmailTestWidget.popupWidget.setDialogTitle(W.registrationConfirmationEmail.lblSendTestEmailDialogTitle);this.parentWidget.spedisciEmailTestWidget.dialogNoAddressesTitle=W.registrationConfirmationEmail.lblDialogAddressesListMandatoryTitle;this.parentWidget.spedisciEmailTestWidget.popupWidget.setSendEmailsURL("/sendCommunicationEmailTest.plp");this.parentWidget.spedisciEmailTestWidget.setGetDataForSendEmailsURL(a.hitch(this,function(){return{idEvento:E.evento.stato.idEvento,
idEmailTemplate:this.stato.get("idEmail"),operazione:this.templateWidget.operazioneCorrente}}))},aggiornaStatoPulsantiToolbar:function(){this.stato.get("idEmail")?(this.abilitaPulsantiToolbar(!0),"pagina conferma"!=this.operationType&&(this.parentWidget.spedisciEmailTestWidget.popupWidget.setDialogTitle(W.registrationConfirmationEmail.lblSendTestEmailDialogTitle),this.parentWidget.spedisciEmailTestWidget.dialogNoAddressesTitle=W.registrationConfirmationEmail.lblDialogAddressesListMandatoryTitle,this.parentWidget.spedisciEmailTestWidget.popupWidget.setSendEmailsURL("/sendCommunicationEmailTest.plp"),
this.parentWidget.spedisciEmailTestWidget.setGetDataForSendEmailsURL(a.hitch(this,function(){return{idEvento:E.evento.stato.idEvento,idEmailTemplate:this.stato.get("idEmail"),operazione:this.templateWidget.operazioneCorrente}})))):this.abilitaPulsantiToolbar(!1)},abilitaPulsantiToolbar:function(b){b?(this.parentWidget.headerToolbar.enableByCode("sendTest"),this.parentWidget.headerToolbar.enableByCode("preview"),this.parentWidget.footerToolbar.enableByCode("sendTest"),this.parentWidget.footerToolbar.enableByCode("preview"),
this.parentWidget.headerSecondaryToolbar.enableByCode("back")):(this.parentWidget.headerToolbar.disableByCode("sendTest",a.partial(ca.tellUserToSave,W.registrationConfirmationEmail.msgSaveBeforeSendingTestEmailDialogText,W.registrationConfirmationEmail.lblSaveBeforeSendingTestEmailDialogTitle)),this.parentWidget.headerToolbar.disableByCode("preview",a.partial(ca.tellUserToSave,W.registrationConfirmationEmail.msgSaveBeforePreviewEmailDialogText,W.registrationConfirmationEmail.lblSaveBeforePreviewEmailDialogTitle)),
this.parentWidget.footerToolbar.disableByCode("sendTest",a.partial(ca.tellUserToSave,W.registrationConfirmationEmail.msgSaveBeforeSendingTestEmailDialogText,W.registrationConfirmationEmail.lblSaveBeforeSendingTestEmailDialogTitle)),this.parentWidget.footerToolbar.disableByCode("preview",a.partial(ca.tellUserToSave,W.registrationConfirmationEmail.msgSaveBeforePreviewEmailDialogText,W.registrationConfirmationEmail.lblSaveBeforePreviewEmailDialogTitle)),this.parentWidget.headerSecondaryToolbar.disableByCode("back",
a.partial(ca.askUserToLeavePage,this.appWidget,a.hitch(this,function(){this.parentWidget.selectTab("communications_list",{})}))))},preCommit:function(a){console.log("PRE COMMIT",a);this.stato.set("logo",a.template.logo);this.stato.set("headerImage",a.template.fileImmagineHeader);this.stato.set("eventImage",a.template.fileImmagine);this.stato.set("footerImage",a.template.fileImmagineFooter)},postCommit:function(a){this.stato.set("idEmail",a.idEmail);this.stato.get("allLanguages")[a.idLingua]=a.idEmail;
this.languageSelectionWidget.setAllLanguages(this.stato.get("allLanguages"));a.template&&a.template.ticket&&"pagina conferma"!=this.operationType&&(this.stato.set("idTicket",a.template.ticket.idTicketTemplate,!1),this.ticketPreviewButton.set("disabled",!(this.stato.get("idTicket")&&0!=this.stato.get("idTicket"))),this.stato.set("ticketEventImage",a.template.ticket.fileImmagine));this.aggiornaStatoPulsantiToolbar();this.aggiornaTendinaModelli();this.stato.set("dirty",!1);E.evento.stato.event_page.enableConfirmationPage=
this.enableConfPageCheck.get("checked")},updateUIByPermission:function(){E.commons.permissions.canModifyEvent?(this.parentWidget.isWidgetSelected(this)&&(this.parentWidget.headerToolbar.enableByCode("save"),this.parentWidget.footerToolbar.enableByCode("save"),this.parentWidget.headerToolbar.enableByCode("sendTest"),this.parentWidget.footerToolbar.enableByCode("sendTest")),E.commons.stato.mustSaveToContinue||this.languageSelectionWidget.set("disabled",!1),this.selectTemplateModelWidget.set("disabled",
!1),this.templateWidget.set("disabled",!1),"pagina conferma"!=this.operationType&&(this.ticketWidget.set("disabled",!1),this.attachmentFileWidget.set("disabled",!1))):(this.parentWidget.isWidgetSelected(this)&&(this.parentWidget.headerToolbar.disableByCode("save"),this.parentWidget.footerToolbar.disableByCode("save"),this.parentWidget.headerToolbar.disableByCode("sendTest"),this.parentWidget.footerToolbar.disableByCode("sendTest")),this.languageSelectionWidget.set("disabled",!0),this.selectTemplateModelWidget.set("disabled",
!0),this.templateWidget.set("disabled",!0),"pagina conferma"!=this.operationType&&(this.ticketWidget.set("disabled",!0),this.attachmentFileWidget.set("disabled",!0)))},aggiornaModelli:function(){S.debug("aggiornaModelli",this.stato.get("idLanguage"));n.get("/getAvailableEmailTemplateModels.plp",{query:{tipoTemplate:"CONFERMA_ISCRIZIONE",idLingua:this.stato.get("idLanguage"),idCliente:E.evento.stato.idCliente},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){a=k.map(a.modelli,function(a){return{id:a.idEmailTemplateModel,label:"USER_DEFINED"==a.tipoModello?a.nome:X.lblsModelTypes[a.nome||a.tipoModello],value:"USER_DEFINED"==a.tipoModello?a.nome:a.tipoModello,type:a.tipoTemplate,modelType:a.tipoModello}});a.sort(function(a,b){var d=0;a.modelType==b.modelType=="USER_DEFINED"?d=a.label.localeCompare(b.label):(d=a.modelType.localeCompare(b.modelType),0==d&&(d=a.label.localeCompare(b.label)));return d});this.selectTemplateModelWidget.store.setData(a);
this.selectTemplateModelWidget.reset()}))}})})},"ebPlatformWidgets/Evento/Communication/EditBarCodeSectionDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-style dojo/text!./templates/EditBarCodeSectionDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs ebPlatform/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([h,b],{mouseAnim:null,templateString:f,baseClass:"editBarCodeSectionDialogContentWidget",parentWidget:null,additionalMessages:null,doOnSelection:null,barCodeTitleWidget:null,hideBarCodeTitleWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:B,commonMessages:z,postCreate:function(){this.inherited(arguments);this.barCodeTitleWidget=new m({},this.barCodeTitleNode);this.hideBarCodeTitleWidget=new u({},this.hideBarCodeTitleNode);this.cancelBtnWidget=
new w({label:z.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new w({label:z.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e={barCodeTitle:this.barCodeTitleWidget.get("value"),hideBarCodeTitle:this.hideBarCodeTitleWidget.get("checked")};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.saveBtnNode)},reset:function(){this.barCodeTitleWidget.set("value",
"");this.hideBarCodeTitleWidget.set("checked",!1)},impostaTesto:function(a,b){this[a+"Widget"].set("value",b)},impostaCheckBox:function(a,b){this[a+"Widget"].set("checked",b)},impostaPlaceHolders:function(){this.barCodeTitleWidget.set("placeHolder",this.additionalMessages.barCodeTitleText)}})})},"ebPlatformWidgets/Dialogs/SceltaEmailDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/ready dojo/request dojo/dom-style dijit/_WidgetBase dijit/form/Button ebPlatform/commonDialogs ebPlatform/stato ebPlatformWidgets/Dialogs/CustomizedI18nDialogWidget ebPlatformWidgets/Dialogs/SceltaEmailDialogWidget/RigaEmailWidget dijit/layout/ContentPane dojo/i18n dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Communication/nls/CommunicationWidget dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([f],{baseClass:"sceltaEmailDialogWidget",idTemplate:null,idPersona:null,tipoEmail:null,messages:null,dialogWidget:null,vociContentPaneWidget:null,bottoniContentPaneWidget:null,procediBtn:null,cancellaBtn:null,postCreate:function(){this.dialogWidget=new m({title:this.messages.lblChoseEmailDialogTitle,baseClass:this.baseClass});this.vociContentPaneWidget=new w({});this.dialogWidget.addChild(this.vociContentPaneWidget);this.bottoniContentPaneWidget=
new w({"class":"buttonsContainer"});this.procediBtn=h({label:x.lblProcediButton,onClick:a.hitch(this,function(){this.spedisci()})});this.cancellaBtn=h({label:x.lblChiudiButton,onClick:a.hitch(this,function(){this.dialogWidget.hide()})});this.bottoniContentPaneWidget.addChild(this.procediBtn);this.bottoniContentPaneWidget.addChild(this.cancellaBtn);this.dialogWidget.addChild(this.bottoniContentPaneWidget);e.set(this.dialogWidget.closeButtonNode,"display","none")},visualizzaSceltePer:function(e){this.idPersona=
e;l.post("/getEmailPianificatePersona.plp",{data:{idPersona:e},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){var e=a.result||a;"OK"==e.resultCode?(this.creaVoci(a),this.dialogWidget.show()):e.msg?b.showInfoWithCloseButton(e.msg,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton):b.showInfoWithCloseButton(x.msgErroreServer,y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton)}),a.hitch(this,function(a){b.showInfoWithCloseButton(x.msgErroreServer,
y.footerInc.lblErrorMsgDialogTitle,x.lblOKButton)}))},aggiornaStato:function(a,b){this.idTemplate!=a&&(console.log("AGGIORNA STATO",a),this.idTemplate=a,this.tipoEmail=b)},creaVoci:function(b){this.vociContentPaneWidget.destroyDescendants();var e=new w({content:z.lblInvitationsTitle,"class":"testata"});this.vociContentPaneWidget.addChild(e);b.iscritto?this.vociContentPaneWidget.addChild(new w({content:B.msgSendInviteActionDisabledRegisteredUserTitle})):k.forEach(b.inviti,a.hitch(this,function(a){a=
new u({parentWidget:this,idTemplate:a.template.idEmailTemplate,label:a.nome,checked:!1,tipo:"invito"});this.vociContentPaneWidget.addChild(a)}));e=new w({content:z.lblOtherCommunicationsTitle,"class":"testata"});this.vociContentPaneWidget.addChild(e);k.forEach(b.generiche,a.hitch(this,function(a){a=new u({parentWidget:this,idTemplate:a.template.idEmailTemplate,label:a.nome,checked:!1,tipo:"generica"});this.vociContentPaneWidget.addChild(a)}));b.iscritto&&(b=new w({content:z.lblConfirmationsTitle,
"class":"testata"}),this.vociContentPaneWidget.addChild(b),b=new u({parentWidget:this,idTemplate:-1,label:z.registrationConfirmationEmail.lblMainTitle,checked:!1,tipo:"conferma"}),this.vociContentPaneWidget.addChild(b))},spedisci:function(){this.dialogWidget.hide();console.log("INVIA Email ",this.idPianificazione," A ",this.idPersona);-1<this.idTemplate?l.post("/sendEmailInvitoToPersona.plp",{data:{idEvento:r.evento.stato.idEvento,idPersona:this.idPersona,idTemplate:this.idTemplate},handleAs:"json",
headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;"OK"==a.resultCode?b.showInfo("invito"==this.tipoEmail?this.messages.msgDialogInvitoInviato:this.messages.msgDialogGenericEmailInviata,"invito"==this.tipoEmail?this.messages.lblSendInviteDialogTitle:this.messages.lblSendGenericEmailDialogTitle,!1,null,2E3,!0):b.showInfoWithCloseButton(a.msg||this.messages.msgDialogProblemiInvioEmail,this.messages.lblDialogProblemiInvioEmailTitle,x.lblOKButton)}),
a.hitch(this,function(a){b.showError(this.messages.msgDialogProblemiInvioEmail)})):l.post("/sendEmailConfermaIscrizioneToPersona.plp",{data:{idEvento:r.evento.stato.idEvento,idPersona:this.idPersona},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?b.showInfo(this.messages.msgSentRegConfirmationDialogMsg):b.showError(this.messages.msgProblemSendingRegConfirmationDialogMsg)}),a.hitch(this,function(a){b.showError(this.messages.msgProblemSendingRegConfirmationDialogMsg)}))}})})},
"ebPlatform/dojo/store/Memory":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/json","dojo/store/Memory"],function(q,a,k,n,l){return q([l],{put:function(e,f){var h=e.parent;if(f)if(f.parent&&(e.parent=f.parent.id,f.before||this.remove(e.id)),f.before||f.parent&&f.oldParent&&f.parent.id!=f.oldParent.id){var b=function(a,e,f){e in a&&k.forEach(a[e],function(e){f[index[e]]=k.filter(data,function(a){return a.id==e})[0];e in a&&b(a,e,f)})},l=function(a,b){return b in
a?(ret=a[b].length,k.forEach(a[b],function(b){ret+=l(a,b)}),ret):0};data=this.data;index=this.index;idProperty=this.idProperty;var m=e[idProperty]=f&&"id"in f?f.id:idProperty in e?e[idProperty]:Math.random();if(m in index&&f.before.id in index&&index[f.before.id]==index[m]+1)return this.inherited(arguments);var n={};k.forEach(data,function(a){n[a.parent]||(n[a.parent]=[]);n[a.parent].push(a.id)});var w=l(n,m),q=[];0<w&&(b(n,m,q),q=k.filter(q,function(a){return!!a}));console.log("listaOrdinataFigli",
q);m in index&&(this.remove(m),0<w&&k.forEach(q,a.hitch(this,function(a){a&&this.remove(a.id)})));index=this.index;m=f.before?index[f.before.id]:index[f.parent.id]+1;0==w?data.splice(m,0,e):data.splice.apply(data,[m,0,e].concat(q));this.setData(data);var y=1;k.forEach(data,function(a){a.parent==e.parent&&(a.subPosition=y++)});h&&(y=1,k.forEach(data,function(a){a.parent==h&&(a.subPosition=y++)}));console.log("data",data)}else f.overwrite&&(e.subPosition=1);return this.inherited(arguments)},remove:function(a){this.inherited(arguments)}})})},
"ebPlatformWidgets/Evento/Social/SocialSetupWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/dom-construct dojo/text!./templates/SocialSetupWidget.html ebPlatform/stato ebPlatform/commonDialogs ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Social/ShareWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/SocialSetupWidget".split(" "),function(q,a,k,n,l,e,f,h,b,r,m,u){return q([h],{templateString:l,baseClass:"socialSetupWidget",
appWidget:null,parentWidget:null,stato:null,hasToolbar:!1,shareWidget:null,messages:u,postCreate:function(){},hasToLoadData:function(){return!0},loadData:function(){return k.get("/getSocialSetup.plp",{query:{idEvento:e.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,function(){this.shareWidget&&this.shareWidget.destroyRecursive();var e=n.create("div",{},this.socialPluginContainerNode);
this.shareWidget=new b({networks:["linkedin","twitter","facebook","googleplus","pinterest"],theme:"square",title:this.stato.nomeEvento+" - Eventboost",urlToShare:this.stato.publicEventPageURL,pageDesc:this.stato.descrizione,pageImage:this.stato.immagine,doOnDisabled:a.hitch(this,function(){f.showInfoWithCloseButton(u.msgNoSocialWithoutEventPage,r.footerInc.lblWarningMsgDialogTitle,m.lblOKButton)}),enabled:this.stato.abilitato},e)}),a.hitch(this,function(){ebLogger.debug("SocialSetupWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){f.hideLoading()})}})})},
"ebPlatformWidgets/Evento/EventDetails/EventDetailsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/Deferred dojo/store/Memory dojo/request dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/topic dojo/date dojo/date/locale dojo/query dojo/window dojo/text!./templates/EventDetailsWidget.html dojox/validate dojox/validate/web dijit/layout/ContentPane dijit/form/Form dijit/form/ValidationTextBox dijit/form/MultiSelect dijit/form/FilteringSelect dijit/form/Select dijit/form/Textarea dijit/form/CheckBox dijit/form/Button dijit/form/NumberTextBox dijit/Calendar put-selector/put ebPlatformWidgets/CustomTooltip 3rdparty/external!google.maps ebPlatform/stato ebPlatform/commonDialogs ebPlatform/utility ebPlatform/logger! ebPlatformWidgets/Dialogs/EditI18LabelDialogWidget ebPlatformWidgets/Form/utility ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Form/I18TextBox ebPlatformWidgets/Form/RichTextBoxWidget ebPlatformWidgets/Form/ToggleButtonWidget ebPlatformWidgets/Form/AlwaysVisibleInvalidMessageValidationTextBox ebPlatformWidgets/Form/MultiLanguageSelectionWidget ebPlatformWidgets/Form/MultiLanguageTextWidget ebPlatform/i18n ./AdditionalInfoDialogWidget ./DatesTimeSlotsWidget ./RegistrationClosingDeadlineWidget ./ChangeTimeZoneDialogWidget dojo/i18n dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventDetailsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O,V,U,da,ka,P,ma,ha,ja,la,ba){return q([X],{templateString:z,baseClass:"eventDetailsWidget",hasToolbar:!0,infoGraphicCode:"evento.eventDetails",appWidget:null,parentWidget:null,countriesStore:null,italianRegionsStore:null,provincesStore:null,calendarMode:"add",dateToEdit:null,geocoder:null,map:null,languagesWidget:null,languagesTooltipWidget:null,headerToolbar:null,footerToolbar:null,formWidget:null,
nameWidget:null,namesWidget:null,editEventNameBtn:null,hashtagWidget:null,privateWidget:null,eventVisibilityTooltipWidget:null,paymentWidget:null,registrationWidget:null,allowPartnersWidget:null,partnersTypeWidget:null,partnersNumberWidget:null,partnersRegistrationWidget:null,internationalWidget:null,locationFormWidget:null,locationSwitchWidget:null,venueWidget:null,countryWidget:null,addressWidget:null,zipWidget:null,cityWidget:null,provinceWidget:null,regionWidget:null,stateProvinceWidget:null,
addDateWidget:null,calendarWidget:null,datesTimeSlotsWidget:null,changeTimeZoneDialogWidget:null,registrationClosingDeadlineSwitchWidget:null,registrationClosingDeadlineWidget:null,organizerDetailsSwitchWidget:null,organizerDetailsFormWidget:null,organizerName:null,organizerContactPerson:null,organizerTel1:null,organizerTel2:null,organizerEmail:null,organizerWebsite:null,eventDescriptionSwitchWidget:null,eventDescriptionWidget:null,tagYourEventSwitchWidget:null,eventTagsWidget:null,additionalInfoDialog:null,
messages:ba,commonMessages:ja,getToolbarConfig:function(){return{buttons:[{type:"dijit/form/Button",options:{label:ja.lblSalvaButton,action:a.hitch(this,this.save),"class":"saveBtn",disabled:!0,code:"save"}}]}},getHeaderToolbar:function(){this.headerToolbar||(this.headerToolbar=new ca({toolbarConfig:this.getToolbarConfig()}));return this.headerToolbar},getFooterToolbar:function(){this.footerToolbar||(this.footerToolbar=new ca({toolbarConfig:this.getToolbarConfig()}));return this.footerToolbar},postCreate:function(){this.inherited(arguments);
R.debug("postCreate");this.formWidget=new C({},this.formNode);this.initEventLanguagesSection();this.initEventNameSection();this.initEventHashtagSection();this.initPrivateEventSection();this.initEventOptionsSection();this.initEventLocationSection();this.initEventDatesTimeSlotsSection();this.initRegistrationClosingDeadlineSection();this.initOrganizerDetailsSubSection();this.initEventDescriptionSection();this.initTagYourEventSection();this.additionalInfoDialog=new da({parentWidget:this});this.aggiornaVisibilitaLocation();
this.aggiornaVisibilitaRegistrationClosingDeadline();this.aggiornaVisibilitaOrganizer();this.aggiornaVisibilitaEventDescription();this.aggiornaVisibilitaYourEvent()},hasToLoadData:function(){return!0},loadData:function(){return f.get("/getEventDetails.plp",{query:{idEvento:K.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},processLoadedData:function(a){R.debug("processLoadedData",a);a.data.lingue=k.map(a.data.lingue,function(a){var b=K.getLinguaById(a.lingua.idLingua)||
a.lingua;return{idLinguaEvento:a.idLinguaEvento,lingua:a.lingua,idLingua:a.lingua.idLingua,locale:a.locale.toLowerCase().replace("_","-"),ordinamento:b.ordinamento,eliminabile:a.eliminabile,customEventPageUrl:a.customEventPageUrl}});a.data.lingue.sort(function(a,b){return a.ordinamento-b.ordinamento});R.debug("lingue",a.data.lingue);a.data.descrizioni=k.map(a.data.descrizioni,function(a){var b=K.getLinguaById(a.lingua.idLingua)||a.lingua;return{idDescrizioneEvento:a.idDescrizioneEvento,idLingua:b.idLingua,
descrizione:a.descrizione,testoData:a.testoData,ordinamento:b.ordinamento}});a.data.descrizioni.sort(function(a,b){return a.ordinamento-b.ordinamento});return a.data},initEventLanguagesSection:function(){var b=this.stato.get("languages")&&0<this.stato.get("languages").length?this.stato.get("languages"):K.commons.data.customerDefaults.idLinguaDefaultEventi?[{idLingua:K.commons.data.customerDefaults.idLinguaDefaultEventi,locale:K.commons.data.customerDefaults.localeDefaultEventi}]:[];this.stato.set("languages",
b);this.languagesWidget=new O({mode:"multi",value:this.stato.get("languages"),onChange:a.hitch(this,function(a){R.debug("newValue",a);this.stato.set("languages",a);this.namesWidget.set("languages",a);if(this.languagesWidget.get("value")&&0<this.languagesWidget.get("value").length){this.eventDescriptionWidget.creaStato(this.stato.get("languages"));this.aggiornaLingueDescription();this.changeTimeZoneDialogWidget.customDateTextWidget.creaStato(this.stato.get("languages"));this.changeTimeZoneDialogWidget.aggiornaLingueCustomDate();
h.set(this.activeLanguagesTitleNode,"display","inline");h.set(this.activeLanguagesNode,"display","inline");1<this.languagesWidget.get("value").length?y(".datesTimeSlotsWidget",this.domNode).removeClass("mono"):y(".datesTimeSlotsWidget",this.domNode).addClass("mono");var b="",d="";k.forEach(a.sort(function(a,b){var d=0;a.locale<b.locale?d=-1:a.locale>b.locale&&(d=1);return d}),function(a){b+=d+U.lingueStore.get(a.idLingua).iso639_1_uc;d=",\x26nbsp;"});this.activeLanguagesNode.innerHTML=b}else h.set(this.activeLanguagesTitleNode,
"display","none"),h.set(this.activeLanguagesNode,"display","none"),this.activeLanguagesNode.innerHTML=""})},this.eventLanguagesNode);this.languagesTooltipWidget=new F({label:ba.lblLanguageMultiTip,connectId:[this.eventLanguagesTooltipNode]},this.eventLanguagesTooltipNode)},initEventNameSection:function(){this.nameWidget=new Q({maxChars:75,required:!0,value:this.stato.get("name"),onChange:a.hitch(this,function(b){this.stato.set("name",b);this.namesWidget.set("placeHolder",b);require(["xregexp"],a.hitch(this,
function(){var a=new XRegExp("[^#\\d\\p{Alphabetic}]","g");this.nameWidget!=b&&this.hashtagWidget.set("value","#"+XRegExp.replace(b,a,"").toLowerCase())}))})},this.eventNameNode);var b=aa(this.nameWidget.remainingCharsNode,"-span.helpTip","?");new F({label:ba.msgEventNameTip,connectId:[b]},b);var d=this.stato;this.namesWidget=new Z({placeHolder:this.stato.get("name"),countChars:!0,maxLength:75,onChange:function(b){var e=a.clone(b),f=[];k.forEach(d.get("names"),function(a,b){e[a.lingua.idLingua]&&
(a.nome=e[a.lingua.idLingua],f.push(a),d.set("dirty",!0));delete e[a.lingua.idLingua]});for(var h in e)e[h]&&f.push({nome:e[h],lingua:{idLingua:h}}),d.set("dirty",!0);d.set("names",f)}},this.eventI18NameNode);b=aa(this.namesWidget.domNode,"+span.helpTip","?");new F({label:ba.msgEventNamesTip,connectId:[b]},b)},initEventHashtagSection:function(){this.hashtagWidget=new Q({tooltip:ba.msgEventHashtagTip,required:!1,value:this.stato.get("hashtag"),invalidMessage:"Hashtag must ....",onChange:a.hitch(this,
function(){this.stato.set("hashtag",this.hashtagWidget.get("value"))})},this.eventHashtagNode);this.hashtagWidget.validator=function(a,b){if(""==a)return!0;var d=new XRegExp("^#[^\\d][\\p{Alphabetic}\\d]+$");return 0==a.indexOf("#")&&-1==a.indexOf(" ")&&d.test(a)}},initPrivateEventSection:function(){var b=new e({idProperty:"val",data:[{val:!0,label:ba.lblEventVisibilityType_Private},{val:!1,label:ba.lblEventVisibilityType_Public}]});this.privateWidget=new E({value:this.stato.get("private"),placeHolder:ba.lblEventVisibilityTypePlaceHolder,
store:b,searchAttr:"label",labelAttr:"label",required:!0,onChange:a.hitch(this,function(a){this.stato.set("private",a)})},this.privateEventNode);this.eventVisibilityTooltipWidget=new F({label:ba.lblEventVisibilityTypeTip,connectId:[this.eventVisibilityTooltipNode]},this.eventVisibilityTooltipNode);R.debug("DELAY ATTUALE",this.eventVisibilityTooltipWidget.get("showDelay"))},initEventOptionsSection:function(){this.registrationWidget=new S({disabled:K.evento.statoCalcolato.eventoIniziato,onChange:a.hitch(this,
function(a){this.stato.set("registration",this.registrationWidget.get("checked")?"automatica":"nessuna");a||this.allowPartnersWidget.set("checked",!1);h.set(this.partnerAllowContainerNode,"display",a&&!this.stato.get("payment")?"block":"none");a=a&&this.allowPartnersWidget.get("checked");h.set(this.partnerTypeContainerNode,"display",a?"block":"none");h.set(this.partnerNumberContainerNode,"display",a?"inline-block":"none")})},this.registrationNode);this.registrationTooltipWidget=new F({label:ba.msgEventTypeRegistrationTip,
connectId:[this.eventRegistrationTooltipNode]},this.eventRegistrationTooltipNode);this.paymentWidget=new S({disabled:!0,onChange:a.hitch(this,function(a){this.stato.set("payment",this.paymentWidget.get("checked"));this.paymentWidget.get("checked")&&this.registrationWidget.set("checked",!0)})},this.paymentNode);this.allowPartnersWidget=new S({disabled:K.evento.statoCalcolato.eventoIniziato,onChange:a.hitch(this,function(b){b?(this.stato.set("dirty",!0),h.set(this.partnerTypeContainerNode,"display",
"block"),this.partnersTypeWidget.set("disabled",!1),this.partnersTypeWidget.set("required",!0)):"PROFILATI"==K.evento.stato.event_details.partnersType||"NON_PROFILATI"==K.evento.stato.event_details.partnersType?(T.setUpConfirmDialog(la.footerInc.lblWarningMsgDialogTitle,ba.msgPartnersConfirmDelete,null,a.hitch(this,function(){this.stato.set("dirty",!0);h.set(this.partnerTypeContainerNode,"display","none");this.partnersTypeWidget.reset();this.partnersTypeWidget.set("disabled",!0);this.partnersTypeWidget.set("required",
!1);h.set(this.partnerNumberContainerNode,"display","none");this.partnersNumberWidget.reset();this.partnersNumberWidget.set("disabled",!0);this.partnersNumberWidget.set("required",!1);h.set(this.partnerRegistrationContainerNode,"display","none");this.partnersRegistrationWidget.reset();this.partnersRegistrationWidget.set("disabled",!0);this.partnersRegistrationWidget.set("required",!1)}),a.hitch(this,function(){this.allowPartnersWidget.set("checked",!0,!1);this.registrationWidget.set("checked",!0)}),
null),T.showConfirm()):(this.stato.set("dirty",!0),h.set(this.partnerTypeContainerNode,"display","none"),this.partnersTypeWidget.reset(),this.partnersTypeWidget.set("disabled",!0),this.partnersTypeWidget.set("required",!1),h.set(this.partnerNumberContainerNode,"display","none"),this.partnersNumberWidget.reset(),this.partnersNumberWidget.set("disabled",!0),this.partnersNumberWidget.set("required",!1),h.set(this.partnerRegistrationContainerNode,"display","none"),this.partnersRegistrationWidget.reset(),
this.partnersRegistrationWidget.set("disabled",!0),this.partnersRegistrationWidget.set("required",!1))})},this.partnersNode);this.allowPartnersTooltipWidget=new F({label:ba.msgPartnersTip,connectId:[this.partnersTooltipNode]},this.partnersTooltipNode);this.partnersTypeWidget=new E({disabled:K.evento.statoCalcolato.eventoIniziato,searchAttr:"label",labelAttr:"label",placeHolder:ba.lblPartnersTypeNone,store:new e({data:[{label:ba.lblPartnersWithProfile,id:"PROFILATI"},{label:ba.lblPartnersNoProfile,
id:"NON_PROFILATI"}]}),onChange:a.hitch(this,function(b){!b||b==K.evento.stato.event_details.partnersType||"PROFILATI"!=K.evento.stato.event_details.partnersType&&"NON_PROFILATI"!=K.evento.stato.event_details.partnersType?(this.stato.set("partnersType",b),h.set(this.partnerNumberContainerNode,"display",this.allowPartnersWidget.get("checked")&&this.partnersTypeWidget.isValid()?"inline-block":"none"),this.partnersNumberWidget.set("disabled",!(this.partnersTypeWidget.get("value")&&this.partnersTypeWidget.isValid())),
this.partnersNumberWidget.set("required",!!this.partnersTypeWidget.get("value")&&this.partnersTypeWidget.isValid()),h.set(this.partnerRegistrationContainerNode,"display",this.allowPartnersWidget.get("checked")&&"PROFILATI"==this.partnersTypeWidget.get("value")?"block":"none"),this.partnersRegistrationWidget.reset(),this.partnersRegistrationWidget.set("disabled","PROFILATI"!=this.partnersTypeWidget.get("value")),this.partnersRegistrationWidget.set("required","PROFILATI"==this.partnersTypeWidget.get("value"))):
(T.setUpConfirmDialog(la.footerInc.lblWarningMsgDialogTitle,ba.msgPartnersConfirmDelete,null,a.hitch(this,function(){this.stato.set("partnersType",b);h.set(this.partnerNumberContainerNode,"display",this.allowPartnersWidget.get("checked")&&this.partnersTypeWidget.isValid()?"inline-block":"none");this.partnersNumberWidget.set("disabled",!(this.partnersTypeWidget.get("value")&&this.partnersTypeWidget.isValid()));this.partnersNumberWidget.set("required",!!this.partnersTypeWidget.get("value")&&this.partnersTypeWidget.isValid());
h.set(this.partnerRegistrationContainerNode,"display",this.allowPartnersWidget.get("checked")&&"PROFILATI"==this.partnersTypeWidget.get("value")?"block":"none");this.partnersRegistrationWidget.reset();this.partnersRegistrationWidget.set("disabled","PROFILATI"!=this.partnersTypeWidget.get("value"));this.partnersRegistrationWidget.set("required","PROFILATI"==this.partnersTypeWidget.get("value"))}),a.hitch(this,function(){this.partnersTypeWidget.set("value",this.stato.get("partnersType"),!1)}),null),
T.showConfirm())})},this.partnersTypeNode);this.partnersNumberWidget=new L({disabled:K.evento.statoCalcolato.eventoIniziato,constraints:{min:1,max:100,fractional:!1},onChange:a.hitch(this,function(a){this.stato.set("maxPartners",a)})},this.partnersNumberNode);this.partnersRegistrationWidget=new S({disabled:K.evento.statoCalcolato.eventoIniziato,onChange:a.hitch(this,function(a){this.stato.set("allowPartnersSession",a)})},this.partnersRegistrationNode);this.partnersRegistrationTooltipWidget=new F({label:ba.msgPartnersRegistrationTip,
connectId:[this.partnersRegistrationTooltipNode]},this.partnersRegistrationTooltipNode)},initEventLocationSection:function(){this.locationFormWidget=new C({},this.locationFormNode);this.locationSwitchWidget=new W({id:"locationSwitchWidget",img:"/img/btn/btn_location.png",imgChecked:"/img/btn/btn_location_checked.png",label:ba.lblEventLocationBoxTitle,caption:ba.msgEventLocationBoxText,hoverLabel:ba.lblEventLocationBoxTitle,hoverCaption:ba.msgEventLocationBoxHoverText,onChange:a.hitch(this,function(a){this.aggiornaVisibilitaLocation()}),
validate:a.hitch(this,function(){return this.locationFormWidget.validate()}),focus:a.hitch(this,function(){this.locationSwitchWidget.set("checked",!0);this.locationFormWidget.validate()})},this.locationSwitchNode);this.countriesStore=new e({idProperty:"idNazione",data:K.commons.data.countries});this.idNazioneItalia=0;this.countriesStore.query({iso31661alpha2:"IT"}).forEach(a.hitch(this,function(a){this.idNazioneItalia=a.idNazione}));this.italianRegionsStore=new e({idProperty:"idRegione",data:K.commons.data.italianRegions});
this.provincesStore=new e({idProperty:"idProvincia",data:K.commons.data.provinces});this.venueWidget=new p({required:!1,placeHolder:ba.lblEventVenuePlaceHolder,value:this.stato.get("venue"),onChange:a.hitch(this,function(){this.stato.set("venue",this.venueWidget.get("value"))})},this.venueNode);var b;b=null!=this.stato.get("country")&&""!=this.stato.get("country")?this.stato.get("country"):null!=K.commons.data.customerDefaults.idNazione?K.commons.data.customerDefaults.idNazione:this.idNazioneItalia;
this.stato.set("country",b);this.countryWidget=new E({store:this.countriesStore,searchAttr:"nome",labelAttr:"nome",value:b,placeHolder:ba.lblEventCountrySelectPlaceHolder,onChange:a.hitch(this,function(a){this.stato.set("country",this.countryWidget.get("value"));this.aggiornaVisibilitaRegioneProvincia(a==this.idNazioneItalia)})},this.countryNode);this.addressWidget=new p({required:!0,missingMessage:ja.validateMissingMessage,value:this.stato.get("address"),onChange:a.hitch(this,function(){this.stato.set("address",
this.addressWidget.get("value"));this.aggiornaLatLang()})},this.addressNode);this.zipWidget=new p({name:"zip",required:!0,missingMessage:ja.validateMissingMessage,value:this.stato.get("zip"),onChange:a.hitch(this,function(){this.stato.set("zip",this.zipWidget.get("value"));this.aggiornaLatLang()})},this.zipNode);this.cityWidget=new p({required:!0,missingMessage:ja.validateMissingMessage,value:this.stato.get("city"),onChange:a.hitch(this,function(){this.stato.set("city",this.cityWidget.get("value"));
this.aggiornaLatLang()})},this.cityNode);this.regionWidget=new E({parentWidget:this,store:this.italianRegionsStore,searchAttr:"nome",labelAttr:"nome",value:this.stato.get("region"),placeHolder:ba.lblEventRegionSelectPlaceHolder,onChange:function(a){this.parentWidget.provinceWidget.query.idRegione=this.item.idRegione||/.*/;this.parentWidget.stato.set("regione",this.get("value"))}},this.regionNode);this.provinceWidget=new E({parentWidget:this,store:this.provincesStore,searchAttr:"nome",labelAttr:"nome",
value:this.stato.get("province"),placeHolder:ba.lblEventProvinceSelectPlaceHolder,onChange:function(a){this.parentWidget.regionWidget.set("value",this.item.idRegione);this.parentWidget.stato.set("province",this.get("value"))}},this.provinceNode);this.stateProvinceWidget=new p({value:this.stato.get("stateProvince"),onChange:a.hitch(this,function(){this.stato.set("stateProvince",this.stateProvinceWidget.get("value"))})},this.stateProvinceNode);this.aggiornaVisibilitaRegioneProvincia(this.stato.get("country")==
this.idNazioneItalia);J&&(this.geocoder=new J.Geocoder)},initEventDatesTimeSlotsSection:function(){this.addDateWidget=new W({disabled:!!K.evento.statoCalcolato.demoShopifyEvent,img:"/img/btn/btn_calendar.png",imgChecked:"/img/btn/btn_calendar_checked.png",label:ba.lblEventDateTimeSlotsBoxTitle,caption:ba.msgEventDateTimeSlotsBoxText,hoverLabel:ba.lblEventDateTimeSlotsBoxTitle,hoverCaption:ba.msgEventDateTimeSlotsBoxHoverText,onChange:a.hitch(this,function(a){a?this.datesTimeSlotsWidget.validate()||
0==this.stato.dates.length?this.showCalendar():(T.showInfoWithCloseButton(ba.msgFillStartEndTimeWarningOnAddDate,la.footerInc.lblWarningMsgDialogTitle,ja.lblOKButton),this.addDateWidget.set("checked",!1)):(this.dateToEdit=null,this.calendarMode="add",this.hideCalendar())})},this.addDateNode);this.datesTimeSlotsWidget=new ka({readOnly:!!K.evento.statoCalcolato.demoShopifyEvent,parentWidget:this,stato:this.stato},this.datesTimeSlotsContainerNode);this.calendarWidget=new N({onChange:a.hitch(this,function(a){this.processSelectedDate(a);
this.calendarMode="add"}),isDisabledDate:a.hitch(this,function(a,b){var d;d=K.evento.statoCalcolato.todayStr?D.parse(K.evento.statoCalcolato.todayStr,{selector:"date",datePattern:"yyyy-MM-dd"}):D.parse(D.format(new Date,{selector:"date",datePattern:"yyyy-MM-dd"}),{selector:"date",datePattern:"yyyy-MM-dd"});d=0>=a-d;var e=D.format(a,{selector:"date",datePattern:"yyyy-MM-dd"}),f=k.some(this.stato.dates,function(a){return a.date==e}),h=!1;this.dateToEdit&&(e=D.format(a,{selector:"date",datePattern:"yyyy-MM-dd"}),
h=e==this.dateToEdit.date);var A;A="SINGOLO"==K.evento.stato.event_subscription.tipo||"SINGOLO_500"==K.evento.stato.event_subscription.tipo||"DEMO"==K.evento.stato.event_subscription.tipo?w.add(w.add(new Date,"year",1),"day",-1):new Date(D.format(new Date(K.evento.stato.event_subscription.dataFine),{selector:"date",datePattern:"yyyy-MM-dd"}));A=a.getTime()>A.getTime();return(d||f||A)&&!h})},this.calendarNode);this.calendarWidget.startup();this.btnChangeTimezoneWidget=new d({onClick:a.hitch(this,function(){this.changeTimeZoneDialogWidget.show()})},
this.btnChangeTimezoneNode);this.changeTimeZoneDialogWidget=new ma({stato:this.stato});u.subscribe("DatesTimeSlotsWidget.DateUpdate",a.hitch(this,function(a){"add"!=a.updateType&&"remove"!=a.updateType||this.aggiornaLabelAddDateWidget()}))},initRegistrationClosingDeadlineSection:function(){this.registrationClosingDeadlineSwitchWidget=new W({img:"/img/btn/btn_registrationclosing.png",imgChecked:"/img/btn/btn_registrationclosing_checked.png",label:ba.lblRegistrationClosingDeadlineBoxTitle,caption:ba.msgRegistrationClosingDeadlineBoxText,
hoverLabel:ba.lblRegistrationClosingDeadlineBoxTitle,hoverCaption:ba.msgRegistrationClosingDeadlineBoxHoverText,onChange:a.hitch(this,function(a){this.aggiornaVisibilitaRegistrationClosingDeadline()})},this.registrationClosingDateBtnNode);this.registrationClosingDeadlineWidget=new P({parentWidget:this,stato:this.stato},this.registrationClosingDeadlineNode)},initOrganizerDetailsSubSection:function(){this.orgaizerDetailsFormWidget=new C({},this.locationFormNode);this.organizerDetailsSwitchWidget=new W({"class":"organizerDetailsSwitch",
img:"/img/btn/btn_eventdescription.png",imgChecked:"/img/btn/btn_eventdescription_checked.png",label:ba.lblOrganizerDetailsBoxTitle,caption:ba.msgOrganizerDetailsBoxText,hoverLabel:ba.lblOrganizerDetailsBoxTitle,hoverCaption:ba.msgOrganizerDetailsBoxHoverText,onChange:a.hitch(this,function(a){this.aggiornaVisibilitaOrganizer()})},this.organizerDetailsBtnNode);this.organizerNameWidget=new p({required:!1,value:this.stato.get("organizerName"),onChange:a.hitch(this,function(){this.stato.set("organizerName",
this.organizerNameWidget.get("value"))})},this.organizerNameNode);this.organizerContactPersonWidget=new p({required:!1,value:this.stato.get("organizerContactPerson"),onChange:a.hitch(this,function(){this.stato.set("organizerContactPerson",this.organizerContactPersonWidget.get("value"))})},this.organizerContactPersonNode);this.organizerTel1Widget=new p({required:!1,value:this.stato.get("organizerTel1"),onChange:a.hitch(this,function(){this.stato.set("organizerTel1",this.organizerTel1Widget.get("value"))})},
this.organizerTel1Node);this.organizerTel2Widget=new p({required:!1,value:this.stato.get("organizerTel2"),onChange:a.hitch(this,function(){this.stato.set("organizerTel2",this.organizerTel2Widget.get("value"))})},this.organizerTel2Node);this.organizerEmailWidget=new A({required:!1,placeholder:ba.lblEventEmailPlaceHolder,invalidMessage:ba.msgInvalidEmailWarning,value:this.stato.get("organizerEmail"),onChange:a.hitch(this,function(){this.stato.set("organizerEmail",this.organizerEmailWidget.get("value"))})},
this.organizerEmailNode);this.organizerEmailWidget.validator=function(a,b){return""==a||this.focused?!0:dojox.validate.isEmailAddress(a,b)};this.organizerWebsiteWidget=new A({required:!1,placeholder:ba.lblEventWebsitePlaceHolder,invalidMessage:ba.msgInvalidWebsiteWarning,value:this.stato.get("organizerWebsite"),onChange:a.hitch(this,function(){this.stato.set("organizerWebsite",this.organizerWebsiteWidget.get("value"))})},this.organizerWebsiteNode);this.organizerWebsiteWidget.validator=function(a,
b){return""==a||this.focused?!0:dojox.validate.isUrl(a,b)&&"http://"!=a.toLowerCase().substr(0,7)}},initEventDescriptionSection:function(){this.eventDescriptionSwitchWidget=new W({img:"/img/btn/btn_organizerdetails.png",imgChecked:"/img/btn/btn_organizerdetails_checked.png",label:ba.lblEventDescriptionBoxTitle,caption:ba.msgEventDescriptionBoxText,hoverLabel:ba.lblEventDescriptionBoxTitle,hoverCaption:ba.msgEventDescriptionBoxHoverText,onChange:a.hitch(this,function(a){this.aggiornaVisibilitaEventDescription()})},
this.eventDescriptionBtnNode);var b={};k.forEach(K.commons.data.languages,function(a){b[a.idLingua]=ba.lblEventDescriptionPlaceHolder});this.eventDescriptionWidget=new V({required:!1,parentWidget:this,stato:this.stato.get("eventDescriptions"),placeHolders:b,withLinkPlugin:!0},this.eventDescriptionTextNode)},initTagYourEventSection:function(){this.tagYourEventSwitchWidget=new W({img:"/img/btn/btn_tag.png",imgChecked:"/img/btn/btn_tag_checked.png",label:ba.lblTagYourEventBoxTitle,caption:ba.msgTagYourEventBoxText,
hoverLabel:ba.lblTagYourEventBoxTitle,hoverCaption:ba.msgTagYourEventBoxHoverText,onChange:a.hitch(this,function(a){this.aggiornaVisibilitaYourEvent()})},this.tagYourEventBtnNode);this.eventTagsWidget=new M({required:!1,value:this.stato.get("eventTags"),placeholder:ba.msgEventTagsNote,onChange:a.hitch(this,function(){this.stato.set("eventTags",this.eventTagsWidget.get("value"))}),style:""},this.eventTagsTextNode)},updateUIByPermission:function(){0!=K.evento.stato.idEvento&&K.commons.permissions.canModifyEvent||
0==K.evento.stato.idEvento&&K.commons.permissions.canCreateEvent?(this.headerToolbar.enableByCode("save"),this.footerToolbar.enableByCode("save"),this.nameWidget.set("disabled",!1),this.namesWidget.set("disabled",!1),this.hashtagWidget.set("disabled",!1),this.privateWidget.set("disabled",!1),this.registrationWidget.set("disabled",this.stato.get("payment")),this.allowPartnersWidget.set("disabled",!1),this.partnersTypeWidget.set("disabled",!1),this.partnersNumberWidget.set("disabled",!1),this.venueWidget.set("disabled",
!1),this.countryWidget.set("disabled",!1),this.addressWidget.set("disabled",!1),this.zipWidget.set("disabled",!1),this.cityWidget.set("disabled",!1),this.regionWidget.set("disabled",!1),this.provinceWidget&&this.provinceWidget.set("disabled",!1),this.stateProvinceWidget&&this.stateProvinceWidget.set("disabled",!1),this.datesTimeSlotsWidget.set("disabled",!1),this.datesTimeSlotsWidget.set("readOnly",!!K.evento.statoCalcolato.demoShopifyEvent),this.addDateWidget.set("disabled",!!K.evento.statoCalcolato.demoShopifyEvent),
this.changeTimeZoneDialogWidget.set("disabled",!!K.evento.statoCalcolato.demoShopifyEvent),K.evento.statoCalcolato.demoShopifyEvent?h.set(this.demoAPagamentoNotesNode,"display","inline-block"):h.set(this.demoAPagamentoNotesNode,"display","none"),this.registrationClosingDeadlineWidget.set("disabled",!1),this.organizerNameWidget.set("disabled",!1),this.organizerContactPersonWidget.set("disabled",!1),this.organizerTel1Widget.set("disabled",!1),this.organizerTel2Widget.set("disabled",!1),this.organizerEmailWidget.set("disabled",
!1),this.organizerWebsiteWidget.set("disabled",!1),this.eventDescriptionWidget.set("disabled",!1),this.eventTagsWidget.set("disabled",!1)):(this.headerToolbar.disableByCode("save"),this.footerToolbar.disableByCode("save"),this.nameWidget.set("disabled",!0),this.namesWidget.set("disabled",!0),this.hashtagWidget.set("disabled",!0),this.privateWidget.set("disabled",!0),this.registrationWidget.set("disabled",!0),this.allowPartnersWidget.set("disabled",!0),this.partnersTypeWidget.set("disabled",!0),this.partnersNumberWidget.set("disabled",
!0),this.venueWidget.set("disabled",!0),this.countryWidget.set("disabled",!0),this.addressWidget.set("disabled",!0),this.zipWidget.set("disabled",!0),this.cityWidget.set("disabled",!0),this.regionWidget.set("disabled",!0),this.provinceWidget&&this.provinceWidget.set("disabled",!0),this.stateProvinceWidget&&this.stateProvinceWidget.set("disabled",!0),this.datesTimeSlotsWidget.set("disabled",!0),this.addDateWidget.set("disabled",!0),this.changeTimeZoneDialogWidget.set("disabled",!0),h.set(this.demoAPagamentoNotesNode,
"display","none"),this.registrationClosingDeadlineWidget.set("disabled",!0),this.organizerNameWidget.set("disabled",!0),this.organizerContactPersonWidget.set("disabled",!0),this.organizerTel1Widget.set("disabled",!0),this.organizerTel2Widget.set("disabled",!0),this.organizerEmailWidget.set("disabled",!0),this.organizerWebsiteWidget.set("disabled",!0),this.eventDescriptionWidget.set("disabled",!0),this.eventTagsWidget.set("disabled",!0));0!=K.evento.stato.idEvento&&(K.commons.permissions.canModifyEvent?
this.languagesWidget.set("disabled",!1):this.languagesWidget.set("disabled",!0));K.evento.statoCalcolato.eventoIniziato&&(this.registrationWidget.set("disabled",!0),this.allowPartnersWidget.set("disabled",!0),this.partnersTypeWidget.set("disabled",!0),this.partnersNumberWidget.set("disabled",!0))},processStatoShadow:function(){var a=Y.invertMapping(K.evento.mappings.event_date),b=Y.invertMapping(K.evento.mappings.event_timeSlot);K.evento.stato.event_details.dates=k.map(K.evento.stato.event_details.dates,
function(d){var e={};Y.copyTo(d,e,a);e.timeSlots=k.map(d.fasce,function(a){var d={};Y.copyTo(a,d,b);return d});return e});K.evento.stato.event_details.international=!!K.evento.stato.event_details.languages&&1<K.evento.stato.event_details.languages.length},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,function(){R.debug("[EventDetailsWidget]  AGGIORNA UI");var a;H.aggiornaValoreDaStato("name",this);var b={};k.forEach(this.stato.get("names"),function(a){b[a.lingua.idLingua]=
a.nome});this.namesWidget.set("value",b,!1);this.namesWidget.set("placeHolder",this.stato.get("name"));H.aggiornaValoreDaStato("hashtag",this);H.aggiornaValoreDaStato("private",this);R.debug("****** registration:",this.stato.get("registration"));this.registrationWidget.set("checked","automatica"==this.stato.get("registration"));this.stato.get("payment")&&this.registrationWidget.set("disabled",!0);this.paymentWidget.set("checked",this.stato.get("payment"));this.stato.get("payment")?(h.set(this.registrationContainerNode,
"display","none"),h.set(this.paymentContainerNode,"display","block")):(h.set(this.registrationContainerNode,"display","block"),h.set(this.paymentContainerNode,"display","none"));this.stato.get("registration");h.set(this.partnerAllowContainerNode,"display","automatica"!=this.stato.get("registration")||this.stato.get("payment")?"none":"block");this.allowPartnersWidget.set("checked",!!this.stato.get("partnersType"),!1);this.allowPartnersWidget.get("checked")?(this.partnersTypeWidget.set("value",this.stato.get("partnersType"),
!1),this.partnersNumberWidget.set("value",this.stato.get("maxPartners"),!1),this.partnersRegistrationWidget.set("value",this.stato.get("allowPartnersSession"),!1)):(this.partnersTypeWidget.reset(),this.partnersTypeWidget.set("required",!1),this.partnersNumberWidget.reset(),this.partnersNumberWidget.set("required",!1),this.partnersRegistrationWidget.reset(),this.partnersRegistrationWidget.set("required",!1));this.partnersTypeWidget.set("disabled",!this.allowPartnersWidget.get("checked"));this.partnersNumberWidget.set("disabled",
!this.allowPartnersWidget.get("checked"));this.partnersRegistrationWidget.set("disabled",!this.allowPartnersWidget.get("checked"));this.partnersRegistrationWidget.set("disabled",!this.allowPartnersWidget.get("checked")||"PROFILATI"!=this.partnersTypeWidget.get("value"));h.set(this.partnerTypeContainerNode,"display","automatica"==this.stato.get("registration")&&this.allowPartnersWidget.get("checked")?"block":"none");h.set(this.partnerNumberContainerNode,"display",this.allowPartnersWidget.get("checked")&&
this.stato.get("partnersType")?"inline-block":"none");h.set(this.partnerRegistrationContainerNode,"display","PROFILATI"==this.partnersTypeWidget.get("value")?"block":"none");R.debug("LANGUAGES:",this.stato.get("languages"),this.stato.languages);H.aggiornaValoreDaStato("languages",this);this.languagesWidget.set("mode","multi");this.languagesWidget.aggiornaUI();this.languagesWidget.set("deletable",!0);this.namesWidget.selectFirst();this.eventLanguagesLabelNode.innerHTML=ba.lblEventLanguages;this.languagesTooltipWidget.label=
ba.lblLanguageMultiTip;0!=K.evento.stato.idEvento&&(this.languagesDisabledTooltipWidget=new F({label:ba.lblLanguageMultiDisabledTip,connectId:[this.languagesWidget]}));H.aggiornaValoreDaStato("venue",this);H.aggiornaValoreDaStato("country",this);this.aggiornaVisibilitaRegioneProvincia(this.stato.get("country")==this.idNazioneItalia);H.aggiornaValoreDaStato("address",this);H.aggiornaValoreDaStato("zip",this);H.aggiornaValoreDaStato("city",this);H.aggiornaValoreDaStato("province",this);H.aggiornaValoreDaStato("region",
this);H.aggiornaValoreDaStato("stateProvince",this);this.stato.get("name")&&(this.locationSwitchWidget.set("checked",!0),this.aggiornaUIMappaDaStato());this.aggiornaLabelAddDateWidget();this.datesTimeSlotsWidget.aggiornaUI();0!=K.evento.stato.idEvento&&this.registrationClosingDeadlineSwitchWidget.set("checked",!0);this.registrationClosingDeadlineWidget.aggiornaUI();H.aggiornaValoreDaStato("organizerName",this);H.aggiornaValoreDaStato("organizerContactPerson",this);H.aggiornaValoreDaStato("organizerTel1",
this);H.aggiornaValoreDaStato("organizerTel2",this);H.aggiornaValoreDaStato("organizerEmail",this);H.aggiornaValoreDaStato("organizerWebsite",this);(this.stato.get("organizerName")||this.stato.get("organizerContactPerson")||this.stato.get("organizerTel1")||this.stato.get("organizerTel2")||this.stato.get("organizerEmail")||this.stato.get("organizerWebsite"))&&this.organizerDetailsSwitchWidget.set("checked",!0);H.aggiornaValoreDaStato("eventDescription",this);this.stato.languages&&1<this.stato.languages.length?
r.remove(this.eventDescriptionWidget.domNode,"mono"):r.add(this.eventDescriptionWidget.domNode,"mono");this.eventDescriptionWidget.set("stato",this.stato.get("eventDescriptions"));this.stato.get("eventDescriptions")&&(a=!1,k.forEach(this.stato.get("eventDescriptions"),function(b){b.descrizione&&(a=!0)}),this.eventDescriptionSwitchWidget.set("checked",a));this.eventDescriptionWidget.creaStato(this.stato.get("languages"));this.aggiornaLingueDescription();H.aggiornaValoreDaStato("eventTags",this);this.stato.get("eventTags")&&
this.tagYourEventSwitchWidget.set("checked",!0);this.stato.get("payment")?h.set(this.eventVisibilityContainerNode,"display","none"):h.set(this.eventVisibilityContainerNode,"display","block");this.updateUIByPermission()}),a.hitch(this,function(){console.error("EventDetailsWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){T.hideLoading()})},aggiornaVisibilitaLocation:function(){this.locationSwitchWidget.get("checked")?h.set(this.locationContainerNode,"display","block"):h.set(this.locationContainerNode,
"display","none")},aggiornaVisibilitaRegistrationClosingDeadline:function(){this.registrationClosingDeadlineSwitchWidget.get("checked")?h.set(this.registrationClosingDeadlineContainerNode,"display","block"):h.set(this.registrationClosingDeadlineContainerNode,"display","none")},aggiornaVisibilitaRegioneProvincia:function(a){a?(h.set(this.stateProvinceContainerNode,"display","none"),h.set(this.regionContainerNode,"display","block"),h.set(this.provinceContainerNode,"display","block"),this.regionWidget.set("required",
!0),this.provinceWidget.set("required",!0)):(h.set(this.stateProvinceContainerNode,"display","block"),h.set(this.regionContainerNode,"display","none"),h.set(this.provinceContainerNode,"display","none"),this.regionWidget.set("required",!1),this.provinceWidget.set("required",!1))},aggiornaVisibilitaOrganizer:function(){this.organizerDetailsSwitchWidget.get("checked")?h.set(this.organizerDetailsNode,"display","block"):h.set(this.organizerDetailsNode,"display","none")},aggiornaVisibilitaEventDescription:function(){this.eventDescriptionSwitchWidget.get("checked")?
this.languagesWidget.get("value")&&0<this.languagesWidget.get("value").length?(h.set(this.eventDescriptionNode,"display","block"),this.aggiornaLingueDescription()):(T.showInfoWithCloseButton(ba.msgAtLeastOneLanguageWarning,la.footerInc.lblWarningMsgDialogTitle,ja.lblOKButton),this.eventDescriptionSwitchWidget.set("checked",!1)):h.set(this.eventDescriptionNode,"display","none")},aggiornaLingueDescription:function(){var a=k.map(this.stato.get("languages"),function(a){return K.getLinguaByLocale(a.locale).idLingua});
this.eventDescriptionWidget.aggiornaUI(a)},aggiornaVisibilitaYourEvent:function(){this.tagYourEventSwitchWidget.get("checked")?h.set(this.eventTagsNode,"display","block"):h.set(this.eventTagsNode,"display","none")},aggiornaLabelAddDateWidget:function(){this.stato.get("dates")&&this.stato.get("dates")[0]?(this.addDateWidget.set("label",ba.lblEventDateTimeSlotsBoxTitle2),this.addDateWidget.set("hoverLabel",ba.lblEventDateTimeSlotsBoxTitle2)):(this.addDateWidget.set("label",ba.lblEventDateTimeSlotsBoxTitle),
this.addDateWidget.set("hoverLabel",ba.lblEventDateTimeSlotsBoxTitle))},editDate:function(a){this.dateToEdit=a;this.calendarMode="edit";this.addDateWidget.toggleStato();this.calendarWidget.set("value",D.parse(a.date,{selector:"date",datePattern:"yyyy-MM-dd"}),!1)},processSelectedDate:function(a){var b=D.format(a,{selector:"date",datePattern:"yyyy-MM-dd"});"add"==this.calendarMode?(this.datesTimeSlotsWidget.addDate(a),this.addDateWidget.toggleStato()):b!=this.dateToEdit.date&&(this.dateToEdit.date=
b,this.dateToEdit=null,this.stato.set("dirty",!0),this.datesTimeSlotsWidget.aggiornaUI(),this.addDateWidget.toggleStato())},showCalendar:function(){this.calendarWidget._populateGrid();h.set(this.calendarContainerNode,"display","block");x.scrollIntoView(this.locationContainerNode)},hideCalendar:function(){h.set(this.calendarContainerNode,"display","none")},aggiornaLatLang:function(b){var d="",e="";null!=this.stato.get("address")&&""!=this.stato.get("address")&&(d+=e+this.stato.get("address"),e=" , ");
null!=this.stato.get("zip")&&""!=this.stato.get("zip")&&(d+=e+this.stato.get("zip"),e=" , ");null!=this.stato.get("city")&&""!=this.stato.get("city")&&(d+=e+this.stato.get("city"),e=" , ");var f="";this.countriesStore.query({idNazione:this.stato.get("country")}).forEach(function(a){f=a.nome});this.geocoder.geocode({address:d+(e+f)},a.hitch(this,function(a,d){if(d==J.GeocoderStatus.OK){var e=a[0].geometry.location;this.stato.set("latitude",e.lat());this.stato.set("longitude",e.lng());this.aggiornaUIMappaDaStato()}else b||
T.showInfoWithCloseButton(ba.msgEventInvalidAddressWarning,la.footerInc.lblErrorMsgDialogTitle,ja.lblOKButton)}))},creaMappa:function(){var b,d=!1;null!=this.stato.get("latitude")&&""!=this.stato.get("latitude")&&null!=this.stato.get("longitude")&&""!=this.stato.get("longitude")?b=new J.LatLng(this.stato.get("latitude"),this.stato.get("longitude")):(b=new J.LatLng(44.5014841,11.3436951),0!=K.idEvento&&(d=!0));this.latLngNode.innerHTML="\x3cstrong\x3e"+ba.lblEventLatitude+"\x3c/strong\x3e. "+b.lat().toFixed(7)+
"    \x3cstrong\x3e"+ba.lblEventLongitude+"\x3c/strong\x3e. "+b.lng().toFixed(7);this.map=new J.Map(this.mapNode,{zoom:16,center:b,mapTypeId:J.MapTypeId.ROADMAP,mapTypeControl:!1,zoomControl:!1,streetViewControl:!1,noClear:!0});this.mapMarker=new J.Marker({position:b,map:this.map,draggable:!0});J.event.addListener(this.mapMarker,"dragend",a.hitch(this,function(a){this.stato.set("latitude",a.latLng.lat());this.stato.set("longitude",a.latLng.lng());this.aggiornaUIMappaDaStato()}));d&&this.aggiornaLatLang(!0)},
aggiornaUIMappaDaStato:function(){var a;if(navigator.onLine&&null!=this.stato.get("latitude")&&""!=this.stato.get("latitude")&&null!=this.stato.get("longitude")&&""!=this.stato.get("longitude")){this.map||this.creaMappa();h.set(this.mapContainerNode,"display","block");a=new J.LatLng(this.stato.get("latitude"),this.stato.get("longitude"));this.map.setCenter(a);this.mapMarker.setPosition(a);var b=9-a.lat().toFixed(0).length,d=9-a.lng().toFixed(0).length,b=Math.min(b,d);this.latLngNode.innerHTML="\x3cstrong\x3e"+
ba.lblEventLatitude+"\x3c/strong\x3e. "+a.lat().toFixed(b)+"    \x3cstrong\x3e"+ba.lblEventLongitude+"\x3c/strong\x3e. "+a.lng().toFixed(b)}},preProcessDataToBePosted:function(b){var d=[],e=[],f=[],h=K.evento.mappings.event_date,A=K.evento.mappings.event_timeSlot,d=k.map(b.dateEventoDTO,function(a){var d={};Y.copyTo(a,d,h);d.dataEventoStr=d.dataEvento;d.fasce=k.map(a.timeSlots,function(a){var d={};Y.copyTo(a,d,A);d.oraInizioStr=d.oraInizio;d.oraFineStr=d.oraFine;d.descrizioni=[];k.forEach(a.descriptions,
function(a){k.forEach(b.lingue,function(b){a.lingua.idLingua==b.idLingua&&d.descrizioni.push(a)})});return d});return d}),e=k.map(b.lingue,function(a){return{idLinguaEvento:a.idLinguaEvento||0,lingua:K.getLinguaById(a.idLingua),locale:K.getLinguaById(a.idLingua).defaultLocale,customEventPageUrl:a.customEventPageUrl||null}}),f=k.map(b.descrizioni,function(a){return{idDescrizioneEvento:a.idDescrizioneEvento||0,lingua:{idLingua:a.idLingua},descrizione:a.descrizione,testoData:a.testoData}});b.tipologiaGestioneAccompagnatori&&
a.trim(b.tipologiaGestioneAccompagnatori)||(b.tipologiaGestioneAccompagnatori=null);var U=[];k.forEach(b.nomi,function(a){k.forEach(b.lingue,function(b){a.lingua.idLingua==b.idLingua&&U.push(a)})});b.nomi=U;b.dateEvento=d;delete b.dateEventoDTO;b.lingue=e;b.descrizioni=f},validate:function(){var a=this.formWidget.validate()&&this.registrationClosingDeadlineWidget.validate();R.debug("EventDetailsWidget VALIDATE:",a);1>this.stato.get("languages").length&&(a=!1,T.showInfoWithCloseButton(ba.msgAtLeastOneLanguageWarning,
la.footerInc.lblWarningMsgDialogTitle,ja.lblOKButton));return a},save:function(){this.validate()?this.salvaStato("/addUpdateEvento.plp","jsonData",{idCliente:K.evento.stato.idCliente,idEvento:K.evento.stato.idEvento}):R.debug("EventDetailsWidget validate",!1)},preCommit:function(a){this.inherited(arguments);K.commons.data.customerDefaults.mostrainfoeventdetails&&(this.showSavedDialog=!1,this.additionalInfoDialog.show({}))},postCommit:function(b){K.evento.stato.idEvento=b.data.idEvento;var d=this.appWidget.mainWidgetsRegistry.event_page;
if(d&&d.stato.get("idLanguage")){for(var e=!1,f=0;f<b.data.lingue.length||e;f++)e=b.data.lingue[f]==d.stato.get("idLanguage");e||d.stato.set("idLanguage",null,!1)}this.stato.loaded=!1;this.aggiornaUISilently=!0;this.aggiornaUI().always(a.hitch(this,function(){this.aggiornaUISilently=!1}));require(["ebPlatform/json!/getEventStatoCalcolato.plp?idEvento\x3d"+K.evento.stato.idEvento,"ebPlatform/json!/getEventConfig.plp?idEvento\x3d"+K.evento.stato.idEvento],a.hitch(this,function(a,b){a&&(K.evento.statoCalcolato=
a,u.publish("sys.statoCalcolato.updated",a));b&&(K.commons.config=b)}))}})})},"ebPlatformWidgets/Evento/Guests/ManagePersonalFileCategoriesWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/string dojo/request dojo/json dojo/dom-construct dojo/text!./templates/ManagePersonalFileCategoriesWidget.html dijit/form/Button dijit/form/ValidationTextBox put-selector/put ebPlatform/stato ebPlatform/commonDialogs ebPlatform/logger! ebPlatformWidgets/Evento/_EventoWidgetBaseMixin dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManagePersonalFileCategoriesWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([y],{templateString:h,baseClass:"managePersonalFileCategoriesWidget",hasToolbar:!1,appWidget:null,parentWidget:null,nuovaCategoriaWidget:null,nuovaCategoriaBtn:null,messages:B,commonMessages:z,postCreate:function(){this.inherited(arguments);this.stato.watch(a.hitch(this,function(a,b,e){e!=b&&"dirty"!=a&&this.stato.set("dirty",!0);"dirty"==a&&(1==e?this.appWidget.setMustSaveToContinueMode():this.appWidget.resetMustSaveToContinueMode())}));this.nuovaCategoriaWidget=
new r({required:!0},this.nuovaCategoriaNode);this.nuovaCategoriaBtn=new b({onClick:a.hitch(this,function(){this.inserisciNuovaCategoria()})},this.nuovaCategoriaBtnNode)},hasToLoadData:function(){return!0},loadData:function(){return l.get("/getCategorieFilePersonali.plp",{query:{idEvento:u.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},processLoadedData:function(a){console.log("DATA",a);return{categorie:a.data}},aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,
function(){D.debug("[ManagePersonalFileCategoriesWidget]  AGGIORNA UI");this.aggiornaCategoriePresenti(this.stato.categorie)}),a.hitch(this,function(){D.warn("ManagePersonalFileCategoriesWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){w.hideLoading()})},aggiornaCategoriePresenti:function(e){f.empty(this.categorieContainerNode);if(e&&0<e.length){var h=m(this.categorieContainerNode,"table.categorieContainer"),l=m(h,"tr.header");m(l,"td",B.lblInternalName);k.forEach(u.evento.stato.event_details.languages,
a.hitch(this,function(a){m(l,"td",z.lblLabel+" "+a.locale.substr(0,2).toUpperCase())}));m(l,"td"," ");k.forEach(e,a.hitch(this,function(e){var f=m(h,"tr"),l=m(f,"td"),p={},t={},n={},d=new r({required:!0,value:e.categoria},m(l,"input"));k.forEach(u.evento.stato.event_details.languages,a.hitch(this,function(a){var b=a.idLingua;p[b]=m(f,"td");t[b]=m(p[b],"input");var d=null;k.forEach(e.labels,function(a){b==a.lingua.idLingua&&(d=a)});n[b]=new r({required:!0,value:d?d.label:""},t[b])}));l=m(f,"td.pulsanti");
new b({"class":"updateBtn",iconClass:"fa fa-fw fa-pencil",showLabel:!1,title:B.lblAggiornaCategoria,onClick:a.hitch(this,function(){this.aggiornaCategoria(d,e.idCategoriaFilePersonali,n)})},m(l,"button"));0==e.numFile&&new b({"class":"deleteBtn",iconClass:"fa fa-fw fa-trash-o",showLabel:!1,onClick:a.hitch(this,function(){this.eliminaCategoria(e.idCategoriaFilePersonali,e.categoria)})},m(l,"button"))}))}},inserisciNuovaCategoria:function(){this.nuovaCategoriaWidget.validate()?(this.invocaAddUpdateCategoria(this.nuovaCategoriaWidget.get("value"),
null),this.nuovaCategoriaWidget.reset()):w.showInfoWithCloseButton(B.msgNuovaCategoriaVuota,x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton)},aggiornaCategoria:function(a,b,e){a.validate()?this.invocaAddUpdateCategoria(a.get("value"),b,e):w.showInfoWithCloseButton(B.msgNuovaCategoriaVuota,x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton)},invocaAddUpdateCategoria:function(b,f,h){var k={},m;for(m in h)k[m]=h[m].get("value");b={idEvento:u.evento.stato.idEvento,categoria:b,labels:e.stringify(k)};f&&
(b.idCategoria=f);l.post("/addUpdateCategoriaFilePersonali.plp",{data:b,handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;"OK"==a.resultCode?(w.showInfo(z.msgModificaRegistrata),this.aggiornaUI()):a.msg?(w.showInfoWithCloseButton(a.msg,x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton),this.aggiornaUI()):w.showInfoWithCloseButton(z.msgErroreServer,x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton)}),a.hitch(this,function(a){w.showInfoWithCloseButton(z.msgErroreServer,
x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton)}))},eliminaCategoria:function(a,b){var e=n.substitute(B.msgEliminaCategoriaDialogMsg,{nomeCategoria:b});w.setUpConfirmDialog(B.lblEliminaCategoriaDialogTitle,e,this,this.doEliminaCategoria,null,[a],!0);w.showConfirm()},doEliminaCategoria:function(b){l.post("/eliminaCategoriaFilePersonali.plp",{data:{idCategoria:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?
w.showInfo(z.msgModificaRegistrata):w.showInfoWithCloseButton(z.msgErroreServer,x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton);this.aggiornaUI()}),a.hitch(this,function(a){w.showInfoWithCloseButton(z.msgErroreServer,x.footerInc.lblErrorMsgDialogTitle,z.lblOKButton)}))}})})},"ebPlatformWidgets/Dialogs/EditTextDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dijit/Dialog dijit/layout/ContentPane dijit/form/Button dijit/form/ValidationTextBox ebPlatformWidgets/Form/utility ./_ParentScrollPreventMixin dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r){return q([n,b],{createCustomTextBox:null,contentPane:null,textBox:null,saveBtn:null,cancelBtn:null,postCreate:function(){this.inherited(arguments);this.set("closable",!1);this.set("draggable",!1);this.contentPane=new l;this.textBox=this.createCustomTextBox?this.createCustomTextBox():new f({});this.contentPane.addChild(this.textBox);this.addChild(this.contentPane);var b=new l({}),h=k.create("div",{"class":"buttonsContainer"},b.containerNode),n=k.create("div",{},h),h=k.create("div",
{},h);this.saveBtn=new e({label:r.lblOKButton,onClick:a.hitch(this,function(){this.doOnSave(this.textBox.get("value"));this.hide()})},n);this.cancelBtn=new e({label:r.lblChiudiButton,onClick:a.hitch(this,function(){this.hide()})},h);this.addChild(b)},show:function(a){this.inherited(arguments);a.title&&this.set("title",a.title);a.placeHolder&&this.textBox.set("placeHolder",a.placeHolder);a.text?this.textBox.set("value",a.text):this.textBox.set("value","");a.tooltip&&this.textBox.set("tooltip",a.tooltip);
this.doOnSave=a.doOnSave?a.doOnSave:h.noop}})})},"ebPlatformWidgets/Evento/EventPage/EditRegistrationButtonsDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditRegistrationButtonsDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),function(q,a,k,n,l,e,f,h){return q([n,l],{baseClass:"editRegistrationButtonsDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new e({parentWidget:this,
permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset();a&&(a.idLanguage&&(this.mainWidget.localizedMessages=h.getLocalization("ebPlatformWidgets.Evento.EventPage","EventPageWidget",f.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.localizedCommonMessages=h.getLocalization("ebPlatform","commons",f.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.attualizzaLocalizedMessages()),
a.title&&this.set("title",a.title),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection),a.currentState&&(a.currentState.showPartnerButtons&&(k.set(this.mainWidget.registrationAddPartnerBtnContainerNode,"display",a.currentState.showPartnerButtons?"block":"none"),k.set(this.mainWidget.updateRegistrationAddPartnerBtnContainerNode,"display",a.currentState.showPartnerButtons?"block":"none")),a.currentState.registrationBtnLabel&&this.mainWidget.impostaTesto("registrationBtnLabel",a.currentState.registrationBtnLabel),
a.currentState.registrationAddPartnerBtnLabel&&this.mainWidget.impostaTesto("registrationAddPartnerBtnLabel",a.currentState.registrationAddPartnerBtnLabel),a.currentState.registrationUpdateBtnLabel&&this.mainWidget.impostaTesto("registrationUpdateBtnLabel",a.currentState.registrationUpdateBtnLabel),a.currentState.registrationUpdateAddPartnerBtnLabel&&this.mainWidget.impostaTesto("registrationUpdateAddPartnerBtnLabel",a.currentState.registrationUpdateAddPartnerBtnLabel),a.currentState.registrationDeleteBtnLabel&&
this.mainWidget.impostaTesto("registrationDeleteBtnLabel",a.currentState.registrationDeleteBtnLabel),a.currentState.partecipationDenyBtnLabel&&this.mainWidget.impostaTesto("partecipationDenyBtnLabel",a.currentState.partecipationDenyBtnLabel),a.currentState.partecipationDenyText&&this.mainWidget.impostaTesto("partecipationDenyText",a.currentState.partecipationDenyText),a.currentState?this.mainWidget.setParteciapationDenyVisibility(a.currentState.showPartecipationDenyBtn):this.mainWidget.setParteciapationDenyVisibility(!1),
a.currentState.registrationBtnColor?this.mainWidget.impostaTesto("registrationBtnColor",a.currentState.registrationBtnColor):this.mainWidget.impostaTesto("registrationBtnColor","#FFFFFF"),a.currentState.registrationBtnBackground?this.mainWidget.impostaTesto("registrationBtnBackground",a.currentState.registrationBtnBackground):this.mainWidget.impostaTesto("registrationBtnBackground","#B3B3B3"),a.currentState.updateBtnColor?this.mainWidget.impostaTesto("updateBtnColor",a.currentState.updateBtnColor):
this.mainWidget.impostaTesto("updateBtnColor","#FFFFFF"),a.currentState.updateBtnBackground?this.mainWidget.impostaTesto("updateBtnBackground",a.currentState.updateBtnBackground):this.mainWidget.impostaTesto("updateBtnBackground","#B3B3B3"),a.currentState.deleteBtnColor?this.mainWidget.impostaTesto("deleteBtnColor",a.currentState.deleteBtnColor):this.mainWidget.impostaTesto("deleteBtnColor","#FFFFFF"),a.currentState.deleteBtnBackground?this.mainWidget.impostaTesto("deleteBtnBackground",a.currentState.deleteBtnBackground):
this.mainWidget.impostaTesto("deleteBtnBackground","#B3B3B3"),a.currentState.partecipationDenyBtnColor?this.mainWidget.impostaTesto("partecipationDenyBtnColor",a.currentState.partecipationDenyBtnColor):this.mainWidget.impostaTesto("partecipationDenyBtnColor","#FFFFFF"),a.currentState.partecipationDenyBtnBackground?this.mainWidget.impostaTesto("partecipationDenyBtnBackground",a.currentState.partecipationDenyBtnBackground):this.mainWidget.impostaTesto("partecipationDenyBtnBackground","#B3B3B3"),this.mainWidget.fontControlWidget.refresh(),
a.currentState.font&&this.mainWidget.fontControlWidget.set("value",a.currentState.font),a.currentState.fontSizePh&&this.mainWidget.fontControlWidget.set("fontSizePlaceHolder",a.currentState.fontSizePh)));this.resize();this._position()}})})},"ebPlatformWidgets/Evento/Badges/BadgeTemplateWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/debounce dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/query dojo/NodeList-dom dojo/store/Memory dojo/on dojo/request dojo/Deferred dojo/text!./templates/BadgeTemplateWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/Button dijit/form/CheckBox dijit/form/FilteringSelect dijit/form/Select dijit/form/ToggleButton dijit/form/Textarea dojox/validate dojox/validate/web put-selector/put ebPlatform/fontLoader ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/stato ebPlatform/utility ebPlatform/templateUtility ebPlatformWidgets/CustomTooltip ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/RichTextBoxWidget ebPlatformWidgets/Dialogs/EditTextDialogWidget ebPlatformWidgets/Dialogs/EditImageDialogWidget ebPlatformWidgets/Dialogs/EditTextWithEditorDialogWidget ebPlatformWidgets/Dialogs/EditTextWithFontDialogWidget ./EditFrontDataDialogWidget ./EditGuestCategoryDialogWidget dojo/i18n dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O,V){return q([z,B],{mouseAnim:null,templateString:x,baseClass:"badgeTemplateWidget",appWidget:null,parentWidget:null,headerDefaultFontSize:"42px",additionaInformationEditorConfig:null,value:null,campiEvento:null,editImageDialogWidget:null,editTextDialog:null,editFrontDataDialogWidget:null,editGuestCategoryDialogWidget:null,templateSelectionWidget:null,pageFormatWidget:null,frontHeader:{boxNode:null,
editBtnContainerNode:null,editBtn:null,visibilityBtnContainerNode:null,visibilityBtn:null,boxId:"frontHeaderBox",nodeId:"frontHeaderNode",statoVar:"frontHeaderText",statoColorVar:"frontHeaderColor",statoBackgroundColorVar:"frontHeaderBackgroundColor",statoFontSizeVar:"frontHeaderFontSize",statoFontVar:"frontHeaderFontFamily",statoVisibilityVar:"frontHeaderShow",lblTitleVar:"lblHeaderTitle",lblPlaceHolderVar:"lblHeaderPlaceHolder"},checkinCode:{boxId:"barCodeBox",nodeId:"barCodeImgNode",idPlaceHolderContainerNode:"barCodePlaceHolderContainerNode",
idPlaceHoderLabel:"barCodePlaceHolderLabelNode",statoPositionVar:"barcodeOnRight",statoVisibilityVar:"barCodeShow",statoVar:"barCode",lblImageVar:"lblBarCode"},guestCategory:{boxId:"guestCategoryBox",colorId:"guestCategoryColorNode",labelId:"guestCategoryLabelNode",idPlaceHolderContainerNode:"guestCategoryPlaceHolderContainerNode",idTemplateBoxTitle:"guestCategoryBoxTitleNode",idPlaceHoderLabel:"guestCategoryPlaceHolderLabelNode",idImageContainerNode:"guestCategoryContainerNode",statoVar:"guestCategoryShowColor",
statoTextVar:"guestCategoryShowText",lblImageVar:"lblGuestCategory",lblTitleVar:"lblGuestCategoryTitle",idFontFamily:"guestCategoryFont",statoFontVar:"guestCategoryFontFamily",idFontSize:"guestCategorySize",statoFontSizeVar:"guestCategoryFontSize"},frontImage1:{boxId:"frontImage1Box",nodeId:"frontImage1ImgNode",imgPlaceholder:"/img/eventImagePlaceHolder.png",statoVisibilityVar:"frontImage1Show",statoVar:"frontImage1",lblImageVar:"lblFrontImage1"},frontImage2:{boxId:"frontImage2Box",nodeId:"frontImage2ImgNode",
idImageContainerNode:"frontImage2ContainerNode",idPlaceHolderContainerNode:"frontImage2PlaceHolderContainerNode",idPlaceHoderLabel:"frontImage2PlaceHolderLabelNode",statoVisibilityVar:"frontImage2Show",statoVar:"frontImage2",lblImageVar:"lblFrontImage2",imgPlaceholder:"/img/eventImagePlaceHolder.png"},frontLines:{boxNode:null,editBtnContainerNode:null,editBtn:null,boxId:"frontLinesBox",nodeId:"frontLinesNode",lblTitleVar:"lblFrontLinesPlaceholder",statoVisibilityVar:"frontLinesShow",idPlaceHolderContainerNode:"frontLinesPlaceHolderContainerNode",
idPlaceHoderLabel:"frontLinesPlaceHolderLabelNode",lines:[{id:"line1",statoVar:"frontLine1",idFontFamily:"font1",statoFontVar:"fontLine1",idBr:"br1",statoBrVar:"frontBr1Show"},{id:"line2",statoVar:"frontLine2",idFontFamily:"font2",statoFontVar:"fontLine2",idBr:"br2",statoBrVar:"frontBr2Show"},{id:"line3",statoVar:"frontLine3",idFontFamily:"font3",statoFontVar:"fontLine3",idBr:"br3",statoBrVar:"frontBr3Show"},{id:"line4",statoVar:"frontLine4",idFontFamily:"font4",statoFontVar:"fontLine4",idBr:"br4",
statoBrVar:"frontBr4Show"}]},backHeader:{boxId:"backHeaderBox",nodeId:"backHeaderNode",statoVar:"backHeaderText",statoColorVar:"backHeaderColor",statoBackgroundColorVar:"backHeaderBackgroundColor",statoFontSizeVar:"backHeaderFontSize",statoFontVar:"backHeaderFontFamily",statoVisibilityVar:"backHeaderShow",lblTitleVar:"lblHeaderTitle",lblPlaceHolderVar:"lblHeaderPlaceHolder"},qrCode:{boxId:"qrCodeBox",nodeId:"qrCodeImgNode",idImageContainerNode:"qrCodeContainerNode",statoVar:"qrCode",statoVisibilityVar:"qrCodeShow",
idPlaceHolderContainerNode:"qrCodePlaceHolderContainerNode",idPlaceHoderLabel:"qrCodePlaceHolderLabelNode",lblImageVar:"lblQrCode"},backImage1:{boxId:"backImage1Box",nodeId:"backImage1ImgNode",idImageContainerNode:"backImage1ContainerNode",idPlaceHolderContainerNode:"backImage1PlaceHolderContainerNode",idPlaceHoderLabel:"backImage1PlaceHolderLabelNode",statoVisibilityVar:"backImage1Show",statoVar:"backImage1",lblImageVar:"lblBackImage1",imgPlaceholder:"/img/eventImagePlaceHolder.png"},backImage2:{boxId:"backImage2Box",
nodeId:"backImage2ImgNode",idImageContainerNode:"backImage2ContainerNode",idPlaceHolderContainerNode:"backImage2PlaceHolderContainerNode",idPlaceHoderLabel:"backImage2PlaceHolderLabelNode",statoVisibilityVar:"backImage2Show",statoVar:"backImage2",lblImageVar:"lblBackImage2",imgPlaceholder:"/img/eventImagePlaceHolder.png"},backImage3:{boxId:"backImage3Box",nodeId:"backImage3ImgNode",idImageContainerNode:"backImage3ContainerNode",idPlaceHolderContainerNode:"backImage3PlaceHolderContainerNode",idPlaceHoderLabel:"backImage3PlaceHolderLabelNode",
statoVisibilityVar:"backImage3Show",statoVar:"backImage3",lblImageVar:"lblBackImage2",imgPlaceholder:"/img/eventImagePlaceHolder.png"},backText1:{boxId:"backText1Box",nodeId:"backText1Node",statoVar:"backText1",statoFontSizeVar:"backText1FontSize",statoFontVar:"backText1FontFamily",statoTextAlignVar:"backText1TextAlign",statoVisibilityVar:"backText1Show",lblTitleVar:"lblBackText1Title",lblPlaceHolderVar:"lblBackTextPlaceHolder"},backText2:{boxId:"backText2Box",nodeId:"backText2Node",statoVar:"backText2",
statoFontSizeVar:"backText2FontSize",statoFontVar:"backText2FontFamily",statoTextAlignVar:"backText2TextAlign",statoVisibilityVar:"backText2Show",lblTitleVar:"lblBackText2Title",lblPlaceHolderVar:"lblBackTextPlaceHolder"},backText3:{boxId:"backText3Box",nodeId:"backText3Node",statoVar:"backText3",statoFontSizeVar:"backText3FontSize",statoFontVar:"backText3FontFamily",statoTextAlignVar:"backText3TextAlign",statoVisibilityVar:"backText3Show",lblTitleVar:"lblBackText3Title",lblPlaceHolderVar:"lblBackTextPlaceHolder"},
backSeparator1:{boxId:"backSeparator1Box",nodeId:"backSeparator1Node",statoVar:"backSeparator1",statoVisibilityVar:"backSeparator1Show",idPlaceHoderLabel:"backSeparator1TitleNode",lblPlaceHolderVar:"lblBackSeparator1PlaceHolder"},backSeparator2:{boxId:"backSeparator2Box",nodeId:"backSeparator2Node",statoVar:"backSeparator2",statoVisibilityVar:"backSeparator2Show",idPlaceHoderLabel:"backSeparator2TitleNode",lblPlaceHolderVar:"lblBackSeparator2PlaceHolder"},messages:V,commonMessages:O,postCreate:function(){this.inherited(arguments);
var b=this.pageFormatWidget=new I({query:{badge:!0},queryOptions:{sort:[{attribute:"order",descending:!1},{attribute:"height",descending:!0},{attribute:"width",descending:!0}]},sortByLabel:!1,labelAttr:"label",required:!1,onChange:a.hitch(this,function(a){this.stato.set("pageFormatId",a);this.aggiornaUI(a)})},this.pageFormatNode);new T({connectId:[this.pageFormatTooltipNode,this.pageFormatTooltipLblNode],getContent:function(){var d=null;try{var e=V.paper.printingTips[b.get("store").get(b.get("value")).labelKey];
e&&a.trim(e)&&(d='\x3cdiv class\x3d"wrapped"\x3e'+e+"\x3c/div\x3e")}catch(P){console.log(P,b)}return d}});this.pagesWidget=new C({onChange:a.hitch(this,function(a){this.stato.set("oneSide",a);this.setOnlyFront(a)})},this.oneSideNode);this.initTemplate()},aggiornaModelli:function(){N.trace("aggiornaModelli");var b=k.map(F.evento.stato.badges.templates,function(a,b){return{idx:b+1,id:a.id,value:a,label:V.lblBadgeTemplateName[a.name]?V.lblBadgeTemplateName[a.name]+" ("+a.format+")":a.name}}),d=a.clone(this.parentWidget.statoStartUp);
b.unshift({idx:0,id:d.format,value:d,label:V.lblStartFromScratch+" ("+d.format+")"});d=a.clone(this.parentWidget.statoStartUp);d.format="LETTER";b.unshift({idx:0,id:d.format,value:d,label:V.lblStartFromScratch+" ("+d.format+")"});b=new u({data:b,idProperty:"id"});this.templateSelectionWidget.setStore(b)},aggiornaFormati:function(){N.trace("aggiornaFormati");try{this.pageFormatWidget.set("store",new u({data:F.evento.stato.badges.pageSizes,idProperty:"id",getLabel:function(a){var b=a.name;V.paper&&
V.paper.select&&a.labelKey&&(b=V.paper.select[a.labelKey]||a.name);return b}}))}catch(U){console.log(U)}},aggiornaUI:function(a){N.trace("aggiornaUI");this.pagesWidget.set("value",this.stato.get("oneSide"),!1);var b="/getBadgePreview.plp?forTemplating\x3dtrue\x26idEvento\x3d"+F.evento.stato.idEvento+"\x26id\x3d"+this.stato.get("id");a||(this.stato.get("pageFormatId")?a=this.stato.get("pageFormatId"):(a=this.pageFormatWidget.get("store").query({name:"A6"}),this.stato.set("pageFormatId",a[0].id),a=
a[0].id),this.pageFormatWidget.set("value",a,!1));b+="\x26fmt\x3d"+a;N.debug("Carico: ",b);ebPlatform.iframeBadgeTemplateLoaded=new y;var d=this.pagesSelectionContainerNode;ebPlatform.iframeBadgeTemplateLoaded.promise.then(function(a){e.set(d,"display",a?"none":null)},function(a){e.set(d,"display",null)});l.set(this.iframe,"src",b)},makeElementControls:function(a,b,e,f){var h=!1;delete a.boxNode;delete a.contentNode;delete a.placeHolder;delete a.placeHolderLabel;delete a.title;delete a.btnsControls;
delete a.editBtnContainerNode;delete a.moveBtnContainerNode;delete a.swapTarget;delete a.visibilityBtnContainerNode;if(a.lines){var A=this.iframeDocument.body;k.forEach(a.lines,function(a){delete a.node;delete a._fontFamily;delete a._fontSize;delete a._fontWeight;delete a._value;delete a._block;delete a._uppercase;delete a._placeholder})}try{if(a.boxNode=K.getElementById(a.boxId,this.iframeDocument.body),a.boxNode){h=!0;a.contentNode=K.getElementById(a.nodeId,this.iframeDocument.body);if(a.imgPlaceholder){var m=
d(a.boxNode,"div.imagePlaceholder");d(m,"i.fa.fa-picture-o[aria-hidden\x3dtrue]");a.placeHolder=m;a.placeHolderLabel=d(m,"span",a.lblImageVar?V[a.lblImageVar]:"")}else f&&(a.title=d(a.contentNode,"-div.templateBoxTitle",a.lblTitleVar?V[a.lblTitleVar]:""));var U=a.btnsControls=d(a.boxNode,"div.btnsControls");b||void 0===b?a.editBtnContainerNode=d(U,"div.edit.btnContainer"):l.get(a.boxNode,"swappable")&&(a.moveBtnContainerNode=d(U,"div.move.btnContainer"),a.swapTarget=K.getElementById("frontLinesBox",
this.iframeDocument.body));if(e||void 0===e)a.visibilityBtnContainerNode=d(U,"div.hideShow.btnContainer");a.lines&&(A=this.iframeDocument.body,k.forEach(a.lines,function(a){a.node=K.getElementById(a.id,A);if(a.node){a._fontFamily=l.get(a.node,"fontfamily");a._fontSize=l.get(a.node,"fontsize");a._fontWeight=l.get(a.node,"fontweight");a._value=l.get(a.node,"value");null==l.get(a.node,"block")?a._block=null:a._block="true"==l.get(a.node,"block");null==l.get(a.node,"uppercase")?a._uppercase=null:a._uppercase=
"true"==l.get(a.node,"uppercase");var b=l.get(a.node,"placeholdermsg");if(b){var d="";k.forEach(b.split(","),function(a){d+=V[a]||O[a]||" "});b=d}else b=l.get(a.node,"placeholder");a._placeHolder=b?b:null}}))}else if(a.statoVisibilityVar){var p=this.stato.get("dirty");this.stato.set(a.statoVisibilityVar,!1,!1);this.stato.set("dirty",p)}}catch(oa){console.log(oa)}return h},setOnlyFront:function(a){r("td.bs",this.iframeDocument.body).forEach(function(b,d,e){f[a?"add":"remove"](b,"hidden")});this.aggiornaAltezzaIFrame()},
initTemplate:function(){N.debug("initTemplate");this.editTextDialogWidget=new X({createCustomTextBox:function(){return new v({style:{verticalAlign:"top",width:"540px"}})}});e.set(this.editTextDialogWidget.fontSize.domNode,{display:"block",marginTop:"10px"});e.set(this.editTextDialogWidget.textAlign.domNode,{display:"block",marginTop:"10px"});this.editImageDialogWidget=new H({});this.editGuestCategoryDialogWidget=new Q({title:V[this.guestCategory.lblTitleVar],idEvento:F.evento.stato.idEvento,idLingua:F.commons.data.beLanguage});
this.iframe=b.create("iframe",{width:"100%",height:100,scrolling:"no",src:""},this.templateNode);l.get(this.iframe,"src","about:blank");w(this.iframe,"load",a.hitch(this,function(){var d;l.get(this.iframe,"src")&&(N.debug("LOADING",l.get(this.iframe,"src")),L.loadAll(F.evento.stato.idCliente,this.iframe.contentWindow));N.debug("Loaded src: |"+l.get(this.iframe,"src")+"|",!!l.get(this.iframe,"src"));this.iframeDocument=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document;
if(l.get(this.iframe,"src"))try{this.initHeader(this.frontHeader),this.initHeader(this.backHeader),this.initBoxCampiEvento(this.frontLines),this.initBoxCategoria(this.guestCategory),this.initBoxImmagine(this.frontImage1,!0,!0),this.initBoxImmagine(this.frontImage2,!0,!0),this.initBoxImmagine(this.checkinCode,!0,!1),this.initBoxImmagine(this.backImage1,!0,!0),this.initBoxImmagine(this.backImage3,!0,!0),this.initBoxImmagine(this.qrCode,!0,!1),this.initFreeTextEdit(this.backText1),this.initFreeTextEdit(this.backText2),
this.initFreeTextEdit(this.backText3),this.initSeparator(this.backSeparator1),this.initSeparator(this.backSeparator2),this.setOnlyFront(this.stato.get("oneSide"))}catch(da){console.log(da)}finally{setTimeout(a.hitch(this,this.aggiornaAltezzaIFrame),1500)}else d=b.create("div",{"class":"boxLoading"},this.iframeDocument.body),b.create("img",{src:"/img/loading.gif"},d)}))},aggiornaAltezzaIFrame:n(function(){N.trace("aggiornaAltezzaIFrame");var a;try{a=h.getMarginBox(this.iframeDocument.body)}catch(da){N.error(da.description)}N.trace("aggiornaAltezzaIFrame",
"geometry",a);a&&e.set(this.iframe,"height",a.h+"px")},500),initBoxCategoria:function(b,h){N.debug("initBoxcategoira");N.trace("initBoxcategoira cat",b,F.evento.stato.badges.guest_categories);N.trace("initBoxCategoria stato",this.stato,this.stato.get(b.statoVar),this.stato.get(b.statoTextVar));if(this.makeElementControls(b)){b.editBtn=new G({"class":"editButton",iconClass:"fa fa-pencil",showLabel:!1,disabled:!F.evento.stato.badges.guest_categories||1>F.evento.stato.badges.guest_categories.length||
!F.evento.stato.badges.guest_categories[0].customField,onClick:a.hitch(this,function(){this.editGuestCategoryDialogWidget.show({stato:this.stato,doOnSave:a.hitch(this,function(a){this.stato.set(b.statoTextVar,a.showText);this.stato.set(b.statoFontVar,a.fontFamily);this.stato.set(b.statoFontSizeVar,a.fontSize);var d=K.getElementById(b.labelId,this.iframeDocument.body);this.stato.get(b.statoTextVar)&&F.evento.stato.badges.guest_categories[F.evento.stato.badges.guest_categories.length-1].valoreLista?
(d.innerHTML=F.evento.stato.badges.guest_categories[F.evento.stato.badges.guest_categories.length-1].valoreLista.label,e.set(d,{fontSize:a.fontSize,fontFamily:a.fontFamily,display:"block"})):e.set(d,"display","none");this.aggiornaAltezzaIFrame()})})})},d(b.editBtnContainerNode,"div"));if(F.evento.stato.badges.guest_categories&&0<F.evento.stato.badges.guest_categories.length){var k=F.evento.stato.badges.guest_categories[F.evento.stato.badges.guest_categories.length-1];N.debug("initBoxCategoria",k);
var A=K.getElementById(b.colorId,this.iframeDocument.body);e.set(A,{background:k.colore,borderColor:k.colore});if(A=K.getElementById(b.labelId,this.iframeDocument.body))this.stato.get(b.statoTextVar)&&k.valoreLista?(A.innerHTML=k.valoreLista.label,e.set(A,{fontSize:this.stato.get(b.statoFontSizeVar),fontFamily:this.stato.get(b.statoFontVar),display:"block"})):e.set(A,"display","none")}if(!F.evento.stato.badges.guest_categories||0>=F.evento.stato.badges.guest_categories.length)b.title=d(b.boxNode,
"div.templateBoxTitle"),b.title.innerHTML=V.lblCategoriaPlaceholder;b.visibilityBtn=new E({"class":"hideShowButton",iconClass:"fa",showLabel:!1,checked:!!F.evento.stato.badges.guest_categories&&0<F.evento.stato.badges.guest_categories.length&&this.stato.get(b.statoVar),disabled:!F.evento.stato.badges.guest_categories||1>F.evento.stato.badges.guest_categories.length||!F.evento.stato.badges.guest_categories[0].customField,onChange:a.hitch(this,function(a){this.stato.set(b.statoVar,a);this.aggiornaVisibilitaMask(!a,
b.boxNode);if(!a)f.add(b.boxNode,"border");else if(this.stato.get(b.statoVar)&&F.evento.stato.badges.guest_categories&&0<F.evento.stato.badges.guest_categories.length){a=F.evento.stato.badges.guest_categories[F.evento.stato.badges.guest_categories.length-1];N.debug("initBoxCategoria",a);var d=K.getElementById(b.colorId,this.iframeDocument.body);e.set(d,"background",a.colore);d=K.getElementById(b.labelId,this.iframeDocument.body);this.stato.get(b.statoTextVar)&&a.valoreLista?(d.innerHTML=a.valoreLista.label,
e.set(d,"display","block")):e.set(d,"display","none")}})},d(b.visibilityBtnContainerNode,"div"));this.aggiornaVisibilitaMask(!(this.stato.get(b.statoVar)&&F.evento.stato.badges.guest_categories&&0<F.evento.stato.badges.guest_categories.length),b.boxNode)}},initBoxImmagine:function(b,e,h){N.debug("initBoxImmagine");N.trace("initBoxImmagine img",b,e,h);N.trace("initBoxImmagine stato",this.stato,this.stato.get(b.statoVar),this.stato.get(b.statoVisibilityVar));this.makeElementControls(b,h,e)&&("barCode"==
b.statoVar&&(b.title=d(b.contentNode,"+div.templateBoxTitle"),b.title.innerHTML=V[b.lblImageVar]),h?b.editBtn=new G({"class":"editButton",iconClass:"fa fa-pencil",showLabel:!1,onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:V.lblEditImage,currentSrc:this.stato.get(b.statoVar),imageType:"immagineBadgeTemplate",fileFormatNote:V.msgImageFormatNotes,previewMaxDim:{w:640},doOnSelection:a.hitch(this,function(d){N.debug("Selected path:",d);d?(this.stato.set(b.statoVar,d),J.loadImage(d,
a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),l.set(b.contentNode,"src",d),b.visibilityBtn&&b.visibilityBtn.set("checked",!0)):(this.stato.set(b.statoVar,null),l.set(b.contentNode,"src","about:blank"));"qrCodeBox"!=b.boxId&&"barCodeBox"!=b.boxId&&this.aggiornaVisibilitaImagePlaceHolder(b)})})})},d(b.editBtnContainerNode,"div")):b.swapTarget&&(b.moveBtn=new G({"class":"moveButton",showLabel:!1,iconClass:"fa fa-exchange",onClick:a.hitch(this,function(){this.swapBox(b)&&this.stato.set(b.statoPositionVar,
!this.stato.get(b.statoPositionVar))})},d(b.moveBtnContainerNode,"div"))),e&&(b.visibilityBtn=new E({"class":"hideShowButton",iconClass:"fa",checked:this.stato.get(b.statoVisibilityVar),onChange:a.hitch(this,function(a){this.stato.set(b.statoVisibilityVar,a);this.aggiornaVisibilitaMask(!a,b.boxNode);if(("qrCodeBox"==b.boxId||"barCodeBox"==b.boxId)&&b.boxNode&&b.boxNode.parentNode)f[a?"remove":"add"](b.boxNode.parentNode,"center");h&&(a||f.add(b.boxNode,"border"))})},d(b.visibilityBtnContainerNode,
"div")),this.aggiornaVisibilitaMask(!this.stato.get(b.statoVisibilityVar),b.boxNode)),"qrCodeBox"!=b.boxId&&"barCodeBox"!=b.boxId&&this.aggiornaVisibilitaImagePlaceHolder(b))},swapBox:function(a){var d=!1;if(a.boxNode&&a.swapTarget){var e;"false"==l.get(a.boxNode,"right")?(d=a.boxNode,e=a.swapTarget):(e=a.boxNode,d=a.swapTarget);b.place(d,e,"after");l.set(e,"right","false");l.set(d,"right","true");d=!0}return d},aggiornaVisibilitaImagePlaceHolder:function(a){N.trace("aggiornaVisibilitaImagePlaceHolder",
a,this.stato.get(a.statoVar),this.stato.get(a.statoVisibilityVar));a.placeHolder&&e.set(a.placeHolder,"display",this.stato.get(a.statoVar)?"none":null);e.set(a.contentNode,"display",this.stato.get(a.statoVar)?"inline":"none")},initBoxCampiEvento:function(b){N.trace("initBoxCampiEvento","fields",b);this.makeElementControls(b,!0,!0,!0)&&(this.editFrontDataDialogWidget=new Z({idEvento:F.evento.stato.idEvento,fields:b.lines,campiEvento:this.campiEvento,doOnSave:a.hitch(this,function(a){for(var d=0;d<
a.length;d++)a[d].value.value&&"hide"!=a[d].value.value?(this.stato.set(this.frontLines.lines[d].statoVar,a[d].value.value),void 0!==a[d].brValue&&null!=a[d].brValue&&this.stato.set(this.frontLines.lines[d].statoBrVar,a[d].brValue.checked)):(this.stato.set(this.frontLines.lines[d].statoVar,null),a[d].brValue&&this.stato.set(this.frontLines.lines[d].statoBrVar,null)),this.stato.set(this.frontLines.lines[d].statoFontVar,a[d].font.get("value"));this.renderCampiEvento(b,!0)})}),this.renderCampiEvento(b,
!1),b.editBtn=new G({"class":"editButton",iconClass:"fa fa-pencil",showLabel:!1,onClick:a.hitch(this,function(){this.editFrontDataDialogWidget.show({title:V[b.lblTitleVar],stato:this.stato})})},d(b.editBtnContainerNode,"div")),b.visibilityBtn=new E({"class":"hideShowButton",iconClass:"fa",checked:this.stato.get(b.statoVisibilityVar),onChange:a.hitch(this,function(a){this.stato.set(b.statoVisibilityVar,a);this.aggiornaVisibilitaMask(!a,b.boxNode)})},d(b.visibilityBtnContainerNode,"div")),this.aggiornaVisibilitaMask(!this.stato.get(b.statoVisibilityVar),
b.boxNode))},renderCampiEvento:function(a,b){var d,h=!1;for(i=0;i<a.lines.length;i++)if(a.lines[i].node)if(this.stato.get(a.lines[i].statoVar)||null!=a.lines[i]._value||null!=a.lines[i]._placeHolder)if(h=!0,e.set(a.lines[i].node,"display",null),null!=a.lines[i]._placeHolder)a.lines[i].node.innerHTML=a.lines[i]._placeHolder,f[this.stato.get(a.lines[i]._block)?"add":"remove"](a.lines[i].node,"blk");else if(d=this.campiEvento.query({fieldName:this.stato.get(a.lines[i].statoVar)})[0].fieldLabel){a.lines[i].node.innerHTML=
d;if(b&&null==a.lines[i]._block)f[this.stato.get(a.lines[i].statoBrVar)?"add":"remove"](a.lines[i].node,"blk");d=this.stato.get(a.lines[i].statoFontVar);null!=a.lines[i]._fontFamily&&(d.fontFamily=null);null!=a.lines[i]._fontSize&&(d.fontSize=null);null!=a.lines[i]._fontWeight&&(d.fontWeight=null);null!=a.lines[i]._uppercase&&(d.textTransform=null);b&&e.set(a.lines[i].node,d)}else e.set(a.lines[i].node,"display","none"),a.lines[i].node.innerHTML="";else e.set(a.lines[i].node,"display","none"),a.lines[i].node.innerHTML=
"";else N.debug("campi: riga",i+1,"non presente");e.set(a.title,"display",h?"none":null);this.aggiornaAltezzaIFrame()},initFreeTextEdit:function(b){N.trace("initFreeTextEdit","textEditor",b);this.makeElementControls(b,!0,!0,!0)&&(b.editBtn=new G({"class":"editButton",iconClass:"fa fa-pencil",showLabel:!1,onClick:a.hitch(this,function(){this.editTextDialogWidget.show({fontFamilyData:[{label:"Helvetica",value:"Arial, Helvetica, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Courier New",
value:"Courier New, Courier, monospace"},{label:"Times New Roman",value:"Times New Roman, Times, serif"},{label:"Encode Sans",value:"Encode Sans Normal"},{label:"PT Sans",value:"PT Sans"},{label:"PT Sans Narrow",value:"PT Sans Narrow"}],showTextAlign:!0,textAlign:this.stato.get(b.statoTextAlignVar),showFontSelection:!0,fontSizeData:[10,11,12,13,14,16,18,20,24,28,30,32,34,38,40,42,50],fontFamily:this.stato.get(b.statoFontVar),fontSize:this.stato.get(b.statoFontSizeVar),title:V[b.lblTitleVar],text:this.stato.get(b.statoVar),
doOnSave:a.hitch(this,function(d){var f=null,h=null,k=null;d?(this.stato.set(b.statoVar,d.text),b.contentNode.innerHTML=d.text,f=d.fontSize,h=d.fontFamily,k=d.tmpAlign):this.stato.set(b.statoVar,null);this.stato.set(b.statoFontSizeVar,d.fontSize);this.stato.set(b.statoFontVar,d.fontFamily);this.stato.set(b.statoTextAlignVar,d.tmpAlign);this.stato.get(b.statoVar)&&0<a.trim(this.stato.get(b.statoVar)).length?(e.set(b.contentNode,{fontSize:f,fontFamily:h,textAlign:k}),b.contentNode.innerHTML=this.stato.get(b.statoVar),
e.set(b.title,"display","none")):(e.set(b.contentNode,{fontSize:null,fontFamily:null,tmpAlign:null}),b.contentNode.innerHTML="",e.set(b.title,"display",null));this.aggiornaAltezzaIFrame()})})})},d(b.editBtnContainerNode,"div")),this.stato.get(b.statoVar)&&0<a.trim(this.stato.get(b.statoVar)).length?e.set(b.title,"display","none"):e.set(b.title,"display",null),b.visibilityBtn=new E({"class":"hideShowButton",iconClass:"fa",checked:this.stato.get(b.statoVisibilityVar),onChange:a.hitch(this,function(a){this.stato.set(b.statoVisibilityVar,
a);this.aggiornaVisibilitaMask(!a,b.boxNode);this.aggiornaAltezzaIFrame()})},d(b.visibilityBtnContainerNode,"div")),this.aggiornaVisibilitaMask(!this.stato.get(b.statoVisibilityVar),b.boxNode))},renderFreeText:function(a){},initHeader:function(b){N.trace("initFreeTextEdit","textEditor",b);this.makeElementControls(b,!0,!0,!0)&&(b.title.innerHTML=V[b.lblPlaceHolderVar],b.editBtn=new G({"class":"editButton",iconClass:"fa fa-pencil",showLabel:!1,onClick:a.hitch(this,function(){this.editTextDialogWidget.show({showColorsSelection:!0,
showFontSelection:!0,fontFamilyData:[{label:"Helvetica",value:"Arial, Helvetica, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"},{label:"Courier New",value:"Courier New, Courier, monospace"},{label:"Times New Roman",value:"Times New Roman, Times, serif"},{label:"Encode Sans",value:"Encode Sans Normal"},{label:"PT Sans",value:"PT Sans"},{label:"PT Sans Narrow",value:"PT Sans Narrow"}],fontSizeData:[10,11,12,13,14,16,18,20,24,28,30,32,34,38,40,42,50],fontFamily:this.stato.get(b.statoFontVar)||
"Arial, Helvetica, sans-serif",fontSize:this.stato.get(b.statoFontSizeVar)||"30px",title:V[b.lblTitleVar],text:this.stato.get(b.statoVar),color:this.stato.get(b.statoColorVar),backgroundColor:this.stato.get(b.statoBackgroundColorVar),doOnSave:a.hitch(this,function(a){var d=null,f=null,h=null,k=null;a?(this.stato.set(b.statoVar,a.text),b.contentNode.innerHTML=a.text,d=a.fontSize,f=a.fontFamily,h=a.color,k=a.backgroundColor):this.stato.set(b.statoVar,null);this.stato.set(b.statoFontSizeVar,a.fontSize);
this.stato.set(b.statoFontVar,a.fontFamily);this.stato.set(b.statoColorVar,a.color);this.stato.set(b.statoBackgroundColorVar,a.backgroundColor);e.set(b.contentNode,{fontSize:d,fontFamily:f,color:h,background:k});this.stato.get(b.statoVar)?(b.contentNode.innerHTML=this.stato.get(b.statoVar)||"\x26nbsp;",e.set(b.title,"display","none")):(b.contentNode.innerHTML="\x26nbsp;",e.set(b.title,"display","block"));this.aggiornaAltezzaIFrame()})})})},d(b.editBtnContainerNode,"div")),this.stato.get(b.statoVar)?
(b.contentNode.innerHTML=this.stato.get(b.statoVar)||"\x26nbsp;",e.set(b.title,"display","none")):(b.contentNode.innerHTML="\x26nbsp;",e.set(b.title,"display","block")),b.visibilityBtn=new E({"class":"hideShowButton",iconClass:"fa",checked:this.stato.get(b.statoVisibilityVar),onChange:a.hitch(this,function(a){this.stato.set(b.statoVisibilityVar,a);this.aggiornaVisibilitaMask(!a,b.boxNode)})},d(b.visibilityBtnContainerNode,"div")),this.aggiornaVisibilitaMask(!this.stato.get(b.statoVisibilityVar),b.boxNode))},
initSeparator:function(b){N.trace("initSeparator","separator",b);this.makeElementControls(b,!1,!0,!0)&&(b.title&&(b.title.innerHTML=V.lblSeparatorPlaceholder),b.visibilityBtn=new E({"class":"hideShowButton",iconClass:"fa",checked:this.stato.get(b.statoVisibilityVar),onChange:a.hitch(this,function(a){this.stato.set(b.statoVisibilityVar,a);this.aggiornaVisibilitaMask(!a,b.boxNode)})},d(b.visibilityBtnContainerNode,"div")),this.aggiornaVisibilitaMask(!this.stato.get(b.statoVisibilityVar),b.boxNode))},
aggiornaVisibilitaMask:function(a,b){a?f.add(b,"hideWithMask"):f.remove(b,"hideWithMask")}})})},"ebPlatformWidgets/Dialogs/EditImageDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/json dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/text!./templates/EditImageDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/ComboBox dijit/form/TextBox dijit/form/CheckBox dijit/form/Button dijit/form/ValidationTextBox dojox/form/Uploader ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E){return q([m,u],{mouseAnim:null,templateString:r,baseClass:"editImageDialogContentWidget",parentWidget:null,commonMessages:E,advanced:!1,imageType:null,permittedExtensions:null,selectedFile:null,showLinkImageCheckbox:!1,linkaImmagine:!1,showImageLink:!1,linkImmagine:null,maxHeight:null,maxWidth:null,maxHeightDefault:400,maxWidthDefault:640,doOnSelection:null,uploadImageFormWidget:null,scegliFileWidget:null,nomeFileWidget:null,uploadBtnWidget:null,
linkaImmagineWidget:null,linkImmagineWidget:null,cancelBtnWidget:null,okBtnWidget:null,postCreate:function(){this.inherited(arguments);this.uploadImageFormWidget=new w({method:"POST",encType:"multipart/form-data",onSubmit:function(){G.debug("form submit");C.showLoading()}},this.uploadImageFormNode);this.nomeFileWidget=new y({"class":"ro",readonly:!0},this.nomeFileNode);this.scegliFileWidget=new dojox.form.Uploader({label:E.lblScegliFile,multiple:!1,uploadOnSelect:!1,url:"",name:"fileAllegato"},this.scegliFileNode);
this.scegliFileWidget.on("change",a.hitch(this,function(a){if(0<a.length){var b=a[0].name.substr(a[0].name.lastIndexOf(".")+1).toLowerCase();-1<k.indexOf(this.permittedExtensions,b)?(this.nomeFileWidget.set("value",a[0].name),this.uploadImageFormSubmitWidget.set("disabled",!1),this.aggiornaTitleScegliFileWidget()):(this.uploadImageFormSubmitWidget.set("disabled",!0),C.showInfoWithCloseButton(E.msgFileNonValidoWarning,I.footerInc.lblWarningMsgDialogTitle,E.lblOKButton))}}));this.scegliFileWidget.on("begin",
a.hitch(this,function(a){}));this.scegliFileWidget.on("complete",a.hitch(this,function(b){G.debug("on complete:",(new Date).getTime(),b);G.debug("data.result",b.result);p.loadImage(b.fileAllegato,a.hitch(this,function(a){this.impostaWidthPlaceholder(a.width,this.maxWidth?this.maxWidth:null)}),a.hitch(this,function(){}),!0);"OK"==b.result?(this.impostaSrcPreview(b.fileAllegato),this.selectedFile=b.fileAllegato,this.nomeFileWidget.set("value",""),this.uploadImageFormSubmitWidget.set("disabled",!0)):
b.msg?C.showInfoWithCloseButton(b.msg,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton):C.showInfoWithCloseButton(E.msgErroreServer,I.footerInc.lblErrorMsgDialogTitle,E.lblOKButton)}));this.scegliFileWidget.startup();this.linkaImmagineWidget=new x({onChange:a.hitch(this,function(a){this.linkaImmagine=a})},this.linkaImmagineCbxNode);b.set(this.linkaImmagineContainerNode,"display","none");this.linkImmagineWidget=new y({onChange:a.hitch(this,function(a){this.linkImmagine=a})},this.linkImmagineNode);
b.set(this.linkImmagineContainerNode,"display","none");this.marginTop=new B({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"0px",trim:!0},this.marginTopControlNode);this.marginBottom=new B({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"0px",trim:!0},this.marginBottomControlNode);this.width=new B({required:!1,trim:!0,pattern:"^\\s*\\d+(?:px)?\\s*$",placeHolder:"0px",trim:!0,onChange:a.hitch(this,
function(a){this.selectedFile&&this.impostaSrcPreview(this.selectedFile)})},this.widthControlNode);var e=a.hitch(this.width,this.width.validator),f=a.hitch(this.width,this.width._isValidSubset),h=this;this.width.validator=a.hitch(this.width,function(a,b){var d=e(a,b);h.maxWidth&&(d=d&&parseInt(a)<=h.maxWidth);return d});this.width._isValidSubset=a.hitch(this.width,function(){var a=f();h.maxWidth&&(a=a&&parseInt(this.textbox.value)<=h.maxWidth);return a});this.uploadImageFormSubmitWidget=new z({label:E.lblUploadButton,
type:"submit",disabled:!0},this.uploadBtnNode);this.cancelBtnWidget=new z({label:E.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new z({label:E.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),e;this.showLinkImageCheckbox||this.showImageLink||this.advanced?(e={file:this.selectedFile,style:{marginTop:this.marginTop.isValid()?this.marginTop.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTop.get("value"))?"px":
""):"",marginBottom:this.marginBottom.isValid()?this.marginBottom.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottom.get("value"))?"px":""):"",width:this.width.isValid()?this.width.get("value")+(/^\d+(?:\.\d+)?$/.test(this.width.get("value"))?"px":""):""}},this.linkaImmagine&&(e.linkaImmagine=this.linkaImmagine),e.linkImmagine=this.linkImmagine):e=this.selectedFile;G.debug("retVal",e,"this.showLinkImageCheckbox",this.showLinkImageCheckbox);this.doOnSelection&&(b?b.then(a.hitch(this,function(){G.debug("retVal",
e);this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode);n(this.removeImgBtnNode,"click",a.hitch(this,function(){this.reset()}));n(this.imgPreviewNode,"load",a.hitch(this,function(a){C.hideLoading();this.parentWidget.resize()}));n(this.imgPreviewNode,"error",a.hitch(this,function(a){C.hideLoading();this.parentWidget.resize()}))},_setImageTypeAttr:function(a){this.imageType=a;this.scegliFileWidget.set("url","/doCaricaTempImmagine.plp?tipoAllegato\x3d"+a)},_setAdvancedAttr:function(a){this.advanced=
a;f[a?"add":"remove"](this.domNode,"advanced")},_setImageAttr:function(a){"string"===typeof a||a instanceof String?_value=a:(_value=a.file,this.width.set("value",a.style&&void 0!==a.style.width?a.style.width:"",!1),this.marginTop.set("value",a.style&&void 0!==a.style.marginTop?a.style.marginTop:"",!1),this.marginBottom.set("value",a.style&&void 0!==a.style.marginBottom?a.style.marginBottom:"",!1));this.impostaSrcPreview(_value)},reset:function(){this.selectedFile=null;this.scegliFileWidget.reset();
this.nomeFileWidget.set("value","");e.set(this.imgPreviewNode,"src","");b.set(this.imgPreviewContainerNode,"display","none");this.uploadImageFormSubmitWidget.set("disabled",!0);this.width.reset();this.marginTop.reset();this.marginBottom.reset();this.resettaWidthPlaceholder()},aggiornaTitleScegliFileWidget:function(){var a=this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length?this.scegliFileWidget.get("value")[0].name:"";a?e.set(this.scegliFileWidget.inputNode,"title",a):
e.set(this.scegliFileWidget.inputNode,"title",E.lblScegliFile)},impostaDimensioniMassimePreview:function(a,b){this.maxHeight=b||null;this.maxWidth=a||null;this.width.set("placeHolder",this.maxWidth?this.maxWidth+"px":"")},impostaWidthPlaceholder:function(a,b){this.width.set("placeHolder",(b?a<b?a:b:a)+"px")},resettaWidthPlaceholder:function(){this.width.set("placeHolder","")},impostaNotaFormato:function(a){this.fileFormatNoteNode.innerHTML=a},impostaSrcPreview:function(f){G.debug("impostaSrcPreview",
f,this);if(f){this.selectedFile=f;var h=null;this.advanced&&this.width.isValid()&&this.width.get("value")&&(h=this.width.get("value").replace("px",""));var k=p.fetchWithCloudinary(f,this.maxHeight||this.maxHeightDefault,this.maxWidth||this.maxWidthDefault,"f_auto,q_auto:eco,fl_preserve_transparency"+(h?",w_"+h+",c_fit":""));p.loadImage(f,a.hitch(this,function(a){this.impostaWidthPlaceholder(a.width,this.maxWidth?this.maxWidth:null);e.set(this.imgPreviewNode,"src",k);b.set(this.imgPreviewContainerNode,
"display","block");this.parentWidget.resize()}),a.hitch(this,function(){b.set(this.imgPreviewContainerNode,"display","none");this.parentWidget.resize()}),!0)}else b.set(this.imgPreviewContainerNode,"display","none"),this.parentWidget.resize()},impostaLinkaImmagine:function(a,e,f){(this.showLinkImageCheckbox=a)?(b.set(this.linkaImmagineContainerNode,"display","block"),this.linkaImmagineWidget.set("checked",f),this.linkaImmagineLabelNode.innerHTML=e):b.set(this.linkaImmagineContainerNode,"display",
"none")},impostaLinkImmagine:function(a,e,f){(this.showImageLink=a)?(b.set(this.linkImmagineContainerNode,"display","block"),this.linkImmagineWidget.set("value",f),this.linkImmagineLabelNode.innerHTML=e):b.set(this.linkImmagineContainerNode,"display","none")}})})},"ebPlatformWidgets/Evento/Communication/EditPersonalDetailsDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPersonalDetailsDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h){return q([n,l],{baseClass:"editPersonalDetailsDialogWidget",disabled:!1,additionalMessages:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new e({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){console.log("[EditPersonalDetailsDialogWidget] show",a);this.inherited(arguments);this.mainWidget.reset();a.title&&this.set("title",a.title);a.currentState&&a.currentState.fieldsDetails&&this.mainWidget.impostaCampi(a.currentState.fieldsDetails);
a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection);this.resize(null)}})})},"ebPlatformWidgets/Dialogs/EditImageDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatform/utility ./_ParentScrollPreventMixin ./EditImageDialogContentWidget dojo/i18n!./nls/EditImageDialogWidget".split(" "),function(q,a,k,n,l,e,f,h,b){return q([n,f],{baseClass:"editImageDialogWidget",defaultPermittedExtensions:["jpg","jpeg","gif","png"],permittedExtensions:null,
postCreate:function(){this.inherited(arguments);this.mainWidget=new h({parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(f){this.inherited(arguments);this.mainWidget.reset();f&&(f.title&&this.set("title",f.title),this.mainWidget.set("advanced",f.advanced),f.previewMaxDim&&this.mainWidget.impostaDimensioniMassimePreview(f.previewMaxDim.w,f.previewMaxDim.h),f.currentSrc&&this.mainWidget.set("image",f.currentSrc),
f.imageType&&this.mainWidget.set("imageType",f.imageType),f.doOnSelection&&(this.mainWidget.doOnSelection=f.doOnSelection),f.fileFormatNote&&this.mainWidget.impostaNotaFormato(f.fileFormatNote),f.showLinkImageCheckbox?this.mainWidget.impostaLinkaImmagine(f.showLinkImageCheckbox,f.linkImageCheckboxLabel,f.linkImageCheckboxChecked):this.mainWidget.impostaLinkaImmagine(!1),f.showImageLink?this.mainWidget.impostaLinkImmagine(!0,f.imageLinkLabel||b.lblImageLink,f.imageLink):this.mainWidget.impostaLinkImmagine(!1));
f.currentState&&f.currentSrc?e.loadImage(f.currentSrc,a.hitch(this,this.resize)):this.resize(null)}})})},"ebPlatformWidgets/Evento/EventPage/EditRegistrationDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/text!./templates/EditRegistrationDialogContentWidget.html dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/FontControlWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([h,b],{mouseAnim:null,templateString:e,baseClass:"editRegistrationDialogContentWidget",parentWidget:null,localizedMessages:null,doOnSelection:null,sectionTitleWidget:null,collapseDatesWidget:null,showAvailabilityStatusWidget:null,showAvailabilityWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:B,commonMessages:z,postCreate:function(){this.inherited(arguments);this.sectionTitleWidget=new r({placeHolder:B.lblRegistrationSectionTitlePlaceHolder},
this.sectionTitleNode);this.sectionTextWidget=new m({placeHolder:"",placeholder:""},this.sectionTextNode);this.collapseDatesWidget=new u({},this.collapseDatesNode);this.showAvailabilityStatusWidget=new u({onChange:a.hitch(this,function(a){a?this.showAvailabilityWidget.set("disabled",!1):(this.showAvailabilityWidget.set("checked",!1),this.showAvailabilityWidget.set("disabled",!0))})},this.showAvailabilityStatusNode);this.showAvailabilityWidget=new u({},this.showAvailabilityNode);this.backgroundColorWidget=
new y({label:B.lblBackgroundColor,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.backgroundColorNode);this.titleColorWidget=new y({label:B.lblColorPlaceHolder,value:"#000000"},this.titleColorNode);this.textColorWidget=new y({label:B.lblColorPlaceHolder,value:"#000000"},this.textColorNode);var b=this.sectionTitleWidget,e=this.fontTitleControlWidget=new x({required:!1,vertical:!0,showFontSize:!0,showAlignement:!1,showFontWeight:!0,showUppercase:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",
fontWeightPlaceHolder:"bold",onChange:function(a){var e=this.fontFamilyPlaceHolder;f(".dijitInputInner, .dijitPlaceHolder",b.domNode).forEach(function(b){l.set(b,"fontFamily",a.fontFamily||e)})}},this.fontTitleSelectorNode),h=this.sectionTextWidget;this.fontControlWidget=new x({required:!1,showFontSize:!1,showAlignement:!1,showFontWeight:!1,showUppercase:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",hiddenOptions:{alignement:["right","center"]},onChange:function(a){e.set("fontFamilyPlaceHolder",
a.fontFamily||"Helvetica, Arial, sans-serif");l.set(h.domNode,"fontFamily",a.fontFamily);e.get("value")&&e.get("value").fontFamily||f(".dijitInputInner, .dijitPlaceHolder",b.domNode).forEach(function(b){l.set(b,"fontFamily",a.fontFamily)})}},this.fontSelectorNode);this.cancelBtnWidget=new w({label:z.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new w({label:z.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),
e={sectionTitle:this.sectionTitleWidget.get("value"),sectionText:this.sectionTextWidget.get("value"),collapseDates:this.collapseDatesWidget.get("checked"),showAvailabilityStatus:this.showAvailabilityStatusWidget.get("checked"),showAvailability:this.showAvailabilityWidget.get("checked"),backgroundColor:this.backgroundColorWidget.get("value"),titleColor:this.titleColorWidget.get("value"),textColor:this.textColorWidget.get("value"),font:this.fontControlWidget.get("value"),fontTitle:this.fontTitleControlWidget.get("value")};
this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode)},attualizzaLocalizedMessages:function(){this.sectionTitleWidget.set("placeHolder",this.localizedMessages.lblRegistrationSectionTitlePlaceHolder)},reset:function(){this.sectionTitleWidget.set("value","");this.sectionTextWidget.set("value","");this.collapseDatesWidget.set("checked",!0);this.showAvailabilityStatusWidget.set("checked",!0);this.showAvailabilityWidget.set("checked",!0);
this.backgroundColorWidget.set("value","#FFFFFF");this.titleColorWidget.set("value","#000000");this.textColorWidget.set("value","#000000")},impostaTitoloSezione:function(a){this.sectionTitleWidget.set("value",a)},impostaTestoSezione:function(a,b){console.log("impostaTestoSezione",a,b);this.sectionTextWidget.set("value",a);b&&(this.sectionTextWidget.set("placeHolder",b),this.sectionTextWidget.set("placeholder",b))},impostaCollassaDate:function(a){this.collapseDatesWidget.set("checked",a)},impostaMostraPostiDisponibili:function(a){this.showAvailabilityStatusWidget.set("checked",
a)},impostaMostraNumeroPostiDisponibili:function(a){this.showAvailabilityWidget.set("checked",a)}})})},"ebPlatformWidgets/Evento/EventPage/EditHeaderDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/store/Memory dojo/text!./templates/EditHeaderDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button dijit/form/FilteringSelect dijit/form/ValidationTextBox put-selector/put ebPlatform/commonDialogs ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/FontControlWidget dojo/i18n!ebPlatformWidgets/Dialogs/nls/EditTextWithFontDialogWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M){return q([m,u],{mouseAnim:null,templateString:r,baseClass:"editHeaderDialogContentWidget",parentWidget:null,doOnSelection:null,okBtnWidget:null,messages:M,commonMessages:E,dialogMessages:I,postCreate:function(){var b=this.parentWidget;this.inherited(arguments);var d=this.textNode;this.textColorWidget=new C({label:M.lblEventName,value:"#000000",onChange:function(a){h("h3 \x3e span",d).forEach(function(b){f.set(b,"color",a)})}},this.textColorNode);
this.fontControlWidget=new p({required:!1,compact:!0,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",fontWeightPlaceHolder:"bold",textAlignPlaceHolder:E.lblTextAlignLeft,fontSizePlaceHolder:b.fontSizePh,hiddenOptions:{alignement:["right","justify"]},onChange:function(a){a.lineHeight=a.fontSize?"normal":"inherit";a.whiteSpace=a.fontSize?"normal":"inherit";h("h3 \x3e span",d).forEach(function(b){f.set(b,a)});var b="initial";a.textAlign&&"custom"!=a.textAlign&&(b=a.textAlign);h("h3, h4",d).forEach(function(a){f.set(a,
"textAlign",b)})}},this.fontSelectorNode);b=t(this.fontControlWidget.domNode,"div.itemForm.mtop");t(b,"label",E.lblMarginTop);this.marginTop=new B({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"0px",trim:!0},t(b,"div"));this.fontControlWidget.alignement.store.put({label:M.lblAlignToColumn,value:"custom",show:!0});this.datesColorWidget=new C({label:M.lblEventDates,value:"#000000",onChange:function(a){h("h4 .date \x3e span, h4 .time \x3e span, h4 .timeslot \x3e span, h4 .timeslot \x3e em, h4 .customDate, h4 .customDate *",
d).forEach(function(b){f.set(b,"color",a)})}},this.datesColorNode);this.fontDatesControlWidget=new p({required:!1,compact:!0,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",fontWeightPlaceHolder:"normal",showAlignement:!1,onChange:function(a){a.lineHeight=a.fontSize?"normal":"inherit";a.whiteSpace=a.fontSize?"normal":"inherit";h("h4 .date \x3e span, h4 .time \x3e span, h4 .timeslot \x3e span, h4 .timeslot \x3e em, h4 .customDate, h4 .customDate *",d).forEach(function(b){f.set(b,a)})}},this.fontDatesSelectorNode);
b=t(this.fontDatesControlWidget.domNode,"div.itemForm.mtop");t(b,"label",E.lblMarginTop);this.marginTopDate=new B({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"0px",trim:!0},t(b,"div"));b=t(this.fontDatesControlWidget.domNode,"div.itemForm.mbot");t(b,"label",E.lblMarginBottom);this.marginBottom=new B({required:!1,trim:!0,pattern:"^\\s*\\d+(?:\\.\\d+)?(?:em|ex|%|px|cm|mm|in|pt|pc)?\\s*$",placeHolder:"0px",trim:!0},t(b,"div"));this.fontDatesControlWidget.fontSize.store.data.unshift({size:"15px",
label:"15px"});this.fontDatesControlWidget.fontSize.store.data.unshift({size:"14px",label:"14px"});this.fontDatesControlWidget.fontSize.store.data.unshift({size:"13px",label:"13px"});this.fontDatesControlWidget.fontSize.store.data.unshift({size:"12px",label:"12px"});this.cancelBtnWidget=new x({label:E.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new x({label:E.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),
d={font:this.fontControlWidget.get("value"),textColor:this.textColorWidget.get("value"),fontDates:this.fontDatesControlWidget.get("value"),datesColor:this.datesColorWidget.get("value")};d.font.marginTop=this.marginTop.isValid()?this.marginTop.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTop.get("value"))?"px":""):null;d.fontDates.marginTop=this.marginTopDate.isValid()?this.marginTopDate.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginTopDate.get("value"))?"px":""):null;d.fontDates.marginBottom=
this.marginBottom.isValid()?this.marginBottom.get("value")+(/^\d+(?:\.\d+)?$/.test(this.marginBottom.get("value"))?"px":""):null;this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(d)})):this.doOnSelection(d))})},this.okBtnNode)},_setTextAttr:function(a){a=e.toDom(a||"");h(".btnsControls, h4 .eventDate + .eventDate",a).forEach(e.destroy);e.place(a,this.textNode,"only");h("h3, h4",this.textNode).forEach(function(a){l.add(a,"dojoxEllipsis")})},reset:function(){this.textColorWidget.set("value",
"#000000");this.datesColorWidget.set("value","#000000");this.fontControlWidget.reset();this.fontDatesControlWidget.reset()},changeEventNameFont:function(a){a.lineHeight=a.fontSize?"normal":"inherit";a.whiteSpace=a.fontSize?"normal":"inherit";h("h3 \x3e span",textNode).forEach(function(b){f.set(b,a)});var b="initial";a.textAlign&&"custom"!=a.textAlign&&(b=a.textAlign);h("h3, h4",textNode).forEach(function(a){f.set(a,"textAlign",b)})}})})},"ebPlatformWidgets/Evento/EventPage/EditRegistrationFormElementsSetupsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/mouse dojo/text!./templates/EditRegistrationFormElementsSetupsWidget.html dojo/dom-construct dojo/dom-style dojo/dom-prop put-selector/put dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip ebPlatform/commonDialogs ./EditFormTextDialogWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([m,u],{mouseAnim:null,templateString:e,baseClass:"editRegistrationFormElementsSetupsWidget",larghezzaColonne:20,altezzaHeaderLabels:12,editTextWidget:null,parentWidget:null,postCreate:function(){this.inherited(arguments);this.editTextWidget=new y({title:z.lblEditTextTitle})},impostaCampi:function(b){this.impostaNomeCognome();f.empty(this.containerNode);var e=2;this.parentWidget.allowUneditableFieldsManagement&&(e++,this.parentWidget.allowPartnerWithProfileInsertion&&
e++);this.parentWidget.allowPartnerWithProfileInsertion&&(e+=2);var h=[],m=[];k.forEach(b,function(a){a.opened?a.visible=!0:h.push(""+a.id);a.parent&&(-1<h.indexOf(""+a.parent)||-1<m.indexOf(""+a.parent))?(a.visible=!1,m.push(""+a.id)):a.visible=!0});var l=r(this.containerNode,"table");k.forEach(b,a.hitch(this,function(a){a.visible&&this.putRiga(l,a)}));this.impostaLegenda(e)},impostaNomeCognome:function(){f.empty(this.parentWidget.nomeCognomeSetupsNode);var a=r(this.parentWidget.nomeCognomeSetupsNode,
"table");this.putRiga(a,{id:"nome",itemType:"nome",mandatory:!0,mandatoryForPartner:!0,multiple:!1,name:x.lblNome,opened:!0,parent:0,show:!0,showForPartner:!0,uneditable:!1,uneditableForPartner:!1,disabled:!0});this.putRiga(a,{id:"cognome",itemType:"cognome",mandatory:!0,mandatoryForPartner:!0,multiple:!1,name:x.lblCognome,opened:!0,parent:0,show:!0,showForPartner:!0,uneditable:!1,uneditableForPartner:!1,disabled:!0})},putRiga:function(b,e){var f=r(b,"tr.row#formElementRow_"+e.id),m;r(f,"td.riempitivo",
" ");this.putCheckbox(f,e,"show");"label"!=e.itemType?this.putCheckbox(f,e,"mandatory"):r(f,"td.mandatoryCbx"," ");this.parentWidget.allowUneditableFieldsManagement&&("label"!=e.itemType?this.putCheckbox(f,e,"uneditable"):r(f,"td.mandatoryCbx"," "));this.parentWidget.allowPartnerWithProfileInsertion&&(this.putCheckbox(f,e,"showForPartner"),"label"!=e.itemType?this.putCheckbox(f,e,"mandatoryForPartner"):r(f,"td.mandatoryForPartnerCbx"," "),this.parentWidget.allowUneditableFieldsManagement&&("label"!=
e.itemType?this.putCheckbox(f,e,"uneditableForPartner"):r(f,"td.mandatoryForPartnerCbx"," ")));if(e.parent){var p=this.parentWidget.observableTreeStore.get(e.parent);m=r(f,"td.setupRuleBtn div.fa.fa-cogs",{style:"color:green;"});n(m,"click",a.hitch(this,function(a){console.log("SETUP ["+e.id+"] "+e.name+" ("+e.path+")");w.hide(a.target);this.parentWidget.mostraRegole(e)}));n(m,l.enter,a.hitch(this,function(b){var f="",h="",m="",l="";e.rule&&(f+="\x3cstrong\x3e"+e.rule.action.toUpperCase()+"\x3c/strong\x3e",
f+=" ["+e.name+"]\x3cbr/\x3e",f+=" \x3cstrong\x3e"+x.lblSe.toUpperCase()+"\x3c/strong\x3e ",f+=""+p.name+"",f+=" \x3cstrong\x3e"+z["lblRuleCondition_"+e.rule.condition].toUpperCase()+"\x3c/strong\x3e ",k.forEach(e.rule.conditionValues,a.hitch(this,function(a){if(h=this.parentWidget.getLabelValoreLista(e.parent,a))m+=l+'"'+h+'"',l=","})),m&&(f+="[ "+m+"] "));""!=f&&w.show(f,b.target)}));n(m,l.leave,a.hitch(this,function(a){w.hide(a.target)}));e.rule||h.set(m,"color","black")}else r(f,"td.setupRuleBtn",
" ");"label"==e.itemType?(m=r(f,"td.editLabelBtn img.editLabelBtn",{src:"/img/edit.png"}),n(m,"click",a.hitch(this,function(b){console.log("EDIT",e);this.editTextWidget.show({currentState:{text:{text:e.name,style:e.style}},doOnSelection:a.hitch(this,function(b){e.style=a.clone(b.style);this.parentWidget.aggiornaProp(e,"name",b.text)})})})),f=r(f,"td.deleteLabelBtn img.deleteLabelBtn",{src:"/img/trash15x15.png"}),n(f,"click",a.hitch(this,function(a){console.log("DELETE",e);this.parentWidget.rimuoviTesto(e.id)}))):
(r(f,"td.editLabelBtn"," "),r(f,"td.deleteLabelBtn"," "))},putCheckbox:function(e,f,h){var k=r(e,"td."+h+"Cbx input[type\x3dcheckbox]");b.set(k,"checked",f[h]);f.disabled&&b.set(k,"disabled",!0);n(k,"change",a.hitch(this,function(a){console.log(h,b.get(k,"checked"));this.aggiornaProp(f,h,b.get(k,"checked"));this.parentWidget.signalDataChange()}));return k},aggiornaProp:function(a,b,e){a=this.parentWidget.observableTreeStore.get(a.id);a[b]=e;this.parentWidget.observableTreeStore.put(a)},impostaLegenda:function(a){var b=
this.parentWidget.headerLabelsNode,e=this.parentWidget.headerMarkersNode;f.empty(b);f.empty(e);h.set(e,{width:a*this.larghezzaColonne+"px",height:a*this.altezzaHeaderLabels+"px"});for(var m=1;m<=a;m++){var l=(.5+m-1)*this.altezzaHeaderLabels,n=(.5+m-1)*this.larghezzaColonne,u=r(e,"div.marker");h.set(u,{width:n+"px",height:l+"px",zIndex:m})}r(e,"div.clear");a=[];a.unshift(z.lblShowOnRegistrationPage.replace("\x3cbr/\x3e"," "));a.unshift(z.lblMandatoryField.replace("\x3cbr/\x3e"," "));this.parentWidget.allowUneditableFieldsManagement&&
a.unshift(z.lblUneditableField.replace("\x3cbr/\x3e"," "));this.parentWidget.allowPartnerWithProfileInsertion&&(a.unshift(z.lblShowForPartnerField.replace("\x3cbr/\x3e"," ")),a.unshift(z.lblMandatoryForPartnerField.replace("\x3cbr/\x3e"," ")),this.parentWidget.allowUneditableFieldsManagement&&a.unshift(z.lblUneditableField.replace("\x3cbr/\x3e"," ")));k.forEach(a,function(a){r(b,"div.label",a)})}})})},"ebPlatformWidgets/Evento/_EventoWidgetBaseMixin":function(){define(["dojo/_base/declare","ebPlatform/logger!",
"ebPlatform/stato","ebPlatformWidgets/_EbPlatformWidgetMixin"],function(q,a,k,n){return q([n],{hasToLoadData:function(){return 0!=k.evento.stato.idEvento&&!this.stato.get("loaded")}})})},"ebPlatformWidgets/Evento/Communication/ScheduledCommunicationWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/Stateful dojo/store/Memory dojo/dom-style dojo/dom-attr dojo/dom-geometry dojo/date/locale dojo/window dojo/topic dojo/Deferred dojo/promise/all dojo/text!./templates/ScheduledCommunicationWidget.html dijit/form/Form dijit/form/Button dijit/form/DateTextBox dijit/form/TimeTextBox dijit/form/CheckBox dijit/form/FilteringSelect dijit/form/Select dijit/form/ValidationTextBox ebPlatformWidgets/CustomTooltip ebPlatform/utility ebPlatform/templateUtility ebPlatform/logger! ebPlatform/stato ebPlatform/i18n ebPlatform/commonDialogs ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/RichTextBoxWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/Form/FileUploadWidget ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ./ScheduledCommunicationTemplateWidget ./RecipientsSelectionWidget ./SaveAsTemplateDialogWidget ./PersonalFilesCategoriesToAttachWidget app/utility dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/CommunicationWidget dojo/i18n!ebPlatformWidgets/Evento/EventPage/nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W){return q([T],{templateString:y,baseClass:"scheduledCommunicationWidget",mappingName:"evento.mappings.scheduled_communication",internalName:"ScheduledCommunicationWidget",statoShadowProp:null,eventPageMessages:W,appWidget:null,parentWidget:null,communicationType:"",communicationsTypeMap:{invitation:"INVITO",other:"GENERIC"},allConfimationEmailsCreated:!1,hasToolbar:!0,hasSecondaryToolbar:!0,statoStartUp:{idSchedulation:0,
name:"",recipientsCategory:"",recipientsFilters:[],sender:d.commons.data.customerDefaults.mittente,replyTo:null,subject:null,showTimezone:!1,showHeader:!0,headerText:null,headerFontFamily:"Helvetica, Arial, sans-serif",headerFontSize:"32px",showLogoEventDetails:!1,logo:null,showEventImage:!1,eventImage:null,showBarCode:!1,barCodeTitle:"",hideBarCodeTitle:!1,showAdditionalInformation:!0,additionalInformation:null,showRegistrationBtn:!0,registrationBtnLabel:null,showPartecipationDenyBtn:!1,partecipationDenyBtnLabel:"",
partecipationDenyText:"",showFooterImage:!1,footerImage:null,showFooter:!0,attachmentFile:null,deliveryDate:null,deliveryTime:null,backGroundColor:"#FFFFFF",backGroundHeaderColor:"#CCCCCC",backGroundFooterColor:"#CCCCCC",foreGroundColor:"#FFFFFF",backGroundBodyColor:null,registrationBtnColor:"#666666",registrationBtnBackground:"#E9E9E9",partecipationDenyBtnColor:"#666666",partecipationDenyBtnBackground:"#E9E9E9",centerHeader:!1,idLanguage:1,attachTicket:!1,attachPartnerTicket:!1,showTools:!1,showDetails:!1,
showUnsubscribe:!0,personalFilesCategories:[]},nameWidget:null,recipientsTooltipWidget:null,recipientsWidget:null,configureTemplateSwitchWidget:null,selectTemplateModelSimpleStore:null,selectTemplateModelStore:null,selectTemplateModelWidget:null,saveAsTemplateModelWidget:null,saveAsTemplateDialogWidget:null,templateWidget:null,checkForSpamButton:null,recheckForSpamButton:null,moreDetailsButton:null,languageTimezoneDateSettingsSwitchWidget:null,attachmentFileSwitchWidget:null,attachmentFileWidget:null,
showPartecipationDenyBtnWidget:null,personalFilesCategoriesToAttachWidget:null,messages:Q,commonMessages:X,postCreate:function(){this.inherited(arguments);this.statoShadowProp=a.clone(this.statoStartUp);var b=this.stato=new l(this.statoShadowProp);this.stato.watch(a.hitch(this,function(a,b,d){d!=b&&"dirty"!=a&&this.stato.set("dirty",!0);"dirty"==a&&(1==d?this.appWidget.setMustSaveToContinueMode():this.appWidget.resetMustSaveToContinueMode())}));this.formWidget=new x({},this.formNode);this.mainTitleNode.innerHTML=
Q[this.communicationType+"Communication"].lblMainTitle;var e=this.communicationType;this.nameWidget=new F({internalName:"name",countChars:!1,required:!0,tooltip:Q[this.communicationType+"Communication"].msgNameTip,validator:function(f,h){var A=null,A="invitation"==e?d.evento.stato.communication.scheduledCommunications.invitations:d.evento.stato.communication.scheduledCommunications.others,m=I.prototype.validator.call(this,f,h);m&&(m=!k.some(A,function(d){var e=!1;b.get("idSchedulation")&&b.get("idSchedulation")!=
d.idSchedulation&&(e=a.trim((d.name||"").toLowerCase())==a.trim((f||"").toLowerCase()));return e}));return m},onChange:a.hitch(this,function(a){this.stato.set("name",a)})},this.emailNameNode);this.checkForSpamButton=new z({label:Q.lblCheckSpamButton,onClick:a.hitch(this,function(){this.stato.get("idSpamCheck")?this.parentWidget.viewReport():this.parentWidget.checkSpam()})},this.checkForSpamBtnNode);this.recheckForSpamButton=new z({title:Q.lblCheckSpamButton,onClick:a.hitch(this,function(){this.parentWidget.checkSpam()})},
this.recheckForSpamBtnNode);this.moreDetailsButton=new z({title:Q.lblMaggioriInfoQui,onClick:a.hitch(this,function(){N.showInfoWithCloseButton(Q.msgMaggioriInfoDialogText,Q.lblMaggioriInfoDialogTitle,null,null,"maggioriInfoDialog")})},this.moreDetailsBtnNode);this.showPartecipationDenyBtnWidget=new G({disabled:!!d.evento.statoCalcolato.eventoTerminato,checked:this.stato.get("showPartecipationDenyBtn"),onChange:a.hitch(this,function(a){this.stato.set("showPartecipationDenyBtn",a);this.templateWidget.showDenyRegistrationButton(a)})},
this.showPartecipationDenyBtnNode);this.attachTicketWidget=new G({checked:this.stato.get("attachTicket"),onChange:a.hitch(this,function(){this.stato.set("attachTicket",this.attachTicketWidget.get("checked"));this.attachTicketWidget.get("checked")||this.attachPartnerTicketWidget.set("checked",!1)})},this.attachTicketNode);this.attachPartnerTicketWidget=new G({checked:this.stato.get("attachPartnerTicket"),onChange:a.hitch(this,function(){this.stato.set("attachPartnerTicket",this.attachPartnerTicketWidget.get("checked"))})},
this.attachPartnerTicketNode);this.initRecipients();this.initSelectTemplateModel();this.initConfigureTemplate();this.initLanguageTimezoneDate();this.aggiornaVisibilitaLTD();this.initAttachFile();u.subscribe("app_evento.set_mustSaveToContinue",a.hitch(this,function(){"scheduled_communication"==this.parentWidget.selectedTabName&&this.abilitaPulsantiToolbar(!1)}));u.subscribe("app_evento.reset_mustSaveToContinue",a.hitch(this,function(){"scheduled_communication"==this.parentWidget.selectedTabName&&this.aggiornaStatoPulsantiToolbar()}))},
loadData:function(){var b=new w;n.get("/getScheduledCommunication.plp",{query:{idSchedulation:this.stato.get("idSchedulation")},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(e){"other"!=this.communicationType?b.resolve(e):"OK"==(e.result||e).resultCode?n.get("/getEventoPersonaFields.plp",{query:{idEvento:d.evento.stato.idEvento,l:e.data.lingua.idLingua,includeLabels:!1,s:"mail"},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){"OK"==(a.result||a).resultCode?(e.descrittore=a.campi,b.resolve(e)):b.reject()}),a.hitch(this,function(){b.reject()})):b.reject()}));return b.promise},hasToLoadData:function(){return 0!=this.stato.get("idSchedulation")},reset:function(){S.debug("reset");this.statoStartUp.idLanguage=d.evento.stato.event_details.languages[0].idLingua;v.copyObjToObj(this.statoStartUp,this.statoShadowProp);v.copyObjToObj(this.statoStartUp,this.stato);this.statoShadowProp.recipientsFilters=[];this.stato.set("recipientsFilters",
[]);this.statoShadowProp.personalFilesCategories=[];this.stato.set("personalFilesCategories",[]);n.get("/getEventoPersonaFields.plp",{query:{idEvento:d.evento.stato.idEvento,l:this.stato.idLanguage,includeLabels:!1,s:"mail"},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){if("OK"==(a.result||a).resultCode){this.stato.fieldsDetails=[];var b=this.stato.fieldsDetails;k.forEach(a.campi,function(a){a.idCustomField&&b.push({id:a.idCustomField,
name:a.fieldName,label:a.fieldLabel,type:a.tipo,positionOnMail:a.posizioneNellaMail,showOnMail:a.visualizzaNellaMail,showOnMailForPartner:a.visualizzaNellaMailAccompagnatori})})}}));this.nameWidget.reset();var b=["link_invito"];"PROFILATI"!=d.evento.stato.event_details.partnersType&&"NON_PROFILATI"!=d.evento.stato.event_details.partnersType||b.push("numero_figli");"invitation"!=this.communicationType&&b.push({normalizedName:"dettagli_iscrizione_disteso"});this.templateWidget.additionaInformationEditorConfig.extraUtentePlaceHolders=
b;this.templateWidget.reset();0==this.stato.get("idSchedulation")?(this.configureTemplateSwitchWidget.closeDropDown(),this.languageTimezoneDateSettingsSwitchWidget&&this.languageTimezoneDateSettingsSwitchWidget.closeDropDown(),this.attachmentFileSwitchWidget&&this.attachmentFileSwitchWidget.closeDropDown()):(this.configureTemplateSwitchWidget.openDropDown(),this.languageTimezoneDateSettingsSwitchWidget&&this.languageTimezoneDateSettingsSwitchWidget.openDropDown(),this.attachmentFileSwitchWidget&&
this.attachmentFileSwitchWidget.openDropDown());this.aggiornaUI()},initRecipients:function(){this.recipientsTooltipWidget=new E({"class":this.baseClass+"RecipientsTooltip",label:"\x3cdiv\x3e"+Q[this.communicationType+"Communication"].msgRecipientsTip+"\x3c/div\x3e",connectId:[this.recipientsTooltipIconNode]});this.recipientsWidget=new R({parentWidget:this,stato:this.stato},this.recipientsNode)},initSelectTemplateModel:function(){this.saveAsTemplateDialogWidget=new ea({});this.selectTemplateModelWidget=
new C({required:!1,placeholder:X.lblsModelTypes.NONE,store:new e({idProperty:"id"}),searchAttr:"label",labelAttr:"label",sortByLabel:!1,onChange:a.hitch(this,function(a){this.templateWidget.applyTemplateModel(a)})},this.selectTemplateModelNode);this.selectTemplateModelWidget.startup();this.saveAsTemplateModelWidget=new z({label:X.lblSaveAsTemplate,onClick:a.hitch(this,function(){this.saveAsTemplateDialogWidget.show({title:X.lblSaveAsTemplateDialogTitle,idCliente:d.evento.stato.idCliente,stato:this.stato,
mappingName:this.mappingName,templateId:this.selectTemplateModelWidget.get("value"),refreshCallback:this.aggiornaModelli,refreshCallbackCtx:this,type:"ISCRIZIONE"})})},this.saveAsTemplateBtnNode)},initConfigureTemplate:function(){this.templateWidget=new Y({appWidget:this.appWidget,parentWidget:this,stato:this.stato,additionaInformationEditorConfig:{insertUtentePlaceHolders:!0,extraUtentePlaceHolders:null,eventoPlaceHolders:"nome hashtag luogo indirizzo cap citt\u00e0 regione provincia date date_descrizioni data_ora_chiusura_iscrizioni".split(" ")}},
this.configureTemplateNode);this.configureTemplateSwitchWidget=new J({title:Q[this.communicationType+"Communication"].lblConfigureTemplate,dropDown:this.configureTemplateContainerNode,opened:!0,onOpenDropDown:a.hitch(this,function(){this.templateWidget.aggiornaAltezzaIFrame();this.stato.idSchedulation&&0<this.stato.idSchedulation?f.set(this.checkSpamContainerNode,"visibility","visible"):f.set(this.checkSpamContainerNode,"visibility","hidden")}),onCloseDropDown:a.hitch(this,function(){this.templateWidget.aggiornaAltezzaIFrame();
f.set(this.checkSpamContainerNode,"visibility","hidden")})},this.configureTemplateBtnNode)},initLanguageTimezoneDate:function(){this.showTimezoneLabelNode.innerHTML=Q[this.communicationType+"Communication"].lblShowTimezoneLabel;this.languageWidget=new C({searchAttr:"label",labelAttr:"label",required:!1,value:this.stato.get("idLanguage"),onChange:a.hitch(this,function(a){this.stato.set("idLanguage",this.languageWidget.get("value"));this.aggiornaModelli();this.templateWidget.aggiornaUI()})},this.languageNode);
this.showTimezoneWidget=new G({checked:1==this.stato.get("showTimezone"),onChange:a.hitch(this,function(){this.stato.set("showTimezone",this.showTimezoneWidget.get("checked"));this.templateWidget.aggiornaVisibilitaDateTimezone(this.showTimezoneWidget.get("checked"))})},this.showTimezoneNode)},initAttachFile:function(){this.attachmentFileSwitchWidget=new J({title:Q.lblAttachAFile,dropDown:this.attachFileContainerNode,opened:!0},this.attachFileBtnNode);this.attachmentFileWidget=new K({permittedExtensions:"pdf jpg jpeg png doc docx ppt pptx zip ics".split(" "),
formatNote:Q.msgEmailAttachementsFormatNote,onChange:a.hitch(this,function(a){this.stato.set("attachmentFile",a)})},this.attachFileNode);this.attachmentFileWidget.set("imageType","allegatoMailTemplate");this.personalFilesCategoriesToAttachWidget=new H({idEvento:d.evento.stato.idEvento},this.personalFilesCategoriesContainerNode)},initScheduleDelivery:function(){this.scheduleDeliverySwitchWidget=new J({title:Q.lblScheduleDelivery,dropDown:this.scheduleDeliveryContainerNode,opened:!0},this.scheduleDeliveryBtnNode)},
aggiornaUI:function(){this.recipientsWidget.reset();return this.inherited(arguments).then(a.hitch(this,function(){this.mainTitleNode.innerHTML=Q[this.communicationType+"Communication"].lblMainTitle;this.nameWidget.set("tooltip",Q[this.communicationType+"Communication"].msgNameTip);this.configureTemplateSwitchWidget.set("title",Q[this.communicationType+"Communication"].lblConfigureTemplate);this.aggiornaTendinaModelli();this.recipientsTooltipWidget.set("label",'\x3cdiv class\x3d"'+this.baseClass+'RecipientsTooltip"\x3e'+
Q[this.communicationType+"Communication"].msgRecipientsTip+"\x3c/div\x3e");aa.aggiornaValoreDaStato("name",this);var b=this.recipientsWidget.aggiornaUI();this.templateWidget.aggiornaUI();this.aggiornaVisibilitaLTD();this.languageWidget.set("store",L.getLingueFilteredStore(k.map(d.evento.stato.event_details.languages,function(a){return a.idLingua})));this.languageWidget.set("value",this.stato.get("idLanguage"),!1);this.showTimezoneWidget.set("checked",this.stato.get("showTimezone"),!1);this.showTimezoneLabelNode.innerHTML=
Q[this.communicationType+"Communication"].lblShowTimezoneLabel;aa.aggiornaValoreDaStato("attachmentFile",this,"");this.stato.get("attachmentFile")?this.attachmentFileSwitchWidget.openDropDown():this.attachmentFileSwitchWidget.closeDropDown();this.attachTicketWidget.set("value",this.stato.get("attachTicket"),!1);this.communicationType&&"other"==this.communicationType?f.set(this.ticketSectionNode,"display","block"):f.set(this.ticketSectionNode,"display","none");this.attachPartnerTicketWidget.set("value",
this.stato.get("attachPartnerTicket"),!1);this.communicationType&&"other"==this.communicationType?"NON_PROFILATI"==d.evento.stato.event_details.partnersType?f.set(this.partnerTicketSectionNode,"display","block"):f.set(this.partnerTicketSectionNode,"display","none"):f.set(this.partnerTicketSectionNode,"display","none");this.aggiornaStatoPulsantiToolbar();this.stato.get("idSpamCheck")?(this.checkForSpamButton.set("label",Q.lblViewSpamReportButton),f.set(this.recheckForSpamButton.domNode,"visibility",
"visible")):(this.checkForSpamButton.set("label",Q.lblCheckSpamButton),f.set(this.recheckForSpamButton.domNode,"visibility","hidden"));this.showPartecipationDenyBtnWidget.set("checked",this.stato.get("showPartecipationDenyBtn"),!1);f.set(this.showPartecipationDenyBtnWidget.domNode.parentNode.parentNode,"display","block");this.personalFilesCategoriesToAttachWidget.init(this.stato);0==this.stato.get("idSchedulation")&&this.personalFilesCategoriesToAttachWidget.setStatoDefault();b?b.then(a.hitch(this,
function(){this.stato.set("dirty",!1)}),a.hitch(this,function(){this.stato.set("dirty",!1)})):this.stato.set("dirty",!1);this.updateUIByPermission();S.info("stato",this.stato)}),a.hitch(this,function(){S.debug("ScheduledCommunicationWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){N.hideLoading()})},aggiornaTendinaModelli:function(){0==this.stato.get("idSchedulation")?this.configureTemplateSwitchWidget.closeDropDown():this.configureTemplateSwitchWidget.openDropDown();this.aggiornaModelli()},
aggiornaVisibilitaLTD:function(){d.evento.stato.event_details.international?f.set(this.languageTimezoneDateSettingsContainerNode,"display","block"):f.set(this.languageTimezoneDateSettingsContainerNode,"display","none")},aggiornaStatoPulsantiToolbar:function(){this.stato.get("idSchedulation")?(this.abilitaPulsantiToolbar(!0),this.parentWidget.spedisciEmailTestWidget.popupWidget.setDialogTitle(Q[this.communicationType+"Communication"].lblSendTestEmailDialogTitle),this.parentWidget.spedisciEmailTestWidget.dialogNoAddressesTitle=
Q[this.communicationType+"Communication"].lblDialogAddressesListMandatoryTitle,this.parentWidget.spedisciEmailTestWidget.popupWidget.setSendEmailsURL("/sendCommunicationEmailTest.plp"),this.parentWidget.spedisciEmailTestWidget.setGetDataForSendEmailsURL(a.hitch(this,function(){return{idEvento:d.evento.stato.idEvento,idEmailTemplate:this.stato.get("idTemplate"),type:this.communicationsTypeMap[this.communicationType]}}))):this.abilitaPulsantiToolbar(!1)},abilitaPulsantiToolbar:function(b){b?(this.parentWidget.headerToolbar.enableByCode("sendTest"),
this.parentWidget.headerToolbar.enableByCode("preview"),this.parentWidget.footerToolbar.enableByCode("sendTest"),this.parentWidget.footerToolbar.enableByCode("preview"),this.parentWidget.headerSecondaryToolbar.enableByCode("back")):(this.parentWidget.headerToolbar.disableByCode("sendTest",a.partial(ca.tellUserToSave,Q[this.communicationType+"Communication"].msgSaveBeforeSendingTestEmailDialogText,Q[this.communicationType+"Communication"].lblSaveBeforeSendingTestEmailDialogTitle)),this.parentWidget.headerToolbar.disableByCode("preview",
a.partial(ca.tellUserToSave,Q[this.communicationType+"Communication"].msgSaveBeforePreviewEmailDialogText,Q[this.communicationType+"Communication"].lblSaveBeforePreviewEmailDialogTitle)),this.parentWidget.footerToolbar.disableByCode("sendTest",a.partial(ca.tellUserToSave,Q[this.communicationType+"Communication"].msgSaveBeforeSendingTestEmailDialogText,Q[this.communicationType+"Communication"].lblSaveBeforeSendingTestEmailDialogTitle)),this.parentWidget.footerToolbar.disableByCode("preview",a.partial(ca.tellUserToSave,
Q[this.communicationType+"Communication"].msgSaveBeforePreviewEmailDialogText,Q[this.communicationType+"Communication"].lblSaveBeforePreviewEmailDialogTitle)),this.parentWidget.headerSecondaryToolbar.disableByCode("back",a.partial(ca.askUserToLeavePage,this.appWidget,a.hitch(this,function(){this.parentWidget.selectTab("communications_list",{})}))))},preProcessDataToBePosted:function(a){a.filtriDestinatari&&0<a.filtriDestinatari.length&&k.forEach(a.filtriDestinatari,function(b,e){var f={idFiltroDestinatari:null,
pianificazioneInvioEmail:{idPianificazioneInvioEmail:null},indiceIdValore:null,tipoCondizione:null};v.copyTo(b,f,d.evento.mappings.recipients_filter);a.filtriDestinatari[e]=f})},processLoadedData:function(a){var b=a.data;b.filtriDestinatari&&0<b.filtriDestinatari.length&&k.forEach(b.filtriDestinatari,function(a,e){var f={idFilter:null,idSchedulation:null,listFieldIndex:null,idListValue:null,conditionType:null};v.copyTo(a,f,v.invertMapping(d.evento.mappings.recipients_filter));b.filtriDestinatari[e]=
f});var e=["link_invito"];"PROFILATI"!=d.evento.stato.event_details.partnersType&&"NON_PROFILATI"!=d.evento.stato.event_details.partnersType||e.push("numero_figli");"invitation"!=this.communicationType&&e.push({normalizedName:"dettagli_iscrizione_disteso"});this.templateWidget.additionaInformationEditorConfig.extraUtentePlaceHolders=e;"other"==this.communicationType&&(v.invertMapping(d.evento.mappings.field_details),b.descrittore=[],k.forEach(a.descrittore,function(a){a.idCustomField&&b.descrittore.push({id:a.idCustomField,
name:a.fieldName,label:a.fieldLabel,type:a.tipo,positionOnMail:a.posizioneNellaMail,showOnMail:a.visualizzaNellaMail,showOnMailForPartner:a.visualizzaNellaMailAccomapgnatori})}));return b},save:function(){if(this.validate()){if("other"==this.communicationType)var a=k.map(this.stato.fieldsDetails,function(a){var b={};v.copyTo(a,b,d.evento.mappings.field_details);delete b.mappaParametri;return b});this.salvaStato("/addUpdateScheduledCommunication.plp","jsonData",{idEvento:d.evento.stato.idEvento,tipo:this.communicationsTypeMap[this.communicationType],
descrittore:"other"==this.communicationType?JSON.stringify(a):null})}},postCommit:function(a){this.stato.set("idSchedulation",a.scheduledCommunication.idPianificazioneInvioEmail);this.stato.set("idTemplate",a.scheduledCommunication.template.idEmailTemplate);this.stato.set("dirty",!1);this.aggiornaStatoPulsantiToolbar();this.recipientsWidget.aggiornaUI();this.aggiornaTendinaModelli()},validate:function(){return this.formWidget.validate()},mostraAnteprima:function(){ebPlatform.iframePreviewLoaded=new w;
var b="/getCommunicationPreviewHTML.plp?idEvento\x3d"+d.evento.stato.idEvento+"\x26idPianificazioneInvioEmail\x3d"+this.stato.get("idSchedulation"),e=m.getBox(),f=N.showAnteprima("invitation"==this.communicationType?Q.invitationCommunication.lblPreviewDialogTitle:Q.otherCommunication.lblPreviewDialogTitle,null,b,!0,{width:850,height:.9*e.h,scrolling:"yes"},X.msgPreparazioneAnteprima);ebPlatform.iframePreviewLoaded.then(a.hitch(this,function(b){S.debug("preview LOADED",f,this.aggiornaAltezzaIFrame);
var d=f.contentDocument?f.contentDocument:f.contentWindow.document;b=M.getElementById("eventImageImgNode",d.body);var e=M.getElementById("logoImgNode",d.body),k=M.getElementById("footerImageImgNode",d.body),d=M.getElementById("footerLogoImgNode",d.body),A=[];b&&h.get(b,"src")&&A.push(v.loadImagePromise(h.get(b,"src"),!0));e&&h.get(e,"src")&&A.push(v.loadImagePromise(h.get(e,"src"),!0));k&&h.get(k,"src")&&A.push(v.loadImagePromise(h.get(k,"src"),!0));d&&h.get(d,"src")&&A.push(v.loadImagePromise(h.get(d,
"src"),!0));0<A.length?D(A).then(a.hitch(this,function(){this.aggiornaAltezzaIFrame(f);N.resizeAnteprimaDialog()}),a.hitch(this,function(){S.error("preview IMGS LOAD ERROR");this.aggiornaAltezzaIFrame(f);N.resizeAnteprimaDialog()})):(this.aggiornaAltezzaIFrame(f),N.resizeAnteprimaDialog())}),a.hitch(this,function(a){S.debug("preview LOAD ERROR");this.aggiornaAltezzaIFrame(f);N.resizeAnteprimaDialog()}))},aggiornaAltezzaIFrame:function(a){S.debug("aggiornaAltezzaIFrame .....");var d=b.getMarginBox((a.contentDocument?
a.contentDocument:a.contentWindow.document).body);S.debug("aggiornaAltezzaIFrame","PREVIEW",d);f.set(a,"height",d.h+"px");ebPlatform.iframePreviewLoaded=null},preCommit:function(a){S.debug("PRE COMMIT",a);this.stato.set("logo",a.scheduledCommunication.template.logo);this.stato.set("eventImage",a.scheduledCommunication.template.fileImmagine);this.stato.set("footerImage",a.scheduledCommunication.template.fileImmagineFooter)},updateUIByPermission:function(){d.commons.permissions.canModifyEvent?(this.parentWidget.isWidgetSelected(this)&&
(this.parentWidget.headerToolbar.enableByCode("save"),this.parentWidget.footerToolbar.enableByCode("save"),this.parentWidget.headerToolbar.enableByCode("sendTest"),this.parentWidget.footerToolbar.enableByCode("sendTest")),this.nameWidget.set("disabled",!1),this.recipientsWidget.set("disabled",!1),this.selectTemplateModelWidget.set("disabled",!1),this.templateWidget.set("disabled",!1),this.attachmentFileWidget.set("disabled",!1),this.templateWidget.enableRegistrationButton()):"invitation"==this.communicationType?
(this.parentWidget.isWidgetSelected(this)&&(this.parentWidget.headerToolbar.disableByCode("save"),this.parentWidget.footerToolbar.disableByCode("save"),this.parentWidget.headerToolbar.disableByCode("sendTest"),this.parentWidget.footerToolbar.disableByCode("sendTest")),this.nameWidget.set("disabled",!0),this.recipientsWidget.set("disabled",!0),this.selectTemplateModelWidget.set("disabled",!0),this.templateWidget.set("disabled",!0),this.attachmentFileWidget.set("disabled",!0)):(this.parentWidget.isWidgetSelected(this)&&
(this.parentWidget.headerToolbar.enableByCode("save"),this.parentWidget.footerToolbar.enableByCode("save"),this.parentWidget.headerToolbar.enableByCode("sendTest"),this.parentWidget.footerToolbar.enableByCode("sendTest")),this.nameWidget.set("disabled",!1),this.recipientsWidget.set("disabled",!1),this.selectTemplateModelWidget.set("disabled",!1),this.templateWidget.set("disabled",!1),this.attachmentFileWidget.set("disabled",!1),this.templateWidget.disableRegistrationButton())},aggiornaModelli:function(b){S.debug("aggiornaModelli",
this.stato.get("idLanguage"));n.get("/getAvailableEmailTemplateModels.plp",{query:{tipoTemplate:this.communicationsTypeMap[this.communicationType],idLingua:this.stato.get("idLanguage"),idCliente:d.evento.stato.idCliente},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=k.map(a.modelli,function(a){return{id:a.idEmailTemplateModel,label:"USER_DEFINED"==a.tipoModello?a.nome:X.lblsModelTypes[a.nome||a.tipoModello],type:a.tipoTemplate,modelType:a.tipoModello}});
a.sort(function(a,b){var d=0;a.modelType==b.modelType=="USER_DEFINED"?d=a.label.localeCompare(b.label):(d=a.modelType.localeCompare(b.modelType),0==d&&(d=a.label.localeCompare(b.label)));return d});this.selectTemplateModelWidget.store.setData(a);b?(a=this.selectTemplateModelWidget.store.query({label:b})[0])?this.selectTemplateModelWidget.set("value",a.id,!1):this.selectTemplateModelWidget.reset():this.selectTemplateModelWidget.reset()}))}})})},"ebPlatformWidgets/Evento/EventPage/EditHeaderDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-style dojo/query dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditHeaderDialogContentWidget".split(" "),
function(q,a,k,n,l,e,f,h){return q([e,f],{baseClass:"editHeaderDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new h({parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset();a&&(a.title&&this.set("title",a.title),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection),a.currentState&&(a.currentState.backGroundColor&&n.set(this.mainWidget.textNode,
"background-color",a.currentState.backGroundColor||"transparent"),a.currentState.text&&this.mainWidget.set("text",a.currentState.text),a.currentState.textColor&&this.mainWidget.textColorWidget.set("value",a.currentState.textColor),this.mainWidget.fontControlWidget.refresh(),a.currentState.font&&(this.mainWidget.fontControlWidget.set("value",a.currentState.font),a.currentState.font.marginTop&&this.mainWidget.marginTop.set("value",a.currentState.font.marginTop)),a.currentState.datesColor&&this.mainWidget.datesColorWidget.set("value",
a.currentState.datesColor),this.mainWidget.fontDatesControlWidget.refresh(),a.currentState.fontDates&&(this.mainWidget.fontDatesControlWidget.set("value",a.currentState.fontDates),a.currentState.fontDates.marginBottom&&this.mainWidget.marginBottom.set("value",a.currentState.fontDates.marginBottom)),a.currentState.fontSizePh&&this.mainWidget.fontControlWidget.set("fontSizePlaceHolder",a.currentState.fontSizePh),a.currentState.fontDatesSizePh&&this.mainWidget.fontDatesControlWidget.set("fontSizePlaceHolder",
a.currentState.fontDatesSizePh)));this.resize(null)}})})},"ebPlatformWidgets/Form/EmailAddressTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/dom-class dojo/dom-style dojo/fx dojo/on dojo/store/Memory dojo/when dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/ComboBox dijit/form/ValidationTextBox dojo/text!./templates/EmailAddressTextBox.html dojox/validate/regexp dojox/validate/web ebPlatform/stato ebPlatformWidgets/CustomTooltip dojo/i18n!./nls/form".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G){return q([u,m],{baseClass:"emailAddressTextBox",templateString:y,ar:null,nar:null,alias:null,address:null,postMixInProperties:function(){this.inherited(arguments);this.addressRE="("+x.emailAddress({allowCruft:!1})+")";this.namedAddressRE="(?:(.+)\\s*\x3c\\s*)?"+this.addressRE+"(?:\\s*\x3e\\s*)?";this.ar=new RegExp("^"+this.addressRE+"$","i");this.nar=new RegExp("^"+this.namedAddressRE+"$","i")},postCreate:function(){this.inherited(arguments);this.tooltipNode&&
e.set(this.tooltipNode,"display","none");this.alias=new D({"class":"alias",disabled:this.disabled,required:!1,mainw:this,trim:!0,regExp:"^[^\x3c\x3e@]*$",placeholder:G.emailAddressTextBox.lblEmailAliasPlacehoder,onChange:function(a){this.mainw.valueChanged(!0)}},this.aliasBoxNode);this.address=new (q([w],{_setValueAttr:function(a,b,e,f){if(f)f.alias?this.mainw.alias.set("value",f.alias,b):this.mainw.alias.set("value","",b);else if(!this.isValid()){var h=this.mainw.parse(a);h.alias?this.mainw.alias.set("value",
h.alias,b):this.mainw.alias.set("value","",b);arguments[0]=h.address}this.inherited(arguments)}}))({"class":"address",disabled:this.disabled,required:this.required,mainw:this,trim:!0,lowercase:!0,placeholder:G.emailAddressTextBox.lblEmailAddressPlacehoder,missingMessage:this.missingMessage,invalidMessage:this.invalidMessage,searchAttr:"address",labelAttr:"value",regExp:this.addressRE,store:this.getAddressStore(),onBlur:function(){this.validate()},onChange:function(a){this.mainw.valueChanged(!0)}},
this.addressBoxNode);var b={current:null,node:this.tooltipNode,show:function(){this.current&&"playing"==this.current.status()&&this.current.stop();return this.current=f.chain([f.wipeIn({node:this.node,duration:300}),dojo.fadeIn({node:this.node,duration:500})])},hide:function(){this.current&&"playing"==this.current.status()&&this.current.stop();return this.current=f.chain([dojo.fadeOut({node:this.node,duration:500}),f.wipeOut({node:this.node,duration:300})])}};this.alias.on("focus",a.hitch(this,function(){b.show().play()}));
this.alias.on("blur",a.hitch(this,function(){b.hide().play()}));this.address.on("focus",a.hitch(this,function(){b.show().play()}));this.address.on("blur",a.hitch(this,function(){b.hide().play()}))},getAddress:function(){var a=null;this.address&&this.address.isValid()&&(a=this.address.get("value"));return a},focus:function(){this.address&&this.address.focus()},parse:function(a){ret={valid:!1};if(a)if(this.nar.test(a)){var b=this.nar.exec(a);a=b[1];b=b[2];a&&(a=a.trim());ret.alias=a;b&&(b=b.toLowerCase().trim());
ret.address=b}else this.ar.test(a)?(ret.alias=null,ret.address=a.toLowerCase().trim()):(ret.alias=null,ret.address=a);else ret.alias=null,ret.address=null;ret.valid=this.ar.test(ret.address);return ret},valueChanged:function(a){if(a&&this.onChange)this.onChange(this.get("value"))},_setDisabledAttr:function(a){this.inherited(arguments);this.alias&&this.alias.set("disabled",a);this.address&&this.address.set("disabled",a)},_setRequiredAttr:function(a){this.inherited(arguments);this.alias&&this.alias.set("required",
a);this.address&&this.address.set("required",a)},_setTooltipAttr:function(a){this.inherited(arguments);this.tooltipNode.innerHTML=a},_getValueAttr:function(){var a="";this.address.isValid()&&(this.alias.isValid()&&this.alias.get("value")&&(a+=this.alias.get("value")+" \x3c"),a+=this.getAddress(),this.alias.isValid()&&this.alias.get("value")&&(a+="\x3e"));return a},_setValueAttr:function(a,b,e){var f=this.parse(a);this.address?(this.address.set("value",f.address,b),this.alias.set("value",f.alias,b)):
n.after(this,"postCreate",function(){this.address.set("value",f.address,b);this.alias.set("value",f.alias,b)})},reset:function(){this.alias&&this.alias.reset(arguments);this.address&&(this.update(),this.address.reset(arguments))},validate:function(a){var b=!0,e=!this.required;this.alias&&!this.alias.validate(arguments)&&this.alias.getValue()&&(b=!1);this.address?(e=this.address.validate(arguments),l.add(this.address.domNode,"dijitError")):l.remove(this.address.domNode,"dijitError");return b&&e},update:function(){this.address&&
this.address.set("store",this.getAddressStore())},getAddressStore:function(){var a=this,e=new b({idProperty:"value",data:[]});k.forEach(B.evento.stato.communication.scheduledCommunications.invitations,function(b){var f=a.parse(b.sender);f.value=b.sender;f.valid?e.put(f):console.warn("Indirizzo non valido",f)});k.forEach(B.evento.stato.communication.scheduledCommunications.others,function(b){var f=a.parse(b.sender);f.value=b.sender;f.valid?e.put(f):console.warn("Indirizzo non valido",f)});k.forEach(B.evento.stato.communication.confirmationEmails,
function(b){var f=a.parse(b.sender);f.value=b.sender;f.valid?e.put(f):console.warn("Indirizzo non valido",f)});return e}})})},"ebPlatform/dijit/tree/dndSourceEmitter":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/topic","dijit/tree/dndSource"],function(q,a,k,n,l){return q([l],{onDndDrop:function(a,f,h){var b=this.inherited(arguments);n.publish("dndSourceEmitter.DndDrop",a,f,h,b);return b}})})},"ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-style dijit/_WidgetBase dijit/layout/StackContainer ebPlatformWidgets/Dialogs/CustomizedI18nDialogWidget ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget/ControlloIndirizziWidget ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget/SpedizioneWidget".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([l],{parentWidget:null,dialogTitle:"",sendEmailsURL:"",titoloSpedizione:null,introSpedizione:null,canSendCheck:null,doOnShippingComplete:null,parentWidget:null,dialogWidget:null,stackContainerWidget:null,controlloIndirizziWidget:null,spedizioneWidget:null,totToSend:0,postCreate:function(){this.dialogWidget=new f({"class":"mailSpedizionePopupWidgetDialog",title:this.dialogTitle,style:{width:"730px"},onHide:a.hitch(this,this.onHide),onShow:a.hitch(this,this.onShow)});
n.set(this.dialogWidget.closeButtonNode,"display","none");this.stackContainerWidget=new e({});this.dialogWidget.addChild(this.stackContainerWidget);this.controlloIndirizziWidget=new h({parentWidget:this});this.stackContainerWidget.addChild(this.controlloIndirizziWidget);this.spedizioneWidget=new b({parentWidget:this,titolo:this.titoloSpedizione,intro:this.introSpedizione,canSendCheck:this.canSendCheck,doOnShippingComplete:this.doOnShippingComplete});this.stackContainerWidget.addChild(this.spedizioneWidget)},
setTotToSend:function(a){this.totToSend=a;this.spedizioneWidget.updateTotToSend()},show:function(a,b){this.doOnShippingComplete=a?a:null;this.spedizioneWidget.doOnShippingComplete=this.doOnShippingComplete;this.spedizioneWidget.doOnCloseAfterDeliveryDispatched=b?b:null;this.dialogWidget.show()},showBadEmails:function(a){this.stackContainerWidget.selectChild(this.controlloIndirizziWidget);this.controlloIndirizziWidget.showBadEmails(a)},showSendEmails:function(){this.stackContainerWidget.selectChild(this.spedizioneWidget);
this.spedizioneWidget.reset()},hide:function(){return this.dialogWidget.hide()},onHide:function(){this.parentWidget.aggiornaUI&&this.parentWidget.aggiornaUI()},onShow:function(){this.spedizioneWidget.reset()},setDialogTitle:function(a){this.dialogWidget.set("title",a)},setSendEmailsURL:function(a){this.sendEmailsURL=a}})})},"ebPlatformWidgets/Evento/Communication/EditPersonalDetailsDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/query dojo/text!./templates/EditPersonalDetailsDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/EventPage/nls/EventPageWidget dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B){return q([b,r],{mouseAnim:null,templateString:h,baseClass:"editTicketPersonalDetailsDialogContentWidget",parentWidget:null,localizedMessages:null,localizedCommonMessages:null,fieldsChanged:null,fields:null,doOnSelection:null,additionalTextWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:B,msgs:z,commonMessages:x,disabled:!1,postCreate:function(){this.inherited(arguments);this.cancelBtnWidget=new D({label:x.lblChiudiButton,onClick:a.hitch(this,
function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new D({label:x.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide();k.forEach(this.fields,a.hitch(this,function(a){this.fieldsChanged&&(a.position=a.idx);delete a.idx}));var e={fieldsChanged:this.fieldsChanged,fields:this.fields};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode)},reset:function(){this.fieldsChanged=!1;e.empty(this.fieldsTbodyNode)},
impostaCampi:function(b){this.fields=b;var f=0;k.forEach(this.fields,a.hitch(this,function(b){b.idx=f++;var h=e.create("tr",{},this.fieldsTbodyNode),k=e.create("td",{},h),m=e.create("td",{},h),l=e.create("td",{},h),n=e.create("button",{},k),k=e.create("button",{},k),l=e.create("input",{type:"checkbox"},l),u=e.create("td",{},h),u=e.create("input",{type:"checkbox"},u),d=e.create("td",{},h),d=e.create("input",{type:"checkbox"},d);tdLineAfterNode=e.create("td",{},h);inputLineAfterNode=e.create("input",
{type:"checkbox"},tdLineAfterNode);var r=new D({label:"up","class":"upBtn",style:0==b.idx?{visibility:"hidden"}:{},onClick:a.hitch(this,function(){this.moveUp(r.domNode.parentNode.parentNode,b)})},n),t=new D({label:"down","class":"downBtn",style:b.idx==this.fields.length-1?{visibility:"hidden"}:{},onClick:a.hitch(this,function(){this.moveDown(t.domNode.parentNode.parentNode,b)})},k);m.innerHTML=b.label;var x=null,q=null;new w({checked:b.show,onChange:a.hitch(this,function(a){b.show=a;this.fieldsChanged=
!0;x.set("disabled",!a);q.set("disabled",!a)})},l);x=new w({checked:b.showLabel,onChange:a.hitch(this,function(a){b.showLabel=a;this.fieldsChanged=!0})},u);q=new w({checked:b.lineBefore,onChange:a.hitch(this,function(a){b.lineBefore=a;this.fieldsChanged=!0})},d);q=new w({checked:b.lineAfter,onChange:a.hitch(this,function(a){b.lineAfter=a;this.fieldsChanged=!0})},inputLineAfterNode)}))},moveUp:function(a,b){var e=a.parentNode,h=a.previousSibling;a.remove();e.insertBefore(a,h);e=b.idx;1==e&&(l.set(f(".upBtn",
a)[0],"visibility","hidden"),l.set(f(".upBtn",h)[0],"visibility","visible"));e==this.fields.length-1&&(l.set(f(".downBtn",a)[0],"visibility","visible"),l.set(f(".downBtn",h)[0],"visibility","hidden"));h=this.fields[e];this.fields[e]=this.fields[e-1];this.fields[e-1]=h;this.fields[e-1].idx--;this.fields[e].idx++;this.fieldsChanged=!0},moveDown:function(a,b){var e=a.parentNode,h=a.nextSibling;h.remove();e.insertBefore(h,a);e=b.idx;0==e&&(l.set(f(".upBtn",a)[0],"visibility","visible"),l.set(f(".upBtn",
h)[0],"visibility","hidden"));e==this.fields.length-2&&(l.set(f(".downBtn",a)[0],"visibility","hidden"),l.set(f(".downBtn",h)[0],"visibility","visible"));h=this.fields[e];this.fields[e]=this.fields[e+1];this.fields[e+1]=h;this.fields[e+1].idx++;this.fields[e].idx--;this.fieldsChanged=!0}})})},"ebPlatformWidgets/Dialogs/SceltaLinguaDialogWidget/RigaLinguaWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/ready dojo/on dojo/dom-style dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/RigaLinguaWidget.html dojo/i18n dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m){return q([f,h],{templateString:b,baseClass:"rigaLinguagWidget",mouseAnim:null,idLingua:null,label:"",disponibile:!1,parentWidget:null,radioWidget:null,postCreate:function(){this.labelNode.innerHTML=this.label;this.disponibile?(e.add(this.labelNode,"enabled"),n(this.labelNode,"click",a.hitch(this,function(){this.parentWidget.onSelect(this.idLingua)}))):e.add(this.labelNode,"disabled")}})})},"ebPlatformWidgets/Evento/Communication/RegistrationConfirmationEmailTicketWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/debounce dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/query dojo/NodeList-dom dojo/on dojo/Deferred dojo/request dojo/store/Memory dojo/text!./templates/RegistrationConfirmationEmailTicketWidget.html dojo/window dijit/_WidgetBase dijit/_TemplatedMixin dijit/layout/ContentPane dijit/layout/StackContainer dijit/form/Form dijit/form/Button dijit/form/CheckBox dijit/form/Select dijit/form/ToggleButton dojox/validate dojox/validate/web ebPlatform/stato ebPlatform/utility ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/templateUtility ebPlatformWidgets/Form/ToggleVisibilityButtonWidget ebPlatformWidgets/Dialogs/EditTextWithEditorDialogWidget ebPlatformWidgets/Dialogs/EditImageDialogWidget ./EditPersonalDetailsDialogWidget ./utility dojo/i18n dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z){return q([B,t],{mouseAnim:null,templateString:x,baseClass:"registrationConfirmationEmailTicketWidget",appWidget:null,parentWidget:null,fields:null,value:null,editTextWithEditorWidget:null,editImageDialogWidget:null,editPersonalDetailsDialogWidget:null,messages:Z,commonMessages:ca,postCreate:function(){this.inherited(arguments);this.formWidget=new p({},this.formNode);this.initTemplate();e.set(this.templateContainerNode,
"position","relative")},_setDisabledAttr:function(a){a?f.add(this.templateContainerNode,"hideWithMask"):f.remove(this.templateContainerNode,"hideWithMask")},initTemplate:function(){this.editTextWithEditorWidget=new T({});this.editImageDialogWidget=new Y({});this.editPersonalDetailsDialogWidget=new R({style:"max-height:80%; max-width:900px; overflow:auto;"});this.iframe=h.create("iframe",{width:718,height:100,scrolling:"no",src:""},this.templateNode);e.set(this.iframe,"overflow","hidden");u(this.iframe,
"load",a.hitch(this,function(){var a;aa.info("Loaded src: "+l.get(this.iframe,"src"),!!l.get(this.iframe,"src"));this.iframeDocument=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document;l.get(this.iframe,"src")?(r("[data-ebplatform-template-role~\x3d'templateContainer']",this.iframeDocument.body).addClass("templateContainer"),r("[data-ebplatform-template-role~\x3d'borderedBox']",this.iframeDocument.body).addClass("border"),this.initBoxImmagine(),this.initBoxBarCode(),
this.initBoxPersonalDetails(),this.initBoxTesto(),this.initBoxDettagliRegistrazione(),this.aggiornaVisibilitaDateTimezone(this.parentWidget.stato.get("ticketShowTimezone")),this.aggiornaAltezzaIFrame()):(a=h.create("div",{"class":"boxLoading",style:{textAlign:"center"}},this.iframeDocument.body),h.create("img",{src:"/img/loading.gif",style:{padding:"10px",verticalAlign:"middle"}},a),h.create("div",{innerHTML:X.footerInc.lblLoadingDialogTitle,"class":"boxLoading",style:{fontFamily:"encodesans, Arial, Helvetica, sans-serif",
fontSize:"14px",lineHeight:"30px",textAlign:"center",width:"100%"}},this.iframeDocument.body))}))},aggiornaAltezzaIFrame:n(function(){aa.debug("[RegistrationConfirmationEmailTicketWidget] aggiornaAltezzaIFrame ....");var a=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document,d;try{d=b.getMarginBox(a.body),aa.debug("[RegistrationConfirmationEmailTicketWidget] aggiornaAltezzaIFrame - geometry:",d),e.set(this.iframe,"height",d.h+"px")}catch(A){console.log(A)}finally{ebPlatform.iframePreviewLoaded=
null}},500),aggiornaUI:function(){var a="/getTicketPreviewHTML.plp?idEvento\x3d"+L.evento.stato.idEvento+"\x26idTicketTemplate\x3d"+(this.stato.get("idTicketFrom")||this.stato.get("idTicket"))+"\x26forTemplating\x3dtrue\x26locale\x3d"+L.getLinguaById(this.stato.get("idLanguage"),L.evento.stato.event_details.languages).locale;aa.debug("[RegistrationConfirmationEmailTicketWidget] CARICO: ",a);l.set(this.iframe,"src",a)},aggiornaVisibilitaMask:function(a,b){a?f.add(b,"hideWithMask"):f.remove(b,"hideWithMask")},
initBoxImmagine:function(){J.getElementById("eventImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=Z.lblEventImagePlaceHolderLbl;this.eventImageBoxNode=J.getElementById("eventImageBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls",style:""},this.eventImageBoxNode);this.eventImageEditBtnContainerNode=h.create("div",{"class":"editBtnContainer",style:""},b);var d=h.create("div",{},this.eventImageEditBtnContainerNode);this.eventImageEditBtn=new I({"class":"editButton",
label:ca.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:Z.lblEditEventImage,currentSrc:this.stato.get("ticketEventImage"),imageType:"immagineTicket",previewMaxDim:{w:L.commons.config.RegistrationConfirmationEmail_eventImageWidth,h:null},doOnSelection:a.hitch(this,function(b){var d=J.getElementById("eventImageImgNode",this.iframeDocument.body);e.set(d,"maxWidth",L.commons.config.RegistrationConfirmationEmail_eventImageWidth+"px");
b?(this.stato.set("ticketEventImage",b),l.set(d,"src",b),N.loadImage(b,a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.eventImageVisibilityBtn.set("checked",!0)):(this.stato.set("ticketEventImage",""),l.set(d,"src","/img/eventImagePlaceHolder.png"),N.loadImage("/img/eventImagePlaceHolder.png",a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.eventImageVisibilityBtn.set("checked",!1));this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("ticketEventImage"));this.aggiornaAltezzaIFrame()})})})},
d);this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("ticketEventImage"));this.eventImageVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=h.create("div",{},this.eventImageVisibilityBtnContainerNode);this.eventImageVisibilityBtn=new K({noLabel:!0,startChecked:this.stato.get("ticketShowEventImage"),doOnChange:a.hitch(this,function(a){this.stato.set("ticketShowEventImage",a);this.aggiornaVisibilitaMask(!a,this.eventImageBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("ticketShowEventImage"),
this.eventImageBoxNode)},aggiornaVisibilitaEventImagePlaceHolder:function(a){var b=J.getElementById("eventImageContainerNode",this.iframeDocument.body),d=J.getElementById("eventImagePlaceHolderContainerNode",this.iframeDocument.body);e.set(d,"display",a?"block":"none");e.set(b,"display",a?"none":"block")},initBoxBarCode:function(){this.barCodeBoxNode=J.getElementById("barCodeBox",this.iframeDocument.body);this.barCodeVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},
this.barCodeBoxNode);var b=h.create("div",{},this.barCodeVisibilityBtnContainerNode);this.barCodeVisibilityBtn=new K({noLabel:!0,startChecked:this.stato.get("ticketShowBarCode"),doOnChange:a.hitch(this,function(a){this.stato.set("ticketShowBarCode",a);this.aggiornaVisibilitaMask(!a,this.barCodeBoxNode);this.aggiornaAltezzaIFrame()})},b);this.aggiornaVisibilitaMask(!this.stato.get("ticketShowBarCode"),this.barCodeBoxNode)},initBoxPersonalDetails:function(){this.personalDetailsBoxNode=J.getElementById("personalDetailsBox",
this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls",style:""},this.personalDetailsBoxNode);this.personalDetailsEditBtnContainerNode=h.create("div",{"class":"editBtnContainer",style:""},b);b=h.create("div",{},this.personalDetailsEditBtnContainerNode);this.personalDetailsEditBtn=new I({"class":"editButton",label:ca.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editPersonalDetailsDialogWidget.show({title:Z.lblEditTicketPersonalDetails,idLanguage:this.stato.get("idLanguage"),
currentState:{fieldsDetails:a.clone(this.stato.ticketFields)},doOnSelection:a.hitch(this,function(a){a.fieldsChanged&&(this.stato.ticketFields=a.fields,this.aggiornaPersonalDetails(),this.stato.set("dirty",!0),this.aggiornaAltezzaIFrame())})})})},b)},initBoxTesto:function(){var b=J.getElementById("ticketTextBox",this.iframeDocument.body),d=J.getElementById("ticketText",this.iframeDocument.body),e=h.create("div",{"class":"btnsControls",style:""},b),f=h.create("div",{"class":"editBtnContainer",style:""},
e),f=h.create("div",{},f);new I({"class":"editButton",label:ca.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editTextWithEditorWidget.show({title:Z.lblEditTicketText,text:this.stato.get("ticketText"),doOnSave:a.hitch(this,function(a){this.stato.set("ticketText",a);d.innerHTML=a?a:Z.lblTicketTextPlaceholder||"";this.aggiornaAltezzaIFrame()})})})},f);d.innerHTML=this.stato.get("ticketText")||Z.lblTicketTextPlaceholder||"";e=h.create("div",{"class":"hideShowBtnContainer",
style:""},e);e=h.create("div",{},e);this.ticketTextVisibilityBtn=new K({noLabel:!0,startChecked:this.stato.get("ticketShowText"),doOnChange:a.hitch(this,function(a){this.stato.set("ticketShowText",a);this.aggiornaVisibilitaMask(!a,b)})},e);this.aggiornaVisibilitaMask(!this.stato.get("ticketShowText"),b)},initBoxDettagliRegistrazione:function(){var b=J.getElementById("dettagliRegistrazioneBox",this.iframeDocument.body),d=h.create("div",{"class":"btnsControls",style:""},b),d=h.create("div",{"class":"hideShowBtnContainer",
style:""},d),d=h.create("div",{},d);this.dettagliRegistrazioneVisibilityBtn=new K({noLabel:!0,startChecked:this.stato.get("ticketShowRegistrationDetails"),doOnChange:a.hitch(this,function(a){this.stato.set("ticketShowRegistrationDetails",a);this.aggiornaVisibilitaMask(!a,b)})},d);this.aggiornaVisibilitaMask(!this.stato.get("ticketShowRegistrationDetails"),b)},aggiornaPersonalDetails:function(){var a=J.getElementById("personalDetailsContainer",this.iframeDocument.body),b={};k.forEach(r(".field",a),
function(a){b[a.id]=a;a.remove()});var d;k.forEach(this.stato.ticketFields,function(f){d=b["fld"+f.id];a.appendChild(d);f.show?e.set(d,"display","inline"):e.set(d,"display","none");f.showLabel?e.set(r(".label",d)[0],"display","inline"):e.set(r(".label",d)[0],"display","none");f.lineBefore?e.set(r("br.before",d)[0],"display","inline"):e.set(r("br.before",d)[0],"display","none");f.lineAfter?e.set(r("br.after",d)[0],"display","inline"):e.set(r("br.after",d)[0],"display","none")})},aggiornaVisibilitaDateTimezone:function(a){var b=
J.getElementById("dateEventoConTimezone",this.iframeDocument.body),d=J.getElementById("dateEventoNoTimezone",this.iframeDocument.body);e.set(b,"display",a?"block":"none");e.set(d,"display",a?"none":"block");r("[data-ebplatform-template-role \x3d tz]",this.iframeDocument.body).forEach(function(b){e.set(b,"display",a?"inline":"none")})},mostraAnteprima:function(){ebPlatform.iframePreviewLoaded=new w;var b="/getTicketPreviewHTML.plp?idEvento\x3d"+L.evento.stato.idEvento+"\x26idTicketTemplate\x3d"+this.stato.get("idTicket")+
"\x26locale\x3d"+L.getLinguaById(this.stato.get("idLanguage"),L.evento.stato.event_details.languages).locale,d=z.getBox(),e=F.showGenericDialog(Z.registrationConfirmationEmail.lblTicketPreview,null,b,!0,{width:718,height:.9*d.h,scrolling:"no"},ca.msgPreparazioneAnteprima);ebPlatform.iframePreviewLoaded.then(a.hitch(this,function(b){aa.debug("preview LOADED",e);b=e.contentDocument?e.contentDocument:e.contentWindow.document;J.getElementById("eventImageImgNode",b.body);b=J.getElementById("headerImageImgNode",
b.body);var d=[];b&&l.get(b,"src")&&d.push(N.loadImagePromise(l.get(b,"src"),!0));0<d.length?promiseAll(d).then(a.hitch(this,function(){this.aggiornaAltezzaIFrame(e);F.resizeAnteprimaDialog()}),a.hitch(this,function(){aa.debug("preview IMGS LOAD ERROR")})):(this.aggiornaAltezzaIFrame(e),F.resizeAnteprimaDialog())}),a.hitch(this,function(a){aa.debug("preview LOAD ERROR")}))},validate:function(){return this.formWidget.validate()},focus:function(){},reset:function(){}})})},"ebPlatformWidgets/Dialogs/SceltaEmailDialogWidget/RigaEmailWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/RigaEmailWidget.html dijit/form/RadioButton dojo/i18n dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r){return q([l,e],{templateString:f,baseClass:"rigaEmailgWidget",mouseAnim:null,idTemplate:null,label:"",checked:!1,tipo:"",parentWidget:null,radioWidget:null,postCreate:function(){this.radioWidget=new h({checked:this.checked,onClick:a.hitch(this,function(){this.parentWidget.aggiornaStato(this.idTemplate,this.tipo)})},this.radioNode);this.labelNode.innerHTML=this.label}})})},"ebPlatformWidgets/Evento/Guests/ManageListValuesDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/debounce dojo/keys dojo/on dojo/store/Memory dojo/dnd/Target dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/dom-class dojo/text!./templates/ManageListValuesDialogContentWidget.html dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/CheckBox dijit/form/Form dijit/form/TextBox dijit/form/Button dijit/form/ValidationTextBox dgrid/OnDemandGrid dgrid/Keyboard dgrid/editor dgrid/extensions/ColumnHider ebPlatform/CaseInsesitiveSortableMixin ebPlatform/stato ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/utility ebPlatformWidgets/CustomTooltip dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T){return q([x,z],{mouseAnim:null,templateString:D,baseClass:"manageListValuesDialogContentWidget",parentWidget:null,stato:null,listaValori:null,campoLista:null,gridStore:null,gridWidget:null,addItemBtnWidget:null,okBtnWidget:null,cancelBtnWidget:null,renderAsRadioWidget:null,showValueWidget:null,messages:T,commonMessages:K,tabIndexBase:3E3,postCreate:function(){this.inherited(arguments);this.formWidget=new t({},this.formNode);
this.gridStore=new (q([h,S]))({idProperty:"id"});var b=this.gridWidget=new (q([I,M,E]))({cellNavigation:!0,store:this.gridStore,rowsPerPage:20,columns:[],sort:"valore"},this.gridNode);this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(a){if(a.grid.get("store").query({shouldFocus:!0})&&a.grid.get("store").query({shouldFocus:!0})[0]){var b=this.showValueWidget.get("checked")?0:1;a=a.grid.row(a.grid.get("store").query({shouldFocus:!0})[0]);delete a.data.shouldFocus;y(".dgrid-input",a.element)[b].focus()}this.parentWidget.resize()}));
this.gridWidget.on("dgrid-datachange",a.hitch(this,function(a){var b=this.gridWidget.row(a),d=this.gridWidget.cell(a);b.data.nuovo||(b.data.modificato=!0);L.debug("EDITATA",d,"Nuovo valore:",a.value)}));this.gridWidget.on("dgrid-columnstatechange",a.hitch(this,function(e){e.hidden?this.gridWidget.set("sort",[{attribute:"label_"+d.evento.stato.event_details.languages[0].idLingua,ignoreCase:!0}]):(k.forEach(this.gridStore.data,a.hitch(this,function(a,b){a.valore=""})),b.refresh());k.forEach(this.formWidget._getDescendantFormWidgets(),
function(a){a.valueEditor&&a.set("required",!e.hidden)})}));var e=this.tabIndexBase+1,m=this,l;n.after(this.gridWidget,"renderRow",function(b,d){y(".dgrid-input",b).forEach(function(b){r.set(b,"tabindex",++e);m.listener&&m.listener.remove();m.listener=f(b,"blur",a.hitch(this,function(a){a.relatedTarget&&a.relatedTarget.tabIndex&&a.relatedTarget.tabIndex==l.tabIndex&&m.aggiungiVoce()}))});return b});l=this.addItemBtnWidget=new C({tabIndex:this.tabIndexBase+90,onClick:a.hitch(this,function(){this.aggiungiVoce()})},
this.addItemBtnNode);this.okBtnWidget=new C({tabIndex:this.tabIndexBase+91,label:K.lblOKButton,onClick:a.hitch(this,function(){if(this.validate()){var b=!1;this.renderAsRadioWidget.get("checked")?void 0!==this.campoLista.mappaParametri.render&&this.campoLista.mappaParametri.render||(b=!0,this.campoLista.mappaParametri.render="radio"):this.campoLista.mappaParametri.render&&(b=!0,delete this.campoLista.mappaParametri.render);this.showValueWidget.get("checked")?void 0!==this.campoLista.mappaParametri.shortValues&&
this.campoLista.mappaParametri.shortValues||(b=!0,this.campoLista.mappaParametri.shortValues=!0):this.campoLista.mappaParametri.shortValues&&(b=!0,delete this.campoLista.mappaParametri.shortValues);void 0===this.listaValori&&(this.listaValori=[],this.campoLista.valoriLista=this.listaValori);this.listaValori.splice(0,this.listaValori.length);k.forEach(this.gridWidget.store.data,a.hitch(this,function(a,b){var e={};e.id=a.id;e.valore=this.campoLista.mappaParametri.shortValues?a.valore||null:a._valore||
null;e.labels={};void 0!==a.nuovo&&(e.nuovo=a.nuovo);void 0!==a.modificato&&(e.modificato=a.modificato);k.forEach(d.evento.stato.event_details.languages,function(b){e.labels[""+b.idLingua]=a["label_"+b.idLingua]});this.listaValori.push(e)}));this.campoLista.nuovo||(this.campoLista.modificato=b);this.stato&&this.campoLista.modificato&&this.stato.set("dirty",!0);this.parentWidget.hide()}else N.showInfoWithCloseButton(T.msgManageFieldsInvalidListaValori,J.footerInc.lblWarningMsgDialogTitle,K.lblOKButton)})},
this.okBtnNode);this.cancelBtnWidget=new C({tabIndex:this.tabIndexBase+92,label:K.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.renderAsRadioWidget=new B({tabIndex:this.tabIndexBase+1},this.renderAsRadioBtnNode);this.showValueWidget=new B({tabIndex:this.tabIndexBase+1,onChange:a.hitch(this,function(a){a?b.toggleColumnHiddenState("value",!1):b.toggleColumnHiddenState("value",!0)})},this.showValueBtnNode);new F({label:T.msgShowValueTooltip,connectId:[this.showValueTooltipIconNode]});
var p=this;this.on("dragenter",function(a){w.add(p.domNode,"dragging")});this.on("dragleave",function(a){w.remove(p.domNode,"dragging")});this.on("drop, paste",function(a){if(!a.clipboardData||!w.contains(a.srcElement,"dgrid-input"))if(w.remove(p.domNode,"dragging"),event.preventDefault(),a=(a.dataTransfer||a.clipboardData).getData("text")){a=a.replace(/^\s*$/mg,"");a=a.split(/\r|\n|\r\n/);var b;try{for(var d=0;d<a.length;d++)a[d]&&(b=a[d].split(/\t|\,/),1<=b.length&&p.aggiungiVoce(b,!1))}finally{p.gridWidget.refresh(),
p.aggiornaVisibilitaCancelButton()}}});this.on("dragover",function(a){(void 0===a.dataTransfer.files||0==a.dataTransfer.files.length)&&a.dataTransfer.items&&0<a.dataTransfer.items.lenght&&arrayUtils.some(a.dataTransfer.types,function(a){return"string"==kind})?(w.add(p.domNode,"canDrop"),w.remove(p.domNode,"cantDrop")):(w.remove(p.domNode,"canDrop"),w.add(p.domNode,"cantDrop"));event.preventDefault()})},reset:function(b,e,f){this.stato=e;this.listaValori=b;this.campoLista=f;this.gridWidget.set("sort",
[{attribute:"label_"+d.evento.stato.event_details.languages[0].idLingua,ignoreCase:!0}]);this.campoLista&&(this.campoLista.mappaParametri||(this.campoLista.mappaParametri={}),this.renderAsRadioWidget.set("checked",!!this.campoLista.mappaParametri.render&&"radio"==this.campoLista.mappaParametri.render,!1),this.showValueWidget.set("checked",void 0!==this.campoLista.mappaParametri.shortValues&&this.campoLista.mappaParametri.shortValues,!1),this.campoLista.mappaParametri.multiple&&this.campoLista.mappaParametri.multiple?
(this.renderAsRadioWidget.set("disabled",!0),m.set(this.renderAsRadioContainerNode,"display","none")):(this.renderAsRadioWidget.set("disabled",!1),m.set(this.renderAsRadioContainerNode,"display","block")));b=a.hitch(this,function(b,d,e){d=u.create("div");e=e.appendChild(d);b.utilizzato||(d=u.create("span",{},d),d=u.create("div",{},d),new C({label:"X","class":"deleteValoreListaBtn",iconClass:"deleteValoreListaBtn",onClick:a.hitch(this,function(a){this.rimuoviVoce(b.id)})},d));return e});var h=this.gridWidget,
l=this.gridWidget.store,n=this.showValueWidget,r=[{label:"",field:"id",className:"deleteItemColumn",renderCell:b,unhidable:!0,sortable:!1},new v({id:"value",label:T.lblManageFieldsPopupGridFieldValue,field:"valore",autoSave:!0,hidden:void 0===this.campoLista.mappaParametri.shortValues||!this.campoLista.mappaParametri.shortValues,editorArgs:{valueEditor:!0,required:this.campoLista.mappaParametri.shortValues,trim:!0,regExp:"^[\\w\u00c0-\u00ff\u0100-\u017f\u0400-\u04ff\\d\\_\\-\\s\\+\\(\\)\x3c\x3e#\"\u20ac\u00a3$%\x26\x3d?'\u00b0*@,./]{1,30}$",
validator:function(a,b){var d=!0;if(n.get("checked")&&(d=p.prototype.validator.call(this,a.toLowerCase(),b))){var e=l.query(function(b){var d=!1;a&&b&&b.valore&&(d=a.trim().toLowerCase()==b.valore.trim().toLowerCase());return d});1<e.length?d=!1:1==e.length&&(d=h.row(this.domNode).id==e[0].id);d||this.set("message",T.msgValoreGiaPresente)}return d}}},p)];k.forEach(d.evento.stato.event_details.languages,function(a,b){var e="";d.evento.stato.event_details.languages&&1<d.evento.stato.event_details.languages.length&&
(e=" "+d.getLinguaById(a.idLingua).iso639_1.toUpperCase());r.push(new v({label:T.lblManageFieldsPopupGridFieldLabel+e,field:"label_"+a.idLingua,autoSave:!0,unhidable:!0,editorArgs:{required:!0,trim:!0,regExp:"^[\\w\u00c0-\u00ff\u0100-\u017f\u0400-\u04ff\\d\\_\\-\\s\\+\\(\\)\\[\\]\x3c\x3e#\"\u20ac\u00a3$%\x26\x3d?'\u00b0*@,./:]{1,600}$",validator:function(b,d){var e=p.prototype.validator.call(this,b.toLowerCase(),d);if(e){var f=l.query(function(d){var e=!1;b&&d&&d["label_"+a.idLingua]&&(e=b.trim().toLowerCase()==
d["label_"+a.idLingua].trim().toLowerCase());return e});1<f.length?e=!1:1==f.length&&(e=h.row(this.domNode).id==f[0].id);e||this.set("message",T.msgValoreGiaPresente)}return e}}},p))});b=k.map(this.listaValori,function(a){var b={id:a.id,_valore:a.valore,valore:a.valore,utilizzato:a.utilizzato},d;for(d in a.labels)b["label_"+d]=a.labels[d];return b});L.debug("storeData",b);this.gridStore.setData(b);this.gridWidget.set("columns",r);this.aggiornaVisibilitaCancelButton()},aggiornaVisibilitaCancelButton:function(){this.listaValori&&
this.listaValori.length&&0<this.listaValori.length?m.set(this.cancelBtnContainerNode,"display","none"):m.set(this.cancelBtnContainerNode,"display","inline-block")},aggiungiVoce:l(function(a,b){L.group("aggiungiVoce");L.debug("values",a);var e={id:-1*this.gridStore.data.length,valore:null,nuovo:!0,modificato:!1,shouldFocus:!0,pending:!0},f=0,h=!0;if(this.showValueWidget.get("checked")&&a&&0<a.length&&(e.valore=a[0],f=1,1==a.length)){var m=this.gridStore.query(function(b){L.debug("chk",(b.valore||"").trim().toLowerCase(),
(a[0]||"").trim().toLowerCase(),(b.valore||"").trim().toLowerCase()==(a[0]||"").trim().toLowerCase());return(b.valore||"").trim().toLowerCase()==(a[0]||"").trim().toLowerCase()}),h=!(m&&m[0]);L.debug("chk qr",m,h)}k.forEach(d.evento.stato.event_details.languages,function(b,d){if(a&&a.length>d+f){if(e["label_"+b.idLingua]=a[d+f],L.debug("index",d),L.debug("values["+(d+f)+"]",a[d+f]),1==a.length){var k=this.gridStore.query(function(e){L.debug("chk",(e["label_"+b.idLingua]||"").trim().toLowerCase(),
(a[d+f]||"").trim().toLowerCase(),(e["label_"+b.idLingua]||"").trim().toLowerCase()==(a[d+f]||"").trim().toLowerCase());return(e["label_"+b.idLingua]||"").trim().toLowerCase()==(a[d+f]||"").trim().toLowerCase()});h=!(k&&k[0]);L.debug("chk qr",k,h)}}else e["label_"+b.idLingua]=""},this);if(h){this.gridStore.add(e);if(void 0===b||b)this.gridWidget.refresh(),this.aggiornaVisibilitaCancelButton();this.stato&&this.stato.set("dirty",!0)}else L.debug(e,"non inserisco");L.groupEnd()},250),rimuoviVoce:function(a){this.gridStore.remove(a);
this.gridWidget.refresh();this.stato&&this.stato.set("dirty",!0);this.aggiornaVisibilitaCancelButton()},aggiornaValore:function(a,b){k.forEach(this.listaValori,function(d){d.id==a&&(d.valore=b,d.nuovo||(d.modificato=!0))});this.stato&&this.stato.set("dirty",!0)},aggiornaLabel:function(a,b,d){k.forEach(this.listaValori,function(e){e.id==a&&(e.labels[b]=d,e.nuovo||(e.modificato=!0))});this.stato&&this.stato.set("dirty",!0)},cancelPending:function(){var a={};k.forEach(this.gridStore.data,function(b){b&&
b.pending&&(a[b.id]=null)});for(id in a)this.rimuoviVoce(id)},validate:function(){return this.formWidget.validate()}})})},"ebPlatformWidgets/Evento/Guests/_ListWidgetMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/cookie dojo/Deferred dojo/on dojo/aspect dojo/date dojo/date/locale dojo/data/ObjectStore dojo/debounce dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/io-query dojo/mouse dojo/query dojo/NodeList-dom dojo/store/Memory dojo/store/JsonRest dojo/store/Observable dojo/store/util/QueryResults dojo/string dojo/request dojo/topic dojo/when dojo/i18n!dgrid/extensions/nls/pagination dojo/text!./templates/InfoPadrePopup.html dojox/form/Uploader dijit/focus dijit/registry dijit/form/TextBox dijit/form/Button dijit/form/FilteringSelect dijit/Calendar dojox/form/CheckedMultiSelect dijit/Tooltip dgrid/_StoreMixin dgrid/Grid dgrid/tree dgrid/extensions/DijitRegistry clipboard/clipboard ebPlatform/dgrid/extensions/Pagination dgrid/editor put-selector/put ebPlatform/ebcometd ebPlatform/logger! ebPlatform/CaseInsesitiveSortableMixin ebPlatform/stato ebPlatform/timeZoneAwareDate ebPlatform/commonDialogs ebPlatformWidgets/CustomTooltip ebPlatformWidgets/Dialogs/FilterListDialogWidget ./ManageDuplicatesDialogWidget ./FileGridEditor ebPlatform/utility ebPlatformWidgets/Form/LanguageSelectionWidget ebPlatformWidgets/Form/TimeZoneAwareDateTextBox ebPlatform/dateUtility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Checkin/nls/CheckinWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O,V,U,da,ka,P,ma,ha,ja,la,ba,oa,ua,qa,sa,na,ia,ga,ra,fa){return q([],{customFields:null,controlGridScrollInterval:null,enableCellEditing:!0,configFiltri:null,countriesStore:null,italianRegionsStore:null,provincesStore:null,personeStore:null,customListStores:null,searchTextBox:null,searchResetBtn:null,gridWidget:null,refreshBtn:null,filtriBtn:null,filterListDialogWidget:null,duplicatiBtn:null,duplicatiDialogWidget:null,
gruppoDefault:"TUTTI",cancellatiDefault:"n",downloadLinkPath:"downloadLista.plp",allConfimationEmailsCreated:!1,postCreate:function(){this.inherited(arguments);this.customListStores={}},initCommonStores:function(){this.countriesStore=new C({idProperty:"id",data:P.commons.data.countriesList});this.italianRegionsStore=new C({idProperty:"id",data:P.commons.data.italianRegionsList});this.provincesStore=new C({idProperty:"id",data:P.commons.data.provincesList});this.personeStore=new I(new p({target:"/rest/restPersone/",
idProperty:"idPersona",sortParam:"sortBy",campoCodice:null,getChildren:function(a,b){return b.originalQuery&&"INVITO"==b.originalQuery.gruppo?this.getChildrenDuplicati(a,b):this.getChildrenAccompagnatori(a,b)},getChildrenAccompagnatori:function(b,d){da.debug("getChildrenAccompagnatori",b,d);var e=this.query({level:1,idEvento:P.evento.stato.idEvento,idPadre:b.idUniqueGuest,accompagnatori:!0,conFigli:"n",gruppo:d.originalQuery.gruppo,idData:d.originalQuery.idData||0,idFascia:d.originalQuery.idFascia||
0,indiceIdValore:d.originalQuery.indiceIdValore||0,idValore:d.originalQuery.idValore||0},a.mixin(d,{start:0,count:999}));e.then(function(a){b.figli=a});return e},getChildrenDuplicati:function(a,b){da.debug("getChildrenDuplicati",a,b);var d=[];if(a.personeDuplicate&&0<a.personeDuplicate.length)var e=this.campoCodice,d=k.map(a.personeDuplicate.concat(a.duplicatiPerCodice||[]),function(a){a.getStatus=function(a){var b={isResolved:function(){return this.emailOk&&this.codiceOk},campoCodice:e,emailOk:!1,
codiceOk:!1};a&&a.dirty[this.idPersona]&&a.dirty[this.idPersona].customfield0&&a.dirty[this.idPersona].customfield0!=this.ospiteOriginale.customfield0?b.emailOk=!0:this.customfield0!=this.ospiteOriginale.customfield0&&(b.emailOk=!0);e?a&&a.dirty[this.idPersona]&&a.dirty[this.idPersona][e]&&a.dirty[this.idPersona][e]!=this.ospiteOriginale[e]?b.codiceOk=!0:this[e]!=this.ospiteOriginale[e]&&(b.codiceOk=!0):b.codiceOk=!0;return b};return a});return d},mayHaveChildren:function(a){var b=!1;return b=this.grid.query&&
"INVITO"==this.grid.query.gruppo?this.mayHaveChildrenDuplicati(a):this.mayHaveChildrenAccompagnatori(a)},mayHaveChildrenAccompagnatori:function(a){var b=!1;void 0!==a.numeroFigli&&0<a.numeroFigli&&(b=!0);return b},mayHaveChildrenDuplicati:function(a){var b=!1;a&&a.personeDuplicate&&0<a.personeDuplicate.length&&(k.forEach(a.personeDuplicate,function(b){b.ospiteOriginale=a}),k.forEach(a.duplicatiPerCodice,function(b){b.ospiteOriginale=a}),b=!0);return b}}))},initCopyToClipboardClient:function(){W&&
W.isSupported()?this.copyToClipboardClient||(this.copyToClipboardClient=new W(this.copiaHeadersBtnNode),this.copyToClipboardClient.on("success",function(a){ha.showInfo(fa.msgIntestazioniCopiate);a.clearSelection()}),this.copyToClipboardClient.on("error",function(a){console.error("Clipboard error",a)})):require(["/js/lib/notModules/ZeroClipboard.min.js"],a.hitch(this,function(b){this.copyToClipboardClient||(this.copyToClipboardClient=new b(this.copiaHeadersBtnNode),this.copyToClipboardClient.on("ready",
a.hitch(this,function(b){this.copyToClipboardClient.on("copy",a.hitch(this,function(a){a=a.clipboardData;var b="",d="";k.forEach(_cf,function(a){b=campo.tipo&&"email"==campo.tipo.toLowerCase()?b+(d+ga.lblEmail):"nome"==campo.fieldName.toLowerCase()?b+(d+ga.lblNome):"cognome"==campo.fieldName.toLowerCase()?b+(d+ga.lblCognome):b+(d+a.fieldName);d="\t"});a.setData("text/plain",b);ha.showInfo(fa.msgIntestazioniCopiate)}))})))}));W&&W.isSupported()||ZeroClipboard&&!ZeroClipboard.isFlashUnusable()?D.set(this.copiaHeadersBtnNode.parentNode,
"display",null):D.set(this.copiaHeadersBtnNode.parentNode,"display","none")},initCommonSubWidgets:function(b){this.searchTextBox=new K({placeHolder:fa.lblSearchIntoListPlaceHolder,intermediateChanges:!0,onChange:m(a.hitch(this,function(a){this.eseguiRicerca(a)}),500)},this.searchTextBoxNode);new T({showLabel:!1,iconClass:"ico_excel",onClick:a.hitch(this,function(){this.download("Excel")})},this.exportExcelNode);this.searchResetBtn=new T({onClick:a.hitch(this,this.resetRicerca)},this.searchResetBtnNode);
this.refreshBtn=new T({iconClass:"fa fa-refresh",showLabel:!1,onClick:a.hitch(this,function(){this.gridWidget.store=null;this.gridWidget.revert();this.filterListDialogWidget.reset(!0);this.duplicatiDialogWidget.reset(!0);this.searchTextBox.set("value","");delete this.gridWidget.query.idext;this.gridWidget.store=this.personeStore;this.aggiornaUI()}),title:fa.lblRefreshListBtn},this.refreshBtnNode);this.filtriBtn=new T({iconClass:"fa fa-filter",showLabel:!1,onClick:a.hitch(this,function(){this.filterListDialogWidget.show()}),
title:fa.lblOpenFiltersPopupBtn},this.popupFiltriBtnNode);this.duplicatiBtn=new T({"class":"dijitDisabled",iconClass:"fa fa-users",showLabel:!1,onClick:a.hitch(this,function(){this.duplicatiDialogWidget.show()}),title:fa.lblOpenDuplicatiPopupBtn},this.popupDuplicatiBtnNode);this.copiaHeadersBtnNode&&this.initCopyToClipboardClient();var d=a.mixin({},L,{status:fa.lblListStatus}),d=q(A,{i18nPagination:d,basClass:this.baseClass}),h=this.gridWidget=new (q([X,d,Q]))({minWidth:100,sort:b.sort,pagingLinks:10,
pageSizeOptions:[20,50,100,200],rowsPerPage:20,showFilterStatus:!0,query:{idEvento:P.evento.stato.idEvento,gruppo:b.gruppo,idPianificazioneEmail:b.idPianificazioneEmail,idEmailConferma:b.idEmailConferma},columnSets:[[[{label:ga.lblNome,field:"nome"},{label:ga.lblCognome,field:"cognome"}]],[[]]],columns:[{label:ga.lblNome,field:"nome"},{label:ga.lblCognome,field:"cognome"}]},this.gridNode);this.gridWidget.on("dgrid-error",function(a){console.error(a)});var k=this;this.langSelectionNode&&(this.langSelection=
new qa({showLanguageName:!1,setListaLingue:function(){qa.prototype.setListaLingue.call(this,arguments);this.listaLingue&&this.listaLingue[0]&&-1==this.listaLingue[0].idLingua&&this.listaLingue.shift();this.listaLingue.unshift({defaultLocale:"",disponibileBe:!0,disponibileFe:!0,idLingua:-1,iso639_1:'\x3ci class\x3d"fa fa-list-alt" aria-hidden\x3d"true"\x3e\x3c/i\x3e',iso639_2:"iso2",localeDefault:"",mostraTimezoneDefault:!0,nome:"nome",ordinamento:0})},onSelect:function(b){try{h.query=a.mixin(h.query,
{lang:b});k.refreshList();var d=new Date;d.setFullYear(d.getFullYear()+1);n(P.evento.stato.idEvento+".listsLanguage",b,{expires:d.toUTCString()})}catch(pa){console.log(pa)}}},this.langSelectionNode),this.langSelection.buttons["-1"].set("label",""),this.langSelection.buttons["-1"].set("iconClass","fa fa-list-alt"),new ja({label:fa.lblNoLangList,connectId:[this.langSelection.buttons["-1"].focusNode],position:["above-centered"]}));this.filterListDialogWidget=new la({parentWidget:this,targetGrid:this.gridWidget,
gridContainerWidget:this,config:this.configFiltri,filtriBtn:this.popupFiltriBtnContainerNode,gruppoDefault:b&&b.gruppo?b.gruppo:""});this.personeStore.grid=this.gridWidget;this.duplicatiDialogWidget=new ba({title:fa.lblOpenDuplicatiPopupBtn,parentWidget:this,targetGrid:this.gridWidget,gridContainerWidget:this,config:{filtraDuplicati:!0},filtriBtn:this.popupDuplicatiBtnContainerNode,gruppoDefault:b&&b.gruppo?b.gruppo:""});this.gridWidget.on("dgrid-datachange",a.hitch(this,function(b){if(this.enableCellEditing){var d=
this.gridWidget.row(b),e=this.gridWidget.cell(b),f=!0;e.column.tipo&&"File"==e.column.tipo||(e.column.tipo&&"Data"==e.column.tipo?b.value=e.column.editorInstance.getTimestamp():e.column.editorInstance.multiple&&b.oldValue&&b.value&&a.isArray(b.oldValue)&&a.isArray(b.value)&&(f=b.oldValue.toString()!=b.value.toString()));f&&(e.column.tipo&&"File"==e.column.tipo?b.value&&0==b.value.length?(ha.setUpConfirmDialog(ia.footerInc.lblWarningMsgDialogTitle,fa.msgDeleteFileDialogMsg,this,this.editFile,null,
[this.gridWidget,e]),ha.showConfirm()):this.editFile(this.gridWidget,e):M.post("/updateFieldPersona.plp",{data:{idEvento:P.evento.stato.idEvento,idPersona:e.row.id,field:e.column.field,value:b.value},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;if("OK"==a.resultCode){if(ha.showInfo(ga.msgModificaRegistrata),"customfield0"==e.column.field){a=!1;var f=t(".esitoInvio.ADDRESS_MALFORMED",d.element);b.value&&(f&&f[0]?d.data.esitoInvio&&
d.data.esitoInvio.email&&b.value==d.data.esitoInvio.email||(y.add(f[0],"fixed"),a=!0):((f=t(".esitoInvio.NO_EMAIL",d.element))&&f[0]&&(d.data.esitoInvio&&d.data.esitoInvio.email&&d.data.esitoInvio.email?y.remove(f[0],"NO_EMAIL"):y.add(f[0],"fixed")),a=!0));void 0!==d.data.btnSendEmail&&(a?d.data.cantSend||(d.data.btnSendEmail.set("disabled",!1),d.data.btnSendEmail.set("title",fa.lblSendInviteActionTitle)):(d.data.btnSendEmail.set("disabled",!0),d.data.btnSendEmail.set("title",fa.msgSendCommunicationActionDisabledNoEmail),
t(".esitoInvio",d.element).forEach(function(a){y.add(a,"NO_EMAIL");y.remove(a,"fixed")})));this.parentWidget&&this.parentWidget.statisticheWidget&&this.parentWidget.statisticheWidget.aggiornaBoxStatistiche()}}else a.msg?ha.showInfoWithCloseButton(a.msg,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton):ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton),this.gridWidget.revert()}),a.hitch(this,function(a){ha.showInfoWithCloseButton(ga.msgErroreServer,
ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton);this.gridWidget.revert()})))}}));this.gridWidget.on("dgrid-refresh-complete",a.hitch(this,function(a){this.gridLoadingNode&&D.set(this.gridLoadingNode,"display","none")}));this.gridWidget.on("dgrid-editor-show",function(a){a.editor.multiple&&(F.focus(a.editor.focusNode),a.editor&&a.editor._updateSelection&&a.editor._updateSelection())});this.gridWidget.startup();this.customizeGridRow&&f.after(this.gridWidget,"renderRow",a.hitch(this,function(a,b){this.customizeGridRow(a,
b);return a}));f.after(this.gridWidget,"resize",a.hitch(this,function(){D.set(this.gridWidget.contentNode,"width","100%")}));e(this.gridWidget.domNode,"mouseenter",a.hitch(this,this.startControlGridScroll));e(this.gridWidget.domNode,"mouseleave",a.hitch(this,this.stopControlGridScroll))},editFile:function(a,b){ha.showLoading();a.edit(b).then(function(a){a.set("action","/updateFilePersona.plp");a.set("idEvento",P.evento.stato.idEvento);a.set("idPersona",b.row.id);a.set("field",b.column.field);a.upload().then(function(a){da.debug("ok",
a)},function(a){da.debug("ko",a)},function(a){da.debug("pr",a)}).always(function(){ha.hideLoading()})})},startControlGridScroll:function(){this.controlGridScrollInterval=setInterval(a.hitch(this,function(){var a=D.get(this.gridWidget.domNode.parentNode,"width"),b=x.position(this.gridWidget.domNode).x-x.position(this.gridWidget.domNode.parentNode).x;t(".dgrid-pagination",this.gridWidget.domNode).style("width",a-b+"px")}),100)},stopControlGridScroll:function(){clearInterval(this.controlGridScrollInterval)},
initListenerAnagraficaAggiunta:function(){S.subscribe("BoxAnagrafica.Insert",a.hitch(this,function(a){da.debug("... Aggiunta Anagrafica: REFRESH",a);a.msg?ha.showInfoWithCloseButton(a.msg,ia.footerInc.lblWarningMsgDialogTitle,ga.lblOKButton):ha.showInfo(fa.msgAddedInviteDialogMessage,fa.lblAddedInviteDialogTitle,!1,null,2E3);this.aggiornaUI()}));S.subscribe("BoxAnagrafica.Update",a.hitch(this,function(a){da.debug("... Aggiornata Anagrafica: REFRESH",a);a.msg?ha.showInfoWithCloseButton(a.msg,ia.footerInc.lblWarningMsgDialogTitle,
ga.lblOKButton):ha.showInfo(fa.msgUpdatedGuestDialogMessage,fa.lblUpdatedGuestDialogTitle,!1,null,2E3);this.aggiornaUI()}))},aggiornaUI:function(){this.gridLoadingNode&&(this.gridLoadingTextNode.innerHTML=ia.footerInc.lblLoadingDialogTitle,D.set(this.gridLoadingNode,"display","block"));this.allConfimationEmailsCreated=!1;P.evento.stato.event_details.languages.length&&P.evento.stato.communication.confirmationEmails.length&&(this.allConfimationEmailsCreated=P.evento.stato.event_details.languages.length==
P.evento.stato.communication.confirmationEmails.length);if(this.langSelection)try{this.langSelection.set("filterArray",[-1].concat(k.map(P.evento.stato.event_details.languages,function(a){return a.idLingua})));if(null==this.langSelection.get("value")){var b=n(P.evento.stato.idEvento+".listsLanguage");b||-1==b||(b=P.commons.data.beLanguage);k.some(this.langSelection.get("filterArray"),function(a){return a==b})||(b=-1);this.langSelection.setLanguage(b,!1)}this.gridWidget.query=a.mixin(this.gridWidget.query,
{lang:this.langSelection.get("value")})}catch(ta){console.log(ta)}},eseguiRicerca:function(b){this.freshList=!1;2<b.length&&(this.gridWidget.query=a.mixin(this.gridWidget.query,{chiave:b,idext:null}),this.gridWidget.revert());0==b.length&&(this.gridWidget.query=a.mixin(this.gridWidget.query,{chiave:"",idext:null}),this.gridWidget.revert())},resetRicerca:function(){this.searchTextBox.set("value","");this.gridWidget.query=a.mixin(this.gridWidget.query,{chiave:""});this.gridWidget.revert()},aggiornaVisibilitaLista:function(a){a?
(this.noListWarningNode&&D.set(this.noListWarningNode,"display","none"),D.set(this.listContainerNode,"display","block")):(this.noListWarningNode&&D.set(this.noListWarningNode,"display","block"),D.set(this.listContainerNode,"display","none"))},nascondiTutto:function(){this.noListWarningNode&&D.set(this.noListWarningNode,"display","none");D.set(this.listContainerNode,"display","none")},refreshGridColumns:function(b){M.post("/getEventoPersonaFields.plp",{data:{idEvento:P.evento.stato.idEvento,l:this.langSelection?
this.langSelection.get("value"):null},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(d){var e;if("OK"==d.result.resultCode){this.customFields=d.campi;if(this.copiaHeadersBtnNode){var f="",h="";k.forEach(this.customFields,function(a,b){f+=h+(a.idCustomField?"Lista"==a.tipo?"["+a.fieldName+"]":a.fieldName:a.fieldLabel);h="\t"});u.set(this.copiaHeadersBtnNode,"data-clipboard-text",f)}var m=this.langSelection,A=k.map(d.campi,a.hitch(this,function(b){var d=
"right";"Lista"==b.tipo&&b.listaCustom&&(this.customListStores[b.idLista]?this.customListStores[b.idLista].setData(b.valoriLista||[]):this.customListStores[b.idLista]=new C({idProperty:"id",data:b.valoriLista||[]}));var f,h;"nome"==b.fieldName.toLowerCase()?(f=m&&-1==m.get("value")?ga.lblNome:b.fieldLabel,h=b.fieldName.toLowerCase(),d="left"):"cognome"==b.fieldName.toLowerCase()?(f=m&&-1==m.get("value")?ga.lblCognome:b.fieldLabel,h=b.fieldName.toLowerCase(),d="left"):b.tipo&&"email"==b.tipo.toLowerCase()?
(f=m&&-1==m.get("value")?ga.lblEmail:b.fieldLabel,h="customfield"+b.indiceCustomField,e="customfield0"):(f=b.fieldLabel,h="customfield"+b.indiceCustomField);var A;if("Lista"==b.tipo){var l;"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple?l=new (q([r,ka]))({objectStore:b.listaCustom?this.customListStores[b.idLista]:P.commons.data.standardListsStores[b.nomeLista],queryOptions:{ignoreCase:!0}}):(A=b.mappaParametri.shortValues?"valore":"label",l=b.listaCustom?this.customListStores[b.idLista]:
new C({idProperty:"id",data:k.map(P.commons.data.standardLists[b.nomeLista],function(a){m&&a.labels&&a.labels[m.get("value")]?a.label=a.labels[m.get("value")]:a.labels&&a.labels[P.commons.data.beLanguage]&&(a.label=a.labels[P.commons.data.beLanguage]);return a})}));A=O({label:f,className:"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple?"checkList":"List",field:"idValoreLista"+b.indiceIdValore,renderHeaderCell:function(a){V(a,"",m&&-1==m.get("value")?b.fieldName:f)},get:function(a){var d=
"";"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple?a["valoriLista"+b.indiceIdValore]&&(d=k.map(a["valoriLista"+b.indiceIdValore],function(a){return a.idValoreLista})):a["valoreLista"+b.indiceIdValore]&&(d=a["valoreLista"+b.indiceIdValore].idValoreLista);return d},formatter:a.hitch(this,function(a,d){var e=a;if(a){var f=b.mappaParametri.shortValues?"valore":"label";if("true"!=b.mappaParametri.multiple&&1!=b.mappaParametri.multiple)d["valoreLista"+b.indiceIdValore]||(d["valoreLista"+
b.indiceIdValore]=a),b.listaCustom?this.customListStores[b.idLista].query({id:a}).forEach(function(a){e=a[f]}):(e=null,P.commons.data.standardListsStores[b.nomeLista].query({id:a}).forEach(function(a){e=a[f]}));else{var h="",e="",m=a.sort(function(a,b){var d=l.objectStore.data[l.objectStore.index[a]],e=l.objectStore.data[l.objectStore.index[b]],d=d[f].toLowerCase?d[f].toLowerCase():d[f],e=e[f].toLowerCase?e[f].toLowerCase():e[f],h=0;d!==e&&(h=null!=d&&""!=d||null==e||""==e?null==d||""==d||null!=e&&
""!=e?d>e?1:-1:-1:1);return h});k.forEach(m,function(a){l.get(a).then(function(a){e+=h+a[f];h=", "})})}}return e}),editOn:"dblclick",canEdit:a.hitch(this,function(a,b){return!a.ospiteOriginale&&this.enableCellEditing}),editorArgs:{isList:!0,shortValues:b.mappaParametri.shortValues,dropDown:"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple,multiple:"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple,required:!1,store:l,fetchProperties:{ignoreCase:!0,sort:[{attribute:"order"},
{attribute:A}]},searchAttr:A,labelAttr:A,maxHeight:150,style:"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple?"":"width: 120px;"},sortable:!1},"true"==b.mappaParametri.multiple||1==b.mappaParametri.multiple?ea:Y)}else{if("Numero accompagnatori"==b.tipo)return"DELETE";"Data"==b.tipo?A=O({label:f,tipo:b.tipo,style:"width:120px;",required:!1,field:h,renderHeaderCell:function(a){V(a,"",m&&-1==m.get("value")?b.fieldName:f)},className:"field-"+b.fieldName.toLowerCase().replace(/[^a-zA-Z0-9#\u00a7\u20ac$%!\|\.]/g,
"_"),editOn:"dblclick",canEdit:a.hitch(this,function(){return this.enableCellEditing}),sortable:!1,renderCell:function(a,b,d,e){a=new ma({date:b,timezoneId:this.editorInstance.timezoneId});d.innerHTML=a.format(this.editorInstance.selector)},editor:sa,editorArgs:{selector:"date",timezoneId:P.evento.stato.event_details.timeZoneID}}):"File"==b.tipo?A=O({label:f,tipo:b.tipo,renderHeaderCell:function(a){V(a,"i.fa.fa-file-o[aria-hidden\x3dtrue]");V(a,"",f)},required:!1,field:h,className:"field-"+b.fieldName.toLowerCase().replace(/[^a-zA-Z0-9#\u00a7\u20ac$%!\|\.]/g,
"_")+" field-type-file",canEdit:a.hitch(this,function(a,b){return!0}),editor:oa,sortable:!1}):(A=O({label:f,required:"Email"==b.tipo,field:h,renderHeaderCell:function(a){V(a,"",m&&-1==m.get("value")?b.fieldName:f)},className:"field-"+b.fieldName.toLowerCase().replace(/[^a-zA-Z0-9#\u00a7\u20ac$%!\|\.]/g,"_"),editOn:"dblclick",canEdit:a.hitch(this,function(a,b){return!a.ospiteOriginale&&this.enableCellEditing}),get:function(a){return a[h]||null},sortable:"Email"==b.tipo||"nome"==b.fieldName.toLowerCase()||
"cognome"==b.fieldName.toLowerCase()}),"Id esterno"==b.tipo&&(this.personeStore.campoCodice="customfield"+b.indiceCustomField))}A.side=d;A.resizable=!1;A.width=150;return A})),A=k.filter(A,function(a){return"DELETE"!=a});if(P.evento.statoCalcolato.campoNumeroAccompagnatoriDefinito){var l,n,p=null;k.forEach(d.campi,function(a){"Numero accompagnatori"==a.tipo&&(p=a)});if(p){n=[];for(l=1;l<=p.mappaParametri.max;l++)n.push({id:l,label:l});new C({idProperty:"id",data:n});A=[{label:fa.lblNumeroAccompagnatori,
field:"customfield"+p.indiceCustomField,className:"field-numero-accompagnatori",side:"left",get:function(a){return"0"==a["customfield"+p.indiceCustomField]?"":a["customfield"+p.indiceCustomField]}}].concat(A)}}this.customizeGridColumns&&"function"===typeof this.customizeGridColumns&&(A=this.customizeGridColumns(A,e,d.campi));var v=[[]];b?(k.forEach(A,function(a){void 0===a.resizable&&(a.resizable=!1)}),v[0][0]=A):(v[0][0]=[],v[1]=[],v[1][0]=[],k.forEach(A,function(a){void 0===a.resizable&&(a.resizable=
!1);void 0===a.side||"right"==a.side?v[1][0][v[1][0].length]=a:v[0][0][v[0][0].length]=a}));b?(D.set(this.gridNode,"width",130*A.length+"px"),this.gridWidget.set("columns",A)):this.gridWidget.set("columnSets",v)}else ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}),a.hitch(this,function(a){ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}))},customizeGridRow:function(a,b){var d=b[0];(d.inBlackListCliente||
d.inBlackListEvento)&&y.add(a,"blackListRow");d.ospiteOriginale&&(d=d.getStatus(this.gridWidget),d.emailOk?t(".field-customfield0",a).forEach(function(a){y.remove(a,"dup")}):t(".field-customfield0",a).forEach(function(a){y.add(a,"dup")}),d.codiceOk?t(".field-"+d.campoCodice,a).forEach(function(a){y.remove(a,"dup")}):t(".field-"+d.campoCodice,a).forEach(function(a){y.add(a,"dup")}))},updateExportLinks:function(b){a.mixin(b,{outputFormat:"Excel"});u.set(this.exportExcelNode,"href",this.downloadLinkPath+
"?"+z.objectToQuery(b))},download:function(b){var d="",f=this.gridWidget.get("queryOptions");f&&f.sort&&f.sort[0]&&(d=(f.sort[0].descending?"-":"%2B")+f.sort[0].attribute);var h=null;try{h=V(this.domNode,"iframe[style\x3ddisplay:none][src\x3dabout:blank]");ha.showLoadingWithMsg(null,fa.lblDownloadingDialogTitle);var k=(new Date).getTime();this.showDownloadProgress(k);e(h,"load",function(){setTimeout(function(){V(h,"!")},3E3)});var m=this.downloadLinkPath+"?"+z.objectToQuery(a.mixin(this.gridWidget.query,
{sort:d,outputFormat:b,cid:k,tzo:(new Date).getTimezoneOffset()}));setTimeout(function(){u.set(h,"src",m)},500)}catch(pa){console.log(pa),h&&V(h,"!")}},showDownloadProgress:function(a){var b="/downloadListaPersone/"+P.evento.stato.idEvento+"/"+a;U.addListener("/meta/unsubscribe",function(a){ha.hideLoadingWithMsg()});U.subscribe(b,function(a){if("OK"==a.data.esito)if("fine"==a.data.messaggio)U.unsubscribe(b),ha.hideLoadingWithMsg();else{var d=null,d="loading"==a.data.messaggio?ga.lblLoading:v.substitute(fa.msgDownloadProgress,
{count:a.data.count});ha.setMsgOnLoadingWithMsg(d,fa.lblDownloadingDialogTitle)}else U.unsubscribe(b),ha.hideLoadingWithMsg(),ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)},{forceDebounceUnsubscribeDelay:6E4}).otherwise(function(a){console.debug("err",a)})},eliminaPersona:function(b){M.post("/doEliminaPersona.plp",{data:{idEvento:P.evento.stato.idEvento,idPersona:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){"OK"==(a.result||a).resultCode?(this.aggiornaUI(),ha.showInfo(fa.lblPersonaEliminata)):a.msg?ha.showInfoWithCloseButton(a.msg,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton):ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}),a.hitch(this,function(a){ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}))},getDatesTimeSlotsStore:function(){var a=[{idDataFascia:0,label:fa.lblAll}];k.forEach(P.evento.stato.event_details.dates,
function(b,d){a.push({idDataFascia:b.id,label:na.getLocaleFormattedDateFromString(b.date)+" - "+fa.lblAllTimeSlots});k.forEach(b.timeSlots,function(d){var e,f;e=na.getLocaleFormattedTimeFromString(d.startTime.substring(0,d.startTime.lastIndexOf(":")));f=na.getLocaleFormattedTimeFromString(d.endTime.substring(0,d.startTime.lastIndexOf(":")));a.push({idDataFascia:b.id+"-"+d.id,label:na.getLocaleFormattedDateFromString(b.date)+" - "+e+" "+fa.lblToTime+" "+f})})});return a},visualizzaInfoPadre:function(a){if(a){var b=
k.map(this.customFields,function(b){return{label:b.fieldLabel,field:b.fieldName.toLowerCase(),value:a[b.fieldName]}}),d="",e="\x3cbr/\x3e";k.forEach(b,function(a){"nome"!=a.field&&"cognome"!=a.field&&(d+=e+"\x3cstrong\x3e"+a.label+"\x3c/strong\x3e : "+a.value,e="\x3cbr/\x3e")});b=v.substitute(N,{nome:a.nome,cognome:a.cognome,altriCampi:d,baseClass:""});ha.showInfoWithCloseButton(b,ia.footerInc.lblInfoMsgDialogTitle,ga.lblOKButton)}},addGuestStatusRenderCell:function(b){var d=a.hitch(this,function(b,
d,f){var h=!!b.eventiPersona&&b.eventiPersona.some(function(a){return"ISCRIZIONE"==a.evento.substr(0,10)}),k="",k=b.inseritoDaApp?fa.lblOnsite:h?fa.lblRegistered:fa.lblNotRegistered;null!=d&&(k=fa.lblIsAccompanying+" "+d.nome+" "+d.cognome);b.inseritoDaApp||"PROFILATI"==P.evento.stato.event_details.partnersType&&b.idUniqueGuestPadre?(b=new T({rowId:b.id,onClick:a.hitch(this,function(){this.visualizzaInfoPadre(d)})},f.appendChild(document.createElement("div"))),b._destroyOnRemove=!0,w.create("span",
{"class":null!=d?"icoNewPartner":"icoNew"},b.containerNode),h=b,b=b.domNode):(b=f.appendChild(document.createElement("span")),w.create("span",{"class":h?"icoAlreadyPresent":"icoNotRegistered"},b),h=b);e(b,B.leave,function(){H.hide(this)});e(b,B.enter,function(){H.show(k,this)});return h});b.splice(0,0,{label:fa.lblReference,className:"field-guest-status",field:"padre",renderCell:d,sortable:!1,side:"left",renderHeaderCell:function(a){w.create("div",{innerHTML:fa.lblReference},a);e(a,B.leave,function(){H.hide(this)});
e(a,B.enter,function(){H.show(fa.msgReferenceFieldTip,this,["above"])})}})},addMostraAccompagnatoriRenderCell:function(b){var d=this.gridWidget,f=a.hitch(this,function(a,b,f){b=f.appendChild(w.create("div",{"class":"infoAccompagnatori"}));!a.idUniqueGuestPadre&&a.numeroFigli&&(f=b.appendChild(w.create("div",{"class":"btnShowAccompagnatori"})),f.appendChild(w.create("span",{innerHTML:a.numeroFigli})),e(f,"click",function(b){d.expand(a)}));return b});b.splice(0,0,Z({label:fa.lblAccompagnatori,field:"numeroFigli",
renderCell:f,sortable:!1,side:"left"}))},showAccompagnatoriFor:function(b,d,e){M.post("/getAccompagnatoriPersona.plp",{data:{idPersona:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){if("OK"==b.result.resultCode){var f="";k.forEach(b.accompagnatori,a.hitch(this,function(a,b){f+=b+1+". "+a.nome+" "+a.cognome+"\x3cbr/\x3e"}));ha.showInfoWithCloseButton(f,ra.lblAccompagnatoriDi+" "+d+" "+e,ga.lblOKButton)}else ha.showInfoWithCloseButton(ga.msgErroreServer,
ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}),a.hitch(this,function(a){ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}))},addMostraAccompagnatoriCheckedinRenderCell:function(b,d){if("PROFILATI"==d){var f=a.hitch(this,function(b,d,f){d=f.appendChild(w.create("div",{"class":"infoAccompagnatori"}));!b.idUniqueGuestPadre&&b.numeroFigliCheckedIn&&(f=d.appendChild(w.create("div",{"class":"btnShowAccompagnatori"})),f.appendChild(w.create("span",
{innerHTML:b.numeroFigliCheckedIn})),e(f,"click",a.hitch(this,function(a){this.showAccompagnatoriFor(b,"PARTECIPAZIONE")})));return d});b.splice(0,0,{label:fa.lblNumeroFigliCheckedIn,field:"numeroFigliCheckedIn",renderCell:f,sortable:!1,side:"left"})}else b.splice(0,0,Z({label:fa.lblNumeroFigliCheckedIn,field:"numeroFigliCheckedIn",className:"field-numero-accompagnatori-checkedin",sortable:!1,side:"left",get:function(a){return a.numeroFigliCheckedIn?a.numeroFigliCheckedIn:""}}))},showAccompagnatoriCheckedinFor:function(b,
d,e){M.post("/getCheckinAccompagnatori.plp",{data:{idPersona:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){if("OK"==b.result.resultCode){var f="";k.forEach(b.accompagnatori,a.hitch(this,function(a,b){a.haPartecipato&&(f+=b+1+". "+a.nome+" "+a.cognome+"\x3cbr/\x3e")}));ha.showInfoWithCloseButton(f,ra.lblAccompagnatoriDi+" "+d+" "+e,ga.lblOKButton)}else ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,
ga.lblOKButton)}),a.hitch(this,function(a){ha.showInfoWithCloseButton(ga.msgErroreServer,ia.footerInc.lblErrorMsgDialogTitle,ga.lblOKButton)}))},addMostraAccompagnatoriRegistratiRenderCell:function(b,d){if("PROFILATI"==d){var f=a.hitch(this,function(b,d,f){b.numeroFigliRegistrati&&0!=b.numeroFigliRegistrati?(d=f.appendChild(w.create("div",{"class":"infoAccompagnatori"})),!b.idUniqueGuestPadre&&b.numeroFigliRegistrati&&(f=d.appendChild(w.create("div",{"class":"btnShowAccompagnatori"})),f.appendChild(w.create("span",
{innerHTML:b.numeroFigliRegistrati})),e(f,"click",a.hitch(this,function(a){this.showAccompagnatoriFor(b,"ISCRIZIONE")})))):d="";return d});b.splice(0,0,{label:fa.lblNumeroAccompagnatori,field:"numeroFigliRegistrati",renderCell:f,sortable:!1,side:"left",get:function(a){return a.numeroFigliRegistrati&&0!=a.numeroFigliRegistrati?a.numeroFigliRegistrati:""}})}else b.splice(0,0,Z({label:fa.lblNumeroAccompagnatori,field:"numeroFigliRegistrati",className:"field-numero-accompagnatori-registrati",sortable:!1,
side:"left",get:function(a){return a.numeroFigliRegistrati&&0!=a.numeroFigliRegistrati?a.numeroFigliRegistrati:""}}))},showAccompagnatoriFor:function(b,d){var e=new RegExp("^"+d+".*");k.forEach(b.figli,a.hitch(this,function(a,b){a.eventiPersona&&k.some(a.eventiPersona,function(a){var b=!1;e.test(a.evento)&&(b=!0);return b})}))},filtriImpostati:function(){var a=!1;this.gridWidget.query.gruppo!=this.gruppoDefault&&""!=this.gridWidget.query.gruppo&&(a=!0);this.gridWidget.query.chiave?a=!0:this.filterListDialogWidget.mainWidget.filtri&&
(a=k.some(this.filterListDialogWidget.mainWidget.filtri,function(a){return!!a.get("value")}));return a},getInserisciAnagraficaBtn:function(){return new T({iconClass:"fa fa-user-plus",showLabel:!1,title:fa.lblAddInviteeBtn,onClick:a.hitch(this,function(){var b,d;"DEMO"==P.evento.stato.event_subscription.tipo&&P.evento.statoCalcolato.numInvitati>=P.evento.stato.event_subscription.maxInvitati||"SINGOLO_500"==P.evento.stato.event_subscription.tipo&&P.evento.statoCalcolato.numInvitati>=P.evento.stato.event_subscription.maxPersone?
(b=v.substitute(fa.msgInviteListFileWarningDEMONoMore,{maxInvitati:P.evento.stato.event_subscription.maxInvitati}),d=fa.msgInviteListFileWarningDEMONoMoreTitle,"SINGOLO_500"==P.evento.stato.event_subscription.tipo&&P.evento.statoCalcolato.numInvitati>=P.evento.stato.event_subscription.maxPersone&&(b=fa.msgInviteListFileWarningSingolo500NoMore,d=fa.msgInviteListFileWarningSingolo500NoMoreTitle),ha.showInfoWithCloseButton(b,d,ga.lblOKButton,function(){},"msgDemoMarketingPushMsg",ga.lblBuyButton,"buyBtn",
P.commons.data.storeURL)):(ha.showGenericDialog(fa.lblAddInviteeToList,null,"/showAnagrafica.plp?idEvento\x3d"+P.evento.stato.idEvento,!1,{width:400,height:650},!1,!1),S.subscribe("BoxAnagrafica.EndSetUp",a.hitch(this,function(){ha.resizeGenericDialog()})))})},this.inserisciBtnNode)},getEditUserButton:function(b,d){var e=new T({iconClass:"fa-stack btnEditUser",showLabel:!1,rowId:d.id,onClick:a.hitch(this,function(){ha.showGenericDialog(fa.lblEditGuest,null,"/showAnagrafica.plp?idEvento\x3d"+P.evento.stato.idEvento+
"\x26idPersona\x3d"+d.idPersona+"\x26updateMode\x3dtrue",!1,{width:400,height:650},!1,!1)}),title:fa.lblEditGuest},V(b,"div"));e._destroyOnRemove=!0;V(e.iconNode,"i.fa.fa-fw.fa-user-o.fa-stack-1x");V(e.iconNode,"i.fa.fa-fw.fa-pencil.fa-stack-1x")},aggiornaTitleScegliFileWidget:function(){var a=this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length?this.scegliFileWidget.get("value")[0].name:"";a?u.set(this.scegliFileWidget.inputNode,"title",a):u.set(this.scegliFileWidget.inputNode,
"title",ga.lblScegliFile)},validaFile:function(){return null!=this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length&&-1<this.scegliFileWidget.get("value")[0].name.toLowerCase().indexOf(".xls")?!0:!1}})})},"ebPlatformWidgets/Evento/Communication/RegistrationConfirmationEmailTemplateWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/debounce dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/query dojo/NodeList-dom dojo/on dojo/Deferred dojo/request dojo/store/Memory dojo/text!./templates/RegistrationConfirmationEmailTemplateWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/layout/ContentPane dijit/layout/StackContainer dijit/form/Form dijit/form/Button dijit/form/CheckBox dijit/form/Select dijit/form/ToggleButton dojox/validate dojox/validate/web ebPlatform/stato ebPlatform/utility ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/templateUtility ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/EmailAddressTextBox ebPlatformWidgets/Form/RichTextBoxWidget ebPlatformWidgets/Form/ToggleVisibilityButtonWidget ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Dialogs/EditTextDialogWidget ebPlatformWidgets/Dialogs/EditImageDialogWidget ebPlatformWidgets/Dialogs/EditTextWithEditorDialogWidget ebPlatformWidgets/Dialogs/EditTextWithFontDialogWidget ./EditFooterWidget ./EditAdditionalInformationDialogWidget ./EditBarCodeSectionDialogWidget ./EditPersonalDetailsFormDialogWidget ebPlatformWidgets/Toolbar/SingleSelectableButtonsStripToolbarWidget ./utility dojo/i18n dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W,A,O,V,U,da,ka,P){return q([z,B],{mouseAnim:null,templateString:x,baseClass:"registrationConfirmationEmailTemplateWidget",appWidget:null,parentWidget:null,mode:null,operazioneCorrente:"subject",mappaOperazioneCorrenteHeader:null,mappaOperazioneCorrenteTesto:null,mappaOperazioneCorrenteBoxTitle:null,mappaOperazioneCorrenteRegDetBoxTitle:null,headerDefaultFontSize:"30px",additionaInformationEditorConfig:null,
value:null,senderWidget:null,replyToWidget:null,subjectStackContainer:null,subjectWidget:null,updateSubjectWidget:null,deleteSubjectWidget:null,backGroundColorWidget:null,backGroundBodyColorWidget:null,foreGroundTitlesColorWidget:null,editTextDialog:null,editImageDialogWidget:null,editTextWithEditorWidget:null,editTextWithFontDialogWidget:null,editAdditionalInformationDialogWidget:null,showHeaderBtn:null,editHeaderTextBtn:null,logoBoxNode:null,logoEditBtnContainerNode:null,logoEditBtn:null,registrationDetailsBoxNode:null,
logoAndRegistrationDetailsVisibilityBtnContainerNode:null,logoAndRegistrationDetailsVisibilityBtn:null,showEventImageBtn:null,editEventImageBtn:null,showHeaderImageBtn:null,editHeaderImageBtn:null,barCodeBoxNode:null,barCodeVisibilityBtnContainerNode:null,barCodeVisibilityBtn:null,footerBoxNode:null,footerVisibilityBtnContainerNode:null,footerVisibilityBtn:null,headerTextLayoutPlaceHolder:null,headerTextModificaLayoutPlaceHolder:null,headerTextCancellazioneLayoutPlaceHolder:null,headerTextPopupTitle:null,
headerTextPopupPlaceHolder:null,logoPopupTitle:null,registrationDetailBoxTitleLayoutPlaceHolder:null,registrationDetailBoxTitleLayoutPlaceHolderOnUpdate:null,registrationDetailBoxTitleLayoutPlaceHolderOnDelete:null,registrationDetailBoxTitlePopupTitle:null,registrationDetailBoxTitlePopupPlaceHolder:null,eventImagePopupTitle:null,hedaerImagePopupTitle:null,additionalInformationTitleLayoutPlaceHolder:null,additionalInformationTitleLayoutPlaceHolderOnUpdate:null,additionalInformationTitleLayoutPlaceHolderOnDelete:null,
additionalInformationTitlePopupPlaceHolder:null,additionalInformationLayoutPlaceHolder:null,additionalInformationLayoutPlaceHolderOnUpdate:null,additionalInformationLayoutPlaceHolderOnDeletion:null,additionalInformationPopupTitle:null,addPrintAtHomeCheck:null,footerImageBoxNode:null,footerImageVisibilityBtnContainerNode:null,footerImageVisibilityBtn:null,footerImageEditBtnContainerNode:null,footerImageEditBtn:null,messages:P,commonMessages:da,localizeMessagesHASH:null,localizedMessages:null,postCreate:function(){this.inherited(arguments);
this.mappaOperazioneCorrentePreviewTitle={subject:"lblPreviewDialogTitle",updateSubject:"lblUpdatePreviewDialogTitle",deletionSubject:"lblCancellationPreviewDialogTitle"};this.mappaOperazioneCorrenteHeader={subject:"headerText",updateSubject:"headerTextOnUpdate",deletionSubject:"headerTextOnDelete"};this.mappaOperazioneCorrenteTesto={subject:"additionalInformation",updateSubject:"additionalInformationOnUpdate",deletionSubject:"additionalInformationOnDelete",boxTitle:"additionalInformationBoxTitle",
updateBoxTitle:"additionalInformationBoxTitleOnUpdate",deleteBoxTitle:"additionalInformationBoxTitleOnDelete"};this.mappaOperazioneCorrenteBoxTitle={subject:"additionalInformationBoxTitle",updateSubject:"additionalInformationBoxTitleOnUpdate",deletionSubject:"additionalInformationBoxTitleOnDelete"};this.mappaOperazioneCorrenteRegDetBoxTitle={subject:"registrationDetailBoxTitle",updateSubject:"registrationDetailBoxTitleOnUpdate",deletionSubject:"registrationDetailBoxTitleOnDelete"};this.formWidget=
new C({},this.formNode);this.operationTypeWidget=new O({toolbarConfig:{buttons:[{options:{code:"conferma",label:P.registrationConfirmationEmail.lblEmailTypeConfirmation,action:a.hitch(this,function(){this.visualizzaDettagliOperazione("subject")})}},{options:{code:"modifica",label:P.registrationConfirmationEmail.lblEmailTypeUpdate,action:a.hitch(this,function(){this.visualizzaDettagliOperazione("updateSubject")})}},{options:{code:"cancellazione",label:P.registrationConfirmationEmail.lblEmailTypeDeletion,
action:a.hitch(this,function(){this.visualizzaDettagliOperazione("deletionSubject")})}}]}},this.operationTypeNode);var b=this.stato,d=this.replyToWidget=new T({countChars:!1,value:this.stato.get("replyTo"),tooltip:P.registrationConfirmationEmail.msgReplyToTip,onChange:a.hitch(this,function(b){b&&a.trim(b)!=b?this.replyToWidget.set("value",a.trim(b)):this.stato.set("replyTo",b)}),validator:function(a,b){return a&&""!=a?L.isEmailAddress(a):!0},missingMessage:da.validateMissingMessage,invalidMessage:P.msgValidEmailAddressNeeded},
this.replyToNode);this.senderWidget=new K({required:"pagina conferma"!=this.mode,value:this.stato.get("sender"),missingMessage:da.validateMissingMessage,invalidMessage:P.msgValidEmailAddressNeeded,tooltip:P.registrationConfirmationEmail.msgFromTip,onChange:function(a){b.set("sender",a);d.get("value")&&""!=d.get("value")||d.set("placeHolder",this.getAddress())}},this.senderNode);this.subjectWidget=new T({countChars:!1,required:"pagina conferma"!=this.mode,value:this.stato.get("subject"),tooltip:P.registrationConfirmationEmail.msgSubjectTip,
onChange:a.hitch(this,function(a){this.stato.set("subject",a)}),missingMessage:da.validateMissingMessage},this.subjectNode);this.updateSubjectWidget=new T({countChars:!1,required:!1,value:this.stato.get("updateSubject"),tooltip:P.registrationConfirmationEmail.msgSubjectTip,onChange:a.hitch(this,function(a){this.stato.set("updateSubject",a)}),missingMessage:da.validateMissingMessage},this.updateSubjectNode);this.deleteSubjectWidget=new T({countChars:!1,required:!1,value:this.stato.get("deleteSubject"),
tooltip:P.registrationConfirmationEmail.msgSubjectTip,onChange:a.hitch(this,function(a){this.stato.set("deleteSubject",a)}),missingMessage:da.validateMissingMessage},this.deletionSubjectNode);this.operationTypeWidget.clickByCode("conferma");this.initTemplate();e.set(this.templateContainerNode,"position","relative")},_setDisabledAttr:function(a){this.senderWidget.set("disabled",a);this.replyToWidget.set("disabled",a);this.subjectWidget.set("disabled",a);this.updateSubjectWidget.set("disabled",a);this.deleteSubjectWidget.set("disabled",
a);a?f.add(this.templateContainerNode,"hideWithMask"):f.remove(this.templateContainerNode,"hideWithMask")},visualizzaDettagliOperazione:function(a){this.operazioneCorrente=a;e.set(this.subjectContainerNode,"display","none");e.set(this.updateSubjectContainerNode,"display","none");e.set(this.deletionSubjectContainerNode,"display","none");e.set(this[a+"ContainerNode"],"display","block");if(this.iframeDocument){var b=F.getElementById("headerTextNode",this.iframeDocument.body),d=F.getElementById("additionalInformationNode",
this.iframeDocument.body),h=F.getElementById("additionalInformationTitleNode",this.iframeDocument.body),k=F.getElementById("boxRegistrationDetailsNode",this.iframeDocument.body),m=F.getElementById("checkinCodeNode",this.iframeDocument.body),A=F.getElementById("toolsTopNode",this.iframeDocument.body),l=F.getElementById("toolsBottomNode",this.iframeDocument.body),O=F.getElementById("registrationSummary",this.iframeDocument.body);f.remove(this.iframeDocument.body,"conferma");f.remove(this.iframeDocument.body,
"modifica");f.remove(this.iframeDocument.body,"cancellazione");"subject"==a?(f.add(this.iframeDocument.body,"conferma"),e.set(O,"display","table"),"pagina conferma"==this.mode?(e.set(this.parentWidget.ticketSectionNode,"display","none"),e.set(this.parentWidget.attachFileSectionNode,"display","none")):(e.set(this.parentWidget.ticketSectionNode,"display","block"),e.set(this.parentWidget.attachFileSectionNode,"display","block")),e.set(k,"display","table"),e.set(m,"display","table"),e.set(A,"display",
"table"),e.set(l,"display","table"),b.innerHTML=this.stato.get("headerText")?this.stato.get("headerText"):this.headerTextLayoutPlaceHolder,d.innerHTML=this.stato.get("additionalInformation")?this.stato.get("additionalInformation"):this.additionalInformationLayoutPlaceHolder,h.innerHTML=this.stato.get("additionalInformationBoxTitle")?this.stato.get("additionalInformationBoxTitle"):this.additionalInformationTitleLayoutPlaceHolder,this.additionalInformationVisibilityBtn.set("checked",this.stato.get("showAdditionalInformation"),
!1),this.aggiornaVisibilitaMask(!this.stato.get("showAdditionalInformation"),this.additionalInformationBoxNode)):"updateSubject"==a?(f.add(this.iframeDocument.body,"modifica"),e.set(O,"display","table"),e.set(this.parentWidget.ticketSectionNode,"display","none"),e.set(this.parentWidget.attachFileSectionNode,"display","none"),e.set(this.parentWidget.ticketSectionNode,"display","none"),e.set(this.parentWidget.attachFileSectionNode,"display","none"),e.set(k,"display","table"),e.set(m,"display","table"),
e.set(A,"display","table"),e.set(l,"display","table"),b.innerHTML=this.stato.get("headerTextOnUpdate")?this.stato.get("headerTextOnUpdate"):this.headerTextModificaLayoutPlaceHolder,d.innerHTML=this.stato.get("additionalInformationOnUpdate")?this.stato.get("additionalInformationOnUpdate"):this.additionalInformationLayoutPlaceHolderOnUpdate,h.innerHTML=this.stato.get("additionalInformationBoxTitleOnUpdate")?this.stato.get("additionalInformationBoxTitleOnUpdate"):this.additionalInformationTitleLayoutPlaceHolderOnUpdate,
this.additionalInformationVisibilityBtn.set("checked",this.stato.get("showAdditionalInformationOnUpdate"),!1),this.aggiornaVisibilitaMask(!this.stato.get("showAdditionalInformationOnUpdate"),this.additionalInformationBoxNode)):(f.add(this.iframeDocument.body,"cancellazione"),e.set(O,"display","none"),e.set(this.parentWidget.ticketSectionNode,"display","none"),e.set(this.parentWidget.attachFileSectionNode,"display","none"),e.set(this.parentWidget.ticketSectionNode,"display","none"),e.set(this.parentWidget.attachFileSectionNode,
"display","none"),e.set(k,"display","none"),e.set(m,"display","none"),e.set(A,"display","none"),e.set(l,"display","none"),b.innerHTML=this.stato.get("headerTextOnDelete")?this.stato.get("headerTextOnDelete"):this.headerTextCancellazioneLayoutPlaceHolder,d.innerHTML=this.stato.get("additionalInformationOnDelete")?this.stato.get("additionalInformationOnDelete"):this.additionalInformationLayoutPlaceHolderOnDeletion,h.innerHTML=this.stato.get("additionalInformationBoxTitleOnDelete")?this.stato.get("additionalInformationBoxTitleOnDelete"):
this.additionalInformationTitleLayoutPlaceHolderOnDelete,this.additionalInformationVisibilityBtn.set("checked",this.stato.get("showAdditionalInformationOnDelete"),!1),this.aggiornaVisibilitaMask(!this.stato.get("showAdditionalInformationOnDelete"),this.additionalInformationBoxNode));this.aggiornaAltezzaIFrame()}},initTestiDefault:function(){this.headerTextLayoutPlaceHolder=P.registrationConfirmationEmail.lblHeaderTextLayoutConfermaIscrizionePlaceholder;this.headerTextModificaLayoutPlaceHolder=P.registrationConfirmationEmail.lblHeaderTextLayoutModificaIscrizionePlaceholder;
this.headerTextCancellazioneLayoutPlaceHolder=P.registrationConfirmationEmail.lblHeaderTextLayoutCancellazioneIscrizionePlaceholder;this.headerTextPopupTitle=P.registrationConfirmationEmail.lblEditHeaderTextDialogTitle;this.headerTextPopupPlaceHolder=da.lblEnterTextHere;this.logoPopupTitle=P.lblEditLogo;this.registrationDetailBoxTitleLayoutPlaceHolder=P.registrationConfirmationEmail.lblEditRegistrationDetailBoxTitleLayoutPlaceholder;this.registrationDetailBoxTitleLayoutPlaceHolderOnUpdate=P.registrationConfirmationEmail.lblEditRegistrationDetailBoxTitleLayoutOnUpdatePlaceholder;
this.registrationDetailBoxTitleLayoutPlaceHolderOnDelete=P.registrationConfirmationEmail.lblEditRegistrationDetailBoxTitleLayoutOnDeletePlaceholder;this.registrationDetailBoxTitlePopupTitle=P.registrationConfirmationEmail.lblEditRegistrationDetailBoxTitle;this.registrationDetailBoxTitlePopupPlaceHolder=da.lblEnterTextHere;this.hedaerImagePopupTitle=P.lblEditHeaderImage;this.eventImagePopupTitle=P.lblEditEventImage;this.footerImagePopupTitle=P.lblEditFooterImage;this.additionalInformationTitleLayoutPlaceHolder=
P.registrationConfirmationEmail.lblAdditionalInformationTitlePlaceholder;this.additionalInformationTitleLayoutPlaceHolderOnUpdate=P.registrationConfirmationEmail.lblAdditionalInformationTitleOnUpdatePlaceholder;this.additionalInformationTitleLayoutPlaceHolderOnDelete=P.registrationConfirmationEmail.lblAdditionalInformationTitleOnDeletePlaceholder;this.additionalInformationTitlePopupPlaceHolder=da.lblEnterTextHere;this.additionalInformationLayoutPlaceHolder=P.registrationConfirmationEmail.lblAdditionalInformationPlaceholder;
this.additionalInformationLayoutPlaceHolderOnUpdate=P.registrationConfirmationEmail.lblAdditionalInformationPlaceholderOnUpdate;this.additionalInformationLayoutPlaceHolderOnDeletion=P.registrationConfirmationEmail.lblAdditionalInformationPlaceholderOnDeletion;this.additionalInformationPopupTitle=P.registrationConfirmationEmail.lblEditAdditionalInformationDialogTitle;this.unsubscribeTextPopupTitle=P.lblEditUnsubscribe;this.unsubscribeTextPopupPlaceHolder=da.lblEnterTextHere},initTemplate:function(){this.initTestiDefault();
this.editTextDialog=new ea({});this.editImageDialogWidget=new H({});this.editTextWithEditorWidget=new ca({});this.editTextWithFontDialogWidget=new X({});this.editAdditionalInformationDialogWidget=new Q({});this.editBarCodeSectionDialogWidget=W({});this.editPersonalDetailsFormDialogWidget=new A({style:"max-height:80%; max-width: 640px; overflow:auto;"});this.editFooterWidget=new Z({});this.backGroundColorWidget=new R({label:P.lblBackgroundColor,doOnChange:a.hitch(this,function(a){this.stato.set("backGroundColor",
a);this.aggiornaColoreBackground(this.stato.get("backGroundColor"))})},this.backGroundColorNode);this.backGroundBodyColorWidget=new R({label:P.lblBodyBackgroundColor,doOnChange:a.hitch(this,function(a){this.stato.set("backGroundBodyColor",a);this.aggiornaColoreBackgroundCorpo(a)})},this.backGroundBodyColorNode);this.foreGroundBodyColorWidget=new R({label:P.lblBodyForegroundColor,doOnChange:a.hitch(this,function(a){this.stato.set("foreGroundBodyColor",a);this.aggiornaColoreForegroundCorpo(a)})},this.foreGroundBodyColorNode);
this.linkBodyColorWidget=new R({label:P.lblBodyLinkColor,doOnChange:a.hitch(this,function(a){this.stato.set("linkBodyColor",a);this.aggiornaColoreLinkCorpo(a)})},this.linkBodyColorNode);this.linkSystemColorWidget=new R({label:P.lblSystemLinkColor,doOnChange:a.hitch(this,function(a){this.stato.set("linkSystemColor",a);this.aggiornaColoreLinkSistema(a)})},this.linkSystemColorNode);this.foreGroundTitlesColorWidget=new R({label:P.lblForeGroundTitlesColor,doOnChange:a.hitch(this,function(a){this.stato.set("foreGroundTitlesColor",
a);this.aggiornaColoreForeGroundTitoliCorpo(a)})},this.foreGroundTitlesColorNode);this.iframe=h.create("iframe",{width:680,height:100,scrolling:"no",src:""},this.templateNode);e.set(this.iframe,"overflow","hidden");u(this.iframe,"load",a.hitch(this,function(){var b;N.info("LOADED ........ src:|"+l.get(this.iframe,"src")+"|",!!l.get(this.iframe,"src"));this.iframeDocument=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document;l.get(this.iframe,"src")?(this.aggiornaAltezzaIFrame(),
b=this.stato.get("languageTo")?this.stato.get("languageTo").idLingua:this.stato.get("idLanguage"),localizedMessages=U.getLocalization("ebPlatformWidgets.Evento.Communication","CommunicationWidget",d.getLinguaById(b,d.evento.stato.event_details.languages).dojoLocale),r("[data-ebplatform-template-role~\x3d'templateContainer']",this.iframeDocument.body).addClass("templateContainer"),r("[data-ebplatform-template-role~\x3d'borderedBox']",this.iframeDocument.body).addClass("border"),this.initBoxHeader(),
this.initBoxEventDetails(),this.initBoxRegistrationDetails(),this.initBoxImmagineHeader(),this.initBoxImmagine(),this.initBoxBarCode(),this.initBoxAdditionalInformation(),this.initBoxDetails(),this.initBoxImmagineFooter(),this.initBoxFooter(),this.initBoxBadge(),this.initBoxBadgeBottom(),this.initBoxTools(),this.initBoxToolsBottom(),this.initBoxUnsubscribe(),this.aggiornaColoreBackground(this.stato.get("backGroundColor")),b=F.getElementById("additionalInformationTitleNode",this.iframeDocument.body),
this.stato.get("hideAdditionalTextTitle")?e.set(b,"display","none"):e.set(b,"display","block"),0!=this.stato.get("idEmail")||this.stato.get("idEmailFrom")?(this.parentWidget.selectTemplateModelWidget.reset(),setTimeout(a.hitch(this,this.aggiornaAltezzaIFrame),1500)):(b=this.parentWidget.selectTemplateModelWidget.store.query({modelType:"FROM_SCRATCH"})[0])?this.parentWidget.selectTemplateModelWidget.set("value",b.id):this.parentWidget.selectTemplateModelWidget.reset(),this.operationTypeWidget.clickByCode("conferma"),
this.editBarCodeSectionDialogWidget.set("additionalMessages",{barCodeTitleText:F.getElementById("barCodeTitleDefaultTextNode",this.iframeDocument.body).innerHTML})):(b=h.create("div",{"class":"boxLoading",style:{textAlign:"center"}},this.iframeDocument.body),h.create("img",{src:"/img/loading.gif",style:{padding:"10px",verticalAlign:"middle",textAlign:"center"}},b),h.create("div",{innerHTML:ka.footerInc.lblLoadingDialogTitle,"class":"boxLoading",style:{fontFamily:"encodesans, Arial, Helvetica, sans-serif",
fontSize:"14px",lineHeight:"30px",textAlign:"center",width:"100%"}},this.iframeDocument.body))}))},applyTemplateModel:function(b){b&&0!=b&&D.get("/getEmailTemplateModel.plp",{query:{id:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(b){N.debug("DATA",b);if("OK"==(b.result||b).resultCode){this.initTestiDefault();var f=a.clone(this.parentWidget.statoStartUp);L.copyTo(b.modello,f,L.invertMapping(a.getObject(this.parentWidget.mappingName,!1,
d)));N.debug("MODELLO",f);for(c in f)if(f[c]||!1===f[c])f[c]=V.getValue(f[c],this.localizeMessagesHASH[this.stato.get("idLanguage")]);N.debug("MODELLO",f);this.stato.get("idEmail")&&0!=this.stato.get("idEmail")||this.parentWidget.sendRegistrationUpdatesCopyToWidget.get("value")||d.evento.stato.communication.confirmationEmails&&0<d.evento.stato.communication.confirmationEmails.length&&this.parentWidget.sendRegistrationUpdatesCopyToWidget.set("value",d.evento.stato.communication.confirmationEmails[0].sendRegistrationUpdatesCopyTo||
"",!1);f.sender&&("string"==typeof f.sender?J.aggiornaStatoEValore("sender",this,f.sender):J.aggiornaStatoEValore("sender",this,f.sender.value),this.stato.get("idEmail")&&0!=this.stato.get("idEmail")||(d.evento.stato.communication.scheduledCommunications&&d.evento.stato.communication.scheduledCommunications.invitations&&0<d.evento.stato.communication.scheduledCommunications.invitations.length?J.aggiornaStatoEValore("sender",this,d.evento.stato.communication.scheduledCommunications.invitations[0].sender,
this.stato.get("sender"),!1):d.evento.stato.communication.scheduledCommunications&&d.evento.stato.communication.scheduledCommunications.others&&0<d.evento.stato.communication.scheduledCommunications.others.length?J.aggiornaStatoEValore("sender",this,d.evento.stato.communication.scheduledCommunications.others[0].sender,this.stato.get("sender"),!1):d.evento.stato.communication.confirmationEmails&&0<d.evento.stato.communication.confirmationEmails.length&&J.aggiornaStatoEValore("sender",this,d.evento.stato.communication.confirmationEmails[0].sender,
this.stato.get("sender"),!1)));f.replyTo&&("string"==typeof f.replyTo?J.aggiornaStatoEValore("replyTo",this,f.replyTo):J.aggiornaStatoEValore("replyTo",this,f.replyTo.value),this.stato.get("idEmail")&&0!=this.stato.get("idEmail")||(d.evento.stato.communication.scheduledCommunications&&d.evento.stato.communication.scheduledCommunications.invitations&&0<d.evento.stato.communication.scheduledCommunications.invitations.length?J.aggiornaStatoEValore("replyTo",this,d.evento.stato.communication.scheduledCommunications.invitations[0].replyTo,
this.stato.get("replyTo"),!1):d.evento.stato.communication.scheduledCommunications&&d.evento.stato.communication.scheduledCommunications.others&&0<d.evento.stato.communication.scheduledCommunications.others.length?J.aggiornaStatoEValore("replyTo",this,d.evento.stato.communication.scheduledCommunications.others[0].replyTo,this.stato.get("replyTo"),!1):d.evento.stato.communication.confirmationEmails&&0<d.evento.stato.communication.confirmationEmails.length&&J.aggiornaStatoEValore("replyTo",this,d.evento.stato.communication.confirmationEmails[0].replyTo,
this.stato.get("replyTo"),!1)));this.replyToWidget.set("placeHolder",this.senderWidget.getAddress());f.subject&&("string"==typeof f.subject?J.aggiornaStatoEValore("subject",this,f.subject):J.aggiornaStatoEValore("subject",this,f.subject.value));f.updateSubject&&("string"==typeof f.updateSubject?J.aggiornaStatoEValore("updateSubject",this,f.updateSubject):J.aggiornaStatoEValore("updateSubject",this,f.updateSubject.value));f.deleteSubject&&("string"==typeof f.deleteSubject?J.aggiornaStatoEValore("deleteSubject",
this,f.deleteSubject):J.aggiornaStatoEValore("deleteSubject",this,f.deleteSubject.value));b=F.getElementById("headerTextNode",this.iframeDocument.body);f.headerText&&""!=f.headerText&&(this.stato.set("headerText",f.headerText.value),""!=f.headerText.layoutPlaceHolder&&(this.headerTextLayoutPlaceHolder=f.headerText.layoutPlaceHolder),""!=f.headerText.popupTitle&&(this.headerTextPopupTitle=f.headerText.popupTitle),""!=f.headerText.popupPlaceHolder&&(this.headerTextPopupPlaceHolder=f.headerText.popupPlaceHolder));
f.headerTextOnUpdate&&""!=f.headerTextOnUpdate&&(this.stato.set("headerTextOnUpdate",f.headerTextOnUpdate.value),""!=f.headerTextOnUpdate.layoutPlaceHolder&&(this.headerTextModificaLayoutPlaceHolder=f.headerTextOnUpdate.layoutPlaceHolder));f.headerTextOnDelete&&""!=f.headerTextOnDelete&&(this.stato.set("headerTextOnDelete",f.headerTextOnDelete.value),""!=f.headerTextOnDelete.layoutPlaceHolder&&(this.headerTextCancellazioneLayoutPlaceHolder=f.headerTextOnDelete.layoutPlaceHolder));var h=F.getElementById("additionalInformationNode",
this.iframeDocument.body);b.innerHTML="subject"==this.operazioneCorrente?this.stato.get("headerText")?this.stato.get("headerText"):this.headerTextLayoutPlaceHolder:"updateSubject"==this.operazioneCorrente?this.stato.get("headerTextOnUpdate")?this.stato.get("headerTextOnUpdate"):this.headerTextModificaLayoutPlaceHolder:this.stato.get("headerTextOnDelete")?this.stato.get("headerTextOnDelete"):this.headerTextCancellazioneLayoutPlaceHolder;f.headerFontFamily&&""!=f.headerFontFamily.value&&(this.stato.set("headerFontFamily",
f.headerFontFamily.value),e.set(b,"fontFamily",this.stato.get("headerFontFamily")));if(f.headerFontSize&&""!=f.headerFontSize.value){var h=F.getElementById("headerTextTopSpacerNode",this.iframeDocument.body),k=F.getElementById("headerTextBottomSpacerNode",this.iframeDocument.body);this.stato.set("headerFontSize",f.headerFontSize.value);e.set(b,"fontSize",this.stato.get("headerFontSize"));e.set(h,"fontSize",this.stato.get("headerFontSize"));e.set(k,"fontSize",this.stato.get("headerFontSize"))}f.centerHeader&&
void 0!==f.centerHeader.value&&(this.stato.set("centerHeader",f.centerHeader.value),this.stato.get("centerHeader")?e.set(b,"textAlign","center"):e.set(b,"textAlign","left"));this.stato.set("showHeader",f.showHeader.value);this.headerVisibilityBtn.set("checked",this.stato.get("showHeader"));f.logo&&""!=f.logo&&(this.stato.set("logo",f.logo.value),b=F.getElementById("logoImgNode",this.iframeDocument.body),l.set(b,"src",f.logo.value),""!=f.logo.layoutPlaceHolder&&(F.getElementById("logoPlaceHolderLabelNode",
this.iframeDocument.body).innerHTML=f.logo.layoutPlaceHolder),""!=f.logo.popupTitle&&(this.logoPopupTitle=f.logo.popupTitle),this.aggiornaVisibilitaLogoPlaceHolder(!this.stato.get("logo")));f.registrationDetailBoxTitle&&""!=f.registrationDetailBoxTitle&&(this.stato.set("registrationDetailBoxTitle",f.registrationDetailBoxTitle.value),""!=f.registrationDetailBoxTitle.popupTitle&&(this.registrationDetailBoxTitlePopupTitle=f.registrationDetailBoxTitle.popupTitle),""!=f.registrationDetailBoxTitle.popupPlaceHolder&&
(this.registrationDetailBoxTitlePopupPlaceHolder=f.registrationDetailBoxTitle.popupPlaceHolder),""!=f.registrationDetailBoxTitle.layoutPlaceHolder&&(this.registrationDetailBoxTitleLayoutPlaceHolder=f.registrationDetailBoxTitle.layoutPlaceHolder));f.registrationDetailBoxTitleOnUpdate&&""!=f.registrationDetailBoxTitleOnUpdate&&(this.stato.set("registrationDetailBoxTitleOnUpdate",f.registrationDetailBoxTitleOnUpdate.value),""!=f.registrationDetailBoxTitleOnUpdate.popupTitle&&(this.registrationDetailBoxTitlePopupTitle=
f.registrationDetailBoxTitleOnUpdate.popupTitle),""!=f.registrationDetailBoxTitleOnUpdate.popupPlaceHolder&&(this.registrationDetailBoxTitlePopupPlaceHolder=f.registrationDetailBoxTitleOnUpdate.popupPlaceHolder),""!=f.registrationDetailBoxTitleOnUpdate.layoutPlaceHolder&&(this.registrationDetailBoxTitleLayoutPlaceHolderOnUpdate=f.registrationDetailBoxTitleOnUpdate.layoutPlaceHolder));f.registrationDetailBoxTitleOnDelete&&""!=f.registrationDetailBoxTitleOnDelete&&(this.stato.set("registrationDetailBoxTitleOnDelete",
f.registrationDetailBoxTitleOnDelete.value),""!=f.registrationDetailBoxTitleOnDelete.popupTitle&&(this.registrationDetailBoxTitlePopupTitle=f.registrationDetailBoxTitleOnDelete.popupTitle),""!=f.registrationDetailBoxTitleOnDelete.popupPlaceHolder&&(this.registrationDetailBoxTitlePopupPlaceHolder=f.registrationDetailBoxTitleOnDelete.popupPlaceHolder),""!=f.registrationDetailBoxTitleOnDelete.layoutPlaceHolder&&(this.registrationDetailBoxTitleLayoutPlaceHolderOnDelete=f.registrationDetailBoxTitleOnDelete.layoutPlaceHolder));
this.stato.set("showLogoRegistrationDetails",f.showLogoRegistrationDetails.value);this.logoAndRegistrationDetailsVisibilityBtn.set("checked",this.stato.get("showLogoRegistrationDetails"));f.headerImage&&""!=f.headerImage&&(this.stato.set("headerImage",f.headerImage.value),b=F.getElementById("headerImageImgNode",this.iframeDocument.body),l.set(b,"src",f.headerImage.value),""!=f.headerImage.layoutPlaceHolder&&(F.getElementById("headerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=f.headerImage.layoutPlaceHolder),
""!=f.headerImage.popupTitle&&(this.headerImagePopupTitle=f.headerImage.popupTitle),this.aggiornaVisibilitaHeaderImagePlaceHolder(!this.stato.get("headerImage")));f.showHeaderEventDates&&(this.stato.set("showHeaderEventDates",f.showHeaderEventDates.value),this.datesInHeaderVisibilityBtn.set("checked",this.stato.get("showHeaderEventDates")));f.showHeaderRegistration&&(this.stato.set("showHeaderRegistration",f.showHeaderRegistration.value),this.headerRegistrationVisibilityBtn.set("checked",this.stato.get("showHeaderRegistration")));
this.stato.set("showHeaderImage",f.showHeaderImage.value);this.headerImageVisibilityBtn.set("checked",this.stato.get("showHeaderImage"));f.footerImage&&""!=f.footerImage&&(this.stato.set("footerImage",f.footerImage.value),b=F.getElementById("footerImageImgNode",this.iframeDocument.body),l.set(b,"src",f.footerImage.value),""!=f.footerImage.layoutPlaceHolder&&(F.getElementById("footerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=f.footerImage.layoutPlaceHolder),""!=f.footerImage.popupTitle&&
(this.footerImagePopupTitle=f.footerImage.popupTitle),this.aggiornaVisibilitaFooterImagePlaceHolder(!this.stato.get("footerImage")));this.stato.set("showFooterImage",f.showFooterImage.value);this.footerImageVisibilityBtn.set("checked",this.stato.get("showFooterImage"));this.stato.set("showDetails",f.showDetails.value);this.detailsVisibilityBtn.set("checked",this.stato.get("showDetails"));f.showTools&&(this.stato.set("showTools",f.showTools.value),this.toolsVisibilityBtn.set("checked",this.stato.get("showTools")));
f.showToolsBottom&&(this.stato.set("showToolsBottom",f.showToolsBottom.value),this.toolsBottomVisibilityBtn.set("checked",this.stato.get("showToolsBottom")));f.eventImage&&""!=f.eventImage&&(this.stato.set("eventImage",f.eventImage.value),b=F.getElementById("eventImageImgNode",this.iframeDocument.body),l.set(b,"src",f.eventImage.value),""!=f.eventImage.layoutPlaceHolder&&(F.getElementById("eventImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=f.eventImage.layoutPlaceHolder),""!=f.eventImage.popupTitle&&
(this.eventImagePopupTitle=f.eventImage.popupTitle),this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("eventImage")));this.stato.set("showEventImage",f.showEventImage.value);this.eventImageVisibilityBtn.set("checked",this.stato.get("showEventImage"));f.showBarCode&&(this.stato.set("showBarCode",f.showBarCode.value),this.barCodeVisibilityBtn.set("checked",this.stato.get("showBarCode")));f.additionalInformationBoxTitle&&""!=f.additionalInformationBoxTitle&&(this.stato.set("additionalInformationBoxTitle",
f.additionalInformationBoxTitle.value),""!=f.additionalInformationBoxTitle.layoutPlaceHolder&&(this.additionalInformationTitleLayoutPlaceHolder=f.additionalInformationBoxTitle.layoutPlaceHolder),""!=f.additionalInformationBoxTitle.popupPlaceHolder&&(this.additionalInformationTitlePopupPlaceHolder=f.additionalInformationBoxTitle.popupPlaceHolder));f.additionalInformationBoxTitleOnUpdate&&""!=f.additionalInformationBoxTitleOnUpdate&&(this.stato.set("additionalInformationBoxTitleOnUpdate",f.additionalInformationBoxTitleOnUpdate.value),
""!=f.additionalInformationBoxTitleOnUpdate.layoutPlaceHolder&&(this.additionalInformationTitleLayoutPlaceHolderOnUpdate=f.additionalInformationBoxTitle.layoutPlaceHolder),""!=f.additionalInformationBoxTitle.popupPlaceHolder&&(this.additionalInformationTitlePopupPlaceHolder=f.additionalInformationBoxTitleOnUpdate.popupPlaceHolder));f.additionalInformationBoxTitleOnDelete&&""!=f.additionalInformationBoxTitleOnDelete&&(this.stato.set("additionalInformationBoxTitleOnDelete",f.additionalInformationBoxTitleOnDelete.value),
""!=f.additionalInformationBoxTitleOnDelete.layoutPlaceHolder&&(this.additionalInformationTitleLayoutPlaceHolderOnDelete=f.additionalInformationBoxTitle.layoutPlaceHolder),""!=f.additionalInformationBoxTitle.popupPlaceHolder&&(this.additionalInformationTitlePopupPlaceHolder=f.additionalInformationBoxTitleOnDelete.popupPlaceHolder));F.getElementById("additionalInformationTitleNode",this.iframeDocument.body).innerHTML="subject"==this.operazioneCorrente?this.stato.get("additionalInformationBoxTitle")?
this.stato.get("additionalInformationBoxTitle"):this.additionalInformationTitleLayoutPlaceHolderOnDelete:"updateSubject"==this.operazioneCorrente?this.stato.get("additionalInformationBoxTitleOnUpdate")?this.stato.get("additionalInformationBoxTitleOnUpdate"):this.additionalInformationTitleLayoutPlaceHolderOnUpdate:this.stato.get("additionalInformationBoxTitleOnDelete")?this.stato.get("additionalInformationBoxTitleOnDelete"):this.additionalInformationTitleLayoutPlaceHolderOnDelete;f.additionalInformation&&
""!=f.additionalInformation&&(this.stato.set("additionalInformation",f.additionalInformation.value),""!=f.additionalInformation.layoutPlaceHolder&&(this.additionalInformationLayoutPlaceHolder=f.additionalInformation.layoutPlaceHolder),""!=f.additionalInformation.popupTitle&&(this.additionalInformationPopupTitle=f.additionalInformation.popupTitle));f.additionalInformationOnUpdate&&""!=f.additionalInformationOnUpdate&&(this.stato.set("additionalInformationOnUpdate",f.additionalInformationOnUpdate.value),
""!=f.additionalInformationOnUpdate.layoutPlaceHolder&&(this.additionalInformationLayoutPlaceHolderOnUpdate=f.additionalInformationOnUpdate.layoutPlaceHolder));f.additionalInformationOnDelete&&""!=f.additionalInformationOnDelete&&(this.stato.set("additionalInformationOnDelete",f.additionalInformationOnDelete.value),N.debug("additionalInformationOnDelete VALUE",this.stato.get("additionalInformationOnDelete")),""!=f.additionalInformationOnDelete.layoutPlaceHolder&&(this.additionalInformationLayoutPlaceHolderOnDeletion=
f.additionalInformationOnDelete.layoutPlaceHolder));h=F.getElementById("additionalInformationNode",this.iframeDocument.body);h.innerHTML="subject"==this.operazioneCorrente?this.stato.get("additionalInformation")?this.stato.get("additionalInformation"):this.additionalInformationLayoutPlaceHolder:"updateSubject"==this.operazioneCorrente?this.stato.get("additionalInformationOnUpdate")?this.stato.get("additionalInformationOnUpdate"):this.additionalInformationLayoutPlaceHolderOnUpdate:this.stato.get("additionalInformationOnDelete")?
this.stato.get("additionalInformationOnDelete"):this.additionalInformationLayoutPlaceHolderOnDelete;b=null;b="subject"==this.operazioneCorrente?"showAdditionalInformation":"updateSubject"==this.operazioneCorrente?"showAdditionalInformationOnUpdate":"showAdditionalInformationOnDelete";this.stato.set("showAdditionalInformation",f.showAdditionalInformation.value);this.stato.set("showAdditionalInformationOnUpdate",f.showAdditionalInformation.value);this.stato.set("showAdditionalInformationOnDelete",f.showAdditionalInformation.value);
this.additionalInformationVisibilityBtn.set("checked",this.stato.get(b));this.stato.set("showFooter",f.showFooter.value);this.footerVisibilityBtn.set("checked",this.stato.get("showFooter"));f.backGroundColor&&""!=f.backGroundColor.value&&this.backGroundColorWidget.set("value",f.backGroundColor.value);f.backGroundBodyColor&&""!=f.backGroundBodyColor.value&&this.backGroundBodyColorWidget.set("value",f.backGroundBodyColor.value);f.foreGroundBodyColor&&""!=f.foreGroundBodyColor.value&&this.foreGroundBodyColorWidget.set("value",
f.foreGroundBodyColor.value);f.linkBodyColor&&""!=f.linkBodyColor.value&&this.linkBodyColorWidget.set("value",f.linkBodyColor.value);f.linkSystemColor&&""!=f.linkSystemColor.value&&this.linkSystemColorWidget.set("value",f.linkSystemColor.value);f.backGroundHeaderColor&&""!=f.backGroundHeaderColor.value&&(this.stato.set("backGroundHeaderColor",f.backGroundHeaderColor.value),this.aggiornaColoreBackgroundHeader(this.stato.get("backGroundHeaderColor")));f.backGroundFooterColor&&""!=f.backGroundFooterColor.value&&
(this.stato.set("backGroundFooterColor",f.backGroundFooterColor.value),this.aggiornaColoreBackgroundFooter(this.stato.get("backGroundFooterColor")));f.foreGroundColor&&""!=f.foreGroundColor.value&&(this.stato.set("foreGroundColor",f.foreGroundColor.value),this.aggiornaColoreTestoHeader(this.stato.get("foreGroundColor")));f.foreGroundTitlesColor&&this.foreGroundTitlesColorWidget.set("value",f.foreGroundTitlesColor.value);"pagina conferma"!=this.mode&&(this.stato.set("attachTicket",f.attachTicket.value),
this.parentWidget.attachTicketWidget.set("checked",this.stato.get("attachTicket")),this.parentWidget.attachPartnerTicketWidget.set("checked",this.stato.get("attachPartnerTicket")),this.stato.set("downloadTicket",f.downloadTicket.value),this.parentWidget.downloadTicketWidget.set("checked",this.stato.get("downloadTicket")));if(f.unsubscribeText){b=F.getElementById("unsubscribeBox",this.iframeDocument.body);var h=F.getElementById("linkU",b),k=F.getElementById("linkU1",b),m=F.getElementById("linkU2",
b),A=F.getElementById("linkU3",b);F.getElementById("filler",b);""!=f.unsubscribeText.value?(this.stato.set("unsubscribeText",f.unsubscribeText.value),h.innerHTML=this.stato.get("unsubscribeText"),e.set(h,"display","inline"),e.set(k,"display","none"),e.set(m,"display","none"),e.set(A,"display","none")):(this.stato.set("unsubscribeText",null),e.set(h,"display","none"),e.set(k,"display","inline"),e.set(m,"display","inline"),e.set(A,"display","inline"))}setTimeout(a.hitch(this,this.aggiornaAltezzaIFrame),
1500);this.stato.get("idEmail")&&0!=this.stato.get("idEmail")||this.stato.set("dirty",!1)}else aa.showInfoWithCloseButton(da.msgErroreServer,ka.footerInc.lblErrorMsgDialogTitle,da.lblOKButton),this.stato.set("dirty",!1)}),a.hitch(this,function(){this.stato.set("dirty",!1);aa.showInfoWithCloseButton(da.msgErroreServer,ka.footerInc.lblErrorMsgDialogTitle,da.lblOKButton)}))},aggiornaAltezzaIFrame:n(function(){N.debug("[RegistrationConfirmationEmailTemplateWidget] aggiornaAltezzaIFrame ....",this.iframeDocument.body);
var a;try{a=b.getMarginBox(this.iframeDocument.body),N.debug("[RegistrationConfirmationEmailTemplateWidget] aggiornaAltezzaIFrame - geometry:",a),e.set(this.iframe,"height",a.h+"px")}catch(ha){N.error(ha)}},500),aggiornaColoreBackground:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasBackground']",this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreBackgroundHeader:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasHeaderBackground']",
this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreBackgroundFooter:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasFooterBackground']",this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreTestoHeader:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasHeaderTextColor']",this.iframeDocument.body).style("color",a)},aggiornaColoreBackgroundCorpo:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasBodyBackground']",
this.iframeDocument.body).style("backgroundColor",a)},aggiornaColoreForegroundCorpo:function(a){this.iframeDocument&&(r("[data-ebplatform-template-role~\x3d'hasBodyBackground'] td",this.iframeDocument.body).style("color",a),r("[data-ebplatform-template-role~\x3d'hasBodyBackground']",this.iframeDocument.body).style("color",a),r("[data-ebplatform-template-role~\x3d'hasBodyBackground'] .singleTool p",this.iframeDocument.body).style("color",a))},aggiornaColoreLinkCorpo:function(a){this.iframeDocument&&
r("[data-ebplatform-template-role~\x3d'hasBodyBackground'] a",this.iframeDocument.body).style("color",a)},aggiornaColoreLinkSistema:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'syslink']",this.iframeDocument.body).style("color",a)},aggiornaColoreForeGroundTitoliCorpo:function(a){this.iframeDocument&&r("[data-ebplatform-template-role~\x3d'hasForeGroundTitlesColor']",this.iframeDocument.body).style("color",a)},initBoxHeader:function(){this.headerBoxNode=F.getElementById("boxHeader",
this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls",style:""},this.headerBoxNode),d=h.create("div",{"class":"editBtnContainer",style:""},b),f=h.create("div",{},d),d=F.getElementById("headerTextNode",this.iframeDocument.body);this.headerTextEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){N.debug("operazione corrente:",this.operazioneCorrente,this.mappaOperazioneCorrenteHeader[this.operazioneCorrente]);var b=this.mappaOperazioneCorrenteHeader[this.operazioneCorrente];
this.editTextWithFontDialogWidget.show({title:this.headerTextPopupTitle,text:this.stato.get(b),showAlignment:"subject"==this.operazioneCorrente,showColorsSelection:"subject"==this.operazioneCorrente,showFontSelection:"subject"==this.operazioneCorrente,color:this.stato.get("foreGroundColor"),backgroundColor:this.stato.get("backGroundHeaderColor"),fontFamily:this.stato.get("headerFontFamily"),fontSize:this.stato.get("headerFontSize"),placeHolder:this.headerTextPopupPlaceHolder,doOnSave:a.hitch(this,
function(a){N.debug("NEW VALUE",a);var d=F.getElementById("headerTextNode",this.iframeDocument.body),f=F.getElementById("headerTextTopSpacerNode",this.iframeDocument.body),h=F.getElementById("headerTextBottomSpacerNode",this.iframeDocument.body);this.stato.set(b,a.text);d.innerHTML=a.text?a.text:"subject"==this.operazioneCorrente?this.headerTextLayoutPlaceHolder:"updateSubject"==this.operazioneCorrente?this.headerTextModificaLayoutPlaceHolder:this.headerTextCancellazioneLayoutPlaceHolder;"subject"==
this.operazioneCorrente&&(this.stato.set("centerHeader",a.centered),a.centered?e.set(d,"textAlign","center"):e.set(d,"textAlign","left"),this.stato.set("headerFontFamily",a.fontFamily),a.fontFamily?e.set(d,"fontFamily",a.fontFamily):e.set(d,"fontFamily",""),this.stato.set("headerFontSize",a.fontSize),a.fontSize?(e.set(d,"fontSize",a.fontSize),e.set(f,"fontSize",a.fontSize),e.set(h,"fontSize",a.fontSize)):(e.set(d,"fontSize",this.headerDefaultFontSize),e.set(f,"fontSize",this.headerDefaultFontSize),
e.set(h,"fontSize",this.headerDefaultFontSize)),this.stato.set("foreGroundColor",a.color),this.aggiornaColoreTestoHeader(this.stato.get("foreGroundColor")),this.stato.set("backGroundHeaderColor",a.backgroundColor),this.aggiornaColoreBackgroundHeader(this.stato.get("backGroundHeaderColor")))})})})},f);this.aggiornaColoreTestoHeader(this.stato.get("foreGroundColor"));this.aggiornaColoreBackgroundHeader(this.stato.get("backGroundHeaderColor"));b=h.create("div",{"class":"hideShowBtnContainer",style:""},
b);b=h.create("div",{},b);this.headerVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showHeader"),doOnChange:a.hitch(this,function(a){this.stato.set("showHeader",a);this.aggiornaVisibilitaMask(!a,this.headerBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showHeader"),this.headerBoxNode);this.stato.get("centerHeader")?e.set(d,"textAlign","center"):e.set(d,"textAlign","left")},initBoxEventDetails:function(){F.getElementById("logoPlaceHolderLabelNode",this.iframeDocument.body).innerHTML=
P.lblLogoPlaceHolderLbl;this.logoBoxNode=F.getElementById("boxLogo",this.iframeDocument.body);var b=F.getElementById("boxEventDates",this.iframeDocument.body),e=null;this.logoEditBtnContainerNode=h.create("div",{"class":"editBtnContainer common",style:""},this.logoBoxNode);var f=h.create("div",{},this.logoEditBtnContainerNode);this.logoEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:this.logoPopupTitle,
currentSrc:this.stato.get("logo"),imageType:"logoMailTemplate",fileFormatNote:P.msgLogoFormatNotes,previewMaxDim:{w:d.commons.config.ScheduledCommunications_logoWidth,h:d.commons.config.ScheduledCommunications_logoHeight},doOnSelection:a.hitch(this,function(a){var b=F.getElementById("logoImgNode",this.iframeDocument.body);a?(this.stato.set("logo",a),l.set(b,"src",a),this.logoAndRegistrationDetailsVisibilityBtn.set("checked",!0)):(this.stato.set("logo",""),l.set(b,"src","/img/logoPlaceHolder.png"));
this.aggiornaVisibilitaLogoPlaceHolder(!this.stato.get("logo"))})})})},f);this.aggiornaVisibilitaLogoPlaceHolder(!this.stato.get("logo"));this.eventDetailsBoxNode=F.getElementById("boxEventDetails",this.iframeDocument.body);f=h.create("div",{"class":"btnsControls common",style:""},this.eventDetailsBoxNode);this.logoAndRegistrationDetailsVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},f);f=h.create("div",{},this.logoAndRegistrationDetailsVisibilityBtnContainerNode);
this.logoAndRegistrationDetailsVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showLogoRegistrationDetails"),doOnChange:a.hitch(this,function(a){this.stato.set("showLogoRegistrationDetails",a);a||(this.stato.set("showHeaderEventDates",a),e.set("checked",a));e.set("disabled",!a);this.aggiornaVisibilitaMask(!a,this.logoBoxNode);this.aggiornaVisibilitaMask(!a,this.eventDetailsBoxNode)})},f);this.aggiornaVisibilitaMask(!this.stato.get("showHeaderEventDates"),b);this.aggiornaVisibilitaMask(!this.stato.get("showLogoRegistrationDetails"),
this.logoBoxNode);this.aggiornaVisibilitaMask(!this.stato.get("showLogoRegistrationDetails"),this.eventDetailsBoxNode);f=h.create("div",{"class":"btnsControls common",style:""},b);f=h.create("div",{"class":"hideShowBtnContainer",style:""},f);f=h.create("div",{},f);e=new Y({noLabel:!0,startChecked:this.stato.get("showHeaderEventDates"),doOnChange:a.hitch(this,function(a){this.stato.set("showHeaderEventDates",a);this.aggiornaVisibilitaMask(!a,b)})},f);e.set("disabled",!this.stato.get("showLogoRegistrationDetails"));
this.datesInHeaderVisibilityBtn=e},aggiornaVisibilitaLogoPlaceHolder:function(a){var b=F.getElementById("logoContainerNode",this.iframeDocument.body),d=F.getElementById("logoPlaceHolderContainerNode",this.iframeDocument.body);e.set(d,"display",a?"table":"none");e.set(b,"display",a?"none":"table")},initBoxRegistrationDetails:function(){var b=F.getElementById("boxRegistrationDetails",this.iframeDocument.body),d=h.create("div",{"class":"btnsControls common",style:""},b),d=h.create("div",{"class":"hideShowBtnContainer",
style:""},d),d=h.create("div",{},d);this.headerRegistrationVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showHeaderRegistration"),doOnChange:a.hitch(this,function(a){this.stato.set("showHeaderRegistration",a);this.aggiornaVisibilitaMask(!a,b)})},d);this.aggiornaVisibilitaMask(!this.stato.get("showHeaderRegistration"),b)},initBoxImmagineHeader:function(){F.getElementById("headerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=P.lblHeaderImagePlaceHolderLbl;this.headerImageBoxNode=
F.getElementById("headerImageBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls common",style:""},this.headerImageBoxNode);this.headerImageEditBtnContainerNode=h.create("div",{"class":"editBtnContainer",style:""},b);var f=h.create("div",{},this.headerImageEditBtnContainerNode);this.headerImageEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:this.hedaerImagePopupTitle,currentSrc:this.stato.get("headerImage"),
imageType:"immagineMailTemplate",fileFormatNote:P.msgEventImageFormatNotes,previewMaxDim:{w:d.commons.config.RegistrationConfirmationEmail_eventImageWidth,h:null},doOnSelection:a.hitch(this,function(b){var f=F.getElementById("headerImageImgNode",this.iframeDocument.body);e.set(f,"maxWidth",d.commons.config.RegistrationConfirmationEmail_eventImageWidth+"px");b?(this.stato.set("headerImage",b),l.set(f,"src",b),L.loadImage(b,a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.headerImageVisibilityBtn.set("checked",
!0)):(this.stato.set("headerImage",""),l.set(f,"src","/img/eventImagePlaceHolder.png"),L.loadImage("/img/eventImagePlaceHolder.png",a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.headerImageVisibilityBtn.set("checked",!1));this.aggiornaVisibilitaHeaderImagePlaceHolder(!this.stato.get("headerImage"))})})})},f);this.aggiornaVisibilitaHeaderImagePlaceHolder(!this.stato.get("headerImage"));this.headerImageVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=
h.create("div",{},this.headerImageVisibilityBtnContainerNode);this.headerImageVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showHeaderImage"),doOnChange:a.hitch(this,function(a){this.stato.set("showHeaderImage",a);this.aggiornaVisibilitaMask(!a,this.headerImageBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showHeaderImage"),this.headerImageBoxNode)},aggiornaVisibilitaHeaderImagePlaceHolder:function(a){var b=F.getElementById("headerImageContainerNode",this.iframeDocument.body),
d=F.getElementById("headerImagePlaceHolderContainerNode",this.iframeDocument.body);e.set(d,"display",a?"block":"none");e.set(b,"display",a?"none":"block")},initBoxImmagine:function(){F.getElementById("eventImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=P.lblEventImagePlaceHolderLbl;this.eventImageBoxNode=F.getElementById("eventImageBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls common",style:""},this.eventImageBoxNode);this.eventImageEditBtnContainerNode=
h.create("div",{"class":"editBtnContainer",style:""},b);var f=h.create("div",{},this.eventImageEditBtnContainerNode);this.eventImageEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:this.eventImagePopupTitle,currentSrc:this.stato.get("eventImage"),imageType:"immagineMailTemplate",fileFormatNote:P.msgEventImageFormatNotes,previewMaxDim:{w:d.commons.config.RegistrationConfirmationEmail_eventImageWidth,h:null},
doOnSelection:a.hitch(this,function(b){var f=F.getElementById("eventImageImgNode",this.iframeDocument.body);e.set(f,"maxWidth",d.commons.config.RegistrationConfirmationEmail_eventImageWidth+"px");b?(this.stato.set("eventImage",b),l.set(f,"src",b),L.loadImage(b,a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.eventImageVisibilityBtn.set("checked",!0)):(this.stato.set("eventImage",""),l.set(f,"src","/img/eventImagePlaceHolder.png"),L.loadImage("/img/eventImagePlaceHolder.png",a.hitch(this,this.aggiornaAltezzaIFrame),
null,!0),this.eventImageVisibilityBtn.set("checked",!1));this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("eventImage"))})})})},f);this.aggiornaVisibilitaEventImagePlaceHolder(!this.stato.get("eventImage"));this.eventImageVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=h.create("div",{},this.eventImageVisibilityBtnContainerNode);this.eventImageVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showEventImage"),doOnChange:a.hitch(this,
function(a){this.stato.set("showEventImage",a);this.aggiornaVisibilitaMask(!a,this.eventImageBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showEventImage"),this.eventImageBoxNode)},aggiornaVisibilitaEventImagePlaceHolder:function(a){var b=F.getElementById("eventImageContainerNode",this.iframeDocument.body),d=F.getElementById("eventImagePlaceHolderContainerNode",this.iframeDocument.body);e.set(d,"display",a?"block":"none");e.set(b,"display",a?"none":"block")},initBoxAdditionalInformation:function(){this.additionalInformationBoxNode=
F.getElementById("additionalInformationBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls",style:""},this.additionalInformationBoxNode);this.additionalInformationEditBtnContainerNode=h.create("div",{"class":"editBtnContainer",style:""},b);var d=h.create("div",{},this.additionalInformationEditBtnContainerNode),f=F.getElementById("additionalInformationNode",this.iframeDocument.body),k=F.getElementById("additionalInformationTitleNode",this.iframeDocument.body);this.additionalInformationEditBtn=
new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){var b=this.mappaOperazioneCorrenteTesto[this.operazioneCorrente],d=this.mappaOperazioneCorrenteBoxTitle[this.operazioneCorrente];this.editAdditionalInformationDialogWidget.show({withLinkPlugin:!0,withImagePlugin:!0,title:this.additionalInformationPopupTitle,text:this.stato.get(b),textTitleLabel:P.registrationConfirmationEmail.lblAdditionalInformationTitleLabel,textTitle:this.stato.get(d),textTitlePlaceHolder:this.additionalInformationTitlePopupPlaceHolder,
hideTitle:this.stato.get("hideAdditionalTextTitle"),insertUtentePlaceHolders:this.additionaInformationEditorConfig.insertUtentePlaceHolders,extraUtentePlaceHolders:this.additionaInformationEditorConfig.extraUtentePlaceHolders,eventoPlaceHolders:this.additionaInformationEditorConfig.eventoPlaceHolders,doOnSave:a.hitch(this,function(a){N.debug("newValue",a);this.stato.set(b,a.text);f.innerHTML=a.text?a.text:this.additionalInformationLayoutPlaceHolder;this.stato.set(d,a.textTitle);k.innerHTML=a.textTitle?
a.textTitle:this.additionalInformationTitleLayoutPlaceHolder;this.stato.set("hideAdditionalTextTitle",a.hideTitle);a.hideTitle?e.set(k,"display","none"):e.set(k,"display","block");this.aggiornaAltezzaIFrame()})})})},d);var d=this.mappaOperazioneCorrenteTesto[this.operazioneCorrente],m=this.mappaOperazioneCorrenteBoxTitle[this.operazioneCorrente];this.stato.get(d)?f.innerHTML=this.stato.get(d):f.innerHTML="subject"==this.operazioneCorrente?this.additionalInformationLayoutPlaceHolder:"updateSubject"==
this.operazioneCorrente?this.additionalInformationLayoutPlaceHolderOnUpdate:this.additionalInformationLayoutPlaceHolderOnDeletion;this.stato.get(m)?k.innerHTML=this.stato.get(m):k.innerHTML="subject"==this.operazioneCorrente?this.additionalInformationTitleLayoutPlaceHolder:"updateSubject"==this.operazioneCorrente?this.additionalInformationTitleLayoutPlaceHolderOnUpdate:this.additionalInformationTitleLayoutPlaceHolderOnDeletion;this.additionalInformationVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",
style:""},b);b=h.create("div",{},this.additionalInformationVisibilityBtnContainerNode);d=null;d="subject"==this.operazioneCorrente?"showAdditionalInformation":"updateSubject"==this.operazioneCorrente?"showAdditionalInformationOnUpdate":"showAdditionalInformationOnDelete";this.additionalInformationVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get(d),doOnChange:a.hitch(this,function(a){var b=null,b="subject"==this.operazioneCorrente?"showAdditionalInformation":"updateSubject"==this.operazioneCorrente?
"showAdditionalInformationOnUpdate":"showAdditionalInformationOnDelete";this.stato.set(b,a);this.aggiornaVisibilitaMask(!a,this.additionalInformationBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get(d),this.additionalInformationBoxNode)},initBoxBarCode:function(){this.barCodeBoxNode=F.getElementById("barCodeBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls commomn",style:""},this.barCodeBoxNode);this.barCodeSectionEditBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",
style:""},b);var d=h.create("div",{},this.barCodeSectionEditBtnContainerNode);this.barCodeSectionEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editBarCodeSectionDialogWidget.show({title:P.lblBarCodeSectionDialogTitle,currentState:{barCodeTitle:this.stato.get("barCodeTitle"),hideBarCodeTitle:this.stato.get("hideBarCodeTitle")},doOnSelection:a.hitch(this,function(a){console.log("RESTITUITO",a);this.stato.set("barCodeTitle",a.barCodeTitle);
this.stato.set("hideBarCodeTitle",a.hideBarCodeTitle);this.aggiornaSezioneBarCode()})})})},d);this.aggiornaSezioneBarCode();this.barCodeVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=h.create("div",{},this.barCodeVisibilityBtnContainerNode);this.barCodeVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showBarCode"),doOnChange:a.hitch(this,function(a){this.stato.set("showBarCode",a);this.aggiornaVisibilitaMask(!a,this.barCodeBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showBarCode"),
this.barCodeBoxNode)},aggiornaSezioneBarCode:function(){var a=F.getElementById("barCodeTitleNode",this.iframeDocument.body);this.stato.get("barCodeTitle")?a.innerHTML=this.stato.get("barCodeTitle"):a.innerHTML=F.getElementById("barCodeTitleDefaultTextNode",this.iframeDocument.body).innerHTML;a=F.getElementById("barCodeTitleContainerNode",this.iframeDocument.body);this.stato.get("hideBarCodeTitle")?e.set(a,"display","none"):e.set(a,"display","block")},initBoxTools:function(){var b=F.getElementById("toolsBox",
this.iframeDocument.body),d=h.create("div",{"class":"hideShowBtnContainer common",style:""},b),d=h.create("div",{},d);this.toolsVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showTools"),doOnChange:a.hitch(this,function(a){this.stato.set("showTools",a);this.aggiornaVisibilitaMask(!a,b)})},d);this.aggiornaVisibilitaMask(!this.stato.get("showTools"),b)},initBoxToolsBottom:function(){var b=F.getElementById("toolsBoxBottom",this.iframeDocument.body),d=h.create("div",{"class":"hideShowBtnContainer common",
style:""},b),d=h.create("div",{},d);this.toolsBottomVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showToolsBottom"),doOnChange:a.hitch(this,function(a){this.stato.set("showToolsBottom",a);this.aggiornaVisibilitaMask(!a,b)})},d);this.aggiornaVisibilitaMask(!this.stato.get("showToolsBottom"),b)},initBoxDetails:function(){this.detailsBoxNode=F.getElementById("detailsBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls common",style:""},this.detailsBoxNode);this.detailsEditBtnContainerNode=
h.create("div",{"class":"editBtnContainer",style:""},b);var d=h.create("div",{},this.detailsEditBtnContainerNode);this.detailsEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editPersonalDetailsFormDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:P.lblEditTicketPersonalDetails,currentState:{fieldsDetails:this.stato.get("fieldsDetails")},doOnSelection:a.hitch(this,function(a){a.fieldsChanged&&(a.campi&&(this.stato.set("fieldsDetails",
a.campi),this.riordinaPersonalDetails(a.campi)),this.stato.set("dirty",!0))})})})},d);this.detailsVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=h.create("div",{},this.detailsVisibilityBtnContainerNode);this.detailsVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showDetails"),doOnChange:a.hitch(this,function(a){this.stato.set("showDetails",a);this.aggiornaVisibilitaMask(!a,this.detailsBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showDetails"),
this.detailsBoxNode)},initBoxUnsubscribe:function(){var b=F.getElementById("unsubscribeBox",this.iframeDocument.body),k=h.create("div",{"class":"btnsControls common",style:""},b),m=h.create("div",{"class":"hideShowBtnContainer",style:""},k),m=h.create("div",{},m),A=F.getElementById("linkU",b),l=F.getElementById("linkU1",b),O=F.getElementById("linkU2",b),n=F.getElementById("linkU3",b),v=F.getElementById("filler",b);d.commons.permissions.impersonated||this.stato.get("showUnsubscribe")?(this.unsubscribeEditBtn=
new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editTextWithFontDialogWidget.show({title:this.unsubscribeTextPopupTitle,text:this.stato.get("unsubscribeText"),showAlignment:!1,showColorsSelection:!1,showFontSelection:!1,placeHolder:this.unsubscribeTextPopupPlaceHolder,doOnSave:a.hitch(this,function(a){this.stato.set("unsubscribeText",a.text);a.text?(A.innerHTML=a.text,e.set(A,"display","inline"),e.set(l,"display","none"),e.set(O,"display","none"),
e.set(n,"display","none")):(e.set(A,"display","none"),e.set(l,"display","inline"),e.set(O,"display","inline"),e.set(n,"display","inline"))})})})},m),e.set(v,"display","none"),this.stato.get("showUnsubscribe")?this.stato.get("unsubscribeText")?(A.innerHTML=this.stato.get("unsubscribeText"),e.set(A,"display","inline"),e.set(l,"display","none"),e.set(O,"display","none"),e.set(n,"display","none")):(e.set(A,"display","none"),e.set(l,"display","inline"),e.set(O,"display","inline"),e.set(n,"display","inline")):
(e.set(v,"display","inline"),e.set(A,"display","none"),e.set(l,"display","none"),e.set(O,"display","none"),e.set(n,"display","none"))):(e.set(v,"display","inline"),e.set(A,"display","none"),e.set(l,"display","none"),e.set(O,"display","none"),e.set(n,"display","none"),d.commons.permissions.impersonated||f.remove(b,"border"));d.commons.permissions.impersonated&&(this.unsubscribeVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},k),b=h.create("div",{},this.unsubscribeVisibilityBtnContainerNode),
this.unsubscribeVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showUnsubscribe"),doOnChange:a.hitch(this,function(a){this.stato.set("showUnsubscribe",a);e.set(v,"display",a?"none":"inline");e.set(A,"display",a?this.stato.get("unsubscribeText")?"inline":"none":"none");e.set(l,"display",a?this.stato.get("unsubscribeText")?"none":"inline":"none");e.set(O,"display",a?this.stato.get("unsubscribeText")?"none":"inline":"none");e.set(n,"display",a?this.stato.get("unsubscribeText")?"none":"inline":
"none")})},b))},initBoxImmagineFooter:function(){F.getElementById("footerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=P.lblFooterImagePlaceHolderLbl;this.footerImageBoxNode=F.getElementById("footerImageBox",this.iframeDocument.body);var b=h.create("div",{"class":"btnsControls common",style:""},this.footerImageBoxNode);this.footerImageEditBtnContainerNode=h.create("div",{"class":"editBtnContainer",style:""},b);var e=h.create("div",{},this.footerImageEditBtnContainerNode),f=F.getElementById("footerImageImgNode",
this.iframeDocument.body);this.footerImageEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){console.log("....STATO",this.stato);this.editImageDialogWidget.show({title:this.footerImagePopupTitle,currentSrc:this.stato.get("footerImage"),imageType:"immagineMailTemplate",fileFormatNote:P.msgFooterImageFormatNotes,previewMaxDim:{w:d.commons.config.RegistrationConfirmationEmail_eventImageWidth,h:null},showImageLink:!0,imageLink:this.stato.get("footerImageLink"),
doOnSelection:a.hitch(this,function(b){var d=b?b.file:null;this.stato.set("footerImageLink",b.linkImmagine);d?(this.stato.set("footerImage",d),l.set(f,"src",d),L.loadImage(d,a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.footerImageVisibilityBtn.set("checked",!0)):(this.stato.set("footerImage",""),l.set(f,"src","/img/footerImagePlaceHolder.png"),L.loadImage("/img/footerImagePlaceHolder.png",a.hitch(this,this.aggiornaAltezzaIFrame),null,!0),this.footerImageVisibilityBtn.set("checked",!1));
this.aggiornaVisibilitaFooterImagePlaceHolder(!this.stato.get("footerImage"))})})})},e);this.aggiornaVisibilitaFooterImagePlaceHolder(!this.stato.get("footerImage"));this.footerImageVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=h.create("div",{},this.footerImageVisibilityBtnContainerNode);this.footerImageVisibilityBtn=new Y({noLabel:!0,startChecked:this.stato.get("showFooterImage"),doOnChange:a.hitch(this,function(a){this.stato.set("showFooterImage",a);this.aggiornaVisibilitaMask(!a,
this.footerImageBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showFooterImage"),this.footerImageBoxNode)},aggiornaVisibilitaFooterImagePlaceHolder:function(a){var b=F.getElementById("footerImageContainerNode",this.iframeDocument.body),d=F.getElementById("footerImagePlaceHolderContainerNode",this.iframeDocument.body);e.set(d,"display",a?"block":"none");e.set(b,"display",a?"none":"block")},initBoxFooter:function(){this.footerBoxNode=F.getElementById("footerBox",this.iframeDocument.body);
var b=h.create("div",{"class":"btnsControls common",style:""},this.footerBoxNode),d=h.create("div",{"class":"editBtnContainer",style:""},b),d=h.create("div",{},d);F.getElementById("footerTextNode",this.iframeDocument.body);this.footerTextEditBtn=new p({"class":"editButton",label:"",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editFooterWidget.show({title:P.registrationConfirmationEmail.lblEditFooterTextDialogTitle,showColorsSelection:!0,backgroundColor:this.stato.get("backGroundFooterColor"),
showFontSelection:!1,resetColor:this.stato.get("backGroundHeaderColor"),doOnSave:a.hitch(this,function(a){this.stato.set("backGroundFooterColor",a.backgroundColor);this.aggiornaColoreBackgroundFooter(this.stato.get("backGroundFooterColor"))})})})},d);this.aggiornaColoreBackgroundFooter(this.stato.get("backGroundFooterColor"));this.footerVisibilityBtnContainerNode=h.create("div",{"class":"hideShowBtnContainer",style:""},b);b=h.create("div",{},this.footerVisibilityBtnContainerNode);this.footerVisibilityBtn=
new Y({noLabel:!0,startChecked:this.stato.get("showFooter"),doOnChange:a.hitch(this,function(a){this.stato.set("showFooter",a);this.aggiornaVisibilitaMask(!a,this.footerBoxNode)})},b);this.aggiornaVisibilitaMask(!this.stato.get("showFooter"),this.footerBoxNode)},initBoxBadge:function(){N.debug("initBoxBadge");var a=F.getElementById("printBadgeBtnContainer",this.iframeDocument.body);e.set(a,"display","subject"==this.operazioneCorrente&&this.stato.get("showBadgeLink")?"table":"none")},initBoxBadgeBottom:function(){N.debug("initBoxBadgeBottom");
var a=F.getElementById("printBadgeBtnContainerBottom",this.iframeDocument.body);e.set(a,"display","subject"==this.operazioneCorrente&&this.stato.get("showBadgeLink")?"table":"none")},aggiornaUI:function(){this.localizeMessagesHASH||(this.localizeMessagesHASH={},k.forEach(d.evento.stato.event_details.languages,a.hitch(this,function(a){this.localizeMessagesHASH[a.idLingua]=U.getLocalization("ebPlatformWidgets.Evento.Communication","CommunicationWidget",a.locale)})),N.debug("this.localizeMessages",this.localizeMessagesHASH));
this.senderWidget.set("tooltip",P.registrationConfirmationEmail.msgFromTip);this.replyToWidget.set("tooltip",P.registrationConfirmationEmail.msgReplyToTip);this.subjectWidget.set("tooltip",P.registrationConfirmationEmail.msgSubjectTip);this.senderWidget.update();J.aggiornaValoreDaStato("sender",this," ");J.aggiornaValoreDaStato("replyTo",this,"");this.replyToWidget.set("placeHolder",this.senderWidget.getAddress());J.aggiornaValoreDaStato("subject",this);J.aggiornaValoreDaStato("updateSubject",this);
J.aggiornaValoreDaStato("deleteSubject",this);J.aggiornaValoreDaStato("backGroundColor",this,d.commons.data.customerDefaults.coloreBackGroundEmailDefault);J.aggiornaValoreDaStato("foreGroundTitlesColor",this,d.commons.data.customerDefaults.coloreTitoliCorpoEmailConfermaDefault);J.aggiornaValoreDaStato("backGroundBodyColor",this,d.commons.data.customerDefaults.coloreBackGroundCorpoEmailDefault);J.aggiornaValoreDaStato("foreGroundBodyColor",this,"#282828");J.aggiornaValoreDaStato("linkBodyColor",this,
"#282828");J.aggiornaValoreDaStato("linkSystemColor",this,"#999999");var b="/getCommunicationPreviewHTML.plp?idEvento\x3d"+d.evento.stato.idEvento+"\x26idEmailTemplate\x3d"+(this.stato.get("idEmailFrom")||this.stato.get("idEmail"))+"\x26forTemplating\x3dtrue\x26locale\x3d"+d.getLinguaById(this.stato.get("idLanguage"),d.evento.stato.event_details.languages).locale+"\x26tipo\x3dCONFERMA_ISCRIZIONE";N.debug("[RegistrationConfirmationEmailTemplateWidget] CARICO: ",b);l.set(this.iframe,"src",b)},aggiornaVisibilitaMask:function(a,
b){a?f.add(b,"hideWithMask"):f.remove(b,"hideWithMask")},validate:function(){return this.formWidget.validate()},focus:function(){},reset:function(){this.senderWidget.reset();this.subjectWidget.reset()},riordinaPersonalDetails:function(a){var b,d=F.getElementById("personalDetails",this.iframeDocument.body);k.forEach(a,function(a,f){(b=(b=r("[id\x3d'"+a.id+"']",d))&&b[0]?b[0]:null)?(h.place(b,d,"last"),e.set(b,"display",a.showOnMail?"inline":"none")):console.warn("non trovo",tiem.id)});(b=r("#partner_list",
d))&&b[0]&&h.place(b[0],d,"last");this.aggiornaAltezzaIFrame()}})})},"ebPlatformWidgets/Evento/Guests/UploadedInviteListDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/request dojo/dom-style dojo/dom-construct dojo/date dojo/date/locale dojo/store/Memory dojo/text!./templates/UploadedInviteListDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button ebPlatform/stato ebPlatform/logger! ebPlatform/commonDialogs dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C){return q([u,w],{mouseAnim:null,templateString:m,baseClass:"uploadedInviteListDialogContentWidget",parentWidget:null,postCreate:function(){this.inherited(arguments)},reset:function(a){},refresh:function(){e.set(this.loadingNode,"display","block");e.set(this.fileListContainerNode,"display","none");l.get("/getUploadedInviteListEvento.plp",{query:{idEvento:y.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(a){"OK"==a.result.resultCode?(this.showFiles(a.files),this.parentWidget.resize()):this.showErrorFetchingData()}),a.hitch(this,function(){this.showErrorFetchingData()}))},showErrorFetchingData:function(){this.fileListContainerNode.innerHTML=C.msgErrorFetchingUploadedInviteList;e.set(this.loadingNode,"display","none");e.set(this.fileListContainerNode,"display","block")},showFiles:function(h){f.empty(this.fileListContainerNode);var m=f.create("table",{style:"width:100%;"},this.fileListContainerNode),
l=f.create("tr",{"class":"header"},m);f.create("th",{innerHTML:C.lblHeaderFileName,style:"font-weight:bold;"},l);f.create("th",{innerHTML:C.lblHeaderUploadedTimestamp,style:"font-weight:bold;"},l);f.create("th",{innerHTML:"\x26nbsp;"},l);k.forEach(h,a.hitch(this,function(a,e){var h=a.fileName,d=f.create("tr",{"class":(1==e%2?"pari":"dispari")+(a.refuse?" refuse":"")},m);f.create("td",{innerHTML:h},d);f.create("td",{innerHTML:b.format(new Date(a.lastModified),{selector:"date"})+" - "+b.format(new Date(a.lastModified),
{selector:"time"})},d);h=f.create("td",{},d);h=f.create("a",{href:"/getFileListaInvitati.plp?filePath\x3d"+a.key,target:"_blank"},h);f.create("img",{src:"/img/download-icon.gif"},h)}));e.set(this.loadingNode,"display","none");e.set(this.fileListContainerNode,"display","block")}})})},"ebPlatformWidgets/Form/editor/plugins/InsertPlaceHolder":function(){define("dojo dijit dojox dijit/_editor/_Plugin dojo/_base/lang dojo/on dijit/form/Button dijit/form/DropDownButton ./PlaceHolderPalette dojo/i18n dojo/i18n!./nls/placeholders".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m){var u=q.declare("ebplatform.editor.plugins.InsertPlaceHolder",n,{iconClassPrefix:"dijitAdditionalEditorIcon",label:null,placeHolders:null,valuePrefix:"",valueSuffix:"",_initButton:function(){this.recreateDropDown();this.button=new h({"class":"insertPlaceHolder",label:this.label||m.lblInserisciPlaceHolder,showLabel:!0,tabIndex:"-1",dropDown:this.dropDown})},setEditor:function(a){this.editor=a;this._initButton()},recreateDropDown:function(a){this.dropDown&&this.dropDown.destroy();
this.dropDown=new b({placeHolders:a&&0<a.length&&a[0].label?a:this.placeHolders});this.dropDown.on("change",l.hitch(this,function(a){this.button.closeDropDown();this.editor.focus();if(!this.editor.execCommand("insertText","%%"+this.valuePrefix+a+this.valueSuffix+"%%")){var b=this.editor.document;if(document.selection){var e=b.selection.createRange();e.pasteHTML("%%"+this.valuePrefix+a+this.valueSuffix+"%%")}else document.getSelection&&(e=b.getSelection().getRangeAt(0),b=b.createElement("foo"),e.surroundContents(b),
b.outerHTML="%%"+this.valuePrefix+a+this.valueSuffix+"%%")}}));this.button&&(this.button.dropDown=this.dropDown)}});n.registry.insertPlaceHolder=n.registry.insertPlaceHolder=function(a){return new u({placeHolders:"placeHolders"in a?a.placeHolders:[{label:"nome",value:"nome"},{label:"cognome",value:"cognome"}]})};return u})},"ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget/ControlloIndirizziWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/request dojo/store/Memory dojo/store/Observable dojo/Deferred dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dojo/text!./ControlloIndirizziWidget/templates/ControlloIndirizziWidget.html dgrid/OnDemandGrid dgrid/editor ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/stato dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ControlloIndirizziWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t){return q([b,r],{testiComuni:B,testi:t,parentWidget:null,templateString:u,baseClass:"controlloIndirizziWidget",mouseAnim:null,gridWidget:null,badListStore:null,postCreate:function(){this.inherited(arguments);this.hideBadEmailWarning();new m({onClick:a.hitch(this,function(){this.parentWidget.showSendEmails()})},this.procediBtnNode);this.chiudiBtn=new m({onClick:a.hitch(this,this.chiudiPopup)},this.chiudiBtnNode);this.badListStore=new l({data:[],idProperty:"idPersona"});
var b=[{field:"nome",label:"Nome",get:function(a){var b="";a&&a.nome&&(b=a.nome);return b}},{field:"cognome",label:"Cognome",get:function(a){var b="";a&&a.cognome&&(b=a.cognome);return b}},D({label:"Email",field:"customfield0",get:function(a){var b="";a&&a.customfield0&&(b=a.customfield0);console.debug("get",b,a);return b}})];this.gridWidget=new w({height:100,store:this.badListStore,columns:b,queryOptions:{sort:[{attribute:"cognome"},{attribute:"nome"},{attribute:"customfield0"},{attribute:"idPersona"}]}},
this.gridNode);this.gridWidget.on("dgrid-datachange",a.hitch(this,function(b){var e=this.gridWidget.row(b),f=this.gridWidget.cell(b);y.debug("CELL",f);y.debug("VALUE",b.value);this.updateEmailOnItem({idpersona:e.data.idPersona,email:b.value}).then(a.hitch(this,function(a){item=this.gridWidget.store.get(e.data.idPersona);y.debug("updateEmailOnItem SUCCESS");item.email=b.value;this.badListStore.put(item)}),a.hitch(this,function(a){y.debug("updateEmailOnItem FAILED");this.gridWidget.revert()}))}));this.gridWidget.startup()},
showBadEmailWarning:function(){k.set(this.erroriIndirizziWarningNode,"display","block");k.set(this.emailOkInfoNode,"display","none")},hideBadEmailWarning:function(){k.set(this.erroriIndirizziWarningNode,"display","none");k.set(this.emailOkInfoNode,"display","inline")},showBadEmails:function(a){this.showBadEmailWarning();this.gridWidget.get("store").setData(a);this.gridWidget.refresh()},updateEmailOnItem:function(b){y.debug(b);var e=new f;n.post("/updateEmailPersona.plp",{data:{idEvento:z.evento.stato.idEvento,
idPersona:b.idpersona,email:b.email},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;"OK"==a.resultCode?(x.showInfo(B.msgModificaRegistrata),e.resolve()):(a.msg?x.showError(a.msg):x.showError("Problemi nella comunicazione con il server!"),e.reject())}),a.hitch(this,function(a){x.showError("Problemi nella comunicazione con il server!");e.reject()}));return e.promise},chiudiPopup:function(){this.parentWidget.hide()}})})},"ebPlatformWidgets/Form/editor/plugins/PlaceHolderPalette":function(){define("require dojo/text!./resources/templates/PlaceHolderPalette.html dijit/_Widget dijit/_TemplatedMixin dijit/_PaletteMixin dojo/_base/declare dojo/_base/array dojo/on".split(" "),
function(q,a,k,n,l,e,f,h){q=dojo.declare(null,{constructor:function(a,e,f,h){this._alias=a;this._label=h},getValue:function(){return this._alias},fillCell:function(a){a.innerHTML="\x26nbsp;"+this._label+"\x26nbsp;"}});return dojo.declare("ebPlatform.editor.plugins.PlaceHolderPalette",[k,n,l],{baseClass:"ebPlatformPlaceHolderPalette",paletteClass:"editorPlaceHolderPalette",cellClass:"ebPlatformPlaceHolderPaletteCell",templateString:a,dyeClass:q,placeHolders:[{label:"nome",value:"nome"},{label:"last name",
value:"cognome"},{label:"email",value:"email"}],_dyeFactory:function(a,e,f,h){return new ("string"==typeof this.dyeClass?lang.getObject(this.dyeClass):this.dyeClass)(a,e,f,h)},buildRendering:function(){this.inherited(arguments);var a={};f.forEach(this.placeHolders,function(b){a[b.value]=b.label});this._preparePalette(f.map(this.placeHolders,function(a){return[a.value]}),a)}})})},"ebPlatformWidgets/Form/LanguageSelectionSelectWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem ebPlatform/stato dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b){return q([l],{parentWidget:null,value:null,showLanguageName:!1,filterArray:null,listaLingue:null,postCreate:function(){this.inherited(arguments);this.dropDown=new e({style:"display: none;"});this.setListaLingue();n.add(this.domNode,"languageSelectionSelectWidget");n.add(this.dropDown.domNode,"languageSelectionSelectWidgetDropDown")},setListaLingue:function(){this.listaLingue=this.filterArray&&0<this.filterArray.length?k.filter(h.commons.data.languages,a.hitch(this,function(a){return-1<
this.filterArray.indexOf(a.idLingua)})):h.commons.data.languages;this.dropDown.destroyDescendants();k.forEach(this.listaLingue,a.hitch(this,function(e){var h=new f({idLingua:e.idLingua,label:this.showLanguageName?b.lingue[e.nome]||e.iso639_1.toUpperCase():e.iso639_1.toUpperCase(),onClick:a.hitch(this,function(){this.setLanguage(e.idLingua)})});this.dropDown.addChild(h)}))},_setValueAttr:function(a,b){this.setLanguage(a,b)},_setFilterArrayAttr:function(a){this.filterArray=a;this.setListaLingue()},
setLanguage:function(a,e){if(a!=this.value){this.value=a;var f=h.getLinguaById(a);this.set("label",this.showLanguageName?b.lingue[f.nome]:f.iso639_1.toUpperCase());if(e||void 0==e)this.onSelect(a)}},setAllLanguages:function(b){b&&k.forEach(this.dropDown.getChildren(),a.hitch(this,function(a){b[a.idLingua]?(n.remove(a.iconNode,"dijitNoIcon"),n.add(a.iconNode,"present")):(n.remove(a.iconNode,"present"),n.add(a.iconNode,"dijitNoIcon"))}));b[this.value]?(n.remove(this.iconNode,"dijitNoIcon"),n.add(this.iconNode,
"present")):(n.add(this.iconNode,"dijitNoIcon"),n.remove(this.iconNode,"present"))}})})},"ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget/RigaInvitoWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/ready dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/RigaInvitoWidget.html dijit/form/RadioButton dojo/i18n dojo/i18n!ebPlatform/nls/commons".split(" "),function(q,a,k,n,l,e,f,h,b,r){return q([l,e],{templateString:f,baseClass:"rigaInvitogWidget",mouseAnim:null,
idTemplate:null,label:"",checked:!1,parentWidget:null,radioWidget:null,postCreate:function(){console.log(this.idTemplate,this.label);this.radioWidget=new h({checked:this.checked,onClick:a.hitch(this,function(){this.parentWidget.aggiornaStato(this.idTemplate)})},this.radioNode);this.labelNode.innerHTML=this.label}})})},"ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget/SpedizioneWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./SpedizioneWidget/templates/SpedizioneWidget.html dijit/form/Button dijit/form/ToggleButton dijit/registry dojo/request dojo/Deferred dojo/dom-style dojo/store/Memory dgrid/OnDemandGrid dgrid/editor ebPlatform/logger! ebPlatform/ebcometd ebPlatform/stato ebPlatform/commonDialogs dojo/i18n dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!../nls/MailStatisticheWidget dojo/i18n!./nls/SpedizioneWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E){return q([n,l],{testiComuni:p,testi:E,testStatistiche:I,titolo:null,intro:null,canSendCheck:null,doOnShippingComplete:null,doOnCloseAfterDeliveryDispatched:null,idSpedizione:0,erroriSpedizioneStore:null,risultatiInvio:null,spedizioneEffettuata:!1,parentWidget:null,templateString:e,baseClass:"spedizioneWidget",mouseAnim:null,procediBtn:null,chiudiBtn:null,showHideErrorirSpedizioneBtn:null,gridWidget:null,postCreate:function(){this.inherited(arguments);
this.progressoSpedizioneNode.innerHTML="";this.nascondiResoconto();u.set(this.titoloContainerNode,"display","none");u.set(this.introContainerNode,"display","none");this.titolo&&(this.titoloNode.innerHTML=this.titolo,u.set(this.titoloContainerNode,"display","block"));this.intro&&(this.introNode.innerHTML=this.intro,u.set(this.introContainerNode,"display","block"));this.procediBtn=new f({onClick:a.hitch(this,function(){this.sendEmails()})},this.procediBtnNode);this.chiudiBtn=new f({onClick:a.hitch(this,
this.chiudiPopup)},this.chiudiBtnNode);this.showHideErrorirSpedizioneBtn=new h({showLabel:!0,checked:!1,onChange:a.hitch(this,this.togleErroriSpedizione),label:"mostra"},this.showHideErrorirSpedizioneBtnNode);this.canSendCheck&&!this.canSendCheck()&&(this.procediBtn.disabled=!0)},updateTotToSend:function(a){this.totToSendNode.innerHTML=k.substitute(E.lblNumEmailDaSpedire,{tot:this.parentWidget.totToSend});null===this.parentWidget.totToSend||0===this.parentWidget.totToSend?this.procediBtn.set("disabled",
!0):this.procediBtn.set("disabled",!1)},sendEmails:function(){x.debug("[MailSpedizionePopupWidget.SpedizioneWidget] sendEmails","function"===typeof this.parentWidget.getDataForSendEmailsURL?this.parentWidget.getDataForSendEmailsURL():this.parentWidget.getDataForSendEmailsURL);this.chiudiBtn.set("label",E.lblChiudiButton);this.disabilitaPulsanti();u.set(this.spedizioneWorkingNode,"display","block");u.set(this.procediBtnWrapperNode,"display","none");r.post(this.parentWidget.sendEmailsURL,{data:"function"===
typeof this.parentWidget.getDataForSendEmailsURL?this.parentWidget.getDataForSendEmailsURL():this.parentWidget.getDataForSendEmailsURL,handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){var b=a.result||a;"OK"==b.resultCode?(this.idSpedizione=a.spedizione,this.test=!!a.test,this.initCometd()):(t.showInfoWithCloseButton(b.msg||p.msgErroreServer,C.footerInc.lblErrorMsgDialogTitle,p.lblOKButton),u.set(this.spedizioneWorkingNode,"display","none"),
this.abilitaPulsanti())}),a.hitch(this,function(a){t.showInfoWithCloseButton(p.msgErroreServer,C.footerInc.lblErrorMsgDialogTitle,p.lblOKButton);this.abilitaPulsanti()}))},disabilitaPulsanti:function(){this.procediBtn.disabled=!0;this.chiudiBtn.disabled=!0},abilitaPulsanti:function(){this.procediBtn.disabled=!1;this.chiudiBtn.disabled=!1;this.canSendCheck&&!this.canSendCheck()&&(this.procediBtn.disabled=!0)},initCometd:function(){var b="/spedizione/"+this.idSpedizione;z.subscribe(b,a.hitch(this,function(a){x.debug("MESSAGGIO SU CANALE: /spedizione/"+
this.idSpedizione);x.debug(a.data.messaggio);"sospeso"==a.data.messaggio?(z.unsubscribe(b),this.chiudiBtn.disabled=!1,u.set(this.spedizioneWorkingNode,"display","none"),this.spedizioneEffettuata=!1):"fine"==a.data.messaggio?(this.progressoSpedizioneNode.innerHTML=E.lblSpedizioneCompletata,z.unsubscribe(b),0<this.idSpedizione&&!this.test&&this.visualizzaResoconto(),this.chiudiBtn.disabled=!1,this.doOnShippingComplete&&"function"==typeof this.doOnShippingComplete&&this.doOnShippingComplete(),u.set(this.spedizioneWorkingNode,
"display","none"),this.spedizioneEffettuata=!0):this.progressoSpedizioneNode.innerHTML=a.data.messaggio}),{forceDebounceUnsubscribeDelay:6E4})},chiudiPopup:function(){var b=this.parentWidget.hide();this.spedizioneEffettuata&&this.doOnCloseAfterDeliveryDispatched&&(b?b.then(a.hitch(this,function(){this.doOnCloseAfterDeliveryDispatched()})):this.doOnCloseAfterDeliveryDispatched())},visualizzaResoconto:function(){r.post("/getResocontoInvio.plp",{data:{idSpedizione:this.idSpedizione},handleAs:"json",
headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){x.debug(a);console.debug("getResocontoInvio",a);this.risultatiInvio=a.risultatiInvio;this.aggiornaVisualizzaResoconto(a.resoconto)}),a.hitch(this,function(a){x.debug(a)}))},nascondiResoconto:function(){u.set(this.resocontoSpedizioneNode,"display","none")},aggiornaVisualizzaResoconto:function(a){this.numEmailSpediteNode.innerHTML=(a.QUEUED||0)+(a.SENT||0)+(a.WAITING||0);this.numIndirizziInvalidiNode.innerHTML=
a.ADDRESS_MALFORMED||0;this.numIndirizziVuotiNode.innerHTML=a.EMPTY_ADDRESS||0;this.numErroriSpedizioneNode.innerHTML=(a.SENDING_EXCEPTION||0)+(a.SMTP_ERROR||0);0<(a.SENDING_EXCEPTION||0)+(a.SMTP_ERROR||0)?u.set(this.showHideErrorirSpedizioneBtnContainerNode,"display","inline"):u.set(this.showHideErrorirSpedizioneBtnContainerNode,"display","none");u.set(this.resocontoSpedizioneNode,"display","block")},reset:function(){this.idSpedizione&&z&&z.unsubscribe("/spedizione/"+this.idSpedizione);this.nascondiResoconto();
this.progressoSpedizioneNode.innerHTML="";u.set(this.procediBtnWrapperNode,"display","inline-block");u.set(this.erroriSpedizioneWrapperNode,"display","none");u.set(this.spedizioneWorkingNode,"display","none");this.showHideErrorirSpedizioneBtn.set("checked",!1);this.chiudiBtn.set("label",p.lblChiudiButton);this.abilitaPulsanti();this.spedizioneEffettuata=!1;u.set(this.spedizioneWorkingNode,"display","none")},togleErroriSpedizione:function(a){x.debug("togleErroriSpedizione",a);a?(this.showHideErrorirSpedizioneBtn.set("label",
"nascondi"),this.mostraErroriSpedizione()):(this.showHideErrorirSpedizioneBtn.set("label","mostra"),u.set(this.erroriSpedizioneWrapperNode,"display","none"))},mostraErroriSpedizione:function(b){x.debug("mostraErroriSpedizione",this.risultatiInvio.SENDING_EXCEPTION.concat(this.risultatiInvio.SMTP_ERROR));u.set(this.erroriSpedizioneWrapperNode,"display","block");null===this.erroriSpedizioneStore?(b=[],this.risultatiInvio.SENDING_EXCEPTION&&(b=this.risultatiInvio.SENDING_EXCEPTION),this.risultatiInvio.SMTP_ERROR&&
(b=b.concat(this.risultatiInvio.SMTP_ERROR)),this.risultatiInvio.ADDRESS_MALFORMED&&(b=b.concat(this.risultatiInvio.ADDRESS_MALFORMED)),this.risultatiInvio.EMPTY_ADDRESS&&(b=b.concat(this.risultatiInvio.EMPTY_ADDRESS)),this.erroriSpedizioneStore=new w({data:b,idProperty:"idEsitoInvio"}),x.debug("mostraErroriSpedizione",this.erroriSpedizioneStore),b=[{field:"nome",label:"Nome",get:function(a){var b="";a&&a.nome&&(b=a.nome);return b}},{field:"cognome",label:"Cognome",get:function(a){var b="";a&&a.cognome&&
(b=a.cognome);return b}},y({label:"Email",field:"email",editor:"string",get:function(a){var b="";a&&a.email&&(b=a.email);return b}}),{field:"errMsg",label:"Error Message",get:function(a){var b="";a&&a.errMsg&&(b=a.errMsg);return b}}],this.gridWidget=new D({height:100,store:this.erroriSpedizioneStore,columns:b},this.erroriSpedizioneNode),this.gridWidget.on("dgrid-datachange",a.hitch(this,function(b){var e=this.gridWidget.row(b),d=this.gridWidget.cell(b);x.debug("CELL",d);x.debug("VALUE",b.value);this.updateEmailOnItem({idpersona:e.data.idPersona,
email:b.value}).then(a.hitch(this,function(a){x.debug("updateEmailOnItem SUCCESS");item=this.gridWidget.store.get(e.data.idpersona);item.email=b.value;this.erroriSpedizioneStore.put(item)}),a.hitch(this,function(a){x.debug("updateEmailOnItem FAILED");this.gridWidget.revert()}))})),this.gridWidget.startup()):(this.erroriSpedizioneStore.setData(this.risultatiInvio.SENDING_EXCEPTION+this.risultatiInvio.SMTP_ERROR),this.gridWidget.refresh())},updateEmailOnItem:function(b){x.debug("updateEmailOnItem(item):",
b);var e=new m;r.post("/updateEmailPersona.plp",{data:{idPersona:b.idpersona,email:b.email},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;"OK"==a.resultCode?(t.showInfo(p.msgModificaRegistrata),e.resolve()):(a.msg?t.showError(a.msg):t.showError("Problemi nella comunicazione con il server!"),e.reject())}),a.hitch(this,function(a){t.showError("Problemi nella comunicazione con il server!");e.reject()}));return e.promise}})})},
"ebPlatformWidgets/Evento/Guests/ListSelectionWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/text!./templates/ListSelectionWidget.html dojo/text!./templates/ToggleButtonWidget.html dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button ebPlatform/stato ebPlatformWidgets/Form/ToggleButtonWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget".split(" "),function(q,a,k,n,l,e,f,h,b,r,m,u,w){return q([f,h],{mouseAnim:null,templateString:n,
baseClass:"listSelectionWidget",parentWidget:null,inviteListBtnWidget:null,registrantListBtnWidget:null,attendeeListBtnWidget:null,completeListBtnWidget:null,messages:w,commonMessages:u,postCreate:function(){this.inherited(arguments);this.inviteListBtnWidget=new m({templateString:l,img:"/img/btn/btn_invitelist.png",imgChecked:"/img/btn/btn_invitelist_checked.png",label:w.lblInviteListBtn,caption:w.msgInviteListBoxText,hoverLabel:w.lblInviteListBtn,hoverCaption:w.msgInviteListHoverText,onChange:a.hitch(this,
function(a){this.parentWidget.selectList("invite")})},this.selectInviteListBtnNode);this.registrantListBtnWidget=new m({templateString:l,img:"/img/btn/btn_registrantlist.png",imgChecked:"/img/btn/btn_registrantlist_checked.png",label:w.lblRegistrantListBtn,caption:w.msgRegistrantListBoxText,hoverLabel:w.lblRegistrantListBtn,hoverCaption:w.msgRegistrantListHoverText,onChange:a.hitch(this,function(a){this.parentWidget.selectList("registrant")})},this.selectRegistrantListBtnNode);this.attendeeListBtnWidget=
new m({templateString:l,img:"/img/btn/btn_attendlist.png",imgChecked:"/img/btn/btn_attendlist_checked.png",label:w.lblAttendeeListBtn,caption:w.msgAttendeeListBoxText,hoverLabel:w.lblAttendeeListBtn,hoverCaption:w.msgAttendeeListHoverText,onChange:a.hitch(this,function(a){this.parentWidget.selectList("attendee")})},this.selectAttendeeListBtnNode);this.completeListBtnWidget=new m({templateString:l,img:"/img/btn/btn_full.png",imgChecked:"/img/btn/btn_full_checked.png",label:w.lblCompleteListBtn,caption:w.msgCompleteListBoxText,
hoverLabel:w.lblCompleteListBtn,hoverCaption:w.msgCompleteListHoverText,onChange:a.hitch(this,function(a){this.parentWidget.selectList("complete")})},this.selectCompleteListBtnNode);e.subscribe("sys.statoCalcolato.updated",a.hitch(this,function(){this.updateCounters()}))},updateCounters:function(){0<r.evento.statoCalcolato.numInvitati?(k.set(this.inviteListBtnWidget.statusContainerNode,"visibility","visible"),this.inviteListBtnWidget.guestsNumberNode.innerHTML=r.evento.statoCalcolato.numInvitati,
k.set(this.inviteListBtnWidget.fieldsStatusContainerNode,"visibility","hidden")):(k.set(this.inviteListBtnWidget.statusContainerNode,"visibility","hidden"),r.evento.statoCalcolato.tracciatoEventoDefinito?k.set(this.inviteListBtnWidget.fieldsStatusContainerNode,"visibility","visible"):k.set(this.inviteListBtnWidget.fieldsStatusContainerNode,"visibility","hidden"));0<r.evento.statoCalcolato.numIscritti?(k.set(this.registrantListBtnWidget.statusContainerNode,"visibility","visible"),this.registrantListBtnWidget.guestsNumberNode.innerHTML=
r.evento.statoCalcolato.numIscritti):k.set(this.registrantListBtnWidget.statusContainerNode,"visibility","hidden");0<r.evento.statoCalcolato.numPartecipanti?(k.set(this.attendeeListBtnWidget.statusContainerNode,"visibility","visible"),this.attendeeListBtnWidget.guestsNumberNode.innerHTML=r.evento.statoCalcolato.numPartecipanti):k.set(this.attendeeListBtnWidget.statusContainerNode,"visibility","hidden");0<r.evento.statoCalcolato.numOspitiMasterList?(k.set(this.completeListBtnWidget.statusContainerNode,
"visibility","visible"),this.completeListBtnWidget.guestsNumberNode.innerHTML=r.evento.statoCalcolato.numOspitiMasterList):k.set(this.completeListBtnWidget.statusContainerNode,"visibility","hidden")},resetChecked:function(){this.inviteListBtnWidget.set("checked",!1,!1);this.registrantListBtnWidget.set("checked",!1,!1);this.attendeeListBtnWidget.set("checked",!1,!1);this.completeListBtnWidget.set("checked",!1,!1)}})})},"ebPlatformWidgets/Evento/EventPage/EditRegistrationButtonsDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-style dojo/query dojo/text!./templates/EditRegistrationButtonsDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Button dijit/Editor dijit/_editor/plugins/ViewSource dojox/editor/plugins/InsertEntity dojox/editor/plugins/SafePaste ebPlatform/htmlTags ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/FontControlWidget ebPlatform/commonDialogs dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C){return q([h,b],{mouseAnim:null,templateString:f,baseClass:"editRegistrationButtonsDialogContentWidget",parentWidget:null,doOnSelection:null,registrationBtnLabelWidget:null,registrationAddPartnerBtnLabelWidget:null,registrationUpdateBtnLabelWidget:null,registrationUpdateAddPartnerBtnLabelWidget:null,registrationDeleteBtnLabelWidget:null,partecipationDenyBtnLabelWidget:null,partecipationDenyTextWidget:null,registrationBtnColorWidget:null,registrationBtnBackgroundWidget:null,
updateBtnColorWidget:null,updateBtnBackgroundWidget:null,deleteBtnColorWidget:null,deleteBtnBackgroundWidget:null,partecipationDenyBtnColorWidget:null,partecipationDenyBtnBackgroundWidget:null,cancelBtnWidget:null,okBtnWidget:null,messages:C,commonMessages:G,postCreate:function(){this.inherited(arguments);this.registrationBtnLabelWidget=new r({"class":"preview",placeHolder:C.lblPlaceHolderIscriviti},this.registrationBtnLabelNode);this.registrationAddPartnerBtnLabelWidget=new r({"class":"preview",
placeHolder:C.lblPlaceHolderIscrivitiAddPartner},this.registrationAddPartnerBtnLabelNode);this.registrationUpdateBtnLabelWidget=new r({"class":"preview",placeHolder:C.lblPlaceHolderModificaIscrizione},this.updateRegistrationBtnLabelNode);this.registrationUpdateAddPartnerBtnLabelWidget=new r({"class":"preview",placeHolder:C.lblPlaceHolderModificaIscrizioneAddPartner},this.updateRegistrationAddPartnerBtnLabelNode);this.registrationDeleteBtnLabelWidget=new r({"class":"preview",placeHolder:C.lblPlaceHolderCancellaIscrizione},
this.deleteRegistrationBtnLabelNode);this.partecipationDenyBtnLabelWidget=new r({"class":"preview",placeHolder:C.lblPlaceHolderNegaParteciapzione},this.denyPartecipationBtnLabelNode);this.partecipationDenyTextWidget=new u({extraPlugins:["viewsource",{name:"safepaste",stripTags:x,width:"640px"}],height:"100px"},this.partecipationDenyTextEditorNode);this.partecipationDenyTextWidget.startup();this.registrationBtnColorWidget=new z({label:C.lblColorPlaceHolder,value:"#000000"},this.textColorNode);this.registrationBtnBackgroundWidget=
new z({"class":"right",label:C.lblBackgroundColorPlaceHolder,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.backgroundColorNode);this.updateBtnColorWidget=new z({label:C.lblColorPlaceHolder,value:"#000000"},this.updateColorNode);this.updateBtnBackgroundWidget=new z({"class":"right",label:C.lblBackgroundColorPlaceHolder,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.updateBkgColorNode);this.deleteBtnColorWidget=new z({label:C.lblColorPlaceHolder,value:"#000000"},this.deleteColorNode);
this.deleteBtnBackgroundWidget=new z({"class":"right",label:C.lblBackgroundColorPlaceHolder,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.deleteBkgColorNode);this.partecipationDenyBtnColorWidget=new z({label:C.lblColorPlaceHolder,value:"#000000"},this.denyTextColorNode);this.partecipationDenyBtnBackgroundWidget=new z({"class":"right",label:C.lblBackgroundColorPlaceHolder,value:"#FFFFFF",allowTransparent:!0,resetColor:"white"},this.denyBackgroundColorNode);var b=this.domNode;this.fontControlWidget=
new B({required:!1,vertical:!1,showAlignement:!1,showUppercase:!1,fontFamilyPlaceHolder:"Helvetica, Arial, sans-serif",onChange:function(a){e(".preview .dijitInputInner, .preview .dijitPlaceHolder",b).forEach(function(b){l.set(b,"fontFamily",a.fontFamily)})}},this.fontSelectorNode);this.cancelBtnWidget=new m({label:G.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new m({label:G.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide(),
e={registrationBtnLabel:this.registrationBtnLabelWidget.get("value"),registrationAddPartnerBtnLabel:this.registrationAddPartnerBtnLabelWidget.get("value"),registrationUpdateBtnLabel:this.registrationUpdateBtnLabelWidget.get("value"),registrationUpdateAddPartnerBtnLabel:this.registrationUpdateAddPartnerBtnLabelWidget.get("value"),registrationDeleteBtnLabel:this.registrationDeleteBtnLabelWidget.get("value"),partecipationDenyBtnLabel:this.partecipationDenyBtnLabelWidget.get("value"),partecipationDenyText:this.partecipationDenyTextWidget.get("value"),
registrationBtnColor:this.registrationBtnColorWidget.get("value"),registrationBtnBackground:this.registrationBtnBackgroundWidget.get("value"),updateBtnColor:this.updateBtnColorWidget.get("value"),updateBtnBackground:this.updateBtnBackgroundWidget.get("value"),deleteBtnColor:this.deleteBtnColorWidget.get("value"),deleteBtnBackground:this.deleteBtnBackgroundWidget.get("value"),partecipationDenyBtnColor:this.partecipationDenyBtnColorWidget.get("value"),partecipationDenyBtnBackground:this.partecipationDenyBtnBackgroundWidget.get("value"),
font:this.fontControlWidget.get("value")};this.doOnSelection&&(b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e))})},this.okBtnNode)},attualizzaLocalizedMessages:function(){this.registrationBtnLabelWidget.set("placeHolder",this.localizedMessages.lblPlaceHolderIscriviti);this.registrationAddPartnerBtnLabelWidget.set("placeHolder",this.localizedMessages.lblPlaceHolderIscrivitiAddPartner);this.registrationUpdateBtnLabelWidget.set("placeHolder",this.localizedMessages.lblPlaceHolderModificaIscrizione);
this.registrationUpdateAddPartnerBtnLabelWidget.set("placeHolder",this.localizedMessages.lblPlaceHolderModificaIscrizioneAddPartner);this.registrationDeleteBtnLabelWidget.set("placeHolder",this.localizedMessages.lblPlaceHolderCancellaIscrizione);this.partecipationDenyBtnLabelWidget.set("placeHolder",this.localizedMessages.lblPlaceHolderNegaParteciapzione)},reset:function(){this.registrationBtnLabelWidget.set("value","");this.registrationAddPartnerBtnLabelWidget.set("value","");this.registrationUpdateBtnLabelWidget.set("value",
"");this.registrationUpdateAddPartnerBtnLabelWidget.set("value","");this.registrationDeleteBtnLabelWidget.set("value","");this.partecipationDenyBtnLabelWidget.set("value","");this.partecipationDenyTextWidget.set("value","");this.registrationBtnColorWidget.set("value","#000000");this.registrationBtnBackgroundWidget.set("value","#FFFFFF");this.updateBtnColorWidget.set("value","#000000");this.updateBtnBackgroundWidget.set("value","#FFFFFF");this.deleteBtnColorWidget.set("value","#000000");this.deleteBtnBackgroundWidget.set("value",
"#FFFFFF");this.partecipationDenyBtnColorWidget.set("value","#000000");this.partecipationDenyBtnBackgroundWidget.set("value","#FFFFFF")},impostaTesto:function(a,b){this[a+"Widget"].set("value",b)},setParteciapationDenyVisibility:function(a){a?l.set(this.denyControlsContainerNode,"display","block"):l.set(this.denyControlsContainerNode,"display","none")}})})},"ebPlatformWidgets/Evento/EventPage/EditEventDetailsDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/utility ebPlatformWidgets/Dialogs/_DialogWithDnDMixin ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditEventDetailsDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h,b,r){return q([n,f,e],{baseClass:"editEventDetailsDialogWidget",defaultPermittedExtensions:["jpg","jpeg","gif","png"],permittedExtensions:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new h({parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(a){var e=null;this.mainWidget.reset();a&&(a.idLanguage&&(this.mainWidget.localizedMessages=r.getLocalization("ebPlatformWidgets.Evento.EventPage",
"EventPageWidget",b.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.attualizzaLocalizedMessages()),a.title&&this.set("title",a.title),a.imageType&&this.mainWidget.set("imageType",a.imageType),a.previewMaxDim&&this.mainWidget.impostaDimensioniMassimePreview(a.previewMaxDim.w,a.previewMaxDim.h),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection),a.fileFormatNote&&this.mainWidget.impostaNotaFormato(a.fileFormatNote),a.currentState&&(a.currentState.imageSrc&&(e=this.mainWidget.impostaSrcPreview(a.currentState.imageSrc)),
a.currentState.sectionTitle&&this.mainWidget.impostaTitoloSezione(a.currentState.sectionTitle),void 0!==a.currentState.showImage&&this.mainWidget.showEventDetailsImageWidget.set("checked",a.currentState.showImage),void 0!==a.currentState.showEventDescription&&this.mainWidget.impostaMostraDescrizioneEvento(a.currentState.showEventDescription),void 0!==a.currentState.showOrganizerDetails&&this.mainWidget.impostaMostraDettagliOrganizzatore(a.currentState.showOrganizerDetails),void 0!==a.currentState.showEventMap&&
this.mainWidget.impostaMostraMappaEvento(a.currentState.showEventMap),void 0!==a.currentState.showSectionTitle&&this.mainWidget.impostaMostraTitoloSezione(a.currentState.showSectionTitle),void 0!==a.currentState.showEventDetailsDetails&&this.mainWidget.impostaMostraDettagliEvento(a.currentState.showEventDetailsDetails),void 0!==a.currentState.doesImgSubstituteSxCol&&this.mainWidget.impostaSostituisciColonnaSxConImmagine(a.currentState.doesImgSubstituteSxCol),a.currentState.backgroundColor&&this.mainWidget.backgroundColorWidget.set("value",
a.currentState.backgroundColor),a.currentState.titleColor&&this.mainWidget.titleColorWidget.set("value",a.currentState.titleColor),a.currentState.textColor&&this.mainWidget.textColorWidget.set("value",a.currentState.textColor),this.mainWidget.fontControlWidget.refresh(),a.currentState.font&&this.mainWidget.fontControlWidget.set("value",a.currentState.font),this.mainWidget.fontTitleControlWidget.refresh(),a.currentState.fontTitle&&this.mainWidget.fontTitleControlWidget.set("value",a.currentState.fontTitle),
this.mainWidget.fontAddressControlWidget.refresh(),a.currentState.fontAddress&&this.mainWidget.fontAddressControlWidget.set("value",a.currentState.fontAddress),a.currentState.sections&&this.mainWidget.riordinaSezioni(a.currentState.sections),a.currentState.fontSizePh&&this.mainWidget.fontControlWidget.set("fontSizePlaceHolder",a.currentState.fontSizePh),a.currentState.fontTitleSizePh&&this.mainWidget.fontTitleControlWidget.set("fontSizePlaceHolder",a.currentState.fontTitleSizePh),a.currentState.fontAddressSizePh&&
this.mainWidget.fontAddressControlWidget.set("fontSizePlaceHolder",a.currentState.fontAddressSizePh),this.mainWidget.marginTopMap.set("value",a.currentState.marginTopMap),this.mainWidget.marginBottomMap.set("value",a.currentState.marginBottomMap),this.mainWidget.marginTopDetails.set("value",a.currentState.marginTopDetails),this.mainWidget.marginBottomDetails.set("value",a.currentState.marginBottomDetails),this.mainWidget.marginTopDescription.set("value",a.currentState.marginTopDescription),this.mainWidget.marginBottomDescription.set("value",
a.currentState.marginBottomDescription),this.mainWidget.marginTopOrganizer.set("value",a.currentState.marginTopOrganizer),this.mainWidget.marginBottomOrganizer.set("value",a.currentState.marginBottomOrganizer),this.mainWidget.marginTopImage.set("value",a.currentState.marginTopImage),this.mainWidget.marginBottomImage.set("value",a.currentState.marginBottomImage)));if(e){var h=this;e.then(function(){f.prototype.show.call(h,arguments)})}else this.inherited(arguments)}})})},"ebPlatformWidgets/Evento/EventPage/EditRegistrationDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditRegistrationDialogContentWidget ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h){return q([n,l],{baseClass:"editRegistrationDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new e({parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset();a.idLanguage&&(this.mainWidget.localizedMessages=h.getLocalization("ebPlatformWidgets.Evento.EventPage","EventPageWidget",f.getLinguaById(a.idLanguage).dojoLocale),
this.mainWidget.attualizzaLocalizedMessages());a.title&&this.set("title",a.title);a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection);a.currentState&&(a.currentState.sectionTitle&&this.mainWidget.impostaTitoloSezione(a.currentState.sectionTitle),a.currentState.sectionText&&this.mainWidget.impostaTestoSezione(a.currentState.sectionText,a.currentState.sectionTextPlaceHolder),void 0!==a.currentState.collapseDates&&this.mainWidget.impostaCollassaDate(a.currentState.collapseDates),void 0!==
a.currentState.showAvailabilityStatus&&this.mainWidget.impostaMostraPostiDisponibili(a.currentState.showAvailabilityStatus),void 0!==a.currentState.showAvailability&&this.mainWidget.impostaMostraNumeroPostiDisponibili(a.currentState.showAvailability),a.currentState.backgroundColor&&this.mainWidget.backgroundColorWidget.set("value",a.currentState.backgroundColor),a.currentState.titleColor&&this.mainWidget.titleColorWidget.set("value",a.currentState.titleColor),a.currentState.textColor&&this.mainWidget.textColorWidget.set("value",
a.currentState.textColor),this.mainWidget.fontControlWidget.refresh(),a.currentState.font&&this.mainWidget.fontControlWidget.set("value",a.currentState.font),this.mainWidget.fontTitleControlWidget.refresh(),a.currentState.fontTitle&&this.mainWidget.fontTitleControlWidget.set("value",a.currentState.fontTitle),a.currentState.fontTitleSizePh&&this.mainWidget.fontTitleControlWidget.set("fontSizePlaceHolder",a.currentState.fontTitleSizePh))}})})},"ebPlatformWidgets/Evento/EventPage/EventPageWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/on dojo/topic dojo/Stateful dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/Deferred dojo/promise/all dojo/json dojo/keys dojo/store/Memory dojo/text!./templates/EventPageWidget.html dijit/form/Form dijit/form/FilteringSelect dijit/form/TextBox dijit/form/ValidationTextBox dijit/form/Button dijit/form/CheckBox dijit/form/Select clipboard/clipboard ebPlatformWidgets/CustomTooltip ebPlatform/stato ebPlatform/utility ebPlatform/templateUtility ebPlatform/logger! ebPlatform/commonDialogs ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ebPlatformWidgets/Form/ColorPickerWidget ebPlatformWidgets/Form/LanguageSelectionWidget ebPlatformWidgets/Form/LanguageSelectionSelectWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/Form/utility ./EventPageTemplateWidget ./ShopifyFormLayoutWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W){return q([J],{templateString:B,baseClass:"eventPageWidget",mappingName:"evento.mappings.event_page",infoGraphicCode:"evento.eventPage",dependsOnWidgetsData:["event_details","communication"],dependsOnStatoCalcolato:!0,appWidget:null,parentWidget:null,stato:null,hasToolbar:!0,genericRegistrationPageURL:"",allConfimationEmailsCreated:!1,tipologiaFlusso:null,azioniCampi:null,condizioniCampi:null,mappaListe:null,
statoStartUp:{idLanguage:null,idRegistrationPage:null,showLogo:!1,logo:null,showLogoDx:!1,logoDx:null,showHeader:!0,showPageImage:!1,pageImage:null,showFooterImage:null,footerImage:null,showHeaderImage:null,headerImage:null,showEventDetails:!0,eventDetailsTitle:"",eventDetailsImage:null,showOrganizerDetails:!0,showEventDescription:!0,showEventMap:!0,registrationBoxTitle:"",collapseDates:!1,showAvailabilityStatus:!0,showAvailability:!1,showPersonalDetails:!0,personalDetailsTitle:"",personalDetailsAdditionalText:"",
fieldsDetails:null,texts:null,showPrivacy:!1,showPrivacyIntro:!1,privacyIntro:"",privacy:"",showConsentRequest1:!1,isConsentRequest1Mandatory:!1,consentRequest1Text:"",showConsentRequest2:!1,isConsentRequest2Mandatory:!1,consentRequest2Text:"",showConsentRequest3:!1,isConsentRequest3Mandatory:!1,consentRequest3Text:"",registrationBtnLabel:"",registrationAddPartnerBtnLabel:"",registrationUpdateBtnLabel:"",registrationUpdateAddPartnerBtnLabel:"",registrationDeleteBtnLabel:"",showPartecipationDenyBtn:!1,
partecipationDenyBtnLabel:"",partecipationDenyText:"",registrationBtnColor:"#FFFFFF",registrationBtnBackground:"#B3B3B3",updateBtnColor:"#FFFFFF",updateBtnBackground:"#B3B3B3",deleteBtnColor:"#FFFFFF",deleteBtnBackground:"#B3B3B3",backgroundColor:"#F2F2F2",backgroundColorEventDetails:"#FFFFFF",backgroundColorRegistration:"#FFFFFF",backgroundColorPrivacy:"#FFFFFF",titleColorEventDetails:"#000000",titleColorRegistration:"#000000",textColor:"#000000",textColorEventDetails:"#000000",textColorRegistration:"#000000",
textColorPrivacy:"#000000",sectionsEventDetails:"eventDetailsTitleNode,boxEventMap,eventDetailsDetailsNode,boxEventDescription,boxOrganizerDetails,eventDetailsImageImgContainerNode",allowRegistrationUpdateFromBE:!0,allowRegistrationUpdateToUser:!1,allowRegistrationDeleteToUser:!1,publishEventPage:!1,sendConfirmationEmail:!0,directRegistrationDecline:!1,partnersType:!1,maxPartners:0,allLanguages:{},eventPageURLStart:"",eventPageCustomPath:"",showButtons:!0,enableConfirmationPage:!1,showSocial:!0},
statoReset:{showLogo:!1,logo:"",showLogoDx:!1,logoDx:"",showPageImage:!1,pageImage:"",showFooterImage:!1,footerImage:"",showHeaderImage:!1,headerImage:"",backgroundImage:"",showHeader:!0,showEventDetails:!0,eventDetailsTitle:"",eventDetailsImage:"",showSectionTitle:!0,showEventDetailsDetails:!0,showEventDetailsImage:!0,showOrganizerDetails:!0,showEventDescription:!0,showEventMap:!0,doesImgSubstituteSxCol:!1,backgroundColorEventDetails:"#EEEEEE",titleColorEventDetails:"#000000",textColorEventDetails:"#000000",
sectionsEventDetails:"eventDetailsTitleNode,boxEventMap,eventDetailsDetailsNode,boxEventDescription,boxOrganizerDetails,eventDetailsImageImgContainerNode",registrationBoxTitle:"",collapseDates:!1,showAvailabilityStatus:!0,showAvailability:!1,showPersonalDetails:!0,personalDetailsTitle:"",personalDetailsAdditionalText:"",fieldsDetails:null,texts:null,showPrivacy:!1,showPrivacyIntro:!1,privacyIntro:"",privacy:"",showConsentRequest1:!1,isConsentRequest1Mandatory:!1,consentRequest1Text:"",showConsentRequest2:!1,
isConsentRequest2Mandatory:!1,consentRequest2Text:"",showConsentRequest3:!1,isConsentRequest3Mandatory:!1,consentRequest3Text:"",registrationBtnLabel:"",registrationAddPartnerBtnLabel:"",registrationUpdateBtnLabel:"",registrationUpdateAddPartnerBtnLabel:"",registrationDeleteBtnLabel:"",showPartecipationDenyBtn:!1,partecipationDenyBtnLabel:"",partecipationDenyText:"",registrationBtnColor:"#FFFFFF",registrationBtnBackground:"#B3B3B3",updateBtnColor:"#FFFFFF",updateBtnBackground:"#B3B3B3",deleteBtnColor:"#FFFFFF",
deleteBtnBackground:"#B3B3B3",backgroundColor:"#FFFFFF",backgroundColorRegistration:"#EEEEEE",backgroundColorPrivacy:"#FFFFFF",titleColorRegistration:"#000000",textColor:"#000000",datesColor:"#000000",textColorRegistration:"#000000",textColorPrivacy:"#000000",showButtons:!0,enableConfirmationPage:!1,fontAddress:{fontFamily:"",fontWeight:"",fontSize:"14px",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:""},fontButtons:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",
marginBottom:""},fontDatesHeader:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:"20px",textTransform:null},fontEventDetails:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:""},fontHeader:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:"",textTransform:null},fontRegistration:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:""},
fontTitleEventDetails:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:""},fontTitlePersonalDetails:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:""},fontTitleRegistration:{fontFamily:"",fontWeight:"",fontSize:"",textAlign:"",paddingLeft:"",marginTop:"",marginBottom:""},marginBottomDescription:null,marginBottomDetails:null,marginBottomImage:null,marginBottomMap:null,marginBottomOrganizer:null,marginTopDescription:"35px",
marginTopDetails:"15px",marginTopImage:null,marginTopMap:null,marginTopOrganizer:"35px",showSocial:!1},formWidget:null,languageSelectionWidget:null,backgroundColorWidget:null,textColorWidget:null,pageLayoutSwitchWidget:null,pageLayoutWidget:null,allowRegistrationUpdateFromBEWidget:null,allowRegistrationUpdateToUserWidget:null,allowRegistrationDeleteToUserWidget:null,allowNameSurnameUpdatesWidget:null,allowEmailUpdatesWidget:null,showPartecipationDenyBtnWidget:null,disableConfirmationEmailWidget:null,
directRegistrationDeclineWidget:null,ticketingSiteSwitchWidget:null,manageRegistrationSwitchWidget:null,publishEventPageSwitchWidget:null,genericRegistrationPageWidget:null,eventPageCustomPathWidget:null,showSocialWidget:null,showSocialTooltipWidget:null,allowUneditableFieldsManagementWidget:null,copyToClipboardClient:null,shopifyFormLayoutSwitchWidget:null,shopifyFormLayoutWidget:null,selectTemplateModelStore:null,selectTemplateModelWidget:null,saveAsTemplateModelWidget:null,saveAsTemplateDialogWidget:null,
messages:W,commonMessages:Q,getToolbarConfig:function(){return{buttons:[{type:"dijit/form/Button",options:{code:"eventPage.previewButton",label:Q.lblVisualizzaAnteprimaButton,action:a.hitch(this,this.visualizzaAnteprima),"class":""}},{type:"dijit/form/Button",options:{code:"eventPage.salvaButton",label:Q.lblSalvaButton,action:a.hitch(this,this.save),"class":"saveBtn"}}]}},getHeaderToolbar:function(){this.parentWidget.headerToolbar||(this.parentWidget.headerToolbar=new K({toolbarConfig:this.getToolbarConfig()}),
d.evento.statoCalcolato.eventoTerminato&&this.parentWidget.headerToolbar.disableByCode("eventPage.salvaButton"));return this.parentWidget.headerToolbar},getFooterToolbar:function(){this.parentWidget.footerToolbar||(this.parentWidget.footerToolbar=new K({toolbarConfig:this.getToolbarConfig()}),d.evento.statoCalcolato.eventoTerminato&&this.parentWidget.footerToolbar.disableByCode("eventPage.salvaButton"));return this.parentWidget.footerToolbar},postCreate:function(){this.inherited(arguments);this.statoShadowProp=
a.clone(this.statoStartUp);d.evento.stato[this.internalName]=this.statoShadowProp;this.stato=new f(this.statoShadowProp);this.stato.watch(a.hitch(this,function(a,b,d){d!=b&&"dirty"!=a&&this.stato.set("dirty",!0);"dirty"==a&&(1==d?(this.abilitaPulsantiToolbar(!1),this.appWidget.setMustSaveToContinueMode(),this.languageSelectionWidget.set("disabled",!0),this.shopifyFormLayoutWidget&&this.shopifyFormLayoutWidget.openUpdateShopifyTextsPopupBtn.set("disabled",!0)):(this.abilitaPulsantiToolbar(!0),this.appWidget.resetMustSaveToContinueMode(),
this.languageSelectionWidget.set("disabled",!1),this.shopifyFormLayoutWidget&&this.shopifyFormLayoutWidget.openUpdateShopifyTextsPopupBtn.set("disabled",!1)))}));this.formWidget=new t({},this.formNode);this.languageSelectionWidget=new R({disabled:d.evento.statoCalcolato.eventoTerminato,onSelect:a.hitch(this,function(a){this.stato.set("idLanguage",a);this.stato.get("allLanguages")[a]||L.copyObjToObj(this.statoReset,this.stato);this.aggiornaUI();this.aggiornaLinkIscrizione()})},this.languageSelectionNode);
d.commons.permissions.impersonated&&b.set(this.additionalCssJsManagementContainerNode,"display","inline-block");this.pageLayoutWidget=new ca({stato:this.stato,parentWidget:this},this.pageLayoutNode);this.backgroundImage=new C({readonly:!0,onChange:function(a){a?this.set("displayedValue",a.substring(a.lastIndexOf("/")).replace("/","")):this.set("displayedValue","")}},this.backgroundImageNode);this.backgroundImageEditBtn=new I({"class":"editButton",iconClass:"editButtonIcon",onClick:a.hitch(this,function(){var b=
this.pageLayoutWidget;this.pageLayoutWidget.editImageDialogWidget.show({title:W.lblEditBackgroundImage,currentSrc:this.stato.get("backgroundImage"),imageType:"immaginePaginaIscrizione",fileFormatNote:W.msgBackgroundImageFormatNotes,previewMaxDim:{w:d.commons.config.EventPage_pageImageWidth},doOnSelection:a.hitch(this,function(a){H.aggiornaStatoEValore("backgroundImage",b,a||"");this.backgroundImage.set("value",a?a.substring(a.lastIndexOf("/")):"")})})})},this.backgroundImageBtnNode);this.backgroundColorWidget=
new T({label:W.lblPageBackgroundColor,doOnChange:a.hitch(this,function(a){H.aggiornaStatoEValore("backgroundColor",this.pageLayoutWidget,a)})},this.backgroundColorNode);d.evento.statoCalcolato.demoShopifyEvent?(this.ticketingSiteSwitchWidget=new ea({title:W.lblTicketingSite,dropDown:this.ticketingSiteContainerNode,opened:!0,onOpenDropDown:a.hitch(this,function(){})},this.ticketingSiteBtnNode),h.set(this.ticketingSiteFormNode,"action","https://"+d.evento.statoCalcolato.demoShopifyShopUrl+"/account/login"),
h.set(this.ticketingSiteEmailNode,"value",d.commons.data.customerDefaults.amministratore.email),h.set(this.ticketingSitePasswordNode,"value",d.commons.data.customerDefaults.amministratore.demoShopifyPassword)):b.set(this.ticketingSiteNode,"display","none");this.manageRegistrationSwitchWidget=new ea({title:W.lblManageRegistration,dropDown:this.manageRegistrationContainerNode,opened:"DEMO"!=d.evento.stato.event_subscription.tipo,onOpenDropDown:a.hitch(this,function(){})},this.manageRegistrationBtnNode);
d.evento.stato.event_details.payment?b.set(this.publishEventPageNode,"display","none"):this.publishEventPageSwitchWidget=new ea({title:W.lblPublishEventPage,dropDown:this.publishEventPageContainerNode,opened:!d.evento.stato.event_details["private"]&&"DEMO"!=d.evento.stato.event_subscription.tipo,onOpenDropDown:a.hitch(this,function(){})},this.publishEventPageBtnNode);this.pageLayoutSwitchWidget=new ea({title:W.lblEventPageConfiguration,dropDown:this.pageLayoutContainerNode,opened:!1,onOpenDropDown:a.hitch(this,
function(){var a=d.getLinguaById(this.stato.get("idLanguage"),d.evento.stato.event_details.languages);this.pageLayoutWidget.aggiornaUI(a.locale);b.set(this.paidAdmissionBottomNoteNode,"display","none")}),onCloseDropDown:a.hitch(this,function(){b.set(this.paidAdmissionBottomNoteNode,"display",d.evento.stato.event_details.payment?"block":"none")})},this.pageLayoutBtnNode);this.allowRegistrationUpdateFromBEWidget=new E({disabled:d.evento.statoCalcolato.eventoTerminato,checked:this.stato.get("allowRegistrationUpdateFromBE"),
onChange:a.hitch(this,function(a){this.stato.set("allowRegistrationUpdateFromBE",a)})},this.allowRegistrationUpdateFromBENode);this.allowRegistrationUpdateToUserWidget=new E({disabled:d.evento.statoCalcolato.eventoTerminato,checked:this.stato.get("allowRegistrationUpdateToUser"),onChange:a.hitch(this,function(a){this.stato.set("allowRegistrationUpdateToUser",a)})},this.allowRegistrationUpdateToUserNode);this.allowRegistrationDeleteToUserWidget=new E({disabled:d.evento.statoCalcolato.eventoTerminato,
checked:this.stato.get("allowRegistrationDeleteToUser"),onChange:a.hitch(this,function(a){this.stato.set("allowRegistrationDeleteToUser",a)})},this.allowRegistrationDeleteToUserNode);this.allowNameSurnameUpdatesWidget=new E({disabled:!!d.evento.statoCalcolato.eventoTerminato,checked:this.stato.get("allowNameSurnameUpdates"),onChange:a.hitch(this,function(a){this.stato.set("allowNameSurnameUpdates",a)})},this.allowNameSurnameUpdatesNode);this.allowEmailUpdatesWidget=new E({disabled:!!d.evento.statoCalcolato.eventoTerminato,
checked:this.stato.get("allowEmailUpdates"),onChange:a.hitch(this,function(a){this.stato.set("allowEmailUpdates",a)})},this.allowEmailUpdatesNode);this.allowUneditableFieldsManagementWidget=new E({disabled:!!d.evento.statoCalcolato.eventoTerminato,checked:this.stato.get("allowUneditableFieldsManagement"),onChange:a.hitch(this,function(a){this.stato.set("allowUneditableFieldsManagement",a);a||(k.forEach(this.pageLayoutWidget.get("stato").fieldsDetails,function(a){a.uneditable&&(a.uneditable=!1);a.uneditableForPartner&&
(a.uneditableForPartner=!1)}),this.pageLayoutWidget.aggiornaVisibilitaCampiAnagrafica())})},this.allowUneditableFieldsManagementNode);new S({label:'\x3cdiv style\x3d"width:400px;white-space:normal;"\x3e'+W.msgAllowUneditableFieldsManagementTip+"\x3c/div\x3e",connectId:[this.allowUneditableFieldsManagementTooltipNode]},this.allowUneditableFieldsManagementTooltipNode);this.showPartecipationDenyBtnWidget=new E({disabled:d.evento.statoCalcolato.eventoTerminato,checked:this.stato.get("showPartecipationDenyBtn"),
onChange:a.hitch(this,function(a){this.stato.set("showPartecipationDenyBtn",a);this.pageLayoutWidget.aggiornaPulsanteRegistrazione()})},this.showPartecipationDenyBtnNode);this.disableConfirmationEmailWidget=new E({checked:!this.stato.get("sendConfirmationEmail"),onChange:a.hitch(this,function(a){this.stato.set("sendConfirmationEmail",!a)})},this.disableConfirmationEmailNode);this.directRegistrationDeclineWidget=new E({checked:this.stato.get("directRegistrationDecline"),onChange:a.hitch(this,function(a){this.stato.set("directRegistrationDecline",
a)})},this.directRegistrationDeclineNode);new S({label:'\x3cdiv style\x3d"width:400px;white-space:normal;"\x3e'+W.msgDirectRegistrationDeclineTip+"\x3c/div\x3e",connectId:[this.directRegistrationDeclineTooltipNode]},this.directRegistrationDeclineTooltipNode);this.publishEventPageTooltipWidget=new S({label:W.msgPublishEventPagePublicTip,connectId:[this.publishEventPageTooltipNode]},this.publishEventPageTooltipNode);require(["/js/lib/notModules/ZeroClipboard.min.js"],function(a){a.config({swfPath:"/js/lib/notModules/ZeroClipboard.swf"})});
this.showSocialWidget=new E({checked:this.stato.get("showSocial"),onChange:a.hitch(this,function(a){this.stato.set("showSocial",a)})},this.showSocialCbxNode);this.showSocialTooltipWidget=new S({label:W.msgShowSocialTip,connectId:[this.showSocialTooltipNode]},this.showSocialTooltipNode);this.genericRegistrationPageWidget=new C({},this.genericRegistrationPageURLNode);this.eventPageCustomPathWidget=new C({"class":dojo.locale.substring(0,2),value:this.stato.get("eventPageCustomPath"),onKeyDown:function(a){var b=
a.charCode||a.keyCode,d=/[a-zA-Z0-9\s]/;console.log("KEYPRESS",b,a.keyCode,String.fromCharCode(b),d.test(String.fromCharCode(b)));d.test(String.fromCharCode(b))||b==x.BACKSPACE||b==x.LEFT_ARROW||b==x.RIGHT_ARROW||189==b||(a.preventDefault(),a.stopPropagation())},onChange:a.hitch(this,function(a){newValOK=a.replace(RegExp("\\s","g"),"-").toLowerCase();this.eventPageCustomPathWidget.set("value",newValOK,!1);this.stato.set("eventPageCustomPath",newValOK)})},this.genericRegistrationPageURLPart2EditNode);
this.shopifyFormLayoutSwitchWidget=new ea({title:W.lblShopifyFormConfiguration,dropDown:this.shopifyFormLayoutContainerNode,opened:!1,onOpenDropDown:a.hitch(this,function(){}),onCloseDropDown:a.hitch(this,function(){})},this.shopifyFormLayoutBtnNode);this.shopifyFormLayoutWidget=new X({stato:this.stato},this.shopifyFormLayoutNode);this.initSelectTemplateModel();l(this.eventPageCustomPathEditBtnNode,"click",a.hitch(this,function(){this.impostaEventPageCustomPathEditMode(!0)}));l(this.eventPageCustomPathConfirmEditBtnNode,
"click",a.hitch(this,function(){this.aggiornaLinkIscrizione()}));l(this.doPublishEventPageBtnNode,"click",a.hitch(this,function(){d.evento.stato.event_details["private"]||this.allConfimationEmailsCreated||!this.stato.get("sendConfirmationEmail")?d.evento.stato.event_details["private"]?(F.setUpConfirmDialog(Z.footerInc.lblWarningMsgDialogTitle,W.msgPublishPrivateEventWarning,this,function(){this.impostaPublishEventPage(!0)},function(){},null,!1),F.showConfirm({s:W.lblPublishPage,n:Q.lblChiudiButton})):
this.impostaPublishEventPage(!0):(this.impostaPublishEventPage(!1),F.showInfoWithCloseButton(W.msgNotAllConfirmationsCreatedWarning,Z.footerInc.lblWarningMsgDialogTitle,Q.lblOKButton))}));l(this.doUnpublishEventPageBtnNode,"click",a.hitch(this,function(){this.impostaPublishEventPage(!1)}))},hasToLoadData:function(){return!0},loadData:function(){return n.get("/getRegistrationPage.plp",{query:{idEvento:d.evento.stato.idEvento,idLingua:this.stato.get("idLanguage")||d.evento.stato.event_details.languages[0].idLingua},
handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},processLoadedData:function(b){var e=b.data;a.mixin(e,{lingua:b.lingua});a.mixin(e,{specificaTrattamentoDati:b.specificaTrattamentoDati});a.mixin(e,{paginaIscrizione:b.paginaIscrizione});var f=L.invertMapping(d.evento.mappings.field_details);a.mixin(e,{descrittore:k.map(b.descrittore,function(a){var b={position:null,name:null,type:null,show:null,mandatory:null,showForPartner:null,mandatoryForPartner:null};L.copyTo(a,b,f);
return b})});a.mixin(e,{allLanguages:b.allLanguages});a.mixin(e,{linkIscrizionePart1:b.linkIscrizionePart1});this.allConfimationEmailsCreated=!1;d.evento.stato.event_details.languages.length&&d.evento.stato.communication.confirmationEmails.length&&(this.allConfimationEmailsCreated=d.evento.stato.event_details.languages.length==d.evento.stato.communication.confirmationEmails.length);b.settingsShopify&&(e.settingsShopify=b.settingsShopify);this.azioniCampi=[].concat(b.azioniCampi);this.condizioniCampi=
[].concat(b.condizioniCampi);this.mappaListe=a.clone(b.mappaListe);this.backgroundImageEditBtn.set("disabled",d.evento.statoCalcolato.eventoTerminato);return e},preProcessDataToBePosted:function(b){delete b.allLanguages;var e=k.map(b.descrittore,function(b){var e={posizione:null,nome:null,tipo:null,visualizzaFormIscrizione:null,obbligatorio:null};L.copyTo(b,e,d.evento.mappings.field_details);e.mappaParametri&&e.mappaParametri.rule&&(e.regola=a.clone(e.mappaParametri.rule));e.nuovoIdDipendeDa=b.parentId;
delete e.mappaParametri;return e});b.descrittore=e;console.log("TESTI:",b.paginaIscrizione.testi);k.forEach(b.paginaIscrizione.testi,function(b,d){isNaN(parseInt(b.idTesto))&&delete b.idTesto;b.mappaParametri&&b.mappaParametri.rule&&(b.regola=a.clone(b.mappaParametri.rule));b.nuovoIdDipendeDa=b.idDipendeDa;delete b.mappaParametri})},aggiornaUI:function(f){return this.inherited(arguments).then(a.hitch(this,function(){try{aa.debug("EventPageWidget: aggiornaUI +++++++ ORIGIN: "+f,"ALL LANGUAGES:",this.stato.get("allLanguages")),
d.getLinguaById(this.stato.get("idLanguage")),this.aggiornaModelli(),this.languageSelectionWidget.set("value",this.stato.get("idLanguage"),!1),this.languageSelectionWidget.set("filterArray",k.map(d.evento.stato.event_details.languages,function(a){return a.idLingua})),this.languageSelectionWidget.setAllLanguages(this.stato.get("allLanguages")),this.allowRegistrationUpdateFromBEWidget.set("checked",this.stato.get("allowRegistrationUpdateFromBE")),b.set(this.languageSelectionContainerNode,"display",
d.evento.stato.event_details.international?"inline-block":"none"),this.showSocialWidget.set("checked",this.stato.get("showSocial")),this.aggiornaLinkIscrizione(),aa.debug("aggiornaUI - allLanguages:",Object.keys(this.stato.get("allLanguages"))),this.stato.get("allLanguages")&&0<Object.keys(this.stato.get("allLanguages")).length?(this.pageLayoutSwitchWidget.openDropDown(),this.manageRegistrationSwitchWidget.openDropDown(),this.publishEventPageSwitchWidget.openDropDown()):(this.pageLayoutSwitchWidget.closeDropDown(),
this.shopifyFormLayoutSwitchWidget.closeDropDown(),this.manageRegistrationSwitchWidget.closeDropDown(),this.publishEventPageSwitchWidget.closeDropDown()),this.allowRegistrationUpdateToUserWidget.set("checked",this.stato.get("allowRegistrationUpdateToUser")),this.allowRegistrationDeleteToUserWidget.set("checked",this.stato.get("allowRegistrationDeleteToUser")),d.evento.statoCalcolato.eventoTerminato?(this.allowRegistrationUpdateFromBEWidget.set("disabled",!0),this.allowRegistrationUpdateToUserWidget.set("disabled",
!0),this.allowRegistrationDeleteToUserWidget.set("disabled",!0)):(this.allowRegistrationUpdateFromBEWidget.set("disabled",!1),this.allowRegistrationUpdateToUserWidget.set("disabled",!this.stato.get("sendConfirmationEmail")),this.allowRegistrationDeleteToUserWidget.set("disabled",!this.stato.get("sendConfirmationEmail"))),this.allowNameSurnameUpdatesWidget.set("checked",this.stato.get("allowNameSurnameUpdates")),this.allowEmailUpdatesWidget.set("checked",this.stato.get("allowEmailUpdates")),this.allowUneditableFieldsManagementWidget.set("checked",
this.stato.get("allowUneditableFieldsManagement")),this.backgroundColorWidget.set("value",this.stato.get("backgroundColor")),this.backgroundImage.set("value",this.stato.get("backgroundImage")),d.evento.stato.event_details.payment?(this.manageRegistrationSwitchWidget.closeDropDown(),this.allowRegistrationUpdateToUserLabelNode.innerHTML=W.lblAllowRegistrationUpdateToUserOnPaidAdmission,this.allowRegistrationDeleteToUserLabelNode.innerHTML=W.lblAllowRegistrationDeleteToUserOnPaidAdmission,b.set(this.notPaidAdmissionAllowancesContainerNode,
"display","none"),b.set(this.publishEventPageNode,"display","none"),b.set(this.paidAdmissionTopNoteNode,"display","block"),b.set(this.paidAdmissionBottomNoteNode,"display",this.stato.get("allLanguages")&&0<Object.keys(this.stato.get("allLanguages")).length?"none":"block")):(b.set(this.notPaidAdmissionAllowancesContainerNode,"display","block"),this.impostaPublishEventPage(this.stato.get("publishEventPage")),this.publishEventPageTooltipWidget.set("label",d.evento.stato.event_details["private"]?W.msgPublishEventPagePrivateTip:
W.msgPublishEventPagePublicTip),this.showPartecipationDenyBtnWidget.set("checked",this.stato.get("showPartecipationDenyBtn")),this.disableConfirmationEmailWidget.set("checked",!this.stato.get("sendConfirmationEmail")),d.evento.statoCalcolato.eventoTerminato?(this.showPartecipationDenyBtnWidget.set("disabled",!0),this.disableConfirmationEmailWidget.set("disabled",!0)):(this.showPartecipationDenyBtnWidget.set("disabled",!1),this.allConfimationEmailsCreated||!this.stato.get("publishEventPage")||this.stato.get("sendConfirmationEmail")?
this.disableConfirmationEmailWidget.set("disabled",!1):this.disableConfirmationEmailWidget.set("disabled",!0)),b.set(this.paidAdmissionTopNoteNode,"display","none"),b.set(this.paidAdmissionBottomNoteNode,"display","none")),this.directRegistrationDeclineWidget.set("checked",this.stato.get("directRegistrationDecline")),this.initCopyToClipboardClient(),this.tipologiaFlusso="NESSUNO",this.stato.get("settingsShopify")&&(this.tipologiaFlusso=y.parse(this.stato.get("settingsShopify")).tipologia_flusso),
"UNIFICATO"==this.tipologiaFlusso?(b.set(this.notFlussoUnificatoAllowancesContainerNode,"display","none"),b.set(this.subSectionsContainerNode,"display","none"),b.set(this.shopifyFormLayoutOuterContainerNode,"display","block"),b.set(this.manageRegistrationOutherContainerNode,"display","none"),this.parentWidget.headerToolbar.hideByCode("eventPage.previewButton"),this.shopifyFormLayoutWidget.aggiornaUI()):(b.set(this.notFlussoUnificatoAllowancesContainerNode,"display","block"),b.set(this.shopifyFormLayoutOuterContainerNode,
"display","none"),b.set(this.manageRegistrationOutherContainerNode,"display","block"),this.parentWidget.headerToolbar.showByCode("eventPage.previewButton")),d.commons.permissions.impersonated&&(this.stato.get("additionalCustomCss")?r.add(this.additionalCssNode,"presente"):r.remove(this.additionalCssNode,"presente"),this.stato.get("additionalCustomJsEp")?r.add(this.additionalJsNode,"presente"):r.remove(this.additionalJsNode,"presente")),this.stato.set("dirty",!1),e.publish("EventPageWidget.aggiornaUI.end",
{})}catch(O){console.log(O)}}),a.hitch(this,function(){aa.debug("EventDetailsWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){F.hideLoading()})},initCopyToClipboardClient:function(){M&&M.isSupported()?this.copyToClipboardClient||(this.copyToClipboardClient=new M(this.copyToClipboardNode),this.copyToClipboardClient.on("success",function(a){a.clearSelection()}),this.copyToClipboardClient.on("error",function(a){console.error("Clipboard error",a)})):require(["/js/lib/notModules/ZeroClipboard.min.js"],
a.hitch(this,function(b){this.copyToClipboardClient||(this.copyToClipboardClient=new b(this.copyToClipboardNode),this.copyToClipboardClient.on("ready",a.hitch(this,function(b){this.copyToClipboardClient.on("aftercopy",a.hitch(this,function(a){}));this.copyToClipboardClient.on("copy",a.hitch(this,function(a){a.clipboardData.setData("text/plain",this.genericRegistrationPageURL)}))})))}))},aggiornaLinkIscrizione:function(){var a=d.getLinguaById(this.stato.get("idLanguage"),d.evento.stato.event_details.languages),
b=this.stato.get("eventPageURLStart"),e=this.stato.get("eventPageCustomPath"),f="/"+d.evento.stato.idEvento+"/",k="";d.evento.stato.event_details.international&&(f+=a.locale+"/");k=b+e+f;this.genericRegistrationPageURLPart1Node.innerHTML=b;30<e.length&&(e=e.substring(0,27)+"...");this.genericRegistrationPageURLPart2Node.innerHTML=e;this.genericRegistrationPageURLPart3Node.innerHTML=f;this.eventPageCustomPathWidget.set("value",this.stato.get("eventPageCustomPath"),!1);this.genericRegistrationPageURL=
k;h.set(this.copyToClipboardNode,"data-clipboard-text",this.genericRegistrationPageURL);h.set(this.showGenericPageBtnNode,"href",k);this.impostaEventPageCustomPathEditMode(!1)},impostaEventPageCustomPathEditMode:function(a){a?(b.set(this.genericRegistrationPageURLPart2Node,"display","none"),b.set(this.eventPageCustomPathEditBtnNode,"display","none"),b.set(this.eventPageCustomPathConfirmEditBtnNode,"display","block"),b.set(this.genericRegistrationPageURLPart2EditContainerNode,"display","block")):(b.set(this.genericRegistrationPageURLPart2Node,
"display","block"),b.set(this.eventPageCustomPathEditBtnNode,"display","block"),b.set(this.eventPageCustomPathConfirmEditBtnNode,"display","none"),b.set(this.genericRegistrationPageURLPart2EditContainerNode,"display","none"))},impostaPublishEventPage:function(a){this.stato.set("publishEventPage",a);a?(b.set(this.doPublishEventPageBtnNode,"display","none"),b.set(this.doUnpublishEventPageBtnNode,"display","block"),this.allConfimationEmailsCreated||this.disableConfirmationEmailWidget.set("disabled",
!0)):(b.set(this.doPublishEventPageBtnNode,"display","block"),b.set(this.doUnpublishEventPageBtnNode,"display","none"),this.allConfimationEmailsCreated||this.disableConfirmationEmailWidget.set("disabled",!1))},save:function(){aa.debug("save",this.stato);"UNIFICATO"==this.tipologiaFlusso&&this.shopifyFormLayoutWidget.trasferisciStato();this.validate()?this.salvaStato("/addUpdateRegistrationPage.plp","jsonData",{idEvento:d.evento.stato.idEvento}):aa.debug("DOES NOT Validate")},visualizzaAnteprima:function(){ebPlatform.iframeEventPagePreviewLoaded=
new w;var b=F.showAnteprima(W.lblPreviewDialogTitle,null,"/getAnteprimaIscrizione.plp?idEvento\x3d"+d.evento.stato.idEvento+"\x26idLingua\x3d"+this.stato.get("idLanguage"),!0,{height:5E3,style:{minWidth:"1000px"},scrolling:"yes",width:"100%"},Q.msgPreparazioneAnteprima,!1,null,"eventPage");ebPlatform.iframeEventPagePreviewLoaded.then(a.hitch(this,function(d){var e=b.contentDocument?b.contentDocument:b.contentWindow.document;d=N.getElementById("pageImageImgNode",e.body);var f=N.getElementById("footerImageImgNode",
e.body),k=N.getElementById("headerImageImgNode",e.body),m=N.getElementById("logoImgNode",e.body),A=N.getElementById("logoDxImgNode",e.body),e=N.getElementById("eventDetailsImageImgNode",e.body),l=[];d&&h.get(d,"src")&&l.push(L.loadImagePromise(h.get(d,"src"),!0));f&&h.get(f,"src")&&l.push(L.loadImagePromise(h.get(f,"src"),!0));k&&h.get(k,"src")&&l.push(L.loadImagePromise(h.get(k,"src"),!0));m&&h.get(m,"src")&&l.push(L.loadImagePromise(h.get(m,"src"),!0));A&&h.get(A,"src")&&l.push(L.loadImagePromise(h.get(A,
"src"),!0));e&&h.get(e,"src")&&l.push(L.loadImagePromise(h.get(e,"src"),!0));0<l.length?D(l).then(a.hitch(this,function(){b.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx();this.aggiornaAltezzaIFrame(b);F.resizeAnteprimaDialog()}),a.hitch(this,function(){aa.debug("preview IMGS LOAD ERROR")})):(b.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx(),this.aggiornaAltezzaIFrame(b),F.resizeAnteprimaDialog())}),a.hitch(this,function(a){aa.debug("preview LOAD ERROR")}))},aggiornaAltezzaIFrame:function(a){var d=
m.getMarginBox((a.contentDocument?a.contentDocument:a.contentWindow.document).body.parentNode);b.set(a,"height",d.h+"px");ebPlatform.iframeEventPagePreviewLoaded=null},validate:function(){return this.formWidget.validate()},abilitaPulsantiToolbar:function(a){aa.trace("abilitaPulsantiToolbar",a);a?(this.parentWidget.headerToolbar.enableByCode("eventPage.previewButton"),this.parentWidget.footerToolbar.enableByCode("eventPage.previewButton")):(this.parentWidget.headerToolbar.disableByCode("eventPage.previewButton"),
this.parentWidget.footerToolbar.disableByCode("eventPage.previewButton"))},preCommit:function(a){aa.debug("PRE COMMIT",a);aa.trace("MYlogger PRE COMMIT",a);this.stato.set("logo",a.evento.logoIscrizione);this.stato.set("logoDx",a.evento.logoIscrizioneDx);this.stato.set("backgroundImage",a.evento.fileImmagineBackground);this.stato.set("pageImage",a.paginaIscrizione.fileImmagine);this.stato.set("footerImage",a.paginaIscrizione.fileImmagineFooter);this.stato.set("headerImage",a.paginaIscrizione.fileImmagineHeader);
this.stato.set("eventDetailsImage",a.paginaIscrizione.fileImmagineDettagliEvento)},postCommit:function(a){this.stato.get("allLanguages")[a.paginaIscrizione.lingua.idLingua]||(this.stato.get("allLanguages")[a.paginaIscrizione.lingua.idLingua]=!0);this.languageSelectionWidget.setAllLanguages(this.stato.get("allLanguages"));this.aggiornaModelli()},initSelectTemplateModel:function(){this.selectTemplateModelWidget=new G({required:!1,placeholder:Q.lblsEpModelTypes.NONE,store:new z({idProperty:"id"}),searchAttr:"label",
labelAttr:"label",sortByLabel:!1,onChange:a.hitch(this,function(a){this.pageLayoutWidget.applyTemplateModel(a)})},this.selectTemplateModelNode);this.selectTemplateModelWidget.startup();this.saveAsTemplateModelWidget=new I({label:Q.lblSaveAsTemplate,style:{display:"none"},onClick:a.hitch(this,function(){this.saveAsTemplateDialogWidget.show({title:W.lblSaveAsTemplateDialogTitle,idCliente:d.evento.stato.idCliente,stato:this.stato,mappingName:this.mappingName,templateId:this.selectTemplateModelWidget.get("value"),
refreshCallback:this.aggiornaModelli,refreshCallbackCtx:this,type:"ISCRIZIONE"})})},this.saveAsTemplateBtnNode)},aggiornaModelli:function(b){aa.debug("aggiornaModelli",this.stato.get("idLanguage"));n.get("/getEventPageTemplateModels.plp",{query:{idCliente:d.evento.stato.idCliente},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=k.map(a.modelli,function(a){return{id:a.idModello,label:"USER_DEFINED"==a.tipoModello?a.nome:Q.lblsEpModelTypes[a.nome||
a.tipoModello],modelType:a.tipoModello}});a.sort(function(a,b){var d=0;a.modelType==b.modelType=="USER_DEFINED"?d=a.label.localeCompare(b.label):(d=a.modelType.localeCompare(b.modelType),0==d&&(d=a.label.localeCompare(b.label)));return d});a.unshift({id:-1,label:Q.lblsEpModelTypes.FROM_SCRATCH,modelType:"FROM_SCRATCH"});this.selectTemplateModelWidget.store.setData(a);b?(a=this.selectTemplateModelWidget.store.query({label:b})[0])?this.selectTemplateModelWidget.set("value",a.id,!1):this.selectTemplateModelWidget.reset():
this.selectTemplateModelWidget.reset()}))}})})},"ebPlatformWidgets/Evento/EventPage/EditFormTextDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/query dijit/Dialog ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditFormTextDialogContentWidget".split(" "),function(q,a,k,n,l,e,f,h,b){return q([f,h],{baseClass:"editFormTextDialogWidget",postCreate:function(){this.inherited(arguments);this.mainWidget=new b({parentWidget:this});
this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.mainWidget.reset();a&&(a.title&&this.set("title",a.title),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection),a.currentState&&a.currentState.text&&this.mainWidget.set("text",a.currentState.text));this.resize(null)}})})},"ebPlatformWidgets/Toolbar/SelectActionToolbarWidget":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/form/Select"],function(q,a,k,n){return q([n],{toolbarConfig:null,
postCreate:function(){this.inherited(arguments);this.options=k.map(this.toolbarConfig.actions,a.hitch(this,function(a){return{label:a.label,value:a.value}}));this.onChange=a.hitch(this,function(a){k.filter(this.toolbarConfig.actions,function(e){return e.value==a})[0].action()})}})})},"ebPlatformWidgets/Form/DivDropDownButtonWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/on dojo/text!./templates/DivDropDownButtonWidget.html dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(q,a,k,n,l,e,f,h){return q([f,h],{mouseAnim:null,templateString:e,baseClass:"divDropDownButtonWidget",parentWidget:null,opened:!0,title:"",disabled:!1,dropDown:null,onOpenDropDown:null,onCloseDropDown:null,postCreate:function(){this.inherited(arguments);l(this,"click",a.hitch(this,function(){this.disabled||this.toggleDropDown()}));this.aggiornaUI()},_setDisabledAttr:function(a){this.disabled=a},aggiornaUI:function(){this.titleNode.innerHTML=this.title;this.opened?(k.set(this.dropDown,"display",
"block"),n.add(this.iconNode,"opened")):(k.set(this.dropDown,"display","none"),n.remove(this.iconNode,"opened"))},toggleDropDown:function(){this.opened=!this.opened;this.aggiornaUI();if(this.opened&&this.onOpenDropDown)this.onOpenDropDown();if(!this.opened&&this.onCloseDropDown)this.onCloseDropDown()},closeDropDown:function(){this.opened=!1;this.aggiornaUI();if(this.onCloseDropDown)this.onCloseDropDown()},openDropDown:function(){this.opened=!0;this.aggiornaUI();if(this.onOpenDropDown)this.onOpenDropDown()},
_setTitleAttr:function(a){this.title=a;this.aggiornaUI()}})})},"ebPlatformWidgets/Form/LanguageSelectionWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/dom-construct dijit/_WidgetBase dijit/Toolbar dijit/form/ToggleButton ebPlatform/stato ebPlatform/logger!".split(" "),function(q,a,k,n,l,e,f,h,b,r){return q([f],{baseClass:"languageSelectionWidget",parentWidget:null,value:null,filterArray:null,listaLingue:null,buttons:null,buttonContainers:null,postCreate:function(){this.inherited(arguments);
this.buttons={};this.buttonContainers={};this.setListaLingue();this.createToolbarButtons()},createToolbarButtons:function(){k.forEach(this.listaLingue,a.hitch(this,function(b,e,f){e=l.create("span",{},this.containerNode);f=l.create("div",{},e);f=new h({label:b.iso639_1.toUpperCase(),onClick:a.hitch(this,function(){this.setLanguage(b.idLingua)})},f);this.buttons[b.idLingua]=f;this.buttonContainers[b.idLingua]=e}))},setLanguage:function(b,e){r.debug("[LanguageSelectionWidget] setLanguage",b,this.value,
e,!!e);if(b!=this.value&&(this.value=b,e||void 0==e))this.onSelect(b);k.forEach(this.listaLingue,a.hitch(this,function(a){this.buttons[a.idLingua].set("checked",a.idLingua==b)}))},setAllLanguages:function(b){b&&k.forEach(this.listaLingue,a.hitch(this,function(a){b[a.idLingua]?this.buttons[a.idLingua].set("iconClass","present"):this.buttons[a.idLingua].set("iconClass","")}))},_setDisabledAttr:function(b){r.debug("DISABLED",b);k.forEach(this.listaLingue,a.hitch(this,function(a){this.buttons[a.idLingua].set("disabled",
b)}))},_setFilterArrayAttr:function(e){this.filterArray=e;this.setListaLingue();k.forEach(b.commons.data.languages,a.hitch(this,function(a){var b=!1;k.forEach(this.listaLingue,function(e){e.idLingua==a.idLingua&&(b=!0)});n.set(this.buttonContainers[a.idLingua],"display",b?"inline":"none")}))},setListaLingue:function(){this.listaLingue=this.filterArray&&0<this.filterArray.length?k.filter(b.commons.data.languages,a.hitch(this,function(a){return-1<this.filterArray.indexOf(a.idLingua)})):[].concat(b.commons.data.languages)}})})},
"ebPlatformWidgets/Evento/Checkin/ManageCheckinAccompagnatoriWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/on dojo/dom dojo/dom-construct dojo/date dojo/date/locale dojo/string dijit/Dialog dijit/layout/ContentPane dijit/form/Button dijit/form/DropDownButton ebPlatform/stato ebPlatform/commonDialogs ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatformWidgets/Evento/Guests/nls/ManageGuestsWidget dojo/i18n!./nls/CheckinWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C){return q([m,z],{baseClass:"manageCheckinAccompagnatoriWidget",idPersona:null,nome:"",cognome:"",idFascia:null,onCheckInOut:null,postCreate:function(){this.inherited(arguments)},manageAccompagnatoriCheckinFor:function(b,e,f){this.idPersona=b;this.nome=e;this.cognome=f;n.post("/getCheckinAccompagnatori.plp",{data:{idPersona:b,idFascia:this.idFascia},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==
a.result.resultCode?this.aggiornaUI(a,e,f):x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,t.lblOKButton)}),a.hitch(this,function(a){x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,t.lblOKButton)}))},aggiornaUI:function(e,h,m){e=e.accompagnatori;this.destroyDescendants(!1);var n=f.create("table",{"class":"accompagnatori"},this.containerNode);k.forEach(e,a.hitch(this,function(e,h){var d=f.create("tr",{"class":0==h%2?"accompagnatore":"accompagnatore dispari"},
n);f.create("td",{innerHTML:e.haPartecipato?'\x3cimg src\x3d"/img/spunta.png"/\x3e':"","class":"haPartecipatoFascia"},d);f.create("td",{innerHTML:e.nome,"class":"nomeCognome"},d);"NON_PROFILATI"!=y.evento.stato.event_details.partnersType&&f.create("td",{innerHTML:e.cognome,"class":"nomeCognome"},d);f.create("td",{innerHTML:e.haPartecipato?b.format(new Date(e.dataPartecipazione),{}):"\x26nbsp;","class":"labelFasciaOraCheckin"},d);d=f.create("td",{},d);d=f.create("span",{},d);pulsanteBtn=new w({label:e.haPartecipato?
C.lblCheckOut:C.lblCheckIn,type:"submit",disabled:!1,"class":e.haPartecipato?"checkOutBtn":"checkInBtn"},d);l(pulsanteBtn,"click",a.hitch(this,function(a){this.registraCheckInOut(e.idPersona,this.idFascia,e.haPartecipato?"out":"in")}))}));this.set("title",C.lblAccompagnatoriDi+"\x3cbr /\x3e"+h+" "+m);this.show()},aggiornaUIOnHideInserisciAccompagnatore:function(){x.getGenericDialogLastHideReason()&&"cancel"==x.getGenericDialogLastHideReason()||(this.hide(),this.manageAccompagnatoriCheckinFor(this.idPersona))},
registraCheckInOut:function(b,e,f){n.post("/registerCheckinPersona.plp",{data:{idPersona:b,idFascia:e,inOut:f,includiAccompagnatori:!1},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){if("OK"==a.resultCode){if(x.showInfo(t.msgModificaRegistrata),this.hide(),this.manageAccompagnatoriCheckinFor(this.idPersona,this.nome,this.cognome),this.onCheckInOut)this.onCheckInOut()}else x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,
t.lblOKButton)}),a.hitch(this,function(a){x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,t.lblOKButton)}))}})})},"ebPlatformWidgets/Evento/EventPage/EventRegistrationWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/request dojo/topic dojo/hash dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/window dojo/text!./templates/EventRegistrationWidget.html dijit/layout/StackContainer dijit/layout/ContentPane ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/stato ebPlatform/utility ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ebPlatformWidgets/Toolbar/SelectActionToolbarWidget ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ebPlatformWidgets/Evento/Communication/RegistrationConfirmationEmailWidget ./EventPageWidget ./EditPersonalDetailsFormWithLogicPlainWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N){return q([E],{templateString:y,baseClass:"eventRegistrationWidget",hasToolbar:!0,hasSecondaryToolbar:!0,showToolbar:!0,appWidget:null,parentWidget:null,headerToolbar:null,mainStackContainer:null,eventPageWidget:null,confirmationPageWidget:null,manageEventPagePersonalDetailsFormWidget:null,messages:N,commonMessages:L,dependsOnWidgetsData:["event_details"],postCreate:function(){this.inherited(arguments);this.mainStackContainer=new x({},
this.mainStackContainerNode);this.eventPageWidget=new M({internalName:"event_page",appWidget:this.appWidget,parentWidget:this});this.mainStackContainer.addChild(this.eventPageWidget);this.appWidget.mainWidgetsRegistry.event_page=this.eventPageWidget;this.confirmationPageWidget=new v({"class":"confirmationPage",internalName:"confirmation_page_widget",appWidget:this.appWidget,parentWidget:this,operationType:"pagina conferma"});this.mainStackContainer.addChild(this.confirmationPageWidget);this.manageEventPagePersonalDetailsFormWidget=
new S({disabled:!1,parentWidget:this,eventPageWidgetRef:this.eventPageWidget});this.mainStackContainer.addChild(this.manageEventPagePersonalDetailsFormWidget);var b=["eventRegistration.ShowConfirmationPageButton","eventRegistration.ShowEventPageButton","eventRegistration.previewConfirmationPageButton","eventRegistration.GoBackToEventPageFromManageFormButton"];e.subscribe("app_evento.set_mustSaveToContinue",a.hitch(this,function(){k.forEach(b,a.hitch(this,function(a){this.headerToolbar.disableByCode(a);
this.footerToolbar.disableByCode(a)}));this.headerSecondaryToolbar&&this.headerSecondaryToolbar.disableByCode("back")}));e.subscribe("app_evento.reset_mustSaveToContinue",a.hitch(this,function(){k.forEach(b,a.hitch(this,function(a){this.headerToolbar.enableByCode(a);this.footerToolbar.enableByCode(a)}));this.headerSecondaryToolbar&&this.headerSecondaryToolbar.enableByCode("back")}));this.mainStackContainer.startup();this.mainStackContainer.selectChild(this.eventPageWidget)},getToolbarConfig:function(){this.allButtons||
(this.bottoniEp=[{type:"dijit/form/Button",options:{code:"eventRegistration.ShowConfirmationPageButton",label:N.lblShowConfirmationPageButton,action:a.hitch(this,this.showConfirmationPage)}}].concat(this.eventPageWidget.getToolbarConfig().buttons),this.bottoniCp=[{type:"dijit/form/Button",options:{code:"eventRegistration.ShowEventPageButton",label:N.lblShowEventPageButton,action:a.hitch(this,this.showEventPage)}},{type:"dijit/form/Button",options:{code:"eventRegistration.previewConfirmationPageButton",
label:L.lblVisualizzaAnteprimaButton,action:a.hitch(this.confirmationPageWidget,this.confirmationPageWidget.mostraAnteprima)}},{type:"dijit/form/Button",options:{code:"eventRegistration.saveConfirmationPageButton",label:L.lblSalvaButton,action:a.hitch(this.confirmationPageWidget,this.confirmationPageWidget.save),"class":"saveBtn"}}],this.bottoniMf=[{type:"dijit/form/Button",options:{code:"eventRegistration.GoToManageFieldsButton",label:N.lblGoToManageFieldsButton,action:a.hitch(this,this.gotoManageFields)}},
{type:"dijit/form/Button",options:{code:"eventRegistration.GoBackToEventPageFromManageFormButton",label:N.lblGoBackToEventPageButton,action:a.hitch(this,this.showEventPage)}},{type:"dijit/form/Button",options:{code:"eventRegistration.saveManageFormButton",label:L.lblSalvaButton,action:a.hitch(this.manageEventPagePersonalDetailsFormWidget,this.manageEventPagePersonalDetailsFormWidget.save),"class":"saveBtn"}}],this.allButtons=this.bottoniEp.concat(this.bottoniCp,this.bottoniMf));return{buttons:this.allButtons}},
getHeaderToolbar:function(){this.headerToolbar||(this.headerToolbar=new p({toolbarConfig:this.getToolbarConfig()}),G.evento.statoCalcolato.eventoTerminato&&this.headerToolbar.disableByCode("eventPage.salvaButton"));return this.headerToolbar},getFooterToolbar:function(){this.footerToolbar||(this.footerToolbar=new p({toolbarConfig:this.getToolbarConfig()}),G.evento.statoCalcolato.eventoTerminato&&this.footerToolbar.disableByCode("eventPage.salvaButton"));return this.footerToolbar},getHeaderSecondaryToolbar:function(){return this.headerSecondaryToolbar?
this.showSecondaryToolbar?this.headerSecondaryToolbar:"headerWidgetBlankSecondaryToolbar":this.headerSecondaryToolbar=new p({toolbarConfig:{buttons:[{type:"dijit/form/Button",options:{code:"back",label:L.lblGoBack,"class":"backBtn",action:a.hitch(this,function(){this.showEventPage()})}}]}})},isWidgetSelected:function(a){return this.mainStackContainer.selectedChildWidget==a},selectTab:function(a,b){this.showConfirmationPage()},showConfirmationPage:function(){m.add(this.mainTitleNode,"sub");this.mainTitleNode.innerHTML=
N.lblMainTitleConfirmationPage;var b=void 0,d={};if(this.stato.get("confirmationPages")&&0<this.stato.get("confirmationPages").length){for(var e=this.stato.get("confirmationPages"),f=G.evento.stato.event_details.languages,h=0;h<e.length&&void 0===b;h++){d[e[h].idLanguage]=e[h].idEmail;for(var k=0;k<f.length&&void 0===b;k++)f[k].idLingua==e[h].idLanguage&&(b=e[h].idEmail)}b&&this.confirmationPageWidget.stato.set("idEmail",b)}b||this.confirmationPageWidget.reset({idLanguage:G.evento.stato.event_details.languages[0].idLingua,
allLanguages:d});this.mainStackContainer.selectChild(this.confirmationPageWidget);this.aggiornaPulsanti();this.confirmationPageWidget.aggiornaUI().then(a.hitch(this,function(){this.showSecondaryToolbar=!1;this.appWidget.updateToolbarVisibility(this)}),a.hitch(this,function(){B.debug("showConfirmationPage erorre",arguments)})).always(function(){t.hideLoading()})},showEventPage:function(){m.remove(this.mainTitleNode,"sub");this.mainTitleNode.innerHTML=N.lblMainTitle;this.mainStackContainer.selectChild(this.eventPageWidget);
this.aggiornaPulsanti();this.eventPageWidget.aggiornaUI().then(a.hitch(this,function(){this.showSecondaryToolbar=!1;this.appWidget.updateToolbarVisibility(this);D.scrollIntoView(this.eventPageWidget.pageLayoutNode)}),a.hitch(this,function(){B.debug("showEventPage erorre",arguments)})).always(function(){t.hideLoading()})},showManageEventPagePersonalDetailsForm:function(){m.add(this.mainTitleNode,"sub");this.mainTitleNode.innerHTML=N.lblMainTitleManageForm;this.mainStackContainer.selectChild(this.manageEventPagePersonalDetailsFormWidget);
this.manageEventPagePersonalDetailsFormWidget.resize(null);this.aggiornaPulsanti()},popolaManageFormLogic:function(){this.eventPageWidget.pageLayoutWidget.popolaManageFormLogic()},gotoManageFields:function(){window.location.hash="#manage_guests";var b=!0;e.subscribe("ManageGuestsWidget.aggiornaUI.end",a.hitch(this,function(){b&&(b=!1,console.log("e adesso......",this.appWidget.mainWidgetsRegistry.manage_guests),this.appWidget.mainWidgetsRegistry.manage_guests.selectManageFieldsWidget())}));e.subscribe("ManageFieldsWidget.aggiornaUI.end",
a.hitch(this,function(){setTimeout(function(){t.hideLoading()},1E3)}))},aggiornaPulsanti:function(){var a=this.headerToolbar,b=this.footerToolbar;k.forEach(this.allButtons,function(d){a.hideByCode(d.options.code);b.hideByCode(d.options.code)});this.headerSecondaryToolbar.hideByCode("back");this.isWidgetSelected(this.confirmationPageWidget)?(k.forEach(this.bottoniCp,function(d){a.showByCode(d.options.code);b.showByCode(d.options.code)}),this.headerSecondaryToolbar.showByCode("back")):this.isWidgetSelected(this.eventPageWidget)?
k.forEach(this.bottoniEp,function(d){if("PROFILATI"!=G.evento.stato.event_details.partnersType||"eventRegistration.ShowConfirmationPageButton"!=d.options.code)a.showByCode(d.options.code),b.showByCode(d.options.code)}):k.forEach(this.bottoniMf,function(d){a.showByCode(d.options.code);b.showByCode(d.options.code)})},aggiornaUI:function(){new n;this.mainStackContainer.selectChild(this.eventPageWidget);this.aggiornaPulsanti();this.eventPageWidget.aggiornaUI(arguments).then(a.hitch(this,function(){this.showSecondaryToolbar=
!1;this.appWidget.updateToolbarVisibility(this)}),a.hitch(this,function(){B.debug("aggiornaUI eventPageWidget",arguments)})).always(function(){t.hideLoading()});return this.inherited(arguments)},hasToLoadData:function(){return 0!=G.evento.stato.idEvento},loadData:function(){return l.get("/getConfirmationPages.plp",{query:{idEvento:G.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}})},pushLoadedDataToStatoShadow:function(b){if(b.confirmationPages){var d=
a.getObject("evento.mappings.registration_confirmation_email",!1,G);this.statoShadowProp.confirmationPages=k.map(b.confirmationPages,function(a){var b={};C.copyTo(a,b,C.invertMapping(d));return b})}},onDeactivate:function(){this.mainStackContainer.selectChild(this.eventPageWidget);m.remove(this.mainTitleNode,"sub");this.mainTitleNode.innerHTML=N.lblMainTitle}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsFormDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dnd/Manager dojo/dom-style dojo/keys dijit/Dialog ebPlatformWidgets/Dialogs/_DialogWithDnDMixin ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditPersonalDetailsFormDialogContentWidget ebPlatform/logger! ebPlatform/stato dojo/i18n".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u){return q([e,h,f],{baseClass:"editPersonalDetailsFormDialogWidget",disabled:!1,additionalMessages:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new b({disabled:this.disabled,parentWidget:this,permittedExtensions:this.permittedExtensions||this.defaultPermittedExtensions,additionalMessages:this.additionalMessages});this.addChild(this.mainWidget)},show:function(a){r.debug("[EditPersonalDetailsFormDialogWidget] show",a);this.inherited(arguments);
this.mainWidget.reset();a&&(a.idLanguage&&(this.mainWidget.localizedMessages=u.getLocalization("ebPlatformWidgets.Evento.EventPage","EventPageWidget",m.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.localizedCommonMessages=u.getLocalization("ebPlatform","commons",m.getLinguaById(a.idLanguage).dojoLocale),this.mainWidget.attualizzaLocalizedMessages()),a.title&&this.set("title",a.title),a.currentState&&(this.mainWidget.allowPartnerWithProfileInsertion="PROFILATI"==a.currentState.partnersType,
this.mainWidget.allowUneditableFieldsManagement=1==a.currentState.allowUneditableFieldsManagement,a.currentState.fieldsDetails&&this.mainWidget.impostaCampi(a.currentState.fieldsDetails,a.currentState.texts),a.doOnSelection&&(this.mainWidget.doOnSelection=a.doOnSelection)));this.resize(null)},_setAdditionalMessagesAttr:function(a){this.mainWidget.set("additionalMessages",a)}})})},"ebPlatformWidgets/Evento/Guests/ManageCheckinWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/on dojo/dom dojo/dom-construct dojo/date dojo/date/locale dojo/string dijit/Dialog dijit/layout/ContentPane dijit/form/Button dijit/form/DropDownButton ebPlatform/stato ebPlatform/commonDialogs ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G){return q([m,z],{baseClass:"manageCheckinWidget",idPersona:null,postCreate:function(){this.inherited(arguments)},manageCheckinFor:function(b){this.idPersona=b;n.post("/getCheckinPersona.plp",{data:{idPersona:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==a.result.resultCode?this.aggiornaUI(a):x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,t.lblOKButton)}),
a.hitch(this,function(a){x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,t.lblOKButton)}))},aggiornaUI:function(h){var m=h.data,n=h.persona;this.destroyDescendants(!1);var q=!1;n.eventiPersona&&k.forEach(n.eventiPersona,function(a){"ISCRIZIONE"==a.evento.substring(0,10)&&(q=!0)});q&&(h=f.create("span",{},this.containerNode),h=new w({label:G.lblPrintTicketActionTitle,type:"submit",disabled:!1,"class":"pulsantePrintTicketBtn"},h),l(h,"click",a.hitch(this,function(a){var b=
"";n.registrationLocale&&(b=n.registrationLocale.substring(0,2));var d="";k.forEach(y.evento.stato.communication.ticketTemplatesMap,function(a){a.valore==b&&(d=a.label)});console.log("STAMPA TICKET PER PERSONA",n.idPersona,b,d);window.open("/getTicketPdf.plp?a\x3d"+n.idPersona+"\x26b\x3d"+d,"_blank")})));var v=f.create("table",{"class":"dateEvento"},this.containerNode);k.forEach(m,a.hitch(this,function(h){var m=f.create("tr",{"class":"dataEvento"},v),d,p,q,z;f.create("td",{innerHTML:h.dataEvento,
"class":"labelDataEvento",colspan:"6"},m);k.forEach(h.fasce,a.hitch(this,function(h,m){d=f.create("tr",{"class":"fasciaEvento"},v);f.create("td",{innerHTML:h.haPartecipato?'\x3cimg src\x3d"/img/spunta.png"/\x3e':"","class":"haPartecipatoFascia"},d);f.create("td",{innerHTML:h.oraInizio+" - "+h.oraFine,"class":"labelFascia"},d);f.create("td",{innerHTML:h.descrizione?h.descrizione:"\x26nbsp;","class":"labelFasciaDescrizione"},d);p=f.create("td",{},d);q=f.create("span",{},p);z=new w({label:h.haPartecipato?
G.lblCheckOut:G.lblCheckIn,type:"submit",disabled:!1,"class":h.haPartecipato?"checkOutBtn":"checkInBtn"},q);l(z,"click",a.hitch(this,function(a){this.registraCheckInOut(this.idPersona,h.idFasciaOraria,h.haPartecipato?"out":"in")}));f.create("td",{innerHTML:h.haPartecipato?b.format(new Date(h.dataPartecipazione),{}):"\x26nbsp;","class":"labelFasciaOraCheckin"},d);if(!n.idUniqueGuestPadre){var B=f.create("td",{"class":"labelFasciaOraCheckin"},d);dropDownNode=f.create("span",{},B);var B=new u({"class":"containerAccompagnatori"}),
F=new u({content:'\x3cspan id\x3d"aggiungiAccompagnatoreBtn_'+h.idFasciaOraria+'"\x3e'+G.lblAggiungiAccompagnatore+"\x3c/span\x3e"});B.addChild(F);(new D({label:G.lblAccompagnatori,dropDown:B},dropDownNode)).startup();var C=new w({label:G.lblAggiungiAccompagnatore},e.byId("aggiungiAccompagnatoreBtn_"+h.idFasciaOraria));l(C,"click",a.hitch(this,function(){"DEMO"==y.evento.stato.event_subscription.tipo&&y.evento.statoCalcolato.numInvitati>=y.evento.stato.event_subscription.maxInvitati||"SINGOLO_500"==
y.evento.stato.event_subscription.tipo&&y.evento.statoCalcolato.numInvitati>=y.evento.stato.event_subscription.maxPersone?(msg=r.substitute(G.msgInviteListFileWarningDEMONoMore,{maxInvitati:y.evento.stato.event_subscription.maxInvitati}),title=G.msgInviteListFileWarningDEMONoMoreTitle,"SINGOLO_500"==y.evento.stato.event_subscription.tipo&&y.evento.statoCalcolato.numInvitati>=y.evento.stato.event_subscription.maxPersone&&(msg=G.msgInviteListFileWarningSingolo500NoMore,title=G.msgInviteListFileWarningSingolo500NoMoreTitle),
x.showInfoWithCloseButton(msg,title,t.lblOKButton,function(){},"msgDemoMarketingPushMsg",t.lblBuyButton,"buyBtn",y.commons.data.storeURL)):x.showGenericDialog(G.lblAggiungiAccompagnatoreA+"\x26nbsp;"+n.nome+"\x26nbsp;"+n.cognome,null,"/showAnagrafica.plp?idEvento\x3d"+y.evento.stato.idEvento+"\x26idUniqueGuestPadre\x3d"+n.idUniqueGuest+"\x26idFascia\x3d"+h.idFasciaOraria,!1,{width:400,height:650},!1,!0,a.hitch(this,this.aggiornaUIOnHideInserisciAccompagnatore))}));F.addChild(C);if(h.partecipazioniAccompagnatori&&
0<h.partecipazioniAccompagnatori.length){var E=f.create("table",{"class":"accompagnatori"},B.containerNode),J,H,L;k.forEach(h.partecipazioniAccompagnatori,a.hitch(this,function(d){J=f.create("tr",{"class":"accompagnatore"},E);f.create("td",{innerHTML:d.haPartecipato?'\x3cimg src\x3d"/img/spunta.png"/\x3e':"","class":"haPartecipatoFascia"},J);f.create("td",{innerHTML:d.nome+"\x26nbsp;"+d.cognome},J);H=f.create("td",{},J);L=f.create("span",{},H);z=new w({label:d.haPartecipato?G.lblCheckOut:G.lblCheckIn,
type:"submit",disabled:!1,"class":d.haPartecipato?"checkOutBtn":"checkInBtn"},L);l(H,"click",a.hitch(this,function(a){this.registraCheckInOut(d.idPersona,h.idFasciaOraria,d.haPartecipato?"out":"in")}));f.create("td",{innerHTML:d.haPartecipato?b.format(new Date(d.dataPartecipazione),{}):"\x26nbsp;","class":"labelAccompagnatoreOraCheckin"},J)}))}}}))}));this.set("title",G.lblCheckinFor+" "+n.nome+" "+n.cognome);this.show()},aggiornaUIOnHideInserisciAccompagnatore:function(){x.getGenericDialogLastHideReason()&&
"cancel"==x.getGenericDialogLastHideReason()||(this.hide(),this.manageCheckinFor(this.idPersona))},registraCheckInOut:function(b,e,f){n.post("/registerCheckinPersona.plp",{data:{idPersona:b,idFascia:e,inOut:f,includiAccompagnatori:!1},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==a.resultCode?(x.showInfo(t.msgModificaRegistrata),this.hide(),this.manageCheckinFor(this.idPersona)):x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,
t.lblOKButton)}),a.hitch(this,function(a){x.showInfoWithCloseButton(t.msgErroreServer,B.footerInc.lblErrorMsgDialogTitle,t.lblOKButton)}))}})})},"ebPlatformWidgets/Evento/Guests/ManageListValuesDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./ManageListValuesDialogContentWidget".split(" "),function(q,a,k,n,l,e,f,h){return q([n,f],{baseClass:"manageListValuesDialogWidget",
stato:null,campoLista:null,listaValori:null,mainWidget:null,postCreate:function(){this.inherited(arguments);this.mainWidget=new h({parentWidget:this,stato:this.stato});this.addChild(this.mainWidget)},onCancel:function(){this.mainWidget.cancelPending()},show:function(a){this.inherited(arguments);a.title&&this.set("title",a.title);this.stato=a.stato;this.campoLista=a.campoLista;this.listaValori=this.campoLista.valoriLista;l.debug("this.listaValori",this.listaValori);this.mainWidget.reset(this.listaValori,
this.stato,this.campoLista)}})})},"ebPlatformWidgets/Evento/Checkin/ScannerConfgurationDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/cookie dojo/dom-class dojo/dom-style dojo/Deferred dojo/request dojo/text!./templates/ScannerConfgurationDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/SimpleTextarea dijit/form/CheckBox dijit/form/Button ebPlatform/commonDialogs ebPlatform/logger! ebPlatform/stato ebPlatformWidgets/CustomTooltip dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CheckinWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p){return q([m,u],{mouseAnim:null,templateString:r,baseClass:"scannerConfgurationDialogContentWidget",parentWidget:null,enalbleDirectCheckinCheck:null,enalbleAIMCheck:null,checkBtnWidget:null,cancelBtnWidget:null,okBtnWidget:null,qrPlain:"111222333444555\u21b5",qrPlainRe:/^(111222333444555)(\n)$/,qrAIM:"]Q1111222333444555\u21b5",qrAIMRe:/^(\][NzFHCAXGedCEIUQLMPS]\d)(111222333444555)(\n)$/,qrRe:/^(\][NzFHCAXGedCEIUQLMPS]\d)?(111222333444555)?(\n)?$/,
messages:p,commonMessages:C,postCreate:function(){this.inherited(arguments);this.enalbleDirectCheckinCheck=new y({},this.enalbleDirectNode);this.matchNode.innerHTML=this.qrPlain;this.enalbleAIMCheck=new y({onChange:a.hitch(this,function(a){this.matchNode.innerHTML=a?this.qrAIM:this.qrPlain})},this.enalbleAimNode);this.testCode=new D({onChange:function(a){e.remove(this.domNode,"good");e.remove(this.domNode,"bad")}},this.testNode);this.checkBtnWidget=new x({label:p.lblVerifica,onClick:a.hitch(this,
function(){var a=this.testCode.get("value");re=this.enalbleAIMCheck.get("value")?this.qrAIMRe:this.qrPlainRe;re.test(a)?(e.add(this.testCode.domNode,"good"),e.remove(this.testCode.domNode,"bad")):(e.remove(this.testCode.domNode,"good"),e.add(this.testCode.domNode,"bad"));re.exec(a)})},this.checkBtnNode);this.cancelBtnWidget=new x({label:C.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode);this.okBtnWidget=new x({label:C.lblOKButton,onClick:a.hitch(this,
function(){z.showLoading();b.post("/doConfiguraScanner.plp",{data:{idEvento:t.evento.stato.idEvento,scanType:this.enalbleAIMCheck.get("value")?"AIM":"PLAIN"},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?(t.commons.config.checkinScanType=this.enalbleAIMCheck.get("value")?"AIM":"PLAIN",this.parentWidget.parentWidget.aimMode=this.enalbleAIMCheck.get("value"),this.parentWidget.parentWidget.directMode=this.enalbleDirectCheckinCheck.get("checked"),
a=new Date,a.setFullYear(a.getFullYear()+1),l(t.evento.stato.idEvento+".checkinMode",this.enalbleDirectCheckinCheck.get("checked")?"direct":"normal",{expires:a.toUTCString()}),this.parentWidget.hide()):z.showInfoWithCloseButton(C.msgErroreServer,jspMessages.footerInc.lblErrorMsgDialogTitle,C.lblOKButton)}),a.hitch(this,function(a){z.showInfoWithCloseButton(C.msgErroreServer,jspMessages.footerInc.lblErrorMsgDialogTitle,C.lblOKButton)})).always(function(){z.hideLoading()})})},this.okBtnNode);new G({label:p.msgEnableDirectCheckinTip,
connectId:[this.directCheckinTooltipNode]},this.directCheckinTooltipNode)},reset:function(a){this.testCode.set("value",null);e.remove(this.domNode,"good");e.remove(this.domNode,"bad");a=l(t.evento.stato.idEvento+".checkinMode");"direct"==a?(B.debug(a,!0),this.enalbleDirectCheckinCheck.set("checked",!0)):(B.debug(a,!1),this.enalbleDirectCheckinCheck.set("checked",!1));t.commons.config.checkinScanType?"AIM"==t.commons.config.checkinScanType?this.enalbleAIMCheck.set("value",!0):("PLAIN"!=t.commons.config.checkinScanType&&
B.warn("Configurazione scanner sconosciuta",t.commons.config.checkinScanType),this.enalbleAIMCheck.set("value",!1)):this.enalbleAIMCheck.set("value",!1)}})})},"ebPlatformWidgets/Form/ToggleButtonWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-style dojo/dom-class dojo/dom-attr dojo/text!./templates/ToggleButtonWidget.html dijit/_WidgetBase dijit/_TemplatedMixin ebPlatformWidgets/CustomTooltip".split(" "),function(q,a,k,n,l,e,f,h,b,r){return q([h,b],{mouseAnim:null,templateString:f,
baseClass:"toggleButtonWidget",img:null,imgChecked:null,label:null,caption:null,hoverLabel:null,hoverCaption:null,disabledTip:null,trueValue:!0,falseValue:!1,value:null,checked:!1,disabled:!1,disabledTooltip:null,postCreate:function(){k(this,"click",a.hitch(this,function(){this.disabled||(l.add(this.domNode,"mouseOn"),this.toggleStato())}));k(this,"mouseleave",a.hitch(this,function(){this.disabled||l.remove(this.domNode,"mouseOn")}))},_setCheckedAttr:function(a,b){this._set("checked",a);this._updateValueByChecked();
this.aggiornaUI();if(void 0===b||b)this.onChange(this.value)},_setValueAttr:function(a,b){this._set("value",a);this._updateCheckedByValue();this.aggiornaUI();if(void 0===b||b)this.onChange(this.value)},_setLabelAttr:function(a){this.labelNode.innerHTML=a},_setHoverLabelAttr:function(a){this.hoverLabelNode.innerHTML=a},_setDisabledAttr:function(a){(this.disabled=a)?(l.add(this.domNode,"disabled"),this.disabledTip&&(this.disabledTooltip=new r({label:this.disabledTip,connectId:this.domNode}))):(l.remove(this.domNode,
"disabled"),this.disabledTooltip&&this.disabledTooltip.destroy())},toggleStato:function(){this.checked=!this.checked;this._updateValueByChecked();this.aggiornaUI();this.onChange(this.value)},_updateValueByChecked:function(){this.value=this.checked?this.trueValue:this.falseValue},_updateCheckedByValue:function(){this.value==this.trueValue?this._set("checked",!0):this._set("checked",!1)},aggiornaUI:function(){this.checked?(l.add(this.domNode,"checked"),e.set(this.imgNode,"src",this.imgChecked)):(l.remove(this.domNode,
"checked"),e.set(this.imgNode,"src",this.img))},onChange:function(a){},validate:function(){return!0},focus:function(){}})})},"ebPlatformWidgets/Evento/Guests/ManageGuestsWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Stateful dojo/dom-style dojo/dom-geometry dojo/dom-class dojo/topic dojo/text!./templates/ManageGuestsWidget.html dijit/layout/ContentPane dijit/layout/StackContainer dijit/form/Button ebPlatformWidgets/CustomTooltip ebPlatform/logger! ebPlatform/stato ebPlatform/commonDialogs ebPlatform/utility ebPlatformWidgets/Toolbar/ButtonsStripToolbarWidget ebPlatformWidgets/Toolbar/SelectActionToolbarWidget ebPlatformWidgets/Evento/_EventoWidgetBaseMixin ./ListSelectionWidget ./InviteListWidget ./RegistrantListWidget ./AttendeeListWidget ./CompleteListWidget ./ManageFieldsWidget ./ManagePersonalFileCategoriesWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L){return q([G],{templateString:b,baseClass:"manageGuestsWidget",hasToolbar:!0,hasSecondaryToolbar:!0,mapListNameInfoGraphicCode:null,infoGraphicCode:"evento.manageGuests",showToolbar:!0,dependsOnWidgetsData:["event_details","event_page","communication","badges","manage_personal_file_categories"],dependsOnStatoCalcolato:!0,refreshStatoCalcolato:!0,refreshStatoCalcolatoInterval:1E4,appWidget:null,parentWidget:null,headerToolbar:null,
mainStackContainer:null,listSelectionWidget:null,inviteListWidget:null,registrantListWidget:null,attendeeListWidget:null,completeListWidget:null,manageFieldsWidget:null,managePersonalFileCategoriesWidget:null,messages:L,commonMessages:d,postCreate:function(){this.inherited(arguments);this.mainStackContainer=new m({},this.mainStackContainerNode);this.listSelectionWidget=new C({parentWidget:this});this.mainStackContainer.addChild(this.listSelectionWidget);this.inviteListWidget=new p({parentWidget:this});
this.mainStackContainer.addChild(this.inviteListWidget);this.registrantListWidget=new I({parentWidget:this});this.mainStackContainer.addChild(this.registrantListWidget);this.attendeeListWidget=new E({parentWidget:this});this.mainStackContainer.addChild(this.attendeeListWidget);this.completeListWidget=new v({parentWidget:this});this.mainStackContainer.addChild(this.completeListWidget);this.manageFieldsWidget=new M({internalName:"manage_fields",stato:new n(y.evento.stato.manage_fields),statoShadowProp:y.evento.stato.manage_fields,
mappingName:"evento.mappings.manage_fields",parentWidget:this,appWidget:this.appWidget});this.mainStackContainer.addChild(this.manageFieldsWidget);this.managePersonalFileCategoriesWidget=new S({internalName:"manage_personal_file_categories",stato:new n(y.evento.stato.manage_personal_file_categories),statoShadowProp:y.evento.stato.manage_personal_file_categories,mappingName:"evento.mappings.manage_personal_file_categories",parentWidget:this,appWidget:this.appWidget});this.mainStackContainer.addChild(this.managePersonalFileCategoriesWidget);
this.appWidget.mainWidgetsRegistry[this.managePersonalFileCategoriesWidget.internalName]=this.managePersonalFileCategoriesWidget;this.mainStackContainer.startup();this.mainStackContainer.selectChild(this.listSelectionWidget);this.mapListNameInfoGraphicCode={invite:"evento.inviteeList"}},getToolbarConfig:function(){return{buttons:[{options:{code:"selectList"},buttonObj:new t({style:{display:"none"},toolbarConfig:{value:"void",actions:[{value:"void",label:L.lblSelectListBtn,action:function(){}},{value:"invite",
label:L.lblInviteListBtn,action:a.hitch(this,function(){this.selectList("invite")})},{value:"registrant",label:L.lblRegistrantListBtn,action:a.hitch(this,function(){this.selectList("registrant")})},{value:"attendee",label:L.lblAttendeeListBtn,action:a.hitch(this,function(){this.selectList("attendee")})},{value:"complete",label:L.lblCompleteListBtn,action:a.hitch(this,function(){this.selectList("complete")})}]}})},{type:"dijit/form/Button",options:{code:"registerAllGuests","class":"registerAllGuestsBtn",
label:L.lblRegisterAllGuests,action:a.hitch(this.manageFieldsWidget,a.partial(this.registrantListWidget.registerAllGuests,this.registrantListWidget)),display:!1}},{type:"dijit/form/Button",options:{code:"updateFields","class":"updateFieldsBtn saveBtn",label:L.lblUpdateFields,action:a.hitch(this.manageFieldsWidget,this.manageFieldsWidget.save),display:!1}},{type:"dijit/form/Button",options:{code:"manageFields","class":"manageFieldsBtn",label:L.lblManageFields,action:a.hitch(this,this.selectManageFieldsWidget)}},
{type:"dijit/form/Button",options:{code:"managePersonalFileCategories","class":"managePersonalFileCategoriesBtn",label:L.lblManagePersonalFileCategories,action:a.hitch(this,this.selectManagePersonalFileCategories)}},{type:"dijit/form/Button",options:{code:"goToEventPage","class":"goBackToEventPageBtn",label:L.lblGoToEventPage,action:a.hitch(this,this.gotoEventPage),display:!1}},{type:"dijit/form/Button",options:{code:"goToFormLogic","class":"goToFormLogicBtn",label:L.lblGoToFormLogic,action:a.hitch(this,
this.gotoFormLogic),display:!0}}]}},getHeaderToolbar:function(){return this.headerToolbar?this.showToolbar?this.headerToolbar:"headerWidgetBlankToolbar":this.headerToolbar=new B({toolbarConfig:this.getToolbarConfig()})},getFooterToolbar:function(){return this.footerToolbar?this.showToolbar?this.footerToolbar:"footerWidgetBlankToolbar":this.footerToolbar=new B({toolbarConfig:this.getToolbarConfig()})},getHeaderSecondaryToolbar:function(){return this.headerSecondaryToolbar?this.showSecondaryToolbar?
this.headerSecondaryToolbar:"headerWidgetBlankSecondaryToolbar":this.headerSecondaryToolbar=new B({toolbarConfig:{buttons:[{type:"dijit/form/Button",options:{code:"back",label:d.lblGoBack,"class":"backBtn",action:a.hitch(this,function(){D.debug("getHeaderSecondaryToolbar","selected",this.mainStackContainer.selectedChildWidget.internalName);this.mainStackContainer.selectedChildWidget.internalName&&"manage_fields"==this.mainStackContainer.selectedChildWidget.internalName?(f.add(this.mainTitleNode.parentNode,
"sub"),this.selectList("invite"),this.headerToolbar.getByCode("selectList").set("value","void",!1),this.footerToolbar.getByCode("selectList").set("value","void",!1)):(f.remove(this.mainTitleNode.parentNode,"sub"),this.headerToolbar.hideByCode("registerAllGuests"),this.listSelectionWidget.updateCounters(),this.listSelectionWidget.resetChecked(),this.mainStackContainer.selectChild(this.listSelectionWidget),this.headerToolbar.getByCode("selectList").set("value","void",!1),this.footerToolbar.getByCode("selectList").set("value",
"void",!1),this.mainTitleNode.innerHTML=L.lblMainTitle,l.set(this.mainTitleTooltipIconNode,"display","none"),this.aggiornaVisualizzazioneSelectList(!1),this.showSecondaryToolbar=!1,this.appWidget.updateToolbarVisibility(this))})}}]}})},selectList:function(a){f.add(this.mainTitleNode.parentNode,"sub");"registrant"==a&&y.evento.stato.event_details.dates&&1==y.evento.stato.event_details.dates.length&&y.evento.stato.event_details.dates[0].timeSlots&&1==y.evento.stato.event_details.dates[0].timeSlots.length?
this.headerToolbar.showByCode("registerAllGuests"):this.headerToolbar.hideByCode("registerAllGuests");var b=this[a+"ListWidget"],d=L["lbl"+a[0].toUpperCase()+a.slice(1)+"List"];this.mainTitleNode.innerHTML=d;b.mainTitleTooltip?(l.set(this.mainTitleTooltipIconNode,"display","inline-block"),this.mainTitleTooltipWidget=new w({label:'\x3cdiv class\x3d"'+this.baseClass+'MainTitleTooltip"\x3e'+b.mainTitleTooltip+"\x3c/div\x3e",connectId:[this.mainTitleTooltipIconNode]})):(l.set(this.mainTitleTooltipIconNode,
"display","none"),this.mainTitleTooltipWidget&&this.mainTitleTooltipWidget.destroyRecursive());this.showSecondaryToolbar=this.showToolbar=!0;a[0].toUpperCase();a.slice(1);this.headerToolbar.getByCode("selectList").set("value",a,!1);this.footerToolbar.getByCode("selectList").set("value",a,!1);this.aggiornaVisualizzazioneSelectList(!0);this.aggiornaEvidenziazioneManageFieldBtn(!1);this.aggiornaEvidenziazioneManagePersonalFileCategoriesBtn(!1);this.aggiornaVisualizzazioneSaveFieldBtn(!1);this.aggiornaVisualizzazioneGoToEventPageBtn(!1);
b.aggiornaUI();this.appWidget.updateToolbarVisibility(this);this.mainStackContainer.selectChild(b);this.mapListNameInfoGraphicCode[a]&&this.appWidget.infoGraphicWidget.show(this.mapListNameInfoGraphicCode[a],y.commons.permissions.demoMode?null:"no-demo")},selectManageFieldsWidget:function(){f.add(this.mainTitleNode.parentNode,"sub");this.mainTitleNode.innerHTML=L.lblManageFieldsMainTitle;this.mainStackContainer.selectChild(this.manageFieldsWidget);this.manageFieldsWidget.aggiornaUI();this.aggiornaEvidenziazioneManageFieldBtn(!0);
this.aggiornaEvidenziazioneManagePersonalFileCategoriesBtn(!1);this.aggiornaVisualizzazioneSaveFieldBtn(!0);this.aggiornaVisualizzazioneSelectList(!1);this.aggiornaVisualizzazioneGoToEventPageBtn(!0);this.headerToolbar.getByCode("selectList").set("value","void",!1);this.footerToolbar.getByCode("selectList").set("value","void",!1);this.manageFieldsWidget.mainTitleTooltip?(l.set(this.mainTitleTooltipIconNode,"display","inline-block"),this.mainTitleTooltipWidget=new w({label:'\x3cdiv class\x3d"'+this.manageFieldsWidget.baseClass+
'MainTitleTooltip"\x3e'+this.manageFieldsWidget.mainTitleTooltip+"\x3c/div\x3e",connectId:[this.mainTitleTooltipIconNode]})):(l.set(this.mainTitleTooltipIconNode,"display","none"),this.mainTitleTooltipWidget&&this.mainTitleTooltipWidget.destroyRecursive());z.fitEventName()},selectManagePersonalFileCategories:function(){f.add(this.mainTitleNode.parentNode,"sub");this.mainTitleNode.innerHTML=L.lblManagePersonalFileCategoriesMainTitle;this.mainStackContainer.selectChild(this.managePersonalFileCategoriesWidget);
this.managePersonalFileCategoriesWidget.aggiornaUI();this.aggiornaEvidenziazioneManageFieldBtn(!1);this.aggiornaVisualizzazioneSaveFieldBtn(!1);this.aggiornaVisualizzazioneSelectList(!1);this.aggiornaEvidenziazioneManagePersonalFileCategoriesBtn(!0);this.aggiornaVisualizzazioneGoToEventPageBtn(!1);l.set(this.mainTitleTooltipIconNode,"display","none");z.fitEventName()},aggiornaEvidenziazioneManageFieldBtn:function(a){var b=this.headerToolbar.getByCode("manageFields").domNode,d=this.footerToolbar.getByCode("manageFields").domNode;
a?(f.add(b,"dijitChecked"),f.add(d,"dijitChecked")):(f.remove(b,"dijitChecked"),f.remove(d,"dijitChecked"))},aggiornaEvidenziazioneManagePersonalFileCategoriesBtn:function(a){var b=this.headerToolbar.getByCode("managePersonalFileCategories").domNode,d=this.footerToolbar.getByCode("managePersonalFileCategories").domNode;a?(f.add(b,"ebHover"),f.add(d,"ebHover")):(f.remove(b,"ebHover"),f.remove(d,"ebHover"))},aggiornaVisualizzazioneSelectList:function(a){a?(this.headerToolbar.showByCode("selectList"),
this.footerToolbar.showByCode("selectList")):(this.headerToolbar.hideByCode("selectList"),this.footerToolbar.hideByCode("selectList"))},aggiornaVisualizzazioneSaveFieldBtn:function(a){a?(this.headerToolbar.showByCode("updateFields"),this.footerToolbar.showByCode("updateFields"),this.headerToolbar.hideByCode("manageFields"),this.footerToolbar.hideByCode("manageFields")):(this.headerToolbar.hideByCode("updateFields"),this.footerToolbar.hideByCode("updateFields"),this.headerToolbar.showByCode("manageFields"),
this.footerToolbar.showByCode("manageFields"))},aggiornaVisualizzazioneGoToEventPageBtn:function(a){a?(this.headerToolbar.showByCode("goToEventPage"),this.footerToolbar.showByCode("goToEventPage"),y.commons.data.enableLogic&&(this.headerToolbar.showByCode("goToFormLogic"),this.footerToolbar.showByCode("goToFormLogic"))):(this.headerToolbar.hideByCode("goToEventPage"),this.footerToolbar.hideByCode("goToEventPage"),this.headerToolbar.hideByCode("goToFormLogic"),this.footerToolbar.hideByCode("goToFormLogic"))},
aggiornaUI:function(){return this.inherited(arguments).then(a.hitch(this,function(){f.remove(this.mainTitleNode.parentNode,"sub");this.headerToolbar.hideByCode("registerAllGuests");this.listSelectionWidget.updateCounters();this.listSelectionWidget.resetChecked();this.mainStackContainer.selectChild(this.listSelectionWidget);this.headerToolbar.getByCode("selectList").set("value","void",!1);this.footerToolbar.getByCode("selectList").set("value","void",!1);this.mainTitleNode.innerHTML=L.lblMainTitle;
l.set(this.mainTitleTooltipIconNode,"display","none");this.aggiornaVisualizzazioneSelectList(!1);this.aggiornaEvidenziazioneManageFieldBtn(!1);this.aggiornaVisualizzazioneSaveFieldBtn(!1);this.aggiornaEvidenziazioneManagePersonalFileCategoriesBtn(!1);this.aggiornaVisualizzazioneGoToEventPageBtn(!1);this.showSecondaryToolbar=!1;this.appWidget.updateToolbarVisibility(this);this.aggiornaPulsanteGestioneCampi();h.publish("ManageGuestsWidget.aggiornaUI.end",{})}),a.hitch(this,function(){D.debug("EventDetailsWidget:  AGGIORNA UI - AHI AHI AHI AHI !!!!!!!!!!")})).always(function(){x.hideLoading()})},
aggiornaPulsanteGestioneCampi:function(){y.evento.statoCalcolato.eventoIniziato?(this.headerToolbar.disableByCode("manageFields"),this.footerToolbar.disableByCode("manageFields"),this.manageFieldsHeaderTooltipWidget||(this.manageFieldsHeaderTooltipWidget=new w({label:'\x3cdiv class\x3d"'+this.baseClass+'ManageFieldsTooltip"\x3e'+L.msgManageFieldsDisabledTip+"\x3c/div\x3e",connectId:[this.headerToolbar.getByCode("manageFields").domNode]})),this.manageFieldsFooterTooltipWidget||(this.manageFieldsFooterTooltipWidget=
new w({label:'\x3cdiv class\x3d"'+this.baseClass+'ManageFieldsTooltip"\x3e'+L.msgManageFieldsDisabledTip+"\x3c/div\x3e",connectId:[this.headerToolbar.getByCode("manageFields").domNode]}))):(this.headerToolbar.enableByCode("manageFields"),this.footerToolbar.enableByCode("manageFields"),this.manageFieldsHeaderTooltipWidget&&this.manageFieldsHeaderTooltipWidget.destroy(),this.manageFieldsFooterTooltipWidget&&this.manageFieldsFooterTooltipWidget.destroy())},gotoEventPage:function(){window.location.hash=
"#event_registration";var b=!0;h.subscribe("EventPageWidget.aggiornaUI.end",a.hitch(this,function(){b&&(b=!1,console.log("e adesso......",this.appWidget.mainWidgetsRegistry.event_registration),this.appWidget.mainWidgetsRegistry.event_registration.showEventPage())}))},gotoFormLogic:function(){window.location.hash="#event_registration";var b=!0;h.subscribe("EventPageWidget.aggiornaUI.end",a.hitch(this,function(){b&&(b=!1,console.log("e adesso......",this.appWidget.mainWidgetsRegistry.event_registration),
this.appWidget.mainWidgetsRegistry.event_registration.showManageEventPagePersonalDetailsForm(),this.appWidget.mainWidgetsRegistry.event_registration.popolaManageFormLogic())}))},updateUIByPermission:function(){k.forEach(this.mainStackContainer.getChildren(),function(a){a.updateUIByPermission&&a.updateUIByPermission()})},onDeactivate:function(){this.mainStackContainer.selectChild(this.listSelectionWidget)}})})},"ebPlatformWidgets/Evento/EventPage/EditPersonalDetailsFormDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dnd/Manager dojo/dnd/Source dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/on dojo/text!./templates/EditPersonalDetailsFormDialogContentWidget.html dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/TextBox dijit/form/Textarea dijit/form/CheckBox dijit/form/Button put-selector/put ebPlatform/commonDialogs ebPlatform/logger! ebPlatformWidgets/CustomTooltip ./EditFormTextDialogWidget dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M){return q([D,y],{mouseAnim:null,templateString:u,baseClass:"editPersonalDetailsFormDialogContentWidget",parentWidget:null,localizedMessages:null,localizedCommonMessages:null,widgetCache:null,fieldsChanged:null,campi:null,campiVisibili:null,campiObbligatori:null,campiNonModificabili:null,campiVisibiliAccompagnatori:null,campiObbligatoriAccompagnatori:null,campiNonModificabiliAccompagnatori:null,additionalMessages:null,allowPartnerWithProfileInsertion:null,
allowUneditableFieldsManagement:null,doOnSelection:null,cancelBtnWidget:null,okBtnWidget:null,messages:M,commonMessages:v,disabled:!1,tabIndexBase:4E3,postCreate:function(){this.inherited(arguments);if(this.additionalMessages)for(var b in this.additionalMessages)this.messages[b]=this.additionalMessages[b];this.widgetCache=[];this.firstNameShowWidget=new B({checked:!0,disabled:!0},this.firstNameShowNode);this.firstNameMandatoryWidget=new B({checked:!0,disabled:!0},this.firstNameMandatoryNode);this.firstNameShowForPartnerWidget=
new B({checked:!0,disabled:!0},this.firstNameShowForPartnerNode);this.firstNameMandatoryForPartnerWidget=new B({checked:!0,disabled:!0},this.firstNameMandatoryForPartnerNode);this.surnameShowWidget=new B({checked:!0,disabled:!0},this.surnameShowNode);this.surnameMandatoryWidget=new B({checked:!0,disabled:!0},this.surnameMandatoryNode);this.surnameShowForPartnerWidget=new B({checked:!0,disabled:!0},this.surnameShowForPartnerNode);this.surnameMandatoryForPartnerWidget=new B({checked:!0,disabled:!0},
this.surnameMandatoryForPartnerNode);this.addTextBtnWidget=new t({label:M.lblAddText,onClick:a.hitch(this,function(){this.campi.push({id:"new_"+this.campi.length,type:"label",position:null,text:"",show:!0,showForPartner:!1,style:{backgroundColor:"transparent"}});this.makeTextRow(this.campi[this.campi.length-1],G(this.fieldsTbodyNode.parentNode,"tbody.dojoDndItem"),this.campi.length-1)})},this.addTextBtnNode);this.cancelBtnWidget=new t({label:v.lblChiudiButton,onClick:a.hitch(this,function(){this.parentWidget.hide()})},
this.cancelBtnNode);this.okBtnWidget=new t({label:v.lblOKButton,onClick:a.hitch(this,function(){var b=this;w("tbody.dojoDndItem \x3e tr").forEach(function(a,d){var f=e.get(a,"idx");b.campi[f]?(b.campi[f].position!=d+1&&(b.fieldsChanged=!0),b.campi[f].position=d+1):p.warn("non trovo il campo "+f,b.campi,a)});var f=this.parentWidget.hide();if(this.fieldsChanged){this.ordinaCampi();this.stato.fields=[];this.stato.texts=[];var h=this.stato;k.forEach(this.campi,function(a,b){"label"!=a.type?h.fields.push(a):
a.deleted||h.texts.push({idTesto:a.id,posizioneNelForm:a.position,testo:a.text,stile:a.style,tipo:a.type,visualizzaFormIscrizione:a.show,visualizzaAccompagnatori:a.showForPartner})})}var m={campi:this.campi,fieldsDetails:this.stato.fields,texts:this.stato.texts,fieldsChanged:this.fieldsChanged};this.doOnSelection&&(f?f.then(a.hitch(this,function(){this.doOnSelection(m)})):this.doOnSelection(m))})},this.okBtnNode);this.editTextWidget=new E({title:M.lblEditTextTitle})},attualizzaLocalizedMessages:function(){this.firstNameLabelNode.innerHTML=
this.localizedCommonMessages.lblNome;this.surnameNameLabelNode.innerHTML=this.localizedCommonMessages.lblCognome},reset:function(){this.fieldsChanged=!1;this.stato={};this.campi=[];this.campiVisibili={};this.campiObbligatori={};this.campiNonModificabili={};this.campiVisibiliAccompagnatori={};this.campiObbligatoriAccompagnatori={};this.campiNonModificabiliAccompagnatori={};k.forEach(this.widgetCache,function(a){a.destroy()});w("tbody.dojoDndItem",this.fieldsTbodyNode.parentNode).forEach(function(a){G(a,
"!")})},_setAdditionalMessagesAttr:function(a){if(a)for(var b in a)this[b+"Node"]&&(this[b+"Node"].innerHTML=a[b])},impostaCampi:function(e,d){p.debug("impostaCampi",e,d);var f=2;this.tabIndex=1;this.stato={fields:e,texts:d};this.allowUneditableFieldsManagement?(b.set(this.lblUneditableFieldTdNode,"display","table-cell"),f++,this.allowPartnerWithProfileInsertion?(b.set(this.lblUneditableFieldForPartnerTdNode,"display","table-cell"),f++):b.set(this.lblUneditableFieldForPartnerTdNode,"display","none"),
b.set(this.firstNameUneditableFieldTdNode,"display","table-cell"),b.set(this.surnameUneditableFieldTdNode,"display","table-cell")):(b.set(this.lblUneditableFieldTdNode,"display","none"),b.set(this.lblUneditableFieldForPartnerTdNode,"display","none"),b.set(this.firstNameUneditableFieldTdNode,"display","none"),b.set(this.surnameUneditableFieldTdNode,"display","none"));this.allowPartnerWithProfileInsertion?(b.set(this.lblShowForPartnerFieldTdNode,"display","table-cell"),b.set(this.firstNameShowForPartnerTdNode,
"display","table-cell"),b.set(this.surnameShowForPartnerTdNode,"display","table-cell"),b.set(this.lblMandatoryForPartnerFieldTdNode,"display","table-cell"),b.set(this.firstNameMandatoryForPartnerTdNode,"display","table-cell"),b.set(this.surnameMandatoryForPartnerTdNode,"display","table-cell"),f+=2,this.allowUneditableFieldsManagement?(b.set(this.firstNameUneditableFieldForPartnerTdNode,"display","table-cell"),b.set(this.surnameUneditableFieldForPartnerTdNode,"display","table-cell")):(b.set(this.firstNameUneditableFieldForPartnerTdNode,
"display","none"),b.set(this.surnameUneditableFieldForPartnerTdNode,"display","none"))):(b.set(this.lblShowForPartnerFieldTdNode,"display","none"),b.set(this.firstNameShowForPartnerTdNode,"display","none"),b.set(this.surnameShowForPartnerTdNode,"display","none"),b.set(this.lblMandatoryForPartnerFieldTdNode,"display","none"),b.set(this.firstNameMandatoryForPartnerTdNode,"display","none"),b.set(this.surnameMandatoryForPartnerTdNode,"display","none"),b.set(this.firstNameUneditableFieldForPartnerTdNode,
"display","none"),b.set(this.surnameUneditableFieldForPartnerTdNode,"display","none"));e||d?(e&&(this.campi=this.campi.concat(a.clone(e))),d&&(this.campi=this.campi.concat(k.map(d,function(a,b){return{id:a.idTesto,position:a.posizioneNelForm,style:a.stile,text:a.testo,type:a.tipo,show:a.visualizzaFormIscrizione,showForPartner:a.visualizzaAccompagnatori}}))),this.ordinaCampi()):this.campi=[];this.span=f;var h=1;k.forEach(this.campi,a.hitch(this,function(d,e){console.debug("xxx",d);var k=G(this.fieldsTbodyNode.parentNode,
"tbody.dojoDndItem");if("label"!=d.type){k=G(k,"tr#$[type\x3d$][idx\x3d$]",("label"!=d.type?"cf":"tx")+"_"+d.id,("label"==d.type?"text":"field")+"Element",e);G(k,"td \x3e div.dndico.dojoDndHandle"," ");var m=G(k,"td.NomeCampo"),l=G(k,"td.Show"),l=G(l,"input[type\x3dcheckbox]"),n=G(k,"td.Mandatory"),n=G(n,"input[type\x3dcheckbox]"),p=G(k,"td.NonEditable"),t=G(p,"input[type\x3dcheckbox]"),u=G(k,"td.ShowForPartner"),r=G(u,"input[type\x3dcheckbox]"),q=G(k,"td.MandatoryForPartner"),x=G(q,"input[type\x3dcheckbox]"),
w=G(k,"td.NonEditableForPartner"),v=G(w,"input[type\x3dcheckbox]");G(k,"td");this.allowUneditableFieldsManagement?b.set(p,"display","table-cell"):b.set(p,"display","none");"Email"!=d.type?b.set(t,"display","initial"):b.set(t,"display","none");this.allowPartnerWithProfileInsertion?(b.set(u,"display","table-cell"),b.set(q,"display","table-cell"),"Email"!=d.type?(b.set(r,"display","initial"),b.set(x,"display","initial")):(b.set(r,"display","none"),b.set(x,"display","none"))):(b.set(u,"display","none"),
b.set(q,"display","none"));this.allowPartnerWithProfileInsertion&&this.allowUneditableFieldsManagement&&"Email"!=d.type?b.set(w,"display","table-cell"):b.set(w,"display","none");m.innerHTML=d.label;k=new B({checked:d.show,onChange:a.hitch(this,function(a){d.show=a;this.fieldsChanged=!0;this.campiObbligatori[d.position].set("disabled",!a);a||this.campiObbligatori[d.position].set("checked",!1);this.campiNonModificabili[d.position]&&this.campiNonModificabili[d.position].set("disabled",!a)})},l);this.widgetCache.push(k);
this.campiVisibili[d.position]=k;k=new B({tabIndex:this.tabIndexBase+this.tabIndex++,checked:d.show&&d.mandatory,disabled:!d.show,onChange:a.hitch(this,function(a){d.mandatory=a;this.fieldsChanged=!0})},n);this.widgetCache.push(k);this.campiObbligatori[d.position]=k;this.allowUneditableFieldsManagement&&"Email"!=d.type&&(k=new B({tabIndex:this.tabIndexBase+this.tabIndex++,checked:d.uneditable,disabled:!d.show,onChange:a.hitch(this,function(a){d.uneditable=a;this.fieldsChanged=!0})},t),this.widgetCache.push(k),
this.campiNonModificabili[d.position]=k);this.allowPartnerWithProfileInsertion&&"Email"!=d.type&&(k=new B({tabIndex:this.tabIndexBase+this.tabIndex++,checked:d.showForPartner,onChange:a.hitch(this,function(a){d.showForPartner=a;this.fieldsChanged=!0;this.campiObbligatoriAccompagnatori[d.position].set("disabled",!a);a||this.campiObbligatoriAccompagnatori[d.position].set("checked",!1);this.allowUneditableFieldsManagement&&(this.campiNonModificabiliAccompagnatori[d.position].set("disabled",!a),a||this.campiNonModificabiliAccompagnatori[d.position].set("checked",
!1))})},r),this.widgetCache.push(k),this.campiVisibiliAccompagnatori[d.position]=k,k=new B({tabIndex:this.tabIndexBase+this.tabIndex++,checked:d.showForPartner&&d.mandatoryForPartner,disabled:!d.showForPartner,onChange:a.hitch(this,function(a){d.mandatoryForPartner=a;this.fieldsChanged=!0})},x),this.widgetCache.push(k),this.campiObbligatoriAccompagnatori[d.position]=k);this.allowPartnerWithProfileInsertion&&this.allowUneditableFieldsManagement&&"Email"!=d.type&&(k=new B({tabIndex:this.tabIndexBase+
this.tabIndex++,checked:d.uneditableForPartner,disabled:!d.show,onChange:a.hitch(this,function(a){d.uneditableForPartner=a;this.fieldsChanged=!0})},v),this.widgetCache.push(k),this.campiNonModificabiliAccompagnatori[d.position]=k)}else this.makeTextRow(d,k,e);this.span=h=Math.max(f,h)}));this.makeDnD()},editText:function(b,d){this.editTextWidget.show({currentState:{text:b},doOnSelection:a.hitch(this,function(a){this.fieldsChanged=!0;b.text=a.text;b.style=a.style;a=r.toDom(a.text);var e="";a.innerText?
e=a.innerText:a.textContent&&(e=a.textContent);d.innerHTML=e})})},removeText:function(a,b){G(b,"!");var d=this;k.forEach(this.campi,function(b,e){b&&b.id==a.id&&(b.deleted=!0,d.fieldsChanged=!0)})},ordinaCampi:function(){this.campi.sort(function(a,b){var d=0;a!==b&&(d=!isNaN(a.position)&&isNaN(b.position)?-1:isNaN(a.position)&&!isNaN(b.position)?1:null!=a.position&&null==b.position?-1:null==a.position&&null!=b.position?1:a.position<b.position?-1:1);return d})},makeTextRow:function(b,d,e){e=G(d,"tr#$[type\x3d$][idx\x3d$]",
("label"!=b.type?"cf":"tx")+"_"+(b.id?b.id:"new_"+this.campi.length),("label"==b.type?"text":"field")+"Element",e);r.toDom(b.text);var f=this;G(e,"td.text.handle \x3e div.dndico.dojoDndHandle"," ");var h=G(e,"td.NomeCampo.text"),k=G(h,"i.fa.fa-text-height[aria-hidden\x3dtrue]");t({tabIndex:this.tabIndexBase+this.tabIndex++,label:'\x3ci class\x3d"fa fa-cog" aria-hidden\x3d"true"\x3e\x3c/i\x3e',"class":"btn edit",onClick:function(){f.editText(b,h)}},G(h,"div"));t({tabIndex:this.tabIndexBase+this.tabIndex++,
label:'\x3ci class\x3d"fa fa-trash-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e',"class":"btn remove",onClick:function(){f.removeText(b,d)}},G(h,"div"));h=G(e,"td.Show.text \x3e div");new B({tabIndex:this.tabIndexBase+this.tabIndex++,checked:b.show,onChange:function(a){b.show=a;f.fieldsChanged=!0}},h);G(e,"td.Mandatory");this.allowUneditableFieldsManagement&&G(e,"td.NonEditable");this.allowPartnerWithProfileInsertion&&(new B({tabIndex:this.tabIndexBase+this.tabIndex++,checked:b.showForPartner,onChange:function(a){b.showForPartner=
a;f.fieldsChanged=!0}},G(e,"td.ShowforPartner \x3e div")),G(e,"td.MandatoryForPartner"),this.allowUneditableFieldsManagement&&G(e,"td.NonEditableForPartner"));G(e,"td");new I({connectId:[k],position:["before","above"],getContent:function(){var d="",e=r.toDom(b.text);e.innerText?d=e.innerText:e.textContent&&(d=e.textContent);e=null;d&&a.trim(d)&&(e='\x3cdiv class\x3d"'+f.baseClass+' wrapped"\x3e'+d+"\x3c/div\x3e");return e}})},makeDnD:function(){this.source=new l(this.fieldsTbodyNode.parentNode,{isSource:!0,
skipForm:!1,singular:!0,withHandles:!0,autoSync:!0,dropParent:this.fieldsTbodyNode.parentNode,onDndStart:function(a,b,e){a==this&&(l.prototype.onDndStart.call(this,a,b,e),f.add(n.manager().avatar.node,"editPersonalDetailsFormDialogWidget"))}})}})})},"ebPlatformWidgets/Evento/EventPage/EventPageTemplateWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/debounce dojo/on dojo/dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-geometry dojo/query!css2.1 dojo/NodeList-dom dojo/dom-construct dojo/Deferred dojo/request dojo/Stateful dijit/registry dijit/_WidgetBase dijit/form/Button put-selector/put ebPlatformWidgets/Form/ToggleVisibilityButtonWidget ebPlatformWidgets/Form/utility ebPlatformWidgets/Dialogs/EditImageDialogWidget ebPlatformWidgets/Dialogs/EditTextWithFontDialogWidget ebPlatform/stato ebPlatform/utility ebPlatform/logger! ebPlatform/templateUtility ebPlatform/commonDialogs ebPlatform/fontLoader ./EditHeaderDialogWidget ./EditEventDetailsDialogWidget ./EditRegistrationDialogWidget ./EditPersonalDetailsDialogWidget ./EditPersonalDetailsFormDialogWidget ./EditPersonalDetailsFormWithLogicDialogWidget ./EditPrivacyDialogWidget ./EditRegistrationButtonsDialogWidget ./EditTestiAccompagnatoriDialogWidget dojo/i18n dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/EventPageWidget dojo/i18n!../Communication/nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R,ea,H,ca,X,Z,Q,W){return q([B],{baseClass:"eventPageTemplateWidget",stato:null,localizedMessages:null,iframe:null,iframeDocument:null,editHeaderDialogWidget:null,editImageDialogWidget:null,editEventDetailsDialogWidget:null,editRegistrationDialogWidget:null,editPersonalDetailsDialogWidget:null,editPersonalDetailsFormDialogWidget:null,editPersonalDetailsFormWithLogicDialogWidget:null,editPrivacyDialogWidget:null,editRegistrationButtonsDialogWidget:null,
editTestiAccompagnatoriDialogWidget:null,logoEditBtnContainerNode:null,logoEditBtn:null,logoVisibilityBtnContainerNode:null,logoVisibilityBtn:null,headerBoxNode:null,headerVisibilityBtn:null,immagineEditBtn:null,immagineVisibilityBtn:null,immagineEditBtnContainerNode:null,dettagliEventoBoxNode:null,dettagliEventoEditBtn:null,dettagliEventoVisibilityBtn:null,registrzioneBoxNode:null,registrzioneEventoEditBtn:null,dettagliPersonaliBoxNode:null,dettagliPersonaliTitleNode:null,dettagliPersonaliFormNode:null,
accompagnatoriBoxNode:null,dettagliPersonaliEditBtn:null,dettagliPersonaliVisibilityBtn:null,dettagliPersonaliFormEditBtn:null,dettagliPersonaliFormVisibilityBtn:null,privacyVisibilityBtn:null,postCreate:function(){this.iframe=w.create("iframe",{width:960,height:100,scrolling:"no",src:""},this.srcNodeRef);f.set(this.iframe,"overflow","hidden");this.editHeaderDialogWidget=new aa({});this.editImageDialogWidget=new I({});this.editEventDetailsDialogWidget=new F;this.editRegistrationDialogWidget=new J({});
this.editPersonalDetailsDialogWidget=new K({style:"max-height:80%; max-width:900px; overflow:auto;"});this.editPersonalDetailsFormDialogWidget=new T({style:"max-height:80%; max-width:900px; overflow:auto;"});this.editPrivacyDialogWidget=new R({});this.editRegistrationButtonsDialogWidget=new ea({});this.editTestiAccompagnatoriDialogWidget=new H({});l(this.iframe,"load",a.hitch(this,function(){var a;this.iframeDocument=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document;
b.get(this.iframe,"src")&&(S.debug("LOADING",b.get(this.iframe,"src")),N.loadAll(v.evento.stato.idCliente,this.iframe.contentWindow));b.get(this.iframe,"src")?0==this.stato.get("idRegistrationPage")?(a=this.parentWidget.selectTemplateModelWidget.store.query({modelType:"FROM_SCRATCH"})[0])?(this.parentWidget.selectTemplateModelWidget.set("value",null,!1),this.parentWidget.selectTemplateModelWidget.set("value",a.id)):this.parentWidget.selectTemplateModelWidget.reset():this.parentWidget.selectTemplateModelWidget.reset():
(a=w.create("div",{"class":"boxLoading",style:"width: 960px; text-align: center;"},this.iframeDocument.body),w.create("img",{src:"/img/loading.gif"},a),w.create("div",{innerHTML:X.footerInc.lblLoadingDialogTitle,"class":"loadingTitle",style:"width: 960px; text-align: center; font-size: 14px; line-height: 30px; font-family: encodesans, Arial, Helvetica, sans-serif; -webkit-font-smoothing: antialiased;"},this.iframeDocument.body))}))},aggiornaAltezzaIFrame:n(function(){if(this.iframeDocument.body)try{var a=
r.getMarginBox(this.iframeDocument.body);f.set(this.iframe,"height",a.h+"px")}catch(O){console.log(O)}},500),aggiornaUI:function(e){if(!ebPlatform.iframeEventPageLoaded||ebPlatform.iframeEventPageLoaded.isFulfilled()){var f=this.parentWidget.genericRegistrationPageURL+"?forTemplating\x3dtrue",f=M.adjustProto(f);S.debug("CARICO: ",f);var l=this.parentWidget.selectTemplateModelWidget.store.query({modelType:"FROM_SCRATCH"})[0];l&&this.parentWidget.selectTemplateModelWidget.set("value",l.id,!1);this.localizedMessages=
ca.getLocalization("ebPlatformWidgets.Evento.EventPage","EventPageWidget",e.toLowerCase().replace("_","-"));ebPlatform.iframeEventPageLoaded=new D;b.set(this.iframe,"src",f);ebPlatform.iframeEventPageLoaded.then(a.hitch(this,function(e){S.debug("Caricamento iframe completato",e);this.iframeDocument=this.iframe.contentDocument?this.iframe.contentDocument:this.iframe.contentWindow.document;this.aggiornaAltezzaIFrame();m("[data-ebplatform-template-role\x3d'templateContainer']",this.iframeDocument.body).addClass("templateContainer");
m("[data-ebplatform-template-role~\x3d'borderedBox']",this.iframeDocument.body).forEach(function(a){h.add(a,"border");if(b.has(a,"data-ebplatform-template-role-config")){var d=b.get(a,"data-ebplatform-template-role-config").split(",");k.forEach(d,function(b){h.add(a,b)})}});this.initBoxLogo();this.initBoxHeader();this.initBoxImmagineHeader();this.initBoxImmagine();this.initBoxEventDetails();this.initBoxRegistration();this.initBoxPersonalDetails();v.evento.stato.event_details.partnersType&&"PROFILATI"==
v.evento.stato.event_details.partnersType&&this.initBoxAccompanyingGuests();this.initBoxPrivacy();this.initBoxRegistrationButtons();this.initBoxImmagineFooter();this.initTemplateElements();this.editPersonalDetailsDialogWidget.set("additionalMessages",{showCheckPersonalInfoWarningText:d.getElementById("showCheckPersonalInfoWarningText",this.iframeDocument.body).innerHTML,showCheckPersonalInfoWarningNote:d.getElementById("showCheckPersonalInfoWarningNote",this.iframeDocument.body).innerHTML,showMandatoryFieldsWarningText:d.getElementById("showMandatoryFieldsWarningText",
this.iframeDocument.body).innerHTML,showMandatoryFieldsWarningNote:d.getElementById("showMandatoryFieldsWarningNote",this.iframeDocument.body).innerHTML,showDuplicatedEmailWarningText:d.getElementById("showDuplicatedEmailWarningText",this.iframeDocument.body).innerHTML,showDuplicatedEmailWarningNote:d.getElementById("showDuplicatedEmailWarningNote",this.iframeDocument.body).innerHTML,showWrongPersonWarningText:d.getElementById("showWrongPersonWarningText",this.iframeDocument.body).innerHTML,showWrongPersonWarningNote:d.getElementById("showWrongPersonWarningNote",
this.iframeDocument.body).innerHTML,showWrongAnonymousWarningText:d.getElementById("showWrongAnonymousWarningText",this.iframeDocument.body).innerHTML,showWrongAnonymousWarningNote:d.getElementById("showWrongAnonymousWarningNote",this.iframeDocument.body).innerHTML});this.editPersonalDetailsFormDialogWidget.set("additionalMessages",{showCheckPersonalInfoWarningText:d.getElementById("showCheckPersonalInfoWarningText",this.iframeDocument.body).innerHTML,showCheckPersonalInfoWarningNote:d.getElementById("showCheckPersonalInfoWarningNote",
this.iframeDocument.body).innerHTML,showMandatoryFieldsWarningText:d.getElementById("showMandatoryFieldsWarningText",this.iframeDocument.body).innerHTML,showMandatoryFieldsWarningNote:d.getElementById("showMandatoryFieldsWarningNote",this.iframeDocument.body).innerHTML,showDuplicatedEmailWarningText:d.getElementById("showDuplicatedEmailWarningText",this.iframeDocument.body).innerHTML,showDuplicatedEmailWarningNote:d.getElementById("showDuplicatedEmailWarningNote",this.iframeDocument.body).innerHTML,
showWrongPersonWarningText:d.getElementById("showWrongPersonWarningText",this.iframeDocument.body).innerHTML,showWrongPersonWarningNote:d.getElementById("showWrongPersonWarningNote",this.iframeDocument.body).innerHTML,showWrongAnonymousWarningText:d.getElementById("showWrongAnonymousWarningText",this.iframeDocument.body).innerHTML,showWrongAnonymousWarningNote:d.getElementById("showWrongAnonymousWarningNote",this.iframeDocument.body).innerHTML});this.editTestiAccompagnatoriDialogWidget.set("additionalMessages",
{accompanyingGuestsSectionTitleText:d.getElementById("accompanyingGuestsSectionTitleText",this.iframeDocument.body).innerHTML,maxAccompanyingGuestsText:d.getElementById("maxAccompanyingGuestsText",this.iframeDocument.body).innerHTML,maxAccompanyingGuestsNoCapacityText:d.getElementById("maxAccompanyingGuestsNoCapacityText",this.iframeDocument.body).innerHTML,maxAccompanyingGuestsFullText:d.getElementById("maxAccompanyingGuestsFullText",this.iframeDocument.body).innerHTML,numAccompanyingGuestAddedText:d.getElementById("numAccompanyingGuestAddedText",
this.iframeDocument.body).innerHTML,addAccompanyingGuestsText:d.getElementById("addAccompanyingGuestsText",this.iframeDocument.body).innerHTML,addOneMoreAccompanyingGuestText:d.getElementById("addOneMoreAccompanyingGuestText",this.iframeDocument.body).innerHTML,backToParentText:d.getElementById("backToParentText",this.iframeDocument.body).innerHTML,accompanyingGuestSectionTitleText:d.getElementById("accompanyingGuestSectionTitleText",this.iframeDocument.body).innerHTML,accompanyingGuestFieldInListsText:d.getElementById("accompanyingGuestFieldInListsText",
this.iframeDocument.body).innerHTML,accompanyingGuestPositionText:d.getElementById("accompanyingGuestPositionText",this.iframeDocument.body).innerHTML,accompanyingGuestsSectionTitleInEmailText:d.getElementById("accompanyingGuestsSectionTitleInEmailText",this.iframeDocument.body).innerHTML,accompaniedGuestThanksTitleText:d.getElementById("accompaniedGuestThanksTitleText",this.iframeDocument.body).innerHTML,accompaniedGuestThanksSubTitleText:d.getElementById("accompaniedGuestThanksSubTitleText",this.iframeDocument.body).innerHTML,
accompanyingGuestThanksTitleText:d.getElementById("accompanyingGuestThanksTitleText",this.iframeDocument.body).innerHTML,accompanyingGuestThanksSubTitleText:d.getElementById("accompanyingGuestThanksSubTitleText",this.iframeDocument.body).innerHTML});setTimeout(a.hitch(this,function(){if(this.iframe.contentWindow.ebPlatform.iscrizione){if(this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx)try{this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx()}catch(da){console.log(da)}if(this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader)try{this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader()}catch(da){console.log(da)}}this.aggiornaAltezzaIFrame()}),
1500);ebPlatform.iframeEventPageLoaded=null}),a.hitch(this,function(b){S.error("Caricamento iframe fallito "+b);a.hitch(this,function(){L.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)})}))}else console.debug("Sto ancora caricando non faccio null")},initBoxLogo:function(){d.getElementById("logoPlaceHolderLabelNode",this.iframeDocument.body).innerHTML=Q.lblLogoPlaceHolderLbl;var b=d.getElementById("boxLogo",this.iframeDocument.body),e=w.create("div",{"class":"btnsControls",
style:""},b);this.logoEditBtnContainerNode=w.create("div",{"class":"editBtnContainer",style:"right:15px; top:15px;"},e);var f=w.create("div",{},this.logoEditBtnContainerNode);this.logoEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({advanced:!0,title:Q.lblEditLogo,currentSrc:this.stato.get("logo"),imageType:"logoPaginaIscrizione",fileFormatNote:Q.msgLogoFormatNotes,
previewMaxDim:{w:v.commons.config.EventPage_logoWidth,h:v.commons.config.EventPage_logoHeight},doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("logo",this,a||"")})})})},f);this.agiornaVisibilitaLogoPlaceHolder(!1);d.getElementById("logoDxPlaceHolderLabelNode",this.iframeDocument.body).innerHTML=Q.lblLogoPlaceHolderLbl;var h=d.getElementById("boxLogoDx",this.iframeDocument.body),f=w.create("div",{"class":"btnsControls",style:""},h);this.logoDxEditBtnContainerNode=w.create("div",{"class":"editBtnContainer",
style:"right:15px; top:15px;"},f);var k=w.create("div",{},this.logoDxEditBtnContainerNode);this.logoDxEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({advanced:!0,title:Q.lblEditLogo,currentSrc:this.stato.get("logoDx"),imageType:"logoPaginaIscrizione",fileFormatNote:Q.msgLogoFormatNotes,previewMaxDim:{w:v.commons.config.EventPage_logoWidth,h:v.commons.config.EventPage_logoHeight},
doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("logoDx",this,a||"")})})})},k);this.agiornaVisibilitaLogoPlaceHolder(!0);this.logoVisibilityBtnContainerNode=w.create("div",{"class":"hideShowBtnContainer",style:"top: 50px;"},e);e=w.create("div",{},this.logoVisibilityBtnContainerNode);d.getElementById("boxHeader",this.iframeDocument.body);this.logoVisibilityBtn=new C({startChecked:this.stato.get("showLogo"),doOnChange:a.hitch(this,function(a){this.stato.set("showLogo",a);this.aggiornaVisibilitaMask(!a,
b);this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader()})},e);this.aggiornaVisibilitaLogoVisibilityBtn(!1);this.aggiornaVisibilitaMask(!this.stato.get("showLogo")||!this.stato.get("logo"),b);this.logoDxVisibilityBtnContainerNode=w.create("div",{"class":"hideShowBtnContainer",style:"top: 50px;"},f);e=w.create("div",{},this.logoDxVisibilityBtnContainerNode);this.logoDxVisibilityBtn=new C({startChecked:this.stato.get("showLogoDx"),doOnChange:a.hitch(this,function(a){this.stato.set("showLogoDx",
a);this.aggiornaVisibilitaMask(!a,h);this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader();this.moveHeaderButtons()})},e);this.aggiornaVisibilitaLogoVisibilityBtn(!0);this.aggiornaVisibilitaMask(!this.stato.get("showLogoDx")||!this.stato.get("logoDx"),h)},moveHeaderButtons:function(){var a=d.getElementById("boxLogoDx",this.iframeDocument.body),b="10px";if(!this.stato.get("showLogoDx")||null==this.stato.get("logoDx")||/^\s*$/.test(this.stato.get("logoDx")))b=r.getMarginBox(a).w+"px";a=d.getElementById("boxHeader",
this.iframeDocument.body);m(".btnsControls",a).forEach(function(a){f.set(a,"right",b)})},aggiornaVisibilitaLogoVisibilityBtn:function(a){var e=d.getElementById("logo"+(a?"Dx":"")+"ImgNode",this.iframeDocument.body),e=b.get(e,"src"),h=this["logo"+(a?"Dx":"")+"EditBtnContainerNode"];a=this["logo"+(a?"Dx":"")+"VisibilityBtnContainerNode"];var k=parseInt(f.get(h,"right"))>parseInt(f.get(a,"right"));e&&"/img/logoPlaceHolder.png"!=e?(f.set(a,"display","block"),k||this.scambiaRight(h,a)):(f.set(a,"display",
"none"),k&&this.scambiaRight(h,a))},agiornaVisibilitaLogoPlaceHolder:function(a){var b=d.getElementById("logo"+(a?"Dx":"")+"ImgNode",this.iframeDocument.body),e=d.getElementById("boxLogo"+(a?"Dx":"")+"PlaceHolder",this.iframeDocument.body);a=this.stato.get("logo"+(a?"Dx":""));var h=!1;a&&("string"===typeof a||a instanceof String?h=!!a:a.file&&(h=!!a.file));h?(f.set(b,"display","block"),f.set(e,"display","none")):(f.set(b,"display","none"),f.set(e,"display","block"))},initBoxHeader:function(){var b=
d.getElementById("boxHeader",this.iframeDocument.body),e=w.create("div",{"class":"btnsControls",style:""},b),h=w.create("div",{"class":"editBtnContainer",style:""},e),h=w.create("div",{},h),k,l;m("h3",b).forEach(function(a){(k=f.get(a,"fontSize"))&&(k=k.replace(/(\d+)(\.\d+)(\w\w)/,"$1$3"))});m("h4",b).forEach(function(a){(l=f.get(a,"fontSize"))&&(l=l.replace(/(\d+)(\.\d+)(\w\w)/,"$1$3"))});new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",
onClick:a.hitch(this,function(){this.editHeaderDialogWidget.show({title:Q.lblEditHeader,currentState:{backGroundColor:this.stato.get("backgroundColor"),text:b.innerHTML,textColor:this.stato.get("textColor"),font:this.stato.get("fontHeader"),datesColor:this.stato.get("datesColor"),fontDates:this.stato.get("fontDatesHeader"),fontSizePh:k,fontDatesSizePh:l},doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("fontHeader",this,a.font);p.aggiornaStatoEValore("textColor",this,a.textColor);p.aggiornaStatoEValore("fontDatesHeader",
this,a.fontDates);p.aggiornaStatoEValore("datesColor",this,a.datesColor)})})}),doOnSelection:a.hitch(this,function(a){})},h);e=w.create("div",{"class":"hideShowBtnContainer",style:""},e);e=w.create("div",{},e);this.headerVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,startChecked:this.stato.get("showHeader"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showHeader",this,a)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showHeader"),b);this.moveHeaderButtons()},
initBoxImmagine:function(){d.getElementById("eventImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=Q.lblEventImagePlaceHolderLbl;var b=d.getElementById("boxPageImage",this.iframeDocument.body),e=w.create("div",{"class":"btnsControls",style:""},b);this.immagineEditBtnContainerNode=w.create("div",{"class":"editBtnContainer",style:""},e);var f=w.create("div",{},this.immagineEditBtnContainerNode);d.getElementById("pageImageImgNode",this.iframeDocument.body);this.immagineEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,
"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:Q.lblEditPageImage,currentSrc:this.stato.get("pageImage"),imageType:"immaginePaginaIscrizione",fileFormatNote:Q.msgPageImageFormatNotes,previewMaxDim:{w:v.commons.config.EventPage_pageImageWidth},doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("pageImage",this,a||"")})})})},f);this.agiornaVisibilitaImmaginePlaceHolder("page");e=w.create("div",
{"class":"hideShowBtnContainer",style:""},e);e=w.create("div",{},e);this.immagineVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,startChecked:this.stato.get("showPageImage"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showPageImage",this,a)})},e);this.aggiornaVisibilitaVisibilityBtn(b,"pageImage");this.aggiornaVisibilitaMask(!this.stato.get("showPageImage")||!this.stato.get("pageImage"),b)},initBoxImmagineHeader:function(){d.getElementById("headerImagePlaceHolderLabelNode",
this.iframeDocument.body).innerHTML=W.lblHeaderImagePlaceHolderLbl;var b=d.getElementById("boxHeaderImage",this.iframeDocument.body),e=w.create("div",{"class":"btnsControls",style:""},b),f=w.create("div",{"class":"editBtnContainer",style:""},e),f=w.create("div",{},f);d.getElementById("headerImageImgNode",this.iframeDocument.body);new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({advanced:!0,
title:W.lblEditHeaderImage,currentSrc:this.stato.get("headerImage"),imageType:"immaginePaginaIscrizione",fileFormatNote:Q.msgPageImageFormatNotes,previewMaxDim:{w:v.commons.config.EventPage_pageImageWidth},doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("headerImage",this,a||"")})})})},f);this.agiornaVisibilitaImmaginePlaceHolder("header");e=w.create("div",{"class":"hideShowBtnContainer",style:""},e);e=w.create("div",{},e);this.immagineHeaderVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,
startChecked:this.stato.get("showHeaderImage"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showHeaderImage",this,a)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showHeaderImage"),b);this.aggiornaVisibilitaVisibilityBtn(b,"headerImage")},initBoxImmagineFooter:function(){d.getElementById("footerImagePlaceHolderLabelNode",this.iframeDocument.body).innerHTML=W.lblFooterImagePlaceHolderLbl;var b=d.getElementById("boxFooterImage",this.iframeDocument.body),e=w.create("div",{"class":"btnsControls",
style:""},b),f=w.create("div",{"class":"editBtnContainer",style:""},e),f=w.create("div",{},f);d.getElementById("footerImageImgNode",this.iframeDocument.body);new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editImageDialogWidget.show({title:W.lblEditFooterImage,currentSrc:this.stato.get("footerImage"),imageType:"immaginePaginaIscrizione",fileFormatNote:Q.msgPageImageFormatNotes,previewMaxDim:{w:v.commons.config.EventPage_pageImageWidth},
doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("footerImage",this,a||"")})})})},f);this.agiornaVisibilitaImmaginePlaceHolder("footer");e=w.create("div",{"class":"hideShowBtnContainer",style:""},e);e=w.create("div",{},e);this.immagineFooterVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,startChecked:this.stato.get("showFooterImage"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showFooterImage",this,a)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showFooterImage"),
b);this.aggiornaVisibilitaVisibilityBtn(b,"footerImage")},aggiornaVisibilitaVisibilityBtn:function(a,b,d){void 0!==this.stato.get(b)||void 0!==d?((b=this.stato.get(b))&&void 0!==b.file&&(b=b.file),void 0!==d&&(b=d),(d=m(".hideShowBtnContainer",a))&&d[0]?f.set(d[0],"display",b?"block":"none"):S.warn("hideShowBtnContainer non trovato",a)):S.warn("Prop non trovata",b,this.stato)},scambiaRight:function(a,b){var d=f.get(a,"right");f.set(a,"right",f.get(b,"right"));f.set(b,"right",d)},agiornaVisibilitaImmaginePlaceHolder:function(a){var b=
d.getElementById(a+"ImageImgNode",this.iframeDocument.body),e=d.getElementById(a+"ImagePlaceHolderNode",this.iframeDocument.body);!(a=this.stato.get(a+"Image"))||"string"===typeof a||a instanceof String||(a=a.file);a?(f.set(b,"display","block"),f.set(e,"display","none")):(f.set(b,"display","none"),f.set(e,"display","block"))},initBoxEventDetails:function(){m(".descrizioneEvento a",this.iframeDocument.body).forEach(function(a){b.set(a,"href","#")});d.getElementById("eventDetailsImagePlaceHolderLabelNode",
this.iframeDocument.body).innerHTML=Q.lblEventDetailsImagePlaceHolderLbl;var e=d.getElementById("boxEventDetails",this.iframeDocument.body),h=w.create("div",{"class":"btnsControls",style:""},e),k=w.create("div",{"class":"editBtnContainer",style:""},h),k=w.create("div",{},k),l;m("#boxSx",this.iframeDocument.body).forEach(function(a){(l=f.get(a,"fontSize"))&&(l=l.replace(/(\d+)(\.\d+)(\w\w)/,"$1$3"))});var n;m("#boxSx h5",this.iframeDocument.body).forEach(function(a){(n=f.get(a,"fontSize"))&&(n=n.replace(/(\d+)(\.\d+)(\w\w)/,
"$1$3"))});var u;m(".sec.info \x3e p",this.iframeDocument.body).forEach(function(a){(u=f.get(a,"fontSize"))&&(u=u.replace(/(\d+)(\.\d+)(\w\w)/,"$1$3"))});this.dettagliEventoEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editEventDetailsDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:Q.lblEditEventDetails,currentState:{showImage:this.stato.get("showEventDetailsImage"),
imageSrc:this.stato.get("eventDetailsImage"),sectionTitle:this.stato.get("eventDetailsTitle"),showOrganizerDetails:this.stato.get("showOrganizerDetails"),showEventDescription:this.stato.get("showEventDescription"),showEventMap:this.stato.get("showEventMap"),showSectionTitle:this.stato.get("showSectionTitle"),showEventDetailsDetails:this.stato.get("showEventDetailsDetails"),doesImgSubstituteSxCol:this.stato.get("doesImgSubstituteSxCol"),backgroundColor:this.stato.get("backgroundColorEventDetails"),
titleColor:this.stato.get("titleColorEventDetails"),textColor:this.stato.get("textColorEventDetails"),font:this.stato.get("fontEventDetails"),fontTitle:this.stato.get("fontTitleEventDetails"),sections:this.stato.get("sectionsEventDetails"),marginTopMap:this.stato.get("marginTopMap"),marginBottomMap:this.stato.get("marginBottomMap"),marginTopDetails:this.stato.get("marginTopDetails"),marginBottomDetails:this.stato.get("marginBottomDetails"),marginTopDescription:this.stato.get("marginTopDescription"),
marginBottomDescription:this.stato.get("marginBottomDescription"),marginTopOrganizer:this.stato.get("marginTopOrganizer"),marginBottomOrganizer:this.stato.get("marginBottomOrganizer"),marginTopImage:this.stato.get("marginTopImage"),marginBottomImage:this.stato.get("marginBottomImage"),fontAddress:this.stato.get("fontAddress"),fontSizePh:l,fontTitleSizePh:n,fontAddressSizePh:u},imageType:"immagineDettagliEventoPaginaIscrizione",fileFormatNote:Q.msgEventDetailsImageFormatNotes,previewMaxDim:{w:v.commons.config.EventPage_eventDetailsImageWidth},
doOnSelection:a.hitch(this,function(a){p.aggiornaStatoEValore("showEventDetailsImage",this,a.showImage);p.aggiornaStatoEValore("eventDetailsImage",this,a.imageSrc);p.aggiornaStatoEValore("eventDetailsTitle",this,a.sectionTitle);p.aggiornaStatoEValore("showOrganizerDetails",this,a.showOrganizerDetails);p.aggiornaStatoEValore("showEventDescription",this,a.showEventDescription);p.aggiornaStatoEValore("showEventMap",this,a.showEventMap);p.aggiornaStatoEValore("showSectionTitle",this,a.showSectionTitle);
p.aggiornaStatoEValore("showEventDetailsDetails",this,a.showEventDetailsDetails);p.aggiornaStatoEValore("doesImgSubstituteSxCol",this,a.doesImgSubstituteSxCol);p.aggiornaStatoEValore("backgroundColorEventDetails",this,a.backgroundColor);p.aggiornaStatoEValore("titleColorEventDetails",this,a.titleColor);p.aggiornaStatoEValore("textColorEventDetails",this,a.textColor);p.aggiornaStatoEValore("fontTitleEventDetails",this,a.fontTitle);p.aggiornaStatoEValore("fontEventDetails",this,a.font);p.aggiornaStatoEValore("sectionsEventDetails",
this,a.sections);p.aggiornaStatoEValore("marginTopMap",this,a.marginTopMap);p.aggiornaStatoEValore("marginBottomMap",this,a.marginBottomMap);p.aggiornaStatoEValore("marginTopDetails",this,a.marginTopDetails);p.aggiornaStatoEValore("marginBottomDetails",this,a.marginBottomDetails);p.aggiornaStatoEValore("marginTopDescription",this,a.marginTopDescription);p.aggiornaStatoEValore("marginBottomDescription",this,a.marginBottomDescription);p.aggiornaStatoEValore("marginTopOrganizer",this,a.marginTopOrganizer);
p.aggiornaStatoEValore("marginBottomOrganizer",this,a.marginBottomOrganizer);p.aggiornaStatoEValore("marginTopImage",this,a.marginTopImage);p.aggiornaStatoEValore("fontAddress",this,a.fontAddress);this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx();this.aggiornaAltezzaIFrame()})})})},k);this.agiornaVisibilitaImmagineDettagliEventoPlaceHolder();this.aggiornaVisibilitaElementByEbId(this.stato.get("showEventDetailsImage"),"eventDetailsImageImgContainerNode");this.aggiornaVisibilitaElementByEbId(this.stato.get("showOrganizerDetails"),
"boxOrganizerDetails");this.aggiornaVisibilitaElementByEbId(this.stato.get("showEventDescription"),"boxEventDescription");this.aggiornaVisibilitaElementByEbId(this.stato.get("showEventMap"),"boxEventMap");this.aggiornaVisibilitaElementByEbId(this.stato.get("showSectionTitle"),"eventDetailsTitleNode");this.aggiornaVisibilitaElementByEbId(this.stato.get("showEventDetailsDetails"),"eventDetailsDetailsNode");this.aggiornaVisibilitaElementByEbId(!this.stato.get("doesImgSubstituteSxCol"),"boxEventDetailsNormalMode");
this.aggiornaVisibilitaElementByEbId(this.stato.get("doesImgSubstituteSxCol"),"boxColSxImg");h=w.create("div",{"class":"hideShowBtnContainer",style:""},h);h=w.create("div",{},h);this.dettagliEventoVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,startChecked:this.stato.get("showEventDetails"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showEventDetails",this,a)})},h);this.aggiornaVisibilitaMask(!this.stato.get("showEventDetails"),e)},agiornaVisibilitaImmagineDettagliEventoPlaceHolder:function(){var a=
d.getElementById("eventDetailsImageImgNode",this.iframeDocument.body),b=d.getElementById("eventDetailsImageImgAllSpaceNode",this.iframeDocument.body),e=d.getElementById("eventDetailsImagePlaceHolderNode",this.iframeDocument.body),h=d.getElementById("eventDetailsImagePlaceHolderAllSpaceNode",this.iframeDocument.body);this.stato.get("eventDetailsImage")?(f.set(a,"display","block"),f.set(b,"display","block"),f.set(e,"display","none"),f.set(h,"display","none")):(f.set(a,"display","none"),f.set(b,"display",
"none"),f.set(e,"display","block"),f.set(h,"display","block"))},initBoxRegistration:function(){if(!v.evento.stato.event_details.payment){var b;m("#boxDateEvento \x3e h5",this.iframeDocument.body).forEach(function(a){(b=f.get(a,"fontSize"))&&(b=b.replace(/(\d+)(\.\d+)(\w\w)/,"$1$3"))});this.registrazioneBoxNode=d.getElementById("boxRegistration",this.iframeDocument.body);var e=w.create("div",{"class":"editBtnContainer",style:""},this.registrazioneBoxNode),e=w.create("div",{},e);this.registrazioneEditBtn=
new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editRegistrationDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:Q.lblEditRegistrationSection,currentState:{sectionTitle:this.stato.get("registrationBoxTitle"),sectionText:this.stato.get("registrationBoxText"),sectionTextPlaceHolder:d.getElementById("registrationBoxTextPlaceholderNode",this.iframeDocument.body)?d.getElementById("registrationBoxTextPlaceholderNode",
this.iframeDocument.body).innerHTML:"",collapseDates:this.stato.get("collapseDates"),showAvailabilityStatus:this.stato.get("showAvailabilityStatus"),showAvailability:this.stato.get("showAvailability"),backgroundColor:this.stato.get("backgroundColorRegistration"),titleColor:this.stato.get("titleColorRegistration"),textColor:this.stato.get("textColorRegistration"),font:this.stato.get("fontRegistration"),fontTitle:this.stato.get("fontTitleRegistration"),fontTitleSizePh:b},doOnSelection:a.hitch(this,
function(a){p.aggiornaStatoEValore("registrationBoxTitle",this,a.sectionTitle);p.aggiornaStatoEValore("registrationBoxText",this,a.sectionText);p.aggiornaStatoEValore("collapseDates",this,a.collapseDates);p.aggiornaStatoEValore("showAvailabilityStatus",this,a.showAvailabilityStatus);p.aggiornaStatoEValore("showAvailability",this,a.showAvailability);p.aggiornaStatoEValore("backgroundColorRegistration",this,a.backgroundColor);p.aggiornaStatoEValore("titleColorRegistration",this,a.titleColor);p.aggiornaStatoEValore("textColorRegistration",
this,a.textColor);p.aggiornaStatoEValore("fontRegistration",this,a.font);p.aggiornaStatoEValore("fontTitleRegistration",this,a.fontTitle);this.aggiornaVisibilitaDisponibilita();this.aggiornaVisibilitaPostiDisponibili()})})})},e);this.aggiornaCollassaDate(!1);this.aggiornaVisibilitaDisponibilita();this.aggiornaVisibilitaPostiDisponibili()}},initBoxPersonalDetails:function(){var b;m(".boxDatiIscrizione h5",this.iframeDocument.body).forEach(function(a){(b=f.get(a,"fontSize"))&&(b=b.replace(/(\d+)(\.\d+)(\w\w)/,
"$1$3"))});var e=d.getElementById("boxPersonalDetails",this.iframeDocument.body);this.dettagliPersonaliTitleNode=d.getElementById("personalDetailsTitleNode",this.iframeDocument.body);this.dettagliPersonaliTitleContainerNode=d.getElementById("personalDetailsContainerNode",this.iframeDocument.body);var h=d.getElementById("boxPersonalDetailsFormNode",this.iframeDocument.body),k=w.create("div",{"class":"btnsControls forTitle",style:""},e.parentNode),h=w.create("div",{"class":"btnsControls",style:""},
h),l=w.create("div",{"class":"editBtnContainer",style:""},k),l=w.create("div",{},l);this.dettagliPersonaliEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editPersonalDetailsDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:Q.lblEditPersonalDetails,editColors:!(d.getElementById("boxRegistration",this.iframeDocument.body)||v.evento.stato.event_details.payment),
box:d.getElementById("boxRegistration",this.iframeDocument.body),pay:v.evento.stato.event_details.payment,currentState:{sectionTitle:this.stato.get("personalDetailsTitle"),additionText:this.stato.get("personalDetailsAdditionalText"),fieldsDetails:this.stato.get("fieldsDetails"),showCheckPersonalInfoWarning:this.stato.get("showCheckPersonalInfoWarning"),showMandatoryFieldsWarning:this.stato.get("showMandatoryFieldsWarning"),showDuplicatedEmailWarning:this.stato.get("showDuplicatedEmailWarning"),showWrongPersonWarning:this.stato.get("showWrongPersonWarning"),
showWrongAnonymousWarning:this.stato.get("showWrongAnonymousWarning"),partnersType:this.stato.get("partnersType"),backgroundColor:this.stato.get("backgroundColorRegistration"),titleColor:this.stato.get("titleColorRegistration"),textColor:this.stato.get("textColorRegistration"),font:this.stato.get("fontRegistration"),fontTitle:this.stato.get("fontTitlePersonalDetails"),fontTitleSizePh:b},doOnSelection:a.hitch(this,function(a){var b=d.getElementById("personalDetailsAdditionalTextNode",this.iframeDocument.body);
d.getElementById("personalDetailsMandatoryFieldsWarningNode",this.iframeDocument.body);p.aggiornaStatoEValore("personalDetailsTitle",this,a.sectionTitle);this.stato.set("personalDetailsAdditionalText",a.additionText);a.additionText?(b.innerHTML=a.additionText+"\x3cbr/\x3e\x3cbr/\x3e",f.set(b,"display","inline")):(b.innerHTML="",f.set(b,"display","none"));this.stato.set("showCheckPersonalInfoWarning",a.showCheckPersonalInfoWarning);this.stato.set("showMandatoryFieldsWarning",a.showMandatoryFieldsWarning);
this.stato.set("showDuplicatedEmailWarning",a.showDuplicatedEmailWarning);this.stato.set("showWrongPersonWarning",a.showWrongPersonWarning);this.stato.set("showWrongAnonymousWarning",a.showWrongAnonymousWarning);p.aggiornaStatoEValore("backgroundColorRegistration",this,a.backgroundColor);p.aggiornaStatoEValore("titleColorRegistration",this,a.titleColor);p.aggiornaStatoEValore("textColorRegistration",this,a.textColor);p.aggiornaStatoEValore("fontRegistration",this,a.font);p.aggiornaStatoEValore("fontTitlePersonalDetails",
this,a.fontTitle);this.aggiornaVisibilitaWarningsPersonaDetails();a.fieldsChanged&&this.stato.set("dirty",!0)})})})},l);v.commons.data.enableLogic?(l=w.create("div",{"class":"editBtnContainer",style:""},h),l=w.create("div",{},l),this.goToManageFieldsBtn=new t({"class":"editFormLogicsButton",label:Q.lblGoToManageFieldsButton,onClick:a.hitch(this,function(){this.parentWidget.parentWidget.gotoManageFields()})},l),l=w.create("div",{"class":"editBtnContainer",style:""},h),l=w.create("div",{},l),this.dettagliPersonaliFormWithLogicEditBtn=
new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){console.log("IL PERCORSO...",this);this.parentWidget.parentWidget.showManageEventPagePersonalDetailsForm();this.popolaManageFormLogic()})},l)):(l=w.create("div",{"class":"editBtnContainer",style:""},h),l=w.create("div",{},l),this.dettagliPersonaliFormEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,
iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editPersonalDetailsFormDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:Q.lblEditPersonalDetailsFormFields,currentState:{sectionTitle:this.stato.get("personalDetailsTitle"),additionText:this.stato.get("personalDetailsAdditionalText"),fieldsDetails:this.stato.get("fieldsDetails"),texts:this.stato.get("texts"),partnersType:this.stato.get("partnersType"),allowUneditableFieldsManagement:this.stato.get("allowUneditableFieldsManagement")},
doOnSelection:a.hitch(this,function(a){a.fieldsChanged?(a.fieldsDetails&&this.stato.set("fieldsDetails",a.fieldsDetails),a.texts&&this.stato.set("texts",a.texts),a.campi&&this.riordinaPersonalDetails(a.campi),this.aggiornaVisibilitaCampiAnagrafica(),this.stato.set("dirty",!0)):a.redraw&&a.campi&&this.riordinaPersonalDetails(a.campi)})})})},l));this.aggiornaVisibilitaCampiAnagrafica();this.aggiornaVisibilitaWarningsPersonaDetails();k=w.create("div",{"class":"hideShowBtnContainer",style:""},k);k=w.create("div",
{},k);this.dettagliPersonaliVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,startChecked:this.stato.get("showPersonalDetails"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showPersonalDetails",this,a)})},k);h=w.create("div",{"class":"hideShowBtnContainer",style:"display: none"},h);h=w.create("div",{},h);this.dettagliPersonaliFormVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,startChecked:this.stato.get("showPersonalDetails"),doOnChange:a.hitch(this,
function(a){p.aggiornaStatoEValore("showPersonalDetails",this,a)})},h);this.aggiornaVisibilitaMask(!this.stato.get("showPersonalDetails"),e.parentNode)},popolaManageFormLogic:function(){this.parentWidget.parentWidget.manageEventPagePersonalDetailsFormWidget.show({idLanguage:this.stato.get("idLanguage"),title:Q.lblEditPersonalDetails,currentState:{fieldsDetails:this.stato.get("fieldsDetails"),texts:this.stato.get("texts"),partnersType:this.stato.get("partnersType"),allowUneditableFieldsManagement:this.stato.get("allowUneditableFieldsManagement"),
azioniCampi:[].concat(this.parentWidget.azioniCampi),condizioniCampi:[].concat(this.parentWidget.condizioniCampi),mappaListe:this.parentWidget.mappaListe},doOnSelection:a.hitch(this,function(b){console.log("dettagliPersonaliFormWithLogic.doOnSelection",b);var e=a.clone(this.stato.get("fieldsDetails")),h=a.clone(this.stato.get("texts"))||[],m=1;k.forEach(b,a.hitch(this,function(b,d){k.forEach(e,a.hitch(this,function(d){d.id==b.id&&(d.show=b.show,d.mandatory=b.mandatory,this.stato.get("allowUneditableFieldsManagement")&&
(d.uneditable=b.uneditable),"PROFILATI"==!!this.stato.get("partnersType")&&(d.showForPartner=b.showForPartner,d.mandatoryForPartner=b.mandatoryForPartner,this.stato.get("allowUneditableFieldsManagement")&&(d.uneditableForPartner=b.uneditableForPartner)),d.position=m++,d.subPosition=b.subPosition,b.parent&&(d.parentId=b.parent),b.rule&&("parametersMap"in d&&d.parametersMap||(d.parametersMap={}),d.parametersMap.rule=a.clone(b.rule)))}));k.forEach(h,a.hitch(this,function(d){b.id=="t"+d.idTesto&&(d.nome=
b.name,d.testo=b.name,d.visualizzaFormIscrizione=b.show,"PROFILATI"==this.stato.get("partnersType")&&(d.visualizzaAccompagnatori=b.showForPartner),b.style&&(d.stile=b.style),d.posizioneNelForm=m++,d.posizioneNelGruppo=b.subPosition,b.parent&&(d.idDipendeDa=b.parent),b.rule&&("mappaParametri"in d&&d.mappaParametri||(d.mappaParametri={}),d.mappaParametri.rule=a.clone(b.rule)))}));var f=k.some(h,function(a){return a.id==b.id});0!=(""+b.id).indexOf("tnew_")||f&&0!=f.length||(console.log("AGGIUNGO:",b),
h.push({idTesto:b.id.substr(1),id:b.id,idDipendeDa:b.parent,nome:b.name,testo:b.name,posizioneNelForm:m++,posizioneNelGruppo:b.subPosition,tipo:"label",visualizzaFormIscrizione:b.show,visualizzaAccompagnatori:b.showForPartner,stile:b.style}))}));var l=[],h=k.filter(h,function(a){var d=!1;k.forEach(b,function(b){b.id=="t"+a.idTesto&&(d=!0)});d||l.push("t"+a.idTesto);return d});e.sort(function(a,b){var d=0;a.position<b.position?d=-1:a.position>b.position&&(d=1);return d});this.stato.set("fieldsDetails",
e);this.stato.set("texts",h);k.forEach(l,a.hitch(this,function(a){var b="tx_"+a.substr(1),b=d.getElementById(b,this.iframeDocument.body);console.log("ELIMINO ["+a+"]",b);w.destroy(b)}));var n=d.getElementById("personalDetailsFieldsContainer",this.iframeDocument.body);k.forEach(b,a.hitch(this,function(b,e){var h="label"==b.itemType?"tx_"+b.id.substr(1):"cf_"+b.id,k=d.getElementById(h,this.iframeDocument.body);0!=(""+b.id).indexOf("tnew_")||k?(w.place(k,n,"last"),b.style?f.set(k,a.mixin({display:b.show?
"table":"none"},b.style)):f.set(k,"display",b.show?"table":"none")):b.deleted||(tmp=G(n,"div.itemForm.text[id\x3dcustomfield"+(e+1)+"Row][data-ebplatform-template-elementId\x3d"+h+"]",{innerHTML:b.name}),b.style?f.set(tmp,a.mixin({display:b.show?"table":"none"},b.style)):f.set(tmp,"display",b.show?"table":"none"));"label"==b.itemType&&k&&(k.innerHTML=b.name)}));this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx();this.aggiornaAltezzaIFrame()})})},aggiornaStatoLogiche:function(b){console.log("aggiornaStatoLogiche",
b);console.log("this.stato",this.stato);var d=a.clone(this.stato.get("fieldsDetails")),e=a.clone(this.stato.get("texts"))||[],f=1;k.forEach(b,a.hitch(this,function(b,h){k.forEach(d,a.hitch(this,function(d){d.id==b.id&&(d.show=b.show,d.mandatory=b.mandatory,this.stato.get("allowUneditableFieldsManagement")&&(d.uneditable=b.uneditable),"PROFILATI"==this.stato.get("partnersType")&&(console.log(b.name+".... aggiorno flag accompagnatori"),d.showForPartner=b.showForPartner,d.mandatoryForPartner=b.mandatoryForPartner,
this.stato.get("allowUneditableFieldsManagement")&&(d.uneditableForPartner=b.uneditableForPartner)),d.position=f++,d.subPosition=b.subPosition,d.parentId=b.parent,"parametersMap"in d&&d.parametersMap||(d.parametersMap={}),d.parametersMap.rule=a.clone(b.rule))}));k.forEach(e,a.hitch(this,function(d){b.id=="t"+d.idTesto&&(d.nome=b.name,d.testo=b.name,d.visualizzaFormIscrizione=b.show,"PROFILATI"==this.stato.get("partnersType")&&(d.visualizzaAccompagnatori=b.showForPartner),b.style&&(d.stile=b.style),
d.posizioneNelForm=f++,d.posizioneNelGruppo=b.subPosition,d.idDipendeDa=b.parent,"mappaParametri"in d&&d.mappaParametri||(d.mappaParametri={}),d.mappaParametri.rule=a.clone(b.rule))}));var m=k.some(e,function(a){return a.id==b.id});0!=(""+b.id).indexOf("tnew_")||m&&0!=m.length||(console.log("AGGIUNGO:",b),e.push({idTesto:b.id.substr(1),id:b.id,idDipendeDa:b.parent,nome:b.name,testo:b.name,posizioneNelForm:f++,posizioneNelGruppo:b.subPosition,tipo:"label",visualizzaFormIscrizione:b.show,visualizzaAccompagnatori:b.showForPartner,
stile:b.style}))}));var h=[],e=k.filter(e,function(a){var d=!1;k.forEach(b,function(b){b.id=="t"+a.idTesto&&(d=!0)});d||h.push("t"+a.idTesto);return d});console.log("........ idTestiEliminati",h);console.log("........ newFieldsDetails",d);console.log("........ newTexts",e);d.sort(function(a,b){var d=0;a.position<b.position?d=-1:a.position>b.position&&(d=1);return d});this.stato.set("fieldsDetails",d);this.stato.set("texts",e)},initBoxAccompanyingGuests:function(){S.debug("initBoxAccompanyingGuests");
this.accompagnatoriBoxNode=d.getElementById("boxAccompanyingGuest",this.iframeDocument.body);var b=w.create("div",{"class":"btnsControls",style:""},this.accompagnatoriBoxNode),b=w.create("div",{"class":"editBtnContainer",style:""},b),b=w.create("div",{},b);this.dettagliPersonaliEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editTestiAccompagnatoriDialogWidget.show({title:Q.lblEditAccompanyingGuestsTextsDialogTitle,
currentState:{accompanyingGuestsSectionTitle:this.stato.get("accompanyingGuestsSectionTitle"),maxAccompanyingGuests:this.stato.get("maxAccompanyingGuests"),maxAccompanyingGuestsNoCapacity:this.stato.get("maxAccompanyingGuestsNoCapacity"),maxAccompanyingGuestsFull:this.stato.get("maxAccompanyingGuestsFull"),numAccompanyingGuestAdded:this.stato.get("numAccompanyingGuestAdded"),addAccompanyingGuests:this.stato.get("addAccompanyingGuests"),addOneMoreAccompanyingGuest:this.stato.get("addOneMoreAccompanyingGuest"),
backToParent:this.stato.get("backToParent"),accompanyingGuestSectionTitle:this.stato.get("accompanyingGuestSectionTitle"),accompanyingGuestFieldInLists:this.stato.get("accompanyingGuestFieldInLists"),accompanyingGuestPosition:this.stato.get("accompanyingGuestPosition"),accompanyingGuestsSectionTitleInEmail:this.stato.get("accompanyingGuestsSectionTitleInEmail"),accompaniedGuestThanksTitle:this.stato.get("accompaniedGuestThanksTitle"),accompaniedGuestThanksSubTitle:this.stato.get("accompaniedGuestThanksSubTitle"),
accompanyingGuestThanksTitle:this.stato.get("accompanyingGuestThanksTitle"),accompanyingGuestThanksSubTitle:this.stato.get("accompanyingGuestThanksSubTitle")},doOnSelection:a.hitch(this,function(a){S.debug("RESTITUITO",a);this.stato.set("accompanyingGuestsSectionTitle",a.accompanyingGuestsSectionTitle);this.stato.set("maxAccompanyingGuests",a.maxAccompanyingGuests);this.stato.set("maxAccompanyingGuestsNoCapacity",a.maxAccompanyingGuestsNoCapacity);this.stato.set("maxAccompanyingGuestsFull",a.maxAccompanyingGuestsFull);
this.stato.set("numAccompanyingGuestAdded",a.numAccompanyingGuestAdded);this.stato.set("addAccompanyingGuests",a.addAccompanyingGuests);this.stato.set("addOneMoreAccompanyingGuest",a.addOneMoreAccompanyingGuest);this.stato.set("backToParent",a.backToParent);this.stato.set("accompanyingGuestSectionTitle",a.accompanyingGuestSectionTitle);this.stato.set("accompanyingGuestFieldInLists",a.accompanyingGuestFieldInLists);this.stato.set("accompanyingGuestPosition",a.accompanyingGuestPosition);this.stato.set("accompanyingGuestsSectionTitleInEmail",
a.accompanyingGuestsSectionTitleInEmail);this.stato.set("accompaniedGuestThanksTitle",a.accompaniedGuestThanksTitle);this.stato.set("accompaniedGuestThanksSubTitle",a.accompaniedGuestThanksSubTitle);this.stato.set("accompanyingGuestThanksTitle",a.accompanyingGuestThanksTitle);this.stato.set("accompanyingGuestThanksSubTitle",a.accompanyingGuestThanksSubTitle);this.aggiornaBoxAccompagnatori()})})})},b)},initBoxPrivacy:function(){var b=d.getElementById("boxPrivacy",this.iframeDocument.body),e=w.create("div",
{"class":"btnsControls",style:""},b),h=w.create("div",{"class":"editBtnContainer",style:""},e),h=w.create("div",{},h);new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editPrivacyDialogWidget.show({title:Q.lblEditPrivacySection,currentState:{showPrivacy:this.stato.get("showPrivacy"),showPrivacyIntro:this.stato.get("privacyConfigured")?this.stato.get("showPrivacyIntro"):v.commons.data.customerDefaults.visualizzaTestoIntroInformativaDefault,
privacyIntro:this.stato.get("privacyConfigured")?this.stato.get("privacyIntro"):v.commons.data.customerDefaults.testoIntroInformativaDefault,privacy:this.stato.get("privacyConfigured")?this.stato.get("privacy"):v.commons.data.customerDefaults.testoInformativaDefault,showConsentRequest1:this.stato.get("privacyConfigured")?this.stato.get("showConsentRequest1"):v.commons.data.customerDefaults.presenteRichiestaConsensoServizioDefault,isConsentRequest1Mandatory:this.stato.get("privacyConfigured")?this.stato.get("isConsentRequest1Mandatory"):
v.commons.data.customerDefaults.richiestoConsensoServizioDefault,consentRequest1Text:this.stato.get("privacyConfigured")?this.stato.get("consentRequest1Text"):v.commons.data.customerDefaults.testoPrivacyServizioDefault,showConsentRequest2:this.stato.get("privacyConfigured")?this.stato.get("showConsentRequest2"):v.commons.data.customerDefaults.presenteRichiestaConsensoPubblicitaDefault,isConsentRequest2Mandatory:this.stato.get("privacyConfigured")?this.stato.get("isConsentRequest2Mandatory"):v.commons.data.customerDefaults.richiestoConsensoPubblicitaDefault,
consentRequest2Text:this.stato.get("privacyConfigured")?this.stato.get("consentRequest2Text"):v.commons.data.customerDefaults.testoPrivacyPubblicitaDefault,showConsentRequest3:this.stato.get("privacyConfigured")?this.stato.get("showConsentRequest3"):v.commons.data.customerDefaults.presenteRichiestaConsensoTerziDefault,isConsentRequest3Mandatory:this.stato.get("privacyConfigured")?this.stato.get("isConsentRequest3Mandatory"):v.commons.data.customerDefaults.richiestoConsensoTerziDefault,consentRequest3Text:this.stato.get("privacyConfigured")?
this.stato.get("consentRequest3Text"):v.commons.data.customerDefaults.testoPrivacyTerziDefault,backgroundColor:this.stato.get("backgroundColorPrivacy"),textColor:this.stato.get("textColorPrivacy")},doOnSelection:a.hitch(this,function(a){var b;S.debug("privacy returnValue:",a);p.aggiornaStatoEValore("showPrivacy",this,a.showPrivacy);p.aggiornaStatoEValore("backgroundColorPrivacy",this,a.backgroundColor);p.aggiornaStatoEValore("textColorPrivacy",this,a.textColor);this.stato.set("showPrivacyIntro",a.showPrivacyIntro);
this.stato.set("privacyIntro",a.privacyIntro);this.stato.set("privacy",a.privacy);for(b=1;3>=b;b++)this.stato.set("showConsentRequest"+b,a["showConsentRequest"+b]),this.stato.set("isConsentRequest"+b+"Mandatory",a["isConsentRequest"+b+"Mandatory"]),this.stato.set("consentRequest"+b+"Text",a["consentRequest"+b+"Text"]);this.aggiornaBoxPrivacy()})})})},h);e=w.create("div",{"class":"hideShowBtnContainer",style:""},e);e=w.create("div",{},e);this.privacyVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,
startChecked:this.stato.get("showPrivacy"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showPrivacy",this,a)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showPrivacy"),b);this.aggiornaBoxPrivacy();b=d.getElementById("inlineInformativaOpenerNode",this.iframeDocument.body);f.set(b,"display",this.stato.get("privacy")?"block":"none")},initBoxRegistrationButtons:function(){var b=d.getElementById("boxRegistrationButtons",this.iframeDocument.body),e=w.create("div",{"class":"btnsControls",
style:""},b),h=w.create("div",{"class":"editBtnContainer",style:""},e),h=w.create("div",{},h),k;m(".inputSubmit",b).forEach(function(a){(k=f.get(a,"fontSize"))&&(k=k.replace(/(\d+)(\.\d+)(\w\w)/,"$1$3"))});this.registrationButtonsEditBtn=new t({disabled:v.evento.statoCalcolato.eventoTerminato,"class":"editButton",label:Z.lblModificaButton,iconClass:"editButtonIcon",onClick:a.hitch(this,function(){this.editRegistrationButtonsDialogWidget.show({idLanguage:this.stato.get("idLanguage"),title:Q.lblEditRegistrationButtons,
currentState:{showPartnerButtons:"PROFILATI"==v.evento.stato.event_details.partnersType,registrationBtnLabel:this.stato.get("registrationBtnLabel"),registrationAddPartnerBtnLabel:this.stato.get("registrationAddPartnerBtnLabel"),registrationUpdateBtnLabel:this.stato.get("registrationUpdateBtnLabel"),registrationUpdateAddPartnerBtnLabel:this.stato.get("registrationUpdateAddPartnerBtnLabel"),registrationDeleteBtnLabel:this.stato.get("registrationDeleteBtnLabel"),showPartecipationDenyBtn:this.stato.get("showPartecipationDenyBtn"),
partecipationDenyBtnLabel:this.stato.get("partecipationDenyBtnLabel"),partecipationDenyText:this.stato.get("partecipationDenyText"),registrationBtnColor:this.stato.get("registrationBtnColor"),registrationBtnBackground:this.stato.get("registrationBtnBackground"),updateBtnColor:this.stato.get("updateBtnColor"),updateBtnBackground:this.stato.get("updateBtnBackground"),deleteBtnColor:this.stato.get("deleteBtnColor"),deleteBtnBackground:this.stato.get("deleteBtnBackground"),partecipationDenyBtnColor:this.stato.get("partecipationDenyBtnColor"),
partecipationDenyBtnBackground:this.stato.get("partecipationDenyBtnBackground"),font:this.stato.get("fontButtons"),fontSizePh:k},doOnSelection:a.hitch(this,function(a){this.stato.set("registrationBtnLabel",a.registrationBtnLabel);this.stato.set("registrationAddPartnerBtnLabel",a.registrationAddPartnerBtnLabel);this.stato.set("registrationUpdateBtnLabel",a.registrationUpdateBtnLabel);this.stato.set("registrationUpdateAddPartnerBtnLabel",a.registrationUpdateAddPartnerBtnLabel);this.stato.set("registrationDeleteBtnLabel",
a.registrationDeleteBtnLabel);this.stato.set("partecipationDenyBtnLabel",a.partecipationDenyBtnLabel);this.stato.set("partecipationDenyText",a.partecipationDenyText);p.aggiornaStatoEValore("registrationBtnColor",this,a.registrationBtnColor);p.aggiornaStatoEValore("registrationBtnBackground",this,a.registrationBtnBackground);p.aggiornaStatoEValore("updateBtnColor",this,a.updateBtnColor);p.aggiornaStatoEValore("updateBtnBackground",this,a.updateBtnBackground);p.aggiornaStatoEValore("deleteBtnColor",
this,a.deleteBtnColor);p.aggiornaStatoEValore("deleteBtnBackground",this,a.deleteBtnBackground);p.aggiornaStatoEValore("partecipationDenyBtnColor",this,a.partecipationDenyBtnColor);p.aggiornaStatoEValore("partecipationDenyBtnBackground",this,a.partecipationDenyBtnBackground);p.aggiornaStatoEValore("fontButtons",this,a.font);this.aggiornaPulsanteRegistrazione()})})})},h);e=w.create("div",{"class":"hideShowBtnContainer",style:""},e);e=w.create("div",{},e);this.registrationButtonsVisibilityBtn=new C({disabled:v.evento.statoCalcolato.eventoTerminato,
startChecked:this.stato.get("showButtons"),doOnChange:a.hitch(this,function(a){p.aggiornaStatoEValore("showButtons",this,a)})},e);this.aggiornaVisibilitaMask(!this.stato.get("showButtons"),b);this.aggiornaPulsanteRegistrazione()},aggiornaVisibilitaMask:function(a,b){if(b)h[a?"add":"remove"](b,"hideWithMask")},aggiornaVisibilitaElementByEbId:function(a,b){var e;a?(f.set(d.getElementById(b,this.iframeDocument.body),"display","block"),e="ebShow"):(f.set(d.getElementById(b,this.iframeDocument.body),"display",
"none"),e="ebHide");l.emit(d.getElementById(b,this.iframeDocument.body),e,{ebId:b,bubbles:!0,cancelable:!0})},aggiornaCollassaDate:function(a){this.stato.get("collapseDates")?(m("[data-ebplatform-template-role\x3d'collapsableDate']",this.iframeDocument.body).style("display","block"),m("[data-ebplatform-template-role\x3d'notCollapsableDate']",this.iframeDocument.body).style("display","none"),this.iframe.contentWindow.ebPlatform.iscrizione.abilitaCollassoDate()):(m("[data-ebplatform-template-role\x3d'collapsableDate']",
this.iframeDocument.body).style("display","none"),m("[data-ebplatform-template-role\x3d'notCollapsableDate']",this.iframeDocument.body).style("display","block"),m(".divContainerFasce",this.iframeDocument.body).style("display",""));(void 0===a||a)&&this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx()},aggiornaVisibilitaDisponibilita:function(){this.stato.get("showAvailabilityStatus")?m(".disponibilitaIscritto",this.iframeDocument.body).style("display","inline"):m(".disponibilitaIscritto",
this.iframeDocument.body).style("display","none")},aggiornaVisibilitaPostiDisponibili:function(){this.stato.get("showAvailability")?m(".numeroPostiDisponibili",this.iframeDocument.body).style("display","inline"):m(".numeroPostiDisponibili",this.iframeDocument.body).style("display","none")},aggiornaVisibilitaCampiAnagrafica:function(b){var e=!1;k.forEach(this.stato.get("fieldsDetails"),a.hitch(this,function(a){if("Lista"==a.type||"Data"==a.type)if(a.render&&"radio"==a.render)a.uneditable?(m("#customfield"+
a.position+"Row \x3e span",this.iframeDocument.body).addClass("dijitDisabled"),m("#customfield"+a.position+"Row \x3e span \x3e input",this.iframeDocument.body).attr("disabled","disabled")):(m("#customfield"+a.position+"Row \x3e span",this.iframeDocument.body).removeClass("dijitDisabled"),m("#customfield"+a.position+"Row \x3e span \x3e input",this.iframeDocument.body).removeAttr("disabled"));else{var b=m("#customfield"+a.position+"Row \x3e div",this.iframeDocument.body)[0];b&&(a.uneditable?(h.add(b,
"dijitDisabled"),m("#customfield"+a.position+"Row \x3e div \x3e div \x3e input",this.iframeDocument.body).attr("disabled","disabled")):(h.remove(b,"dijitDisabled"),m("#customfield"+a.position+"Row \x3e div \x3e div \x3e input",this.iframeDocument.body).removeAttr("disabled")))}else a.uneditable?(m("#customfield"+a.position+"Row \x3e input",this.iframeDocument.body).attr("disabled","disabled"),m("#customfield"+a.position+"Row \x3e input",this.iframeDocument.body).addClass("disabled")):(m("#customfield"+
a.position+"Row \x3e input",this.iframeDocument.body).removeAttr("disabled"),m("#customfield"+a.position+"Row \x3e input",this.iframeDocument.body).removeClass("disabled"));m("#customfield"+a.position+"Row",this.iframeDocument.body).style("display",a.show?"table":"none");m("#customfield"+a.position+"Row",this.iframeDocument.body).query(".mandatory").style("display",a.mandatory?"inline":"none");e=e||a.show}));var l=d.getElementById("personalDetailsFieldsWarningNode",this.iframeDocument.body);l&&(e?
f.set(l,"display","block"):f.set(l,"display","none"));if(void 0===b||b)this.iframe.contentWindow.ebPlatform&&this.iframe.contentWindow.ebPlatform.iscrizione&&this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx&&this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx(),this.aggiornaAltezzaIFrame()},aggiornaVisibilitaWarningsPersonaDetails:function(){var a=d.getElementById("personalDetailsCheckPersonalInfoWarningNode",this.iframeDocument.body),b=d.getElementById("personalDetailsMandatoryFieldsWarningNode",
this.iframeDocument.body),e=d.getElementById("personalDetailsWrongPersonWarningNode",this.iframeDocument.body),h=d.getElementById("personalDetailsWrongAnonymousWarningNode",this.iframeDocument.body);a&&(this.stato.get("showCheckPersonalInfoWarning")?f.set(a,"display","inline"):f.set(a,"display","none"));b&&(this.stato.get("showMandatoryFieldsWarning")?f.set(b,"display","inline"):f.set(b,"display","none"));e&&(this.stato.get("showWrongPersonWarning")?f.set(e,"display","inline"):f.set(e,"display","none"));
h&&(this.stato.get("showWrongAnonymousWarning")?f.set(h,"display","inline"):f.set(h,"display","none"))},aggiornaBoxPrivacy:function(){var a=!0,b=d.getElementById("inlineInformativaOpenerNode",this.iframeDocument.body);f.set(b,"display",this.stato.get("privacy")?"block":"none");f.set(d.getElementById("privacyIntroNode",this.iframeDocument.body),"display",this.stato.get("showPrivacyIntro")?"inline":"none");a=a&&!this.stato.get("showPrivacyIntro");this.stato.get("privacyIntro")&&(d.getElementById("privacyIntroNode",
this.iframeDocument.body).innerHTML=this.stato.get("privacyIntro"),a=a&&!this.stato.get("privacyIntro"));for(i=1;3>=i;i++)a=a&&!this.stato.get("showConsentRequest"+i),f.set(d.getElementById("consentRequest"+i+"Node",this.iframeDocument.body).parentNode,"display",this.stato.get("showConsentRequest"+i)?"block":"none"),f.set(d.getElementById("consentRequest"+i+"Node",this.iframeDocument.body),"display",this.stato.get("showConsentRequest"+i)?"block":"none"),f.set(d.getElementById("consentRequest"+i+"MandatoryNode",
this.iframeDocument.body),"visibility",this.stato.get("isConsentRequest"+i+"Mandatory")?"visible":"hidden"),this.stato.get("consentRequest"+i+"Text")&&(d.getElementById("consentRequest"+i+"TextNode",this.iframeDocument.body).innerHTML=this.stato.get("consentRequest"+i+"Text"));b=d.getElementById("boxPrivacy",this.iframeDocument.body);this.aggiornaVisibilitaVisibilityBtn(b,null,!a);a?(d.getElementById("privacyPlaceHolderLabelNode",this.iframeDocument.body).innerHTML=Q.lblPrivacySectionPlaceHolder,
f.set(d.getElementById("privacyPlaceHolderNode",this.iframeDocument.body),"display","block"),this.stato.set("showPrivacy",!1),this.aggiornaVisibilitaMask(!0,b)):f.set(d.getElementById("privacyPlaceHolderNode",this.iframeDocument.body),"display","none");this.aggiornaAltezzaIFrame()},aggiornaPulsanteRegistrazione:function(){var a=this.localizedMessages.lblPlaceHolderIscriviti;this.stato.get("registrationBtnLabel")&&(a=this.stato.get("registrationBtnLabel"));var e=this.localizedMessages.lblPlaceHolderNegaParteciapzione;
this.stato.get("partecipationDenyBtnLabel")&&(e=this.stato.get("partecipationDenyBtnLabel"));var h=d.getElementById("registrationButtonNode",this.iframeDocument.body);h&&b.set(h,"value",a);(h=d.getElementById("updateButtonNode",this.iframeDocument.body))&&b.set(h,"value",a);(h=d.getElementById("deleteButtonNode",this.iframeDocument.body))&&b.set(h,"value",a);if(a=d.getElementById("denyRegistrationButtonNode",this.iframeDocument.body))f.set(a,"display",this.stato.get("showPartecipationDenyBtn")?"inline-block":
"none"),b.set(a,"value",e)},aggiornaBoxAccompagnatori:function(){S.debug("TODO:  aggiornaBoxAccompagnatori");var a=d.getElementById("accompayningGuestsSectionTitleNode",this.iframeDocument.body);this.stato.get("accompanyingGuestsSectionTitle")?a.innerHTML=this.stato.get("accompanyingGuestsSectionTitle"):a.innerHTML=d.getElementById("accompanyingGuestsSectionTitleText",this.iframeDocument.body).innerHTML;a=d.getElementById("maxNumAccompanyingGuestsNode",this.iframeDocument.body);this.stato.get("maxAccompanyingGuests")?
a.innerHTML=this.stato.get("maxAccompanyingGuests").replace("{0}",v.evento.stato.event_details.maxPartners):a.innerHTML=d.getElementById("maxAccompanyingGuestsText",this.iframeDocument.body).innerHTML.replace("{0}",v.evento.stato.event_details.maxPartners);a=d.getElementById("addAccompanyingGuestsNode",this.iframeDocument.body);this.stato.get("addAccompanyingGuests")?a.innerHTML=this.stato.get("addAccompanyingGuests"):a.innerHTML=d.getElementById("addAccompanyingGuestsText",this.iframeDocument.body).innerHTML;
if(a=d.getElementById("addAccompanyingGuestNode",this.iframeDocument.body))this.stato.get("addAccompanyingGuest")?a.innerHTML=this.stato.get("addAccompanyingGuest"):a.innerHTML=d.getElementById("addOneMoreAccompanyingGuestText",this.iframeDocument.body).innerHTML},aggiornaColoreBackground:function(a){f.set(this.iframeDocument.body,"backgroundColor",a||"transparent")},aggiornaColoreTesto:function(a){f.set(this.iframeDocument.body,{color:a})},riordinaEventDetails:function(a){var b=d.getElementById("boxEventDetailsNormalMode",
this.iframeDocument.body);a=a.split(/\s*,\s*/);for(var e=0;e<a.length;e++)w.place(d.getElementById(a[e],this.iframeDocument.body),b,"last")},riordinaPersonalDetails:function(b){var e,h,m,l=d.getElementById("boxPersonalDetailsFormNode",this.iframeDocument.body),n=this.iframeDocument.body;k.forEach(b,function(b,k){h=("label"==b.type?"tx":"cf")+"_"+b.id;(m=d.getElementById(h,n))?b.deleted?G(m,"!"):(G(m,"#customfield"+b.position+"Row"),"label"==b.type&&(m.innerHTML=b.text,b.style?f.set(m,a.mixin({display:b.show?
"table":"none"},b.style)):f.set(m,"display",b.show?"table":"none")),w.place(m,l,"last")):b.deleted||(e=G(l,"div.itemForm.text[id\x3dcustomfield"+b.position+"Row][data-ebplatform-template-elementId\x3d"+h+"]",{innerHTML:b.text}),b.style?f.set(e,a.mixin({display:b.show?"table":"none"},b.style)):f.set(e,"display",b.show?"table":"none"))});this.aggiornaAltezzaIFrame()},applyTemplateModel:function(b){0<b?y.get("/getEventPageTemplateModel.plp",{query:{id:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,
function(b){if("OK"==(b.result||b).resultCode){var d=a.clone(this.parentWidget.statoStartUp);M.copyTo(b.modello,d,M.invertMapping(a.getObject("evento.mappings.event_page",!1,v)));S.group("applico modello");S.dir(d);this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader.suspend=!0;try{for(var e in d)this.applicaModello(d,e,this)}finally{this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader.suspend=!1}S.groupEnd();setTimeout(a.hitch(this,function(){this.aggiornaAltezzaIFrame();this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx();
this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader()}),1500)}else L.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)}),a.hitch(this,function(){L.showInfoWithCloseButton(Z.msgErroreServer,X.footerInc.lblErrorMsgDialogTitle,Z.lblOKButton)})):-1==b&&(this.resetTemplateElements(),this.stato.set("dirty",!1))},applicaModello:function(a,b,d){var e;try{b&&void 0!==a[b]&&null!==a[b]&&(e="Object"==typeof a[b]?a[b].value:a[b],p.aggiornaStatoEValore(b,d,e))}catch(da){console.error(da,
b,a,e)}},_TemplateElement:q([x],{changes:[],_valueSetter:function(a){S.trace("aggiorno",this.name,a,this);var b=this.templateWidget.iframeDocument.body,e;k.forEach(this.changes,function(h){var k=a;void 0!==h.valueRef&&h.valueRef==a?k=h.valueDecoded:void 0!==h.ifTrue&&!0===a?k=h.ifTrue:void 0!==h.ifFalse&&!1===a?k=h.ifFalse:void 0===h.ifFalsy||a||(k=h.ifFalsy);if(void 0!==h.selector)m(h.selector,b).forEach(function(a){if(h.isFont){for(var b in k)e=k[b],void 0===h.ifFalsy||k[b]&&(void 0===k[b].length||
0!=k[b].length)||(e=h.ifFalsy[b]||""),S.trace("imposto",a,b,e),f.set(a,b,e);k.fontSize?(f.set(a,"line-height","normal"),f.set(a,"white-space","normal")):(f.set(a,"line-height",""),f.set(a,"white-space",""))}else S.trace("imposto",a,h.styleProp,k),f.set(a,h.styleProp,k)});else if(void 0!==h.templateElId){var l=d.getElementById(h.templateElId,b);if(l)if(h.isFont)for(var n in k)e=k[n],void 0===h.ifFalsy||k[n]||(e=h.ifFalsy[n]||""),S.trace("imposto",l,n,e),f.set(l,n,e);else S.trace("imposto",l,h.styleProp,
k),f.set(l,h.styleProp,k);else S.warn(this.name,"non trovo",h.templateElId)}else if(h.isFont)for(n in k)e=k[n],void 0===h.ifFalsy||k[n]||(e=h.ifFalsy[n]||h.ifFalsy),S.trace("imposto",l,n,e),f.set(l,n,e);else f.set(b,h.styleProp,k);void 0!==h.widget&&h.widget.set(h.prop,k);void 0!==h.action&&h.action(k)})}}),addTemplateElement:function(a,b,d,e){d[a+"Widget"]&&delete d[a+"Widget"];d[a+"Widget"]=new this._TemplateElement({name:a,templateWidget:e||d,changes:b});this.templateElements.push(d[a+"Widget"])},
resetTemplateElements:function(){var b=this,d=this.parentWidget.statoReset,e;this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader.suspend=!0;try{k.forEach(this.templateElements,function(a){e=null;void 0!==d[a.name]&&(e=d[a.name]);S.trace("Reset ",a.name,"#",d[a.name],"#","#",e,"#");p.aggiornaStatoEValore(a.name,b,null!=e?e:"")}),this.stato.get("texts")&&k.forEach(this.stato.get("texts"),function(d){d.stile={backgroundColor:"transparent",color:null,marginTop:null,marginBottom:null,paddingTop:null,
paddingBottom:null,fontFamily:null,fontWeight:null,fontSize:null,textAlign:null};d.visualizzaFormIscrizione=!0;m("#customfield"+d.posizioneNelForm+"Row",b.iframeDocument.body).forEach(function(b){f.set(b,a.mixin(d.stile,{display:"table"}))})})}finally{this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader.suspend=!1}this.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx();this.iframe.contentWindow.ebPlatform.iscrizione.fitHeader()},initTemplateElements:function(){this.templateElements=
[];var k=this;this.addTemplateElement("backgroundColor",[{action:function(a){k.parentWidget.backgroundColorWidget.set("value",a,!1);f.set(k.iframeDocument.body,"backgroundColor",a||"transparent")}}],this);this.addTemplateElement("textColor",[{selector:".info h3 \x3e span",styleProp:"color"}],this);this.addTemplateElement("datesColor",[{selector:".info h4 .customDate, .info h4 * \x3e span, .info h4 * \x3e em",styleProp:"color"}],this);this.addTemplateElement("backgroundColorEventDetails",[{selector:"#boxSx",
styleProp:"backgroundColor"}],this);this.addTemplateElement("backgroundColorRegistration",[{selector:"#boxDx",styleProp:"backgroundColor"}],this);this.addTemplateElement("backgroundColorPrivacy",[{selector:".boxesPrivacyWrap",styleProp:"backgroundColor"}],this);this.addTemplateElement("titleColorEventDetails",[{selector:"#boxSx h5",styleProp:"color"}],this);this.addTemplateElement("titleColorRegistration",[{selector:"#boxDx h5",styleProp:"color"}],this);this.addTemplateElement("textColorEventDetails",
[{selector:"#boxSx",styleProp:"color"}],this);this.addTemplateElement("textColorRegistration",[{selector:"#boxDx",styleProp:"color"},{selector:"#boxDx .mandatory",styleProp:"color",valueRef:this.parentWidget.statoStartUp.textColorRegistration,valueDecoded:"#F26524"}],this);this.addTemplateElement("textColorPrivacy",[{selector:".boxesPrivacyWrap",styleProp:"color"},{selector:".boxesPrivacyWrap .mandatory",styleProp:"color",valueRef:this.parentWidget.statoStartUp.textColorPrivacy,valueDecoded:"#F26524"},
{selector:".boxesPrivacyWrap #inlineInformativaOpener",styleProp:"color",valueRef:this.parentWidget.statoStartUp.textColorPrivacy,valueDecoded:"#F26524"}],this);this.addTemplateElement("fontButtons",[{selector:".submitIscrizione, .submitNegaPartecipazione, .submitModificaIscrizione, .submitCancellaIscrizione",ifFalsy:{fontFamily:"inherit",fontSize:"100%",fontWeight:"600",textAlign:"inherit"},isFont:!0}],this);this.addTemplateElement("fontAddress",[{selector:".sec.info \x3e p",ifFalsy:{fontSize:"100%"},
isFont:!0}],this);this.addTemplateElement("fontHeader",[{selector:".info h3 \x3e span",ifFalsy:{fontFamily:"inherit",fontSize:"100%",fontWeight:"inherit",textAlign:"inherit",textTransform:"initial"},isFont:!0,action:function(a){var b=d.getElementById("boxHeader",k.iframeDocument.body),e=d.getElementById("boxLogo",k.iframeDocument.body),l="initial";a.textAlign?(l=a.textAlign,"custom"==l?(l="left",h.add(e,"column"),h.add(b,"column"),h.remove(b,"centered"),(b=k.stato.get("logo"))&&b.style&&(e=d.getElementById("boxEventDetails",
k.iframeDocument.body).parentNode,e=r.getContentBox(e).w,b.style.width=e+"px",p.aggiornaStatoEValore("logo",k,b))):"center"==l?(h.remove(e,"column"),h.remove(b,"column"),h.add(b,"centered")):(h.remove(e,"column"),h.remove(b,"column"),h.remove(b,"centered"))):(h.remove(e,"column"),h.remove(b,"column"),h.remove(b,"centered"));m(".info h3",k.iframeDocument.body).forEach(function(b){f.set(b,"marginTop",a.marginTop?a.marginTop:"0px")});k.iframe.contentWindow.ebPlatform.iscrizione.fitHeader()}}],this);
this.addTemplateElement("fontDatesHeader",[{selector:".info h4 .customDate, .info h4 .date \x3e span, .info h4 .time \x3e span, .info h4 .timeslot \x3e span, .info h4 .timeslot \x3e em",ifFalsy:{fontFamily:"inherit",fontSize:"100%",fontWeight:"inherit",textTransform:"initial"},isFont:!0,action:function(a){m(".info h4",k.iframeDocument.body).forEach(function(b){f.set(b,"marginTop",a.marginBottom?a.marginTop:"0px");f.set(b,"marginBottom",a.marginBottom?a.marginBottom:"0px")});k.iframe.contentWindow.ebPlatform.iscrizione.fitHeader()}}],
this);this.addTemplateElement("fontTitleEventDetails",[{selector:"#boxSx h5 span",ifFalsy:{fontFamily:"inherit",fontSize:"100%",fontWeight:"inherit",textAlign:"inherit"},isFont:!0}],this);this.addTemplateElement("fontEventDetails",[{selector:"#boxSx \x3e div",ifFalsy:{fontFamily:"inherit",fontSize:"100%",textAlign:"inherit"},isFont:!0}],this);this.addTemplateElement("fontRegistration",[{selector:"#boxDx \x3e div",ifFalsy:{fontFamily:"inherit",fontSize:"100%",textAlign:"inherit"},isFont:!0}],this);
this.addTemplateElement("fontTitleRegistration",[{selector:"#boxDateEvento \x3e h5 span",ifFalsy:{fontFamily:"inherit",fontSize:"100%",fontWeight:"inherit",textAlign:"inherit"},isFont:!0}],this);this.addTemplateElement("fontTitlePersonalDetails",[{selector:".boxDatiIscrizione h5 span",ifFalsy:{fontFamily:"inherit",fontSize:"100%",fontWeight:"inherit",textAlign:"inherit"},isFont:!0}],this);this.addTemplateElement("registrationBtnColor",[{templateElId:"registrationButtonNode",styleProp:"color"}],this);
this.addTemplateElement("registrationBtnBackground",[{templateElId:"registrationButtonNode",styleProp:"background-color"}],this);this.addTemplateElement("deleteBtnColor",[{templateElId:"deleteButtonNode",styleProp:"color"}],this);this.addTemplateElement("deleteBtnBackground",[{templateElId:"deleteButtonNode",styleProp:"background-color"}],this);this.addTemplateElement("updateBtnColor",[{templateElId:"updateButtonNode",styleProp:"color"}],this);this.addTemplateElement("updateBtnBackground",[{templateElId:"updateButtonNode",
styleProp:"background-color"}],this);this.addTemplateElement("partecipationDenyBtnColor",[{templateElId:"denyRegistrationButtonNode",styleProp:"color"}],this);this.addTemplateElement("partecipationDenyBtnBackground",[{templateElId:"denyRegistrationButtonNode",styleProp:"background-color"}],this);this.addTemplateElement("showLogo",[{widget:this.logoVisibilityBtn,prop:"checked"}],this);this.addTemplateElement("showLogoDx",[{widget:this.logoDxVisibilityBtn,prop:"checked"}],this);this.addTemplateElement("showHeader",
[{widget:this.headerVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxHeader",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showPageImage",[{widget:this.immagineVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxPageImage",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showHeaderImage",[{widget:this.immagineHeaderVisibilityBtn,prop:"checked",action:function(a){var b=
d.getElementById("boxHeaderImage",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showButtons",[{widget:this.registrationButtonsVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxRegistrationButtons",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showFooterImage",[{widget:this.immagineFooterVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxFooterImage",k.iframeDocument.body);
k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showEventDetails",[{widget:this.dettagliEventoVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxEventDetails",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showPersonalDetails",[{widget:this.dettagliPersonaliVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxPersonalDetails",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b.parentNode)}},{widget:this.dettagliPersonaliFormVisibilityBtn,
prop:"checked",action:function(a){var b=d.getElementById("boxPersonalDetailsFormNode",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showPrivacy",[{widget:this.privacyVisibilityBtn,prop:"checked",action:function(a){var b=d.getElementById("boxPrivacy",k.iframeDocument.body);k.aggiornaVisibilitaMask(!a,b)}}],this);this.addTemplateElement("showEventDetailsImage",[{action:function(a){k.aggiornaVisibilitaElementByEbId(a,"eventDetailsImageImgContainerNode")}}],this);
this.addTemplateElement("showOrganizerDetails",[{action:function(a){k.aggiornaVisibilitaElementByEbId(a,"boxOrganizerDetails")}}],this);this.addTemplateElement("showEventDescription",[{action:function(a){k.aggiornaVisibilitaElementByEbId(a,"boxEventDescription")}}],this);this.addTemplateElement("showEventMap",[{action:function(a){k.aggiornaVisibilitaElementByEbId(a,"boxEventMap")}}],this);this.addTemplateElement("showSectionTitle",[{action:function(a){k.aggiornaVisibilitaElementByEbId(a,"eventDetailsTitleNode")}}],
this);this.addTemplateElement("showEventDetailsDetails",[{action:function(a){k.aggiornaVisibilitaElementByEbId(a,"eventDetailsDetailsNode")}}],this);this.addTemplateElement("showAvailabilityStatus",[{selector:".disponibilitaIscritto",styleProp:"display",ifTrue:"inline",ifFalse:"none"}],this);this.addTemplateElement("showAvailability",[{selector:".numeroPostiDisponibili",styleProp:"display",ifTrue:"inline",ifFalse:"none"}],this);this.addTemplateElement("collapseDates",[{selector:"[data-ebplatform-template-role\x3d'collapsableDate']",
styleProp:"display",ifTrue:"inline",ifFalse:"none"},{selector:"[data-ebplatform-template-role\x3d'notCollapsableDate']",styleProp:"display",ifTrue:"none",ifFalse:"inline"},{action:function(a){k.aggiornaCollassaDate()}}],this);this.addTemplateElement("showPartecipationDenyBtn",[{templateElId:"denyRegistrationButtonNode",styleProp:"display",ifTrue:"inline-block",ifFalse:"none"}],this);this.addTemplateElement("marginTopMap",[{templateElId:"boxEventMap",styleProp:"margin-top"}],this);this.addTemplateElement("marginBottomMap",
[{templateElId:"boxEventMap",styleProp:"margin-bottom"}],this);this.addTemplateElement("marginTopDetails",[{templateElId:"eventDetailsDetailsNode",styleProp:"margin-top"}],this);this.addTemplateElement("marginBottomDetails",[{templateElId:"eventDetailsDetailsNode",styleProp:"margin-bottom"}],this);this.addTemplateElement("marginTopDescription",[{templateElId:"boxEventDescription",styleProp:"margin-top"}],this);this.addTemplateElement("marginBottomDescription",[{templateElId:"boxEventDescription",
styleProp:"margin-bottom"}],this);this.addTemplateElement("marginTopOrganizer",[{templateElId:"boxOrganizerDetails",styleProp:"margin-top"}],this);this.addTemplateElement("marginBottomOrganizer",[{templateElId:"boxOrganizerDetails",styleProp:"margin-bottom"}],this);this.addTemplateElement("marginTopImage",[{templateElId:"eventDetailsImageImgContainerNode",styleProp:"margin-top"}],this);this.addTemplateElement("marginBottomImage",[{templateElId:"eventDetailsImageImgContainerNode",styleProp:"margin-bottom"}],
this);this.addTemplateElement("backgroundImage",[{action:function(a){var b=m("#bg",k.iframeDocument.body);b&&(b=b[0]);if(b){var d;d=a?'url("'+a+'")':null;f.set(b,{backgroundImage:d,display:d?"block":"none"})}else S.warn("Non trovo il div #bg");k.parentWidget.backgroundImage&&k.parentWidget.backgroundImage.set("value",a)}}],this);this.addTemplateElement("logo",[{action:function(e){var h=d.getElementById("logoImgNode",k.iframeDocument.body);k.agiornaVisibilitaLogoPlaceHolder(!1);if(e&&e.file){var m=
null;e.style&&e.style.width&&(m=e.style.width.replace("px",""));if(m=M.fetchWithCloudinary(e,100,200,"f_auto,q_auto:eco,fl_preserve_transparency"+(m?",w_"+m+",c_fit":"")))b.set(h,"src",m),M.loadImage(m,a.hitch(k,function(){k.aggiornaAltezzaIFrame();p.aggiornaStatoEValore("showLogo",k,!0)}),null,!0)}else b.set(h,"src",""),k.aggiornaAltezzaIFrame(),p.aggiornaStatoEValore("showLogo",k,!1);f.set(h,{marginTop:e.style?e.style.marginTop||"0px":"0px"});f.set(h,{marginBottom:e.style?e.style.marginBottom||
"0px":"0px"});k.iframe.contentWindow.ebPlatform.iscrizione.fitHeader();k.aggiornaVisibilitaLogoVisibilityBtn(!1)}}],this);this.addTemplateElement("logoDx",[{action:function(e){var h=d.getElementById("logoDxImgNode",k.iframeDocument.body);k.agiornaVisibilitaLogoPlaceHolder(!0);if(e&&e.file){var m=null;e.style&&e.style.width&&(m=e.style.width.replace("px",""));if(m=M.fetchWithCloudinary(e,100,200,"f_auto,q_auto:eco,fl_preserve_transparency"+(m?",w_"+m+",c_fit":"")))b.set(h,"src",m),M.loadImage(m,a.hitch(k,
function(){k.aggiornaAltezzaIFrame();p.aggiornaStatoEValore("showLogoDx",k,!0)}),null,!0)}else b.set(h,"src",""),k.aggiornaAltezzaIFrame(),p.aggiornaStatoEValore("showLogoDx",k,!1);f.set(h,{marginTop:e.style?e.style.marginTop||"0px":"0px"});f.set(h,{marginBottom:e.style?e.style.marginBottom||"0px":"0px"});k.iframe.contentWindow.ebPlatform.iscrizione.fitHeader();k.aggiornaVisibilitaLogoVisibilityBtn(!0);k.moveHeaderButtons()}}],this);this.addTemplateElement("pageImage",[{action:function(e){var f=d.getElementById("pageImageImgNode",
k.iframeDocument.body),h=d.getElementById("boxPageImage",k.iframeDocument.body);e?(b.set(f,"src",e),M.loadImage(e,a.hitch(k,function(){k.aggiornaAltezzaIFrame();p.aggiornaStatoEValore("showPageImage",k,!0)}),null,!0)):(b.set(f,"src",""),k.aggiornaAltezzaIFrame(),p.aggiornaStatoEValore("showPageImage",k,!1));k.aggiornaVisibilitaVisibilityBtn(h,"pageImage");k.agiornaVisibilitaImmaginePlaceHolder("page")}}],this);this.addTemplateElement("headerImage",[{action:function(e){var h=d.getElementById("headerImageImgNode",
k.iframeDocument.body),m=d.getElementById("boxHeaderImage",k.iframeDocument.body);if(e&&e.file){var l=null;e.style&&e.style.width&&(l=e.style.width.replace("px",""));if(l=M.fetchWithCloudinary(e,null,960,"f_auto,q_auto:eco,fl_preserve_transparency"+(l?",w_"+l+",c_fit":"")))b.set(h,"src",l),M.loadImage(l,a.hitch(k,function(){k.aggiornaAltezzaIFrame();p.aggiornaStatoEValore("showHeaderImage",k,!0)}),null,!0)}else b.set(h,"src",""),k.aggiornaAltezzaIFrame(),p.aggiornaStatoEValore("showHeaderImage",k,
!1);f.set(h,{marginTop:e.style?e.style.marginTop||"0px":"0px"});f.set(h,{marginBottom:e.style?e.style.marginBottom||"0px":"0px"});k.aggiornaVisibilitaVisibilityBtn(m,"headerImage");k.agiornaVisibilitaImmaginePlaceHolder("header")}}],this);this.addTemplateElement("footerImage",[{action:function(e){var f=d.getElementById("footerImageImgNode",k.iframeDocument.body),h=d.getElementById("boxFooterImage",k.iframeDocument.body);e?(b.set(f,"src",e),M.loadImage(e,a.hitch(k,function(){k.aggiornaAltezzaIFrame();
p.aggiornaStatoEValore("showFooterImage",k,!0)}),null,!0)):(b.set(f,"src",""),k.aggiornaAltezzaIFrame(),p.aggiornaStatoEValore("showFooterImage",k,!1));k.aggiornaVisibilitaVisibilityBtn(h,"footerImage");k.agiornaVisibilitaImmaginePlaceHolder("footer")}}],this);this.addTemplateElement("eventDetailsImage",[{action:function(e){var f=d.getElementById("eventDetailsImageImgNode",k.iframeDocument.body),h=d.getElementById("eventDetailsImageImgAllSpaceNode",k.iframeDocument.body);e?(b.set(f,"src",e),b.set(h,
"src",e),k.aggiornaVisibilitaMask(!1,f),M.loadImage(e,a.hitch(k,function(){k.iframe.contentWindow.ebPlatform.iscrizione.allineaAltezzaBoxSxDx();k.aggiornaAltezzaIFrame()}),null,!0)):(b.set(f,"src",""),b.set(h,"src",""),k.aggiornaAltezzaIFrame());k.agiornaVisibilitaImmagineDettagliEventoPlaceHolder()}}],this);this.addTemplateElement("eventDetailsTitle",[{action:function(a){var b=d.getElementById("eventDetailsTitleNode",k.iframeDocument.body),e;b&&(e=a?a:k.localizedMessages.lblEventDetailsSectionTitlePlaceHolder,
m("span",b).forEach(function(a){a.innerHTML=e}))}}],this);this.addTemplateElement("registrationBoxTitle",[{action:function(a){var b,e=d.getElementById("registrationBoxTitleNode",k.iframeDocument.body);e&&(b=a?a:k.localizedMessages.lblRegistrationSectionTitlePlaceHolder,m("span",e).forEach(function(a){a.innerHTML=b}))}}],this);this.addTemplateElement("registrationBoxText",[{action:function(a){d.getElementById("registrationBoxTextNode",k.iframeDocument.body)&&(d.getElementById("registrationBoxTextPlaceholderNode",
k.iframeDocument.body)&&d.getElementById("registrationBoxTextPlaceholderNode",k.iframeDocument.body),a?d.getElementById("registrationBoxTextNode",k.iframeDocument.body).innerHTML=a:d.getElementById("registrationBoxTextNode",k.iframeDocument.body).innerHTML="")}}],this);this.addTemplateElement("personalDetailsTitle",[{action:function(a){var b,e=d.getElementById("personalDetailsTitleNode",k.iframeDocument.body);e&&(b=a?a:k.localizedMessages.lblPersonalDetailsSectionTitlePlaceHolder,m("span",e).forEach(function(a){a.innerHTML=
b}))}}],this);this.addTemplateElement("sectionsEventDetails",[{action:function(a){k.riordinaEventDetails(a)}}],this);this.addTemplateElement("doesImgSubstituteSxCol",[{action:function(a){!0===a?h.add(e.byId("boxSx",k.iframeDocument),"imageOnly"):h.remove(e.byId("boxSx",k.iframeDocument),"imageOnly");k.aggiornaVisibilitaElementByEbId(a,"boxColSxImg");k.aggiornaVisibilitaElementByEbId(!a,"boxEventDetailsNormalMode")}}],this)}})})},"ebPlatformWidgets/Evento/Guests/FileGridEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-attr dojo/dom-class dijit/_WidgetBase dijit/form/Button put-selector/put dojox/form/Uploader ebPlatform/logger!".split(" "),
function(q,a,k,n,l,e,f,h,b,r){return q([e],{upDeferred:null,postCreate:function(){this.inherited(arguments);var a=this;l.add(this.domNode,"fileGridEditor empty");this.form=h(this.domNode,"form[action\x3d$][enctype\x3dmultipart/form-data]",this.action);this.idEventoBox=h(this.form,"input[type\x3dhidden][name\x3didEvento][value\x3d$]",this.idEvento);this.idPersonaBox=h(this.form,"input[type\x3dhidden][name\x3didPersona]");this.fieldBox=h(this.form,"input[type\x3dhidden][name\x3dfield][value\x3d$]",
this.field);this.rmBox=h(this.form,"input[type\x3dhidden][name\x3drm]");this.fuBox=new dojox.form.Uploader({iconClass:"fa fa-pencil",showLabel:!1,multiple:!1,uploadOnSelect:!1,onChange:function(b){r.debug("_onChange",b);if(b&&b[0])r.debug("onChange",b[0],this.getFileList()),a.onChange(b[0]);else a.onChange(null)},onBegin:function(b){r.debug("begin",b);a.upDeferred&&a.upDeferred.progress({status:"uploading",data:b})},onComplete:function(b){r.debug("complete",b);console.debug("complete",b);a.rmBox.value=
"";delete this.pendingRemove;var e=b.result||b;"OK"==e.resultCode?(b=b.file||null)?(a.upDeferred&&a.upDeferred.resolve(b),a._setValueAttr(b)):(a.upDeferred&&a.upDeferred.resolve(null),a._setValueAttr(null)):a.upDeferred&&a.upDeferred.reject(e);this.reset()},onError:function(b){r.debug("error",b);a.rmBox.value="";a.upDeferred&&a.upDeferred.reject(b)}},h(this.form,"input[type\x3dfile]"));this.fuBox.startup();this.rmButton=new f({"class":"remove",iconClass:"fa fa-times",type:"button",onClick:function(){a.rmBox.value=
"true";a.onChange(null)}},h(this.form,"button"));this.fileLink=h(this.form,"+a[href\x3d#][target\x3d_new]",content.fileName)},onChange:function(a){},_setActionAttr:function(a){r.debug("_setActionAttr",a);this.form.action=a;this.fuBox.set("url",a)},_setIdEventoAttr:function(a){r.debug("_setIdEventoAttr",a);this.idEventoBox.value=a},_setIdPersonaAttr:function(a){r.debug("_setIdPersonaAttr",a);this.idPersonaBox.value=a},_setFieldAttr:function(a){r.debug("_setFieldAttr",a);this.fieldBox.value=a},_setValueAttr:function(b){r.debug("_setValueAttr",
b);var e=null;if(b&&!a.isArray(b)||a.isArray(b)&&0<b.length)try{(e="string"===typeof b?JSON.parse(b):b)&&e.src?(l.remove(this.domNode,"empty"),n.set(this.fileLink,"href",e.src),this.fileLink.innerHTML=e.fileName):(l.add(this.domNode,"empty"),n.set(this.fileLink,"href","#"),this.fileLink.innerHTML="")}catch(w){r.error(w)}else l.add(this.domNode,"empty"),n.set(this.fileLink,"href","#"),this.fileLink.innerHTML=""},_getPendingRemoveAttr:function(){var a=!1;this.rmBox&&"true"==this.rmBox.value&&(a=!0);
return a},_getValueAttr:function(){var a=null;this.fuBox&&(a=this.fuBox.get("value"))&&a[0]&&(a=a[0]);r.debug("_getValueAttr",a);return a},upload:function(){this.upDeferred=new k;var a=this.fuBox.get("value");this.get("pendingRemove")?this.fuBox.submit(null):a&&a[0]?this.fuBox.submit(a[0]):this.upDeferred.reject("no data");return this.upDeferred.promise}})})},"ebPlatformWidgets/Social/ShareWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/query dojo/NodeList-dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dijit/_WidgetBase dojo/i18n!./nls/ShareWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u){return q([m],{networks:["facebook","twitter","linkedin"],theme:"icon",autoShow:!0,margin:"3px",orientation:"horizontal",useIn1:!1,title:null,urlToShare:null,pageDesc:"",pageImage:null,overrideOpenPopup:null,onOpenPopup:null,enabled:!0,doOnDisabled:null,helpers:{networkDefs:{facebook:{url:"https://www.facebook.com/share.php?u\x3d|u|"},twitter:{url:"https://twitter.com/share?url\x3d|u|\x26text\x3d|140|"},linkedin:{url:"http://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d|u|\x26title\x3d|t|\x26summary\x3d|d|\x26source\x3dwww.eventboost.com"},
in1:{url:"http://www.in1.com/cast?u\x3d|u|",w:"490",h:"529"},tumblr:{url:"http://www.tumblr.com/share?v\x3d3\x26u\x3d|u|"},digg:{url:"http://digg.com/submit?url\x3d|u|\x26title\x3d|t|"},googleplus:{url:"https://plusone.google.com/_/+1/confirm?hl\x3den\x26url\x3d|u|"},reddit:{url:"http://reddit.com/submit?url\x3d|u|"},pinterest:{url:"http://pinterest.com/pin/create/button/?url\x3d|u|\x26media\x3d|i|\x26description\x3d|d|"},posterous:{url:"http://posterous.com/share?linkto\x3d|u|\x26title\x3d|t|"},
stumbleupon:{url:"http://www.stumbleupon.com/submit?url\x3d|u|\x26title\x3d|t|"},email:{url:"mailto:?subject\x3d|t|"}}},postCreate:function(){var a=this.title,e=this.urlToShare||location.href,f=this.pageDesc,h=this.pageImage;this.title||l("title").forEach(function(b){a=b.innerHTML});this.pageDesc||l('meta[name\x3d"description"]').forEach(function(a){f=b.get(a,"content")});this.pageImage||l('meta[property\x3d"og:image"]').forEach(function(a){h=b.get(a,"content")});this.init(a,e,f,h)},init:function(e,
k,m,n){var q=b.get(this.domNode,"id");k=encodeURIComponent(k);e=encodeURIComponent(e);m=m.substring(0,250);var x,t;for(t in this.networks)t=this.networks[t],x=this.helpers.networkDefs[t].url,x=x.replace("|u|",k).replace("|t|",e).replace("|d|",m).replace("|i|",n).replace("|140|",e.substring(0,130)),r.create("a",{href:x,title:u.lblShareOn+" "+t,"class":"pop share-"+this.theme+" share-"+this.theme+"-"+t},this.domNode),l("#"+q+".share-"+this.theme).style("margin",this.margin),l("#"+q+".share-"+this.theme).style("display",
"horizontal"!=this.orientation?"block":"inline-block"),"undefined"!=typeof affix&&(h.add(this.domNode,"share-affix"),-1!=affix.indexOf("right")?(f.set(this.domNode,"left","auto"),f.set(this.domNode,"right","0px"),-1!=affix.indexOf("center")&&f.set(this.domNode,"top","40%")):-1!=affix.indexOf("left center")&&f.set(this.domNode,"top","40%"),-1!=affix.indexOf("bottom")&&(f.set(this.domNode,"bottom","0px"),f.set(this.domNode,"top","auto"),-1!=affix.indexOf("center")&&f.set(this.domNode,"left","40%"))),
l("#"+q+" .share-"+this.theme+"-"+t).on("click",a.hitch(this,function(a){var e=b.get(a.target,"href");this.enabled?(console.log("APRO",e),this.overrideOpenPopup?this.overrideOpenPopup(e):window.open(e,"t","toolbar\x3d0,resizable\x3d1,status\x3d0,width\x3d640,height\x3d528")):this.doOnDisabled&&this.doOnDisabled(e);a.preventDefault();if(this.onOpenPopup)this.onOpenPopup();return!1}))}})})},"ebPlatformWidgets/Evento/Guests/ManagePersonalFilesDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/on dojo/mouse dojo/dom-style dojo/dom-construct dojo/store/Memory dojo/date dojo/date/locale dojo/string dojo/text!./templates/ManagePersonalFilesDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Form dijit/form/TextBox dijit/form/Button dijit/form/FilteringSelect dijit/Tooltip ebPlatform/commonDialogs dojox/form/Uploader dojo/i18n!ebPlatform/nls/commons dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/ManageGuestsWidget dojo/i18n!./nls/ManagePersonalFilesDialogWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M){return q([D,y],{mouseAnim:null,templateString:w,baseClass:"managePersonalFilesDialogContentWidget",permittedExtensions:"pdf jpg jpeg png doc docx ppt pptx zip txt xls xlsx".split(" "),idPersona:null,parentWidget:null,categoriaNewFileWidget:null,uploadPersonalFileFormWidget:null,nomeFileWidget:null,scegliFileWidget:null,messages:M,commonMessages:I,postCreate:function(){this.inherited(arguments);this.categoriaNewFileWidget=new t({placeHolder:M.lblPlaceHolderScegliCategoria,
store:null,searchAttr:"nomeCategoria",labelAttr:"nomeCategoria",required:!1,onChange:a.hitch(this,function(a){console.log("newVal",a,"FILE:",!!this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length,"DISABLED:",this.uploadPersonalFileFormWidget.get("disabled"));this.aggiornaStatoSubmitNuovoFile()})},this.newFileCategorySelectorNode);this.uploadPersonalFileFormWidget=new x({method:"POST",encType:"multipart/form-data",onSubmit:a.hitch(this,function(){console.log("form submit");
C.showLoading()})},this.uploadPersonalFileFormNode);this.nomeFileWidget=new z({disabled:!0},this.nomeFileNode);this.scegliFileWidget=new dojox.form.Uploader({label:I.lblScegliFile,multiple:!1,uploadOnSelect:!1,url:"",name:"fileAllegato"},this.scegliFileNode);this.scegliFileWidget.on("change",a.hitch(this,function(a){if(0<a.length){var b=a[0].name.substr(a[0].name.lastIndexOf(".")+1).toLowerCase();-1<k.indexOf(this.permittedExtensions,b)?(this.nomeFileWidget.set("value",a[0].name),this.uploadPersonalFileFormWidget.set("disabled",
!1)):(this.uploadPersonalFileFormWidget.set("disabled",!0),C.showInfoWithCloseButton(I.msgFileNonValidoWarning,E.footerInc.lblWarningMsgDialogTitle,I.lblOKButton))}else this.uploadPersonalFileFormWidget.set("disabled",!0);this.aggiornaStatoSubmitNuovoFile()}));this.scegliFileWidget.on("complete",a.hitch(this,function(a){console.log("on complete:",(new Date).getTime(),a);"OK"==a.result?(C.hideLoading(),this.aggiornaUI()):(C.hideLoading(),a.msg?C.showInfoWithCloseButton(a.msg,E.footerInc.lblErrorMsgDialogTitle,
I.lblOKButton):C.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton))}));this.scegliFileWidget.startup();this.uploadPersonalFileFormSubmitWidget=new B({label:I.lblUploadButton,type:"submit",disabled:!0},this.uploadBtnNode)},aggiornaStatoSubmitNuovoFile:function(){this.scegliFileWidget.get("value")&&0<this.scegliFileWidget.get("value").length&&!this.uploadPersonalFileFormWidget.get("disabled")&&this.categoriaNewFileWidget.get("value")?this.uploadPersonalFileFormSubmitWidget.set("disabled",
!1):this.uploadPersonalFileFormSubmitWidget.set("disabled",!0);this.scegliFileWidget.set("url","/addUpdateFilePersonale.plp?idPersona\x3d"+this.idPersona+"\x26idCategoria\x3d"+this.categoriaNewFileWidget.get("value"))},aggiornaUI:function(b){console.log("PRIMA this.idPersona",this.idPersona,"idPersona",b);if(!this.idPersona||this.idPersona!=b&&b)this.idPersona=b;console.log("DOPO this.idPersona",this.idPersona,"idPersona",b);f.set(this.newFileContainerNode,"display","none");f.set(this.personalFilesContainerNode,
"display","none");f.set(this.loadingDivNode,"display","block");this.parentWidget.resize();n.post("/getFilePersonali.plp",{data:{idPersona:this.idPersona},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){"OK"==(a.result||a).resultCode?(console.log("DATA",a),this.aggiornaCategorie(a.categorie),this.aggiornaFilesPersona(a.filesPersona),f.set(this.newFileContainerNode,"display","block"),f.set(this.personalFilesContainerNode,"display","block"),
f.set(this.loadingDivNode,"display","none"),this.parentWidget.resize()):C.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}),a.hitch(this,function(a){C.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}))},aggiornaCategorie:function(a){var d=[];k.forEach(a,function(a){d.push({idCategoria:a.idCategoriaFilePersonali,nomeCategoria:a.categoria})});a=new b({idProperty:"idCategoria",data:d});this.categoriaNewFileWidget.set("store",
a);this.categoriaNewFileWidget.reset()},aggiornaFilesPersona:function(b){h.empty(this.personalFilesContainerNode);var d=h.create("table",{"class":"filesPersona"},this.personalFilesContainerNode);k.forEach(b,a.hitch(this,function(b){var e=h.create("tr",{"class":"filePersona"},d);h.create("td",{"class":"nomeCategoria",innerHTML:b.categoria.categoria},e);h.create("td",{"class":"nomeFile",innerHTML:b.originalFileName},e);var f=h.create("td",{},e),f=h.create("span",{"class":"eliminaFileBtn"},f),e=h.create("td",
{innerHTML:b.idEsitoSpedito?"":"\x26nbsp;"},e);if(b.idEsitoSpedito){var k=h.create("span",{"class":"esitoInvioTip"},e),p=null;l(k,"mouseenter",a.hitch(this,function(){G.show(I.lblLoading,k);p=n.post("/getDettagliEsitoInvio.plp",{data:{idEsito:b.idEsitoSpedito},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){p=null;"OK"==(a.result||a).resultCode?(console.log("DATA",a),a=a.esitoInvio.nomeComunicazione+" ["+m.format(new Date(a.esitoInvio.dataInvio),
{})+"]",G.show(a,k)):C.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}),a.hitch(this,function(a){p=null;C.showInfoWithCloseButton(I.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}))}));l(k,"mouseleave",a.hitch(this,function(){G.hide(k);p&&p.cancel()}))}l(f,"click",a.hitch(this,function(){console.log("ELIMINO",b.originalFileName,b.idFilePersona);var a=u.substitute(M.msgEliminaFileDialogMsg,{nomeFile:b.originalFileName});C.setUpConfirmDialog(M.lblEliminaFileDialogTitle,
a,this,this.doEliminaFile,null,[b.idFilePersona],!0);C.showConfirm()}))}))},doEliminaFile:function(b){n.post("/eliminaFilePersonale.plp",{data:{idFilePersonale:b},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){a=a.result||a;"OK"==a.resultCode?C.showInfo(I.msgModificaRegistrata):C.showInfoWithCloseButton(a.msg,E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton);this.aggiornaUI()}),a.hitch(this,function(a){C.showInfoWithCloseButton(I.msgErroreServer,
E.footerInc.lblErrorMsgDialogTitle,I.lblOKButton)}))}})})},"ebPlatformWidgets/Evento/Badges/EditFrontDataDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./EditFrontDataDialogContentWidget dojo/i18n!./nls/BadgesManagementWidget".split(" "),function(q,a,k,n,l,e,f,h){return q([n,e],{baseClass:"editFrontDataDialogWidget",idEvento:null,postCreate:function(a){l.trace("postCreate",this.idEvento);
this.inherited(arguments);this.mainWidget=new f({parentWidget:this,idEvento:this.idEvento,campiEvento:this.campiEvento,fields:this.fields,doOnSave:this.doOnSave});k.set(this.closeButtonNode,"display","none");this.addChild(this.mainWidget)},show:function(a){l.trace("show",a.fields,a.campiEvento,a.stato,a.doOnSave);this.inherited(arguments);this.set("title",h.lblFrontLinesSectionTitle);this.mainWidget.reset({fields:a.fields,campiEvento:a.campiEvento,stato:a.stato,doOnSave:a.doOnSave})}})})},"ebPlatformWidgets/Evento/Guests/ManageDuplicatesDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/request dojo/dom-attr dojo/dom-style dojo/dom-class dojo/store/Memory dojo/text!./templates/ManageDuplicatesDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/CheckBox dijit/form/FilteringSelect ebPlatform/stato ebPlatform/statoEmail ebPlatform/logger! ebPlatform/commonDialogs ebPlatform/utility ebPlatform/dateUtility ebPlatformWidgets/Dialogs/FilterListDialogContentWidget dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/ManageGuestsWidget dojo/i18n!ebPlatformWidgets/Dialogs/nls/FilterListDialogWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S){return q([I],{templateString:m,manageGuestsWidgetMessages:M,filtraDuplicati:null,filtraDuplicatiWidget:null,eliminaDuplicatiWidget:null,postCreate:function(){this.inherited(arguments);this.config&&(this.config.filtraDuplicati?(this.filtraDuplicatiWidget=new x({"class":"filtraCancellati",name:"duplicati",value:" ",placeHolder:"",isValid:function(){return!0},store:new r({idProperty:"nint",data:[{nint:" ",label:M.lblDuplicatedGuestsNoData},
{nint:"TUTTI",label:M.lblDuplicatedGuestsY},{nint:"SOLTANTO",label:M.lblDuplicatedGuestsO},{nint:"ESCLUDI",label:M.lblDuplicatedGuestsN},{nint:"EX",label:M.lblDuplicatedGuestsEX}]}),searchAttr:"label",labelAttr:"label",onChange:a.hitch(this,function(a){this.filtraDuplicati=a})},this.filtraDuplicatiSelectNode),this.eliminaDuplicatiWidget=new y({},this.eliminaDuplicatiNode)):h.set(this.filtraDuplicatiContainerNode,"display","none"))},buildNewQueryAddendum:function(){var a={newQuery:!1};this.config.filtraDuplicati&&
this.filtraDuplicati&&(a={duplicati:this.filtraDuplicati,newQuery:!0});return a},applyFilters:function(){var b=new n;this.eliminaDuplicatiWidget.get("checked")?(G.showLoading(),e.post("/doEliminaPersoneDuplicate.plp",{data:{idEvento:z.evento.stato.idEvento},handleAs:"json",headers:{Accept:"application/javascript, application/json"}}).then(a.hitch(this,function(a){G.hideLoading();"OK"==(a.result||a).resultCode?(z.evento.statoCalcolato.numOspitiConDuplicati=0,this.filtraDuplicatiWidget.set("value",
" "),this.parentWidget.parentWidget.duplicatiBtn.set("disabled",!0),b.resolve()):(b.reject(),G.showInfoWithCloseButton(v.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,v.lblOKButton))}),a.hitch(this,function(a){b.reject();G.hideLoading();G.showInfoWithCloseButton(v.msgErroreServer,E.footerInc.lblErrorMsgDialogTitle,v.lblOKButton)}))):b.resolve();b.promise.then(a.hitch(this,function(){I.prototype.applyFilters.call(this,arguments)}))},reset:function(a){I.prototype.reset.call(this,!1);this.filtraDuplicati=
" ";this.filtraDuplicatiWidget.set("value",this.filtraDuplicati);this.eliminaDuplicatiWidget.set("checked",!1);a&&(this.applyFilters(),this.aggiornaSelezionePulsanteFiltri(!1))},refresh:function(){this.inherited(arguments);this.eliminaDuplicatiWidget.set("checked",!1);this.filtraDuplicati="SOLTANTO";this.filtraDuplicatiWidget.set("value",this.filtraDuplicati)}})})},"ebPlatformWidgets/Evento/Communication/EditSchedulingDialogContentWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/date/locale dojo/dom-style dojo/text!./templates/EditSchedulingDialogContentWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dijit/form/DateTextBox dijit/form/TimeTextBox dijit/form/ValidationTextBox ebPlatform/logger! ebPlatformWidgets/Form/TimePicker dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/CommunicationWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y){return q([e,f],{mouseAnim:null,templateString:l,baseClass:"editSchedulingDialogContentWidget",parentWidget:null,doOnSelection:null,messages:y,deliveryDate:null,deliveryTime:null,dataSpedizioneWidget:null,oraSpedizioneWidget:null,postCreate:function(){this.inherited(arguments);var e={min:new Date};this.dataSpedizioneWidget=new b({"class":this.baseClass+"DataSpedizione",onChange:a.hitch(this,function(a){if(this.dataSpedizioneWidget.isValid()){var b=new Date,b=
dojo.date.stamp.fromISOString(b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate()+"T23:59:59");1==dojo.date.compare(a,b)?this.oraSpedizioneWidget.constraints.pickerMin="T00:00:00":(a=new Date,a.setMinutes(a.getMinutes()-a.getMinutes()%10),this.oraSpedizioneWidget.constraints.pickerMin=dojo.date.add(a,"minute",10).toISOString())}this.saveBtn.set("disabled",!(this.dataSpedizioneWidget.isValid()&&this.oraSpedizioneWidget.isValid()))}),constraints:a.mixin(e)},this.dataSpedizioneNode);e=new Date;e.setMinutes(e.getMinutes()-
e.getMinutes()%10);this.oraSpedizioneWidget=new r({popupClass:w,"class":this.baseClass+"OraSpedizione",dropDownDefaultValue:dojo.date.stamp.fromISOString("1970-01-01T12:00:00"),maxHeight:400,required:!0,missingMessage:D.validateMissingMessage,constraints:{locale:ebplatform.config.beLocale.toLowerCase().replace("_","-"),clickableIncrement:"T00:10:00",visibleIncrement:"T00:10:00",visibleRange:"T01:00:00",pickerMin:"T00:00:00",pickerMax:"T23:59:59"},onChange:a.hitch(this,function(a){this.saveBtn.set("disabled",
!(this.dataSpedizioneWidget.isValid()&&this.oraSpedizioneWidget.isValid()))})},this.oraSpedizioneNode);this.saveBtn=new h({label:D.lblOKButton,onClick:a.hitch(this,function(){var b=this.parentWidget.hide();if(this.doOnSelection){var e={idSchedulation:this.idSchedulation,deliveryDate:this.dataSpedizioneWidget.get("value"),deliveryTime:this.oraSpedizioneWidget.get("value")};b?b.then(a.hitch(this,function(){this.doOnSelection(e)})):this.doOnSelection(e)}})},this.saveBtnNode);this.cancelBtn=new h({label:D.lblChiudiButton,
onClick:a.hitch(this,function(){this.parentWidget.hide()})},this.cancelBtnNode)},show:function(a){this.inherited(arguments);this.idSchedulation=a.idSchedulation?a.idSchedulation:null;a.deliveryDate?this.dataSpedizioneWidget.set("value",k.parse(a.deliveryDate,{selector:"date",datePattern:"yyyy-MM-dd"})):this.dataSpedizioneWidget.set("value",null);a.deliveryTime?this.oraSpedizioneWidget.set("value",k.parse(a.deliveryTime,{selector:"time",timePattern:"HH:mm:ss"})):this.oraSpedizioneWidget.set("value",
null);this.doOnSelection=a.doOnSelection?a.doOnSelection:void 0;this.saveBtn.set("disabled",!(this.dataSpedizioneWidget.isValid()&&this.oraSpedizioneWidget.isValid()))}})})},"ebPlatformWidgets/Evento/Guests/UploadedInviteListDialogWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dijit/Dialog ebPlatform/logger! ebPlatform/utility ebPlatformWidgets/Dialogs/_ParentScrollPreventMixin ./UploadedInviteListDialogContentWidget dojo/i18n!./nls/ManageGuestsWidget".split(" "),function(q,
a,k,n,l,e,f,h,b){return q([n,f],{baseClass:"uploadedInviteListDialogWidget",parentWidget:null,mainWidget:null,postCreate:function(){this.inherited(arguments);this.set("title",b.lblUploadedInviteListFilesDialogTitle);this.mainWidget=new h({parentWidget:this});this.addChild(this.mainWidget)},show:function(a){this.inherited(arguments);this.refresh()},reset:function(a){this.mainWidget.reset(a)},refresh:function(){this.mainWidget.refresh()}})})},"ebPlatform/htmlTags":function(){define([],function(){return htmlTags=
"A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR".split(" ")})},"ebPlatformWidgets/Evento/Badges/BadgeWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/Deferred dojo/Stateful dojo/store/Memory dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/date/locale dojo/window dojo/topic dojo/text!./templates/BadgeWidget.html dijit/form/Form dijit/form/DateTextBox dijit/form/TimeTextBox dijit/form/CheckBox ebPlatformWidgets/CustomTooltip ebPlatform/fontLoader ebPlatform/utility ebPlatform/stato ebPlatform/i18n ebPlatform/commonDialogs ebPlatform/logger! ebPlatformWidgets/Form/utility ebPlatformWidgets/Form/RichTextBoxWidget ebPlatformWidgets/Form/DivDropDownButtonWidget ebPlatformWidgets/Form/FileUploadWidget ebPlatformWidgets/_EbPlatformWidgetMixin ./BadgeTemplateWidget ./PrintBadgeDialogWidget app/utility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!ebPlatform/nls/commons dojo/i18n!./nls/BadgesManagementWidget".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z,B,t,G,C,p,I,E,v,M,S,d,L,N,aa,F,J,K,T,Y,R){return q([aa],{templateString:y,baseClass:"badgeWidget",mapping:null,mappingName:"evento.mappings.badge",internalName:"BadgeWidget",appWidget:null,parentWidget:null,previewOK:!1,hasToolbar:!0,statoStartUp:{id:0,name:"",printableAtHome:!1,printableOnSite:!1,printableFromMasterList:!1,frontHeaderColor:"#000000",frontHeaderBackgroundColor:"#FFFFFF",frontHeaderFontSize:"30px",frontHeaderFontFamily:"Arial, Helvetica, sans-serif",
frontHeaderShow:!1,frontImage1Show:!1,frontImage1:null,frontLinesShow:!0,frontLine1:null,frontLine2:null,frontLine3:null,frontLine4:null,fontLine1:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"30px",textTransform:["uppercase"]},fontLine2:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"30px",textTransform:["uppercase"]},fontLine3:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"18px"},fontLine4:{fontFamily:"Arial, Helvetica, sans-serif",fontSize:"18px"},frontBr1Show:!0,frontBr2Show:!0,
frontBr3Show:!0,barCodeShow:!0,frontImage2Show:!1,frontImage2:null,guestCategoryShowColor:!1,backHeaderColor:"#ffffff",backHeaderBackgroudColor:"#f26524",backHeaderFontSize:"30px",backHeaderFontFamily:"Arial, Helvetica, sans-serif",backHeaderShow:!1,qrCodeShow:!1,backImage1Show:!1,backImage1:null,backText1Show:!1,backText1:null,backText1FontSize:"13px",backText1FontFamily:"Arial, Helvetica, sans-serif",backSeparator1Show:!1,backText2Show:!1,backText2:null,backText2FontSize:"13px",backText2FontFamily:"Arial, Helvetica, sans-serif",
backSeparator2Show:!1,backImage3Show:!1,backImage3:null,backText3Show:!1,backText3:null,backText3FontSize:"13px",backText3FontFamily:"Arial, Helvetica, sans-serif",idLanguage:1},nameWidget:null,printableAtHomeWidget:null,printableOnSiteWidget:null,printableFromMasterListWidget:null,printBadgeWidget:null,configureTemplateSwitchWidget:null,templateWidget:null,languageTimezoneDateSettingsSwitchWidget:null,attachmentFileSwitchWidget:null,attachmentFileWidget:null,scheduleDeliverySwitchWidget:null,messages:R,
commonMessages:Y,postCreate:function(){M.debug("postCreate");this.inherited(arguments);this.printBadgeWidget=new J({parentWidget:this,title:R.lblPrintDialogTitle});this.formWidget=new x({},this.formNode);this.mainTitleNode.innerHTML=R.lblBadgeMainTitle;this.nameWidget=new d({internalName:"name",countChars:!1,required:!0,tooltip:R.msgNameTip,onChange:a.hitch(this,function(a){this.stato.set("name",a)})},this.badgeNameNode);this.printableAtHomeWidget=new t({onChange:a.hitch(this,function(a){if(a){for(var b=
!1,d=0;d<I.evento.stato.badges.custom.length&&!b;d++)this.stato.get("id")!=I.evento.stato.badges.custom[d].id&&I.evento.stato.badges.custom[d].printableAtHome&&(b=!0);b?(v.showInfoWithCloseButton(R.msgPrintAtHomeAlreadySet,T.footerInc.lblErrorMsgDialogTitle,Y.lblOKButton),this.printableAtHomeWidget.set("value",!1,!1)):this.stato.set("printableAtHome",a)}else this.stato.set("printableAtHome",a)})},this.badgePrintableAtHomeNode);this.printableOnSiteWidget=new t({onChange:a.hitch(this,function(a){if(a){var b=
!1;(b=k.some(I.evento.stato.badges.custom,function(a){return a.printableOnSite}))?(v.showInfoWithCloseButton(R.msgPrintOnSiteAlreadySet,T.footerInc.lblErrorMsgDialogTitle,Y.lblOKButton),this.printableOnSiteWidget.set("value",!1,!1)):this.stato.set("printableOnSite",a)}else this.stato.set("printableOnSite",a)})},this.badgePrintableOnSiteNode);this.printableFromMasterListWidget=new t({onChange:a.hitch(this,function(a){if(a){var b=!1;(b=k.some(I.evento.stato.badges.custom,function(a){return a.printableFromMasterList}))?
(v.showInfoWithCloseButton(R.msgPrintFromMasterListAlreadySet,T.footerInc.lblErrorMsgDialogTitle,Y.lblOKButton),this.printableFromMasterListWidget.set("value",!1,!1)):this.stato.set("printableFromMasterList",a)}else this.stato.set("printableFromMasterList",a)})},this.badgePrintableFromMasterListNode);var b=this.templateWidget=new F({appWidget:this.appWidget,parentWidget:this},this.configureTemplateNode);this.configureTemplateSwitchWidget=new L({title:R.lblConfigureTemplate,dropDown:this.configureTemplateContainerNode,
opened:!1,onOpenDropDown:function(){b.aggiornaUI()}},this.configureTemplateBtnNode);D.subscribe("app_evento.set_mustSaveToContinue",a.hitch(this,function(){M.debug("app_evento.set_mustSaveToContinue",this.parentWidget.selectedTabName);"badge_list"==this.parentWidget.selectedTabName&&this.abilitaPulsantiToolbar(!1)}));D.subscribe("app_evento.reset_mustSaveToContinue",a.hitch(this,function(){M.debug("app_evento.reset_mustSaveToContinue");"badge_list"==this.parentWidget.selectedTabName&&this.aggiornaStatoPulsantiToolbar()}))},
loadData:function(){M.debug("loadData");return null},hasToLoadData:function(){M.debug("hasToLoadData",!1);return!1},reset:function(b){M.debug("reset");var d=this.previewOK=null;b?d=a.clone(b):(d=a.clone(this.statoStartUp),d.guestCategoryShowColor=!!I.evento.stato.badges.guest_categories&&0<I.evento.stato.badges.guest_categories.length);this.statoShadowProp=a.clone(d);this.stato=new e(this.statoShadowProp);this.stato.watch(a.hitch(this,function(b,d,e){e!=d&&"dirty"!=b&&this.stato.set("dirty",!0);"dirty"==
b&&(1==e?(this.previewOK=null,this.abilitaPulsantiToolbar(!1),this.appWidget.setMustSaveToContinueMode(),this.parentWidget.headerSecondaryToolbar.disableByCode("back",a.partial(K.askUserToLeavePage,this.appWidget,a.hitch(this,function(){this.parentWidget.aggiornaUI()})))):(this.abilitaPulsantiToolbar(!0),this.appWidget.resetMustSaveToContinueMode(),this.parentWidget.headerSecondaryToolbar.enableByCode("back")))}));this.templateWidget.stato=this.stato;this.aggiornaUI()},aggiornaUI:function(){M.debug("aggiornaUI");
try{r.set(this.templateWidget.iframe,"height",0)}catch(ea){console.log(ea)}return this.inherited(arguments).then(a.hitch(this,function(){this.mainTitleNode.innerHTML=R.lblBadgeMainTitle;this.nameWidget.set("tooltip",R.msgNameTip);this.templateWidget.aggiornaFormati();this.templateWidget.campiEvento=this.campiEvento;this.aggiornaStatoPulsantiToolbar();this.configureTemplateSwitchWidget.set("title",R.lblConfigureTemplate);0==this.stato.get("id")?(this.nameWidget.reset(),this.configureTemplateSwitchWidget.closeDropDown(),
this.printableAtHomeWidget.set("checked",!1,!1),this.printableOnSiteWidget.set("checked",!1,!1),this.printableFromMasterListWidget.set("checked",!1,!1)):(this.nameWidget._setValueAttr(this.stato.get("name"),!0),this.printableAtHomeWidget.set("checked",this.stato.get("printableAtHome"),!1),this.printableOnSiteWidget.set("checked",this.stato.get("printableOnSite"),!1),this.printableFromMasterListWidget.set("checked",this.stato.get("printableFromMasterList"),!1),this.configureTemplateSwitchWidget.openDropDown())}),
a.hitch(this,function(){M.debug("aggiornaUI","error")})).always(function(){M.debug("aggiornaUI","always");v.hideLoading()})},aggiornaStatoPulsantiToolbar:function(){M.debug("aggiornaStatoPulsantiToolbar");this.stato&&this.stato.get("id")?this.abilitaPulsantiToolbar(!0):this.abilitaPulsantiToolbar(!1)},save:function(){M.debug("save");this.validate()&&this.salvaStato("/addUpdateBadge.plp","jsonData",{idEvento:I.evento.stato.idEvento})},abilitaPulsantiToolbar:function(b){M.debug("abilitaPulsantiToolbar",
b);b?(this.parentWidget.headerToolbar.enableByCode("generate"),this.parentWidget.footerToolbar.enableByCode("generate"),this.parentWidget.headerToolbar.enableByCode("preview"),this.parentWidget.footerToolbar.enableByCode("preview")):(this.parentWidget.headerToolbar.disableByCode("generate",a.partial(K.tellUserToSave,R.msgSaveBeforePreviewBadgeDialogText,R.lblPreviewDialogTitle)),this.parentWidget.footerToolbar.disableByCode("generate",a.partial(K.tellUserToSave,R.msgSaveBeforePreviewBadgeDialogText,
R.lblPreviewDialogTitle)),this.parentWidget.headerToolbar.disableByCode("preview",a.partial(K.tellUserToSave,R.msgSaveBeforePreviewBadgeDialogText,R.lblPreviewDialogTitle)),this.parentWidget.footerToolbar.disableByCode("preview",a.partial(K.tellUserToSave,R.msgSaveBeforePreviewBadgeDialogText,R.lblPreviewDialogTitle)))},preCommit:function(a){M.debug("preCommit")},postCommit:function(a){M.debug("postCommit");a.badge&&0< !!a.badge.idBadge&&a.badge.idBadge!=this.stato.get("id")&&(this.stato.set("id",
a.badge.idBadge,!1),this.stato.set("dirty",!1));this.aggiornaStatoPulsantiToolbar()},validate:function(){M.debug("validate");var b=this.formWidget.validate(),d="",e="",f={};if(b)for(var h=0;h<I.evento.stato.badges.custom.length;h++)I.evento.stato.badges.custom[h].id!=this.stato.get("id")&&I.evento.stato.badges.custom[h].name&&a.trim(I.evento.stato.badges.custom[h].name)==a.trim(this.stato.get("name"))&&(b=!1,f.msgNomeDuplicato=R.msgNomeDuplicato);for(var k in f)d+=e+f[k],e="\x3cbr /\x3e";b||""==d||
v.showInfoWithCloseButton(d,T.footerInc.lblWarningMsgDialogTitle,Y.lblOKButton);return b},validaImmagine:function(a){var d={valid:!1,errMsg:null};this.stato.get(a.statoVisibilityVar)?this.stato.get(a.statoVar)?/^\/img./.test(this.stato.get(a.statoVar))?(d.valid=!1,d.errLbl="msgErroreImmagineTemplate",d.errMsg=R.msgErroreImmagineTemplate):(d.valid=!0,d.errMsg=null):(d.valid=!1,d.errLbl="msgErroreImmagineMancante",d.errMsg=R.msgErroreImmagineMancante):(d.valid=!0,d.errMsg=null);d.valid?(b.add(a.boxNode,
"border"),b.remove(a.boxNode,"invalid")):(b.remove(a.boxNode,"border"),b.add(a.boxNode,"invalid"));return d},mostraAnteprima:function(){M.debug("mostraAnteprima",this.stato);ebPlatform.iframeBadgePreviewLoaded=new l;var b="/getBadgePreview.plp?idEvento\x3d"+I.evento.stato.idEvento+"\x26id\x3d"+this.stato.get("id")+"\x26forTemplating\x3dfalse",d=w.getBox(),e=R.lblPreviewDialogTitle,f=794;"A4"==this.stato.format?f=794:"LETTER"==this.stato.format&&(f=816);var h=v.showAnteprima(e,null,b,!0,{width:f,height:.9*
d.h,scrolling:"no"},Y.msgPreparazioneAnteprima,null,null,"badge");ebPlatform.iframeBadgePreviewLoaded.then(a.hitch(this,function(b){C.loadAll(I.evento.stato.idCliente,h.contentWindow);M.debug("preview LOADED",h);this.aggiornaAltezzaIFrame(h);setTimeout(a.hitch(this,function(){try{this.checkIngombri(h),this.aggiornaAltezzaIFrame(h),v.resizeAnteprimaDialog()}catch(W){console.log(W)}}),1E3)}),a.hitch(this,function(a){M.debug("preview LOAD ERROR")}))},checkIngombri:function(a){M.debug("checkIngombri",
a);a=a.contentDocument?a.contentDocument:a.contentWindow.document;if(a.getElementById("chk11")){var b=null,d=null,e=null,f=null,h={h:0};a.getElementById("chk1")&&(b=m.getMarginBox(a.getElementById("chk1")));a.getElementById("chk11")&&(d=m.getMarginBox(a.getElementById("chk11")));a.getElementById("chk2")&&(e=m.getMarginBox(a.getElementById("chk2")));a.getElementById("chk21")&&(f=m.getMarginBox(a.getElementById("chk21")));a.getElementById("eblogo")&&(h=m.getMarginBox(a.getElementById("eblogo")));M.group("checkIngombri");
M.debug(b,d,e,f);M.debug("front",b&&d&&b.h<d.h?d.h-b.h:"void");M.debug("back",e&&f&&e.h<f.h?f.h+" - "+e.h+" + "+h.h:"void");M.groupEnd();b&&d&&b.h<d.h||e&&f&&e.h<f.h?(b&&d&&b.h<d.h&&(r.set(a.getElementById("oc1"),"display","block"),r.set(a.getElementById("o1"),"height",d.h-b.h+"px")),e&&f&&e.h<f.h&&(r.set(a.getElementById("oc2"),"display","block"),r.set(a.getElementById("o2"),"height",f.h-e.h+h.h+"px")),this.previewOK=!1,v.showInfoWithCloseButton(R.msgSbordo,T.footerInc.lblWarningMsgDialogTitle,Y.lblOKButton)):
this.previewOK=!0}else this.previewOK=!0},generaBadge:function(a,b,d,e){M.debug("generaBadge",this.stato.get("id"),b,d,e);this.printBadgeWidget.show({idBadge:this.stato.get("id"),idPersona:d,formatoPagina:a,orientamento:b,borders:e})},generaBadges:function(a,b,d,e,f,h,k){M.debug("generaBadges",this.stato.get("id"),a,b,d,e,f,h);this.printBadgeWidget.show({parentWidget:this,idBadge:this.stato.get("id"),categoria:d,excludeBe:e,excludeAtHome:f,guestCategory:this.stato.get("guestCategoryShowColor")?h:
null,formatoPagina:a,orientamento:b,borders:k})},aggiornaAltezzaIFrame:function(a){M.debug("aggiornaAltezzaIFrame");g=m.getMarginBox((a.contentDocument?a.contentDocument:a.contentWindow.document).body);r.set(a,"height",g.h+30+"px");ebPlatform.iframeEventPagePreviewLoaded=null}})})},"ebPlatformWidgets/Evento/EventDetails/DateWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/topic dojo/dom-class dojo/dom-style dojo/text!./templates/DateWidget.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/layout/ContentPane dijit/form/Button ./TimeSlotWidget ebPlatform/commonDialogs ebPlatform/dateUtility dojo/i18n!ebPlatform/nls/jspMessages dojo/i18n!./nls/EventDetailsWidget dojo/i18n!ebPlatform/nls/commons".split(" "),
function(q,a,k,n,l,e,f,h,b,r,m,u,w,D,y,x,z){return q([h,b],{mouseAnim:null,templateString:f,baseClass:"dateWidget",parentWidget:null,stato:null,timeSlotsContainerWidget:null,editDateBtnWidget:null,deleteDateBtnWidget:null,addNewTimeSlotBtnWidget:null,postCreate:function(){this.inherited(arguments);this.editDateBtnWidget=new m({"class":"link",label:z.lblModificaButton,onClick:a.hitch(this,function(){this.parentWidget.editDate(this.stato)})},this.editDateBtnNode);this.deleteDateBtnWidget=new m({"class":"link",
label:z.lblCancellaButton,onClick:a.hitch(this,function(){w.setUpConfirmDialog(x.lblConfirmDeleteDateDialogTitle,x.msgConfirmDeleteDateDialogText,this.parentWidget,this.parentWidget.deleteDate,null,[this.stato.internalId]);w.showConfirm()})},this.deleteDateBtnNode);this.timeSlotsContainerWidget=new r({_setReadOnlyAttr:function(a){this.getChildren().forEach(function(b){l.contains(b.domNode,"dijitButton")?b.set("disabled",a):b.set("readOnly",a)})}},this.timeSlotsContainerNode);this.addNewTimeSlotBtnWidget=
new m({label:z.lblAggiungiButton,onClick:a.hitch(this,function(){this.parentWidget.areAllDatesValid()?this.addNewTimeSlot():w.showInfoWithCloseButton(x.msgFillStartEndTimeWarningOnAddTimeSlot,y.footerInc.lblWarningMsgDialogTitle,z.lblOKButton)})},this.addNewBtnNode);n.subscribe("TimeSlotWidget.Activated",a.hitch(this,function(a){a.date==this.stato.date&&this.showAddNewBtn()}));n.subscribe("TimeSlotWidget.Update",a.hitch(this,function(a){"update"==a.updateType&&"startTime"==a.updateField&&this.aggiornaUI()}))},
_setReadOnlyAttr:function(a){this.inherited(arguments);this.getChildren().forEach(function(b){l.contains(b.domNode,"dijitButton")?b.set("disabled",a):b.set("readOnly",a)})},aggiornaUI:function(){this.dateNode&&(this.dateNode.innerHTML=D.getLocaleFormattedDateFromString(this.stato.date));this.timeSlotsContainerWidget.destroyDescendants();this.stato.timeSlots.sort(function(a,b){var e=0;a.startTime>b.startTime?e=1:a.startTime<b.startTime?e=-1:a.endTime>b.endTime?e=1:a.endTime<b.endTime&&(e=-1);return e});
k.forEach(this.stato.timeSlots,a.hitch(this,function(b,e){var f=a.mixin(b,{internalId:e}),f=new u({stato:f,parentWidget:this});this.timeSlotsContainerWidget.addChild(f);f.aggiornaUI()}))},showAddNewBtn:function(){this.addNewBtnContainerNode&&e.set(this.addNewBtnContainerNode,"display","block")},hideAddNewBtn:function(){this.addNewBtnContainerNode&&e.set(this.addNewBtnContainerNode,"display","none")},addNewTimeSlot:function(){this.stato.timeSlots.push({id:null,intenalId:this.stato.timeSlots[this.stato.timeSlots.length-
1].internalId+1,startTime:null,endTime:null,description:null,capacity:null,hideEndTime:!1});this.aggiornaUI();n.publish("TimeSlotWidget.Update",{updateType:"add"});if(this.onStatoChange)this.onStatoChange()},deleteTimeSlot:function(a){this.stato.timeSlots=k.filter(this.stato.timeSlots,function(b){return b.internalId!=a});0==this.stato.timeSlots.length?this.parentWidget.deleteDate(this.stato.internalId):(this.aggiornaUI(),n.publish("TimeSlotWidget.Update",{updateType:"remove"}))},validate:function(){var a=
!0;k.forEach(this.timeSlotsContainerWidget.getChildren(),function(b){a=a&&b.validate()});return a}})})},"ebPlatform/dateUtility":function(){define(["dojo/date/locale","./stato"],function(q,a){return{getDefaultFormatDateFromStr:function(k){return k?q.format(q.parse(k,{selector:"date",datePattern:"yyyy-MM-dd"}),{selector:"date",datePattern:a.getPatternData()}):null},getDefaultFormatTimeFromStr:function(k){return k?q.format(q.parse(k,{selector:"time",timePattern:"HH:mm:ss"}),{selector:"time",timePattern:a.getPatternOra()}):
null},getDefaultFormatDateTimeFromStr:function(a,n){var k=this.getDefaultFormatDateFromStr(a)||"",e=this.getDefaultFormatTimeFromStr(n)||"";return k+(k||e?" ":"")+e},getLocalDateFromString:function(a){var k=null;a&&(k=18<a.length?q.parse(a,{selector:"date",datePattern:"yyyy-MM-dd HH:mm:ss"}):15<a.length?q.parse(a,{selector:"date",datePattern:"yyyy-MM-dd HH:mm"}):9<a.length?q.parse(a,{selector:"date",datePattern:"yyyy-MM-dd"}):6<a.length?q.parse(a,{selector:"time",timePattern:"HH:mm:ss"}):q.parse(a,
{selector:"time",timePattern:"HH:mm"}));return k},getLocaleFormattedDateFromString:function(a){var k="";a&&(k=q.format(q.parse(a,{datePattern:"yyyy-MM-dd",selector:"date"}),{selector:"date"}));return k},getLocaleFormattedTimeFromString:function(a){var k="";a&&(k=q.format(q.parse(a,{timePattern:5<a.length?"HH:mm:ss":"HH:mm",selector:"time"}),{selector:"time"}));return k}}})},"url:ebPlatformWidgets/Evento/Communication/templates/SaveAsTemplateDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!commonMessages.lblTemplate}\x3c/label\x3e\n\t\t\t\x3cselect data-dojo-attach-point\x3d"selectTemplateModelNode"\x3e\x3c/select\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"deleteBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"saveBtnNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Checkin/templates/CheckinWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\n\t\x3cdiv data-dojo-attach-point\x3d"singleSlotNode" class\x3d"singleSlotNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"multipleSlotsNode" class\x3d"multipleSlotsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"slotSelectionNode"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"pulsantiContainerNode" class\x3d"pulsanti"\x3e\n\t\t\x3cdiv class\x3d"btnContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"registratiBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"indicatore" data-dojo-attach-point\x3d"registratiNumNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"btnContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"entratiBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"indicatore" data-dojo-attach-point\x3d"entratiNumNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"btnContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"masterBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"indicatore" data-dojo-attach-point\x3d"masterNumNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"listaContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"listaNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/RegistrationConfirmationEmailTicketWidget.html":'\x3cdiv class\x3d"${baseClass} hidable"\x3e\n\t\x3cdiv class\x3d"templateContainer" data-dojo-attach-point\x3d"templateContainerNode"\x3e\n\t\t\x3cdiv class\x3d"leftColumn" data-dojo-attach-point\x3d"leftColumnNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"templateNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:ebPlatformWidgets/Form/templates/DivDropDownButtonWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cspan class\x3d"icon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"title" data-dojo-attach-point\x3d"titleNode"\x3e${title}\x3c/span\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditPersonalDetailsFormWithLogicDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n\t\x3c!-- \n\t\x3cdiv class\x3d"ruleSetupContainer" data-dojo-attach-point\x3d"ruleSetupContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"ruleSetupNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t --\x3e\n\t\n\t\x3cdiv class\x3d"contentContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"headerNode" class\x3d"header"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"headerMarkersNode" class\x3d"headerMarkers"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"headerLabelsNode" class\x3d"headerLabels"\x3e\x3c/div\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\t\t\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"treeContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"nomeCognomeNode"\x3e\n\t\t\t\n\t\t\t\t\x3cdiv class\x3d"dijitTreeIsRoot dijitTreeNode dijitTreeNodeLoaded dijitLoaded" style\x3d"background-position: 0px 0px;"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"dijitTreeRow" style\x3d"padding-left: 0px;"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"dijitInline dijitTreeExpando dijitTreeExpandoLeaf"\x3e\x3c/span\x3e\x3cspan class\x3d"dijitExpandoText"\x3e*\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"dijitTreeContent dijitTreeContentExpanded"\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitTreeIcon dijitLeaf"\x3e\x3c/span\x3e\x3cspan class\x3d"dijitTreeLabel"\x3e${!commonMessages.lblNome}\x3c/span\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"dijitTreeNodeContainer" style\x3d"height: auto;"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitTreeIsRoot dijitTreeNode dijitTreeNodeLoaded dijitLoaded" style\x3d"background-position: 0px 0px;"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"dijitTreeRow" style\x3d"padding-left: 0px;"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"dijitInline dijitTreeExpando dijitTreeExpandoLeaf"\x3e\x3c/span\x3e\x3cspan class\x3d"dijitExpandoText"\x3e*\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"dijitTreeContent dijitTreeContentExpanded"\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitTreeIcon dijitLeaf"\x3e\x3c/span\x3e\x3cspan class\x3d"dijitTreeLabel"\x3e${!commonMessages.lblCognome}\x3c/span\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"dijitTreeNodeContainer" style\x3d"height: auto;"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"treeNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nodesSetupsContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"nomeCognomeSetupsNode" class\x3d"nomeCognomeSetupsNode"\x3eAAAA\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"nodesSetupsNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addTextBtnNode"\x3eAGGIUNGI TESTO\x3c/button\x3e\t\t\t\t\n\t\t\x3cbutton data-dojo-attach-point\x3d"resetLogicBtnNode"\x3eRESET LOGICA\x3c/button\x3e\n\t\t\x3c!-- \x3cbutton data-dojo-attach-point\x3d"resetSelectedBtnNode"\x3eRESET SELEZIONE\x3c/button\x3e --\x3e\n\t\t\t\t\n\t\t\x3c!-- \x3cbutton style\x3d"margin-left:100px;" data-dojo-attach-point\x3d"btnNode"\x3eMOSTRA\x3c/button\x3e--\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/RegistrationConfirmationEmailTemplateWidget.html":'\x3cdiv class\x3d"${baseClass} hidable"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\t\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"languageSelectionContainerNode"\x3e\n\t\t\t\x3clabel class\x3d"sceltaLingua"\x3e${!commonMessages.lblLingua}\x3c/label\x3e\x26nbsp;\x3cdiv data-dojo-attach-point\x3d"languageSelectionNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"boxSelectTemplate itemForm"\x3e\n\t\t\x3clabel\x3e${!commonMessages.lblTemplate}\x3c/label\x3e \x3cselect data-dojo-attach-point\x3d"selectTemplateModelNode"\x3e\x3c/select\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"saveAsTemplateBtnNode"\x3eSalva come template\x3c/button\x3e\n\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"operationTypeContainer" data-dojo-attach-point\x3d"operationTypeContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"operationTypeNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3c!-- SELECT per TEMPLATES  \n\t\x3cdiv class\x3d"boxSelectTemplate itemForm"\x3e\n\t\t\x3clabel\x3e${!commonMessages.lblTemplate}\x3c/label\x3e \x3cselect data-dojo-attach-point\x3d"selectTemplateModelNode"\x3e\x3c/select\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"saveAsTemplateBtnNode"\x3eSalva come template\x3c/button\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t--\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"emailHeadersContainerNode" class\x3d"addressesContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\t\x3cdiv\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblFrom}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cdiv class\x3d"richTextBoxContainer"\x3e\x3cinput data-dojo-attach-point\x3d"senderNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblReplyTo}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cdiv class\x3d"richTextBoxContainer"\x3e\x3cinput data-dojo-attach-point\x3d"replyToNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\t\t\t\t\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"subjectContainerNode"\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.lblSubject}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"subjectNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"updateSubjectContainerNode"\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.registrationConfirmationEmail.lblUpdateSubject}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"updateSubjectNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"deletionSubjectContainerNode"\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.registrationConfirmationEmail.lblDeletionSubject}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"deletionSubjectNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\t\t\n\t\t\t\x3cdiv class\x3d"msgSenderSpamWarningNote"\x3e${!messages.msgSenderSpamWarningNote}\x3c/div\x3e\t\n\t\t\x3c/div\x3e\n\t\t\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"templateContainer" data-dojo-attach-point\x3d"templateContainerNode"\x3e\n\t\n\t\t\x3cdiv class\x3d"leftColumn" data-dojo-attach-point\x3d"leftColumnNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"templateNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"rightColumn"\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\x3clabel\x3e${!messages.lblEditColors}\x3c/label\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"backGroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"backGroundBodyColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"foreGroundTitlesColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"foreGroundBodyColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"linkBodyColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"linkSystemColorNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/CommunicationWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\t\n\t\x3cdiv data-dojo-attach-point\x3d"mainStackContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Guests/templates/CompleteListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ciframe style\x3d"position: absolute; top: -1000px;" src\x3d"about:blank" data-dojo-attach-point\x3d"hiddenBadgePdfNode"\x3e\x3c/iframe\x3e\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"rowContent noListWarning" data-dojo-attach-point\x3d"noListWarningNode"\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"noList"\x3e${!messages.lblNoCompleteList}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"listContainerNode"\x3e\t\t\t\n\t\t\t\x3c!-- \n\t\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t --\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga tableLista" data-dojo-attach-point\x3d"visualizzaListaNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable infoTableContaier" data-dojo-attach-point\x3d"infoTableNode"\x3e\n\t\t\t\t\t\x3cspan class\x3d"infoNumPartecipanti"\x3e${!messages.lblGuestsNum}:\x26nbsp;\x3cspan data-dojo-attach-point\x3d"numPersoneLabelNode"\x3e0\x3c/span\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cspan class\x3d"${baseClass}DownloadLista boxDownload"\x3e\n\t \t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportExcelNode" href\x3d"/downloadListaPersone.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dExcel" class\x3d"ico_excel" title\x3d"${!commonMessages.lblExportExcelTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportCsvNode" href\x3d"/downloadListaPersone.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dCSV" class\x3d"ico_csv" title\x3d"${!commonMessages.lblExportCSVTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t --\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"searchBox" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"doubleClickToEditInfo"\x3e${!commonMessages.msgDoubleClickToEdit}\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"boxOpzioniLista"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCustomReports" data-dojo-attach-point\x3d"popupCustomReportsBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"customReportsBtnNode"\x3e${!messages.lblCustomReports}\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnInserisci"\x3e\n\t\t\t\t\t\t\t\x3ca href\x3d"" data-dojo-attach-point\x3d"inserisciBtnNode"\x3e${!messages.lblAddInviteeBtn}\x3c/a\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnFiltri" data-dojo-attach-point\x3d"popupFiltriBtnContainerNode"\x3e \x3cbutton data-dojo-attach-point\x3d"popupFiltriBtnNode"\x3e${!messages.lblOpenFiltersPopupBtn}\x3c/button\x3e \x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"${baseClass}AzioniLista btnAggiorna"\x3e\x3cbutton data-dojo-attach-point\x3d"refreshBtnNode"\x3e${!messages.lblRefreshListBtn}\x3c/button\x3e\x3c/span\x3e\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraNonInteressatiNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraAzioniOspiteNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t --\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"langSelectionNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"${baseClass} boxGridContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingNode" class\x3d"gridLoadingMask"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"gridLoadingBackgroundMask"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingTextNode" class\x3d"gridLoadingText"\x3eLoading....\x3c/div\x3e\n\t\t\t\t\t\t\x3cimg class\x3d"gridLoadingImg" src\x3d"/img/loading.gif" /\x3e\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/editor/plugins/resources/templates/PlaceHolderPalette.html":'\x3cdiv class\x3d"dijitInline dijitPlaceHolderPalette"\x3e\n\t\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0" role\x3d"grid"\x3e\n\t\t\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\x3e\n\t\x3c/table\x3e\n\x3c/div\x3e\n',"url:ebPlatformWidgets/Evento/Badges/templates/EditGuestCategoryDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-ebplatform-template-elementid\x3d"guestCategorySelectionNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"categoryShowTextNode" type\x3d"checkbox"\x3e\x3c/input\x3e\n\t\t\t\x3clabel data-dojo-attach-point\x3d"categoryShowTextLabel"\x3e${!messages.lblCategoryShowText}\x3c/label\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"guestCategoryFontFamily" /\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"guestCategoryFontSize" /\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditEventDetailsDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"textColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"fixed"\x3e\n\t\t\x3cdiv id\x3d"eventDetailsTitleNode" class\x3d"itemRow"\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showSectionTitleNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cstrong\x3e${!messages.lblSectionTitle}\x3c/strong\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"sectionTitleNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"titleColorNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontTitleSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"layout" data-dojo-attach-point\x3d"dndSource"\x3e\n\t\t\x3cdiv id\x3d"eventDetailsImageImgContainerNode" class\x3d"itemRow dojoDndItem"\x3e\n\t\t\t\x3cdiv class\x3d"dndico dojoDndHandle"\x3e\x26nbsp;\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showEventDetailsImageNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cstrong\x3e${!messages.lblEventDetailsImagePlaceHolderLbl}\x3c/strong\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"margin"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginTop}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eiMTopNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginBottom}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eiMBotNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d "imageEditBox"\x3e\n\t\t\t\t\t\x3cdiv class\x3d" clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"boxUpload"\x3e\n\t\t\t\t\t\t\x3cform data-dojo-attach-point\x3d"uploadImageFormNode"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"nomeFileNode"\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"btnContainer"\x3e\n\t\t\t\t\t\t\t\t\x3cspan\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"file" data-dojo-attach-point\x3d"scegliFileNode"\x3e\n\t\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"btnUpload"\x3e\n\t\t\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"uploadBtnNode"\x3e\x3c/button\x3e\n\t\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3c/form\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"nota" data-dojo-attach-point\x3d"fileFormatNoteNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"imgPreviewContainer" data-dojo-attach-point\x3d"imgPreviewContainerNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"imgPreviewContainer"\x3e\n\t\t\t\t\t\t\t\x3cimg data-dojo-attach-point\x3d"imgPreviewNode" /\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"removeBtn" data-dojo-attach-point\x3d"removeImgBtnNode"\x3ex\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"doesImgSubstituteSxColNode"\x3e\n\t\t\t\t\t\t\x3clabel\x3e${!messages.lblDoesImgSubstituteSxCol}\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv id\x3d"eventDetailsDetailsNode" class\x3d"itemRow dojoDndItem"\x3e\n\t\t\t\x3cdiv class\x3d"dndico dojoDndHandle"\x3e\x26nbsp;\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showEventDetailsDetailsNode"\x3e\n\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblShowEventDetailsDetails}\x3c/strong\x3e\n\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontAddressSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"margin"\x3e\n\t\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginTop}\x3c/label\x3e\n\t\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"edtMTopNode" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginBottom}\x3c/label\x3e\n\t\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"edtMBotNode" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv id\x3d"boxOrganizerDetails" class\x3d"itemRow dojoDndItem"\x3e\n\t\t\t\x3cdiv class\x3d"dndico dojoDndHandle"\x3e\x26nbsp;\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showOrganizerDetailsNode"\x3e\n\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblShowOrganizerDetails}\x3c/strong\x3e\n\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"margin"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginTop}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eoMTopNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginBottom}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eoMBotNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv id\x3d"boxEventDescription" class\x3d"itemRow dojoDndItem"\x3e\n\t\t\t\x3cdiv class\x3d"dndico dojoDndHandle"\x3e\x26nbsp;\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showEventDescriptionNode"\x3e\n\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblShowEventDescription}\x3c/strong\x3e\n\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"margin"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginTop}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"edMTopNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginBottom}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"edMBotNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv id\x3d"boxEventMap" class\x3d"itemRow dojoDndItem"\x3e\n\t\t\t\x3cdiv class\x3d"dndico dojoDndHandle"\x3e\x26nbsp;\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showEventMapNode"\x3e\n\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblShowEventMap}\x3c/strong\x3e\n\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"margin"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginTop}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"emMTopNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3clabel\x3e${commonMessages.lblMarginBottom}\x3c/label\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"emMBotNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3c!-- \n\t\t\x3clabel\x3e${!messages.lblOtherOptions}\x3c/label\x3e\n\t\t--\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/CommunicationsListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle"\x3e\n\t\t${!messages.lblMainTitle}\n\t\t\x3cspan data-dojo-attach-point\x3d"mainTitleTipNode" class\x3d"helpTip" style\x3d"display: none"\x3e\x26nbsp;\x3c/span\x3e\n\t\x3c/h2\x3e\n\t\x3ch3\x3e${!messages.lblCommunicationsListTitle}\x3c/h3\x3e\n\t\x3cdiv class\x3d"addCommunicationBtnsContainer"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addInvitationBtnNode"\x3e${!messages.lblAddInvitationBtn}\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addConfirmationBtnNode"\x3e${!messages.lblAddConfirmationBtn}\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addOtherCommunicationBtnNode"\x3e${!messages.lblAddOtherCommunicationBtn}\x3c/button\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxInfo boxNoCommunication" data-dojo-attach-point\x3d"noCommunicationsBoxNode"\x3e\n\t\t\x3cdiv class\x3d"text"\x3e\n\t\t\t\x3ch5\x3e${!messages.lblNoCommunicationsBoxTitle}\x3c/h5\x3e\n\t\t\t\x3cp\x3e${!messages.msgNoCommunicationsBoxMsg}\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cimg src\x3d"/img/communications.png" /\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"communicationsBox" data-dojo-attach-point\x3d"communicationsBoxNode"\x3e\n\t\t\x3cdiv class\x3d"scheduledCommunicationsBox" data-dojo-attach-point\x3d"scheduledCommunicationsBoxNode"\x3e\n\t\t\t\x3ch3 data-dojo-attach-point\x3d"scheduledCommunicationsTitleNode"\x3e${!messages.lblScheduledCommunications}\x3c/h3\x3e\n\t\t\t\x3cdiv class\x3d"invitationsBox tableLista" data-dojo-attach-point\x3d"invitationsBoxNode"\x3e\n\t\t\t\t\x3ch4\x3e${!messages.lblInvitationsTitle}\x3c/h4\x3e\n\t\t\t\t\x3cdiv class\x3d"invitationsGrid" data-dojo-attach-point\x3d"invitationsGridNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"otherCommunicationsBox tableLista" data-dojo-attach-point\x3d"otherCommunicationsBoxNode"\x3e\n\t\t\t\t\x3ch4\x3e${!messages.lblOtherCommunicationsTitle}\x3c/h4\x3e\n\t\t\t\t\x3cdiv class\x3d"otherCommunicationsGrid" data-dojo-attach-point\x3d"otherCommunicationsGridNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"confirmationEmailsBox tableLista" data-dojo-attach-point\x3d"confirmationEmailsBoxNode"\x3e\n\t\t\t\x3ch3\x3e${!messages.lblConfirmationEmails}\x3c/h3\x3e\n\t\t\t\x3ch4\x3e${!messages.lblConfirmationsTitle}\x3c/h4\x3e\n\t\t\t\x3cdiv class\x3d"confirmationEmailsGrid" data-dojo-attach-point\x3d"confirmationEmailsGridNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/EditPersonalDetailsFormDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ctable\x3e\n\t\t\x3cthead\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3cth\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\t\x3cth\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblShowOnConfirmationEmail}\x3c/th\x3e\n\t\t\t\t\x3cth data-dojo-attach-point\x3d"lblShowForPartnerFieldTdNode"\x3e${!messages.lblShowForPartnerField}\x3c/th\x3e\n\t\t\t\t\x3cth class\x3d"controls"\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameLabelNode"\x3e${!commonMessages.lblNome}\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"firstNameShowNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameShowForPartnerTdNode"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"firstNameShowForPartnerNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameNameLabelNode"\x3e${!commonMessages.lblCognome}\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"surnameShowNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameShowForPartnerTdNode"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"surnameShowForPartnerNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/thead\x3e\n\t\t\x3ctbody calss\x3d"layout" data-dojo-attach-point\x3d"fieldsTbodyNode"\x3e\n\t\t\n\t\t\x3c/tbody\x3e\n\t\x3c/table\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditRegistrationFormElementsSetupsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3eCIAO\x3c/div\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Badges/templates/BadgesManagementWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"mainStackContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Dialogs/SceltaLinguaDialogWidget/templates/RigaLinguaWidget.html":'\x3cdiv class\x3d"rigaLingua"\x3e\n\x3cspan class\x3d"label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/span\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/AppSetup/templates/AppSetupWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row checkBoxPrincipale"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"eventVisibleToAppNode"\x3e\x26nbsp;\x3cspan\x3e${!messages.lblEventVisibileToApp}\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"eventVisibleToAppTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"row checkBoxPrincipale" data-dojo-attach-point\x3d"collectPersonalDetailsContainerNode"\x3e\t\t\t\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"collectPersonalDetailsNode"\x3e\x26nbsp;\x3cspan\x3e${!messages.lblCollectPersonalDetails}\x3c/span\x3e\t\t\t\t\t\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"row checkBoxPrincipale"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"requestSignatureNode"\x3e\x26nbsp;\x3cspan\x3e${!messages.lblRequestSignature}\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"requestSignatureTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"row checkBoxPrincipale"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowAddAccompanyingGuestWithPersonalDetailsNode"\x3e\x26nbsp;\x3cspan\x3e${!messages.lblAllowAddAccompanyingGuestWithPersonalDetails}\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"allowAddAccompanyingGuestWithPersonalDetailsTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"row checkBoxPrincipale"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowAddAccompanyingGuestWithoutPersonalDetailsNode"\x3e\x26nbsp;\x3cspan\x3e${!messages.lblAllowAddAccompanyingGuestWithoutPersonalDetails}\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"allowAddAccompanyingGuestWithoutPersonalDetailsTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row checkBoxPrincipale"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowBadgePrintingNode"\x3e\x26nbsp;\x3cspan\x3e${!messages.lblAllowBadgePrinting}\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"allowBadgePrintingTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"badgePrintingDetailsContainer" data-dojo-attach-point\x3d"badgePrintingDetailsContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"row checkBoxPrincipale"\x3e\n\t\t\t\t\x3cspan\x3e${!messages.lblBadgePrintingTemplate}\x3c/span\x3e\x26nbsp;\x3cselect data-dojo-attach-point\x3d"badgePrintingTemplateNode"\x3e\x3c/select\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"badgePrintingTemplateTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"msgAppAccountsNote" data-dojo-attach-point\x3d"appAccountsNoteNode"\x3e${!messages.msgAppAccountsNote}\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row containerBoxSpecificheCampi hidable"\x3e\n\t\t\t\x3c!--\n\t\t\t\x3cdiv class\x3d"divDropDownButtonWidget"\x3e\n\t\t\t\t\x3cspan class\x3d"icon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"title" data-dojo-attach-point\x3d"titleNode"\x3e${!messages.lblAppFields}\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t--\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"appFieldsBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"appFieldsMasterContainerNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"visibleInListContainer fl"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"bigbutton"\x3e\n\t\t\t\t\t\t\x3cimg src\x3d"/img/app-setup-show-in-list.png" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"rowContent boxSpecificheCampi"\x3e\n\t\t\t\t\t\t\x3ctable\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo" colspan\x3d"4"\x3e\x3ch3\x3e${!messages.msgVisibleInList}\x3c/h3\x3e\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"legend" colspan\x3d"4"\x3e${!messages.msgVisibleInListTip}\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"campo"\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" disabled\x3d"disabled" checked\x3d"checked" class\x3d"fakeCheckBoxCheckedDisabled"\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo"\x3e${!commonMessages.lblNome}\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"campo"\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" disabled\x3d"disabled" checked\x3d"checked" class\x3d"fakeCheckBoxCheckedDisabled"\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo"\x3e${!commonMessages.lblCognome}\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"customFieldsVisibleInListContainerNode"\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3c/tbody\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"visibleInDetailContainer fl"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"bigbutton"\x3e\n\t\t\t\t\t\t\x3cimg src\x3d"/img/app-setup-show-in-form.png" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"rowContent boxSpecificheCampi"\x3e\n\t\t\t\t\t\t\x3ctable\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo" colspan\x3d"4"\x3e\x3ch3\x3e${!messages.msgVisibleInDetail}\x3c/h3\x3e\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"legend" colspan\x3d"4"\x3e${!messages.msgVisibleInDetailTip}\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"btnSimpleContainer" colspan\x3d"4"\x3e\x3cinput type\x3d"button" data-dojo-attach-point\x3d"copyConfFromEventPageNode" /\x3e\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"campo"\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" disabled\x3d"disabled" checked\x3d"checked" class\x3d"fakeCheckBoxCheckedDisabled"\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo"\x3e${!commonMessages.lblNome}\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"campo"\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" disabled\x3d"disabled" checked\x3d"checked" class\x3d"fakeCheckBoxCheckedDisabled"\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo"\x3e${!messages.msgRequiredField}\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"campo"\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" disabled\x3d"disabled" checked\x3d"checked" class\x3d"fakeCheckBoxCheckedDisabled"\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo"\x3e${!commonMessages.lblCognome}\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"campo"\x3e\n\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" disabled\x3d"disabled" checked\x3d"checked" class\x3d"fakeCheckBoxCheckedDisabled"\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd class\x3d"labelCampo"\x3e${!messages.msgRequiredField}\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"customFieldsVisibleInDetailContainerNode"\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3c/tbody\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\n\t\t\x3c!-- ----------------- Accordion Mappe ----------------- --\x3e\n\t\t\x3cdiv class\x3d"row appImages hidable"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"appImagesBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"appImagesMasterContainerNode"\x3e\n\t\t\t\t\x3cbutton type\x3d"button" data-dojo-attach-point\x3d"addImageBtnNode"\x3e\x3c/button\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"appImagesContainerNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3c!-- ----------------- fine accordion ----------------- --\x3e\n\n\t\t\x3c!-- ----------------- Accordion ----------------- --\x3e\n\t\t\x3cdiv class\x3d"row privacySettings hidable"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"privacySettingsBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"privacySettingsMasterContainerNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showPrivacyNode"\x3e\n\t\t\t\t\t\t\x3clabel\x3e${messages.lblShowPrivacy}\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"languageSelectionContainerNode"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"languageSelectionNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"privacySettingsContainerNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3c!-- ----------------- fine accordion ----------------- --\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/Communication/templates/EditPersonalDetailsDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ctable\x3e\n\t\t\x3cthead\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3cth\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\t\x3cth\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblShowInTicket}\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblShowLabelInTicket}\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblNewLineBeforeInTicket}\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblNewLineInAfterTicket}\x3c/th\x3e\t\t\t\t\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/thead\x3e\n\t\t\x3ctbody data-dojo-attach-point\x3d"fieldsTbodyNode"\x3e\n\t\t\n\t\t\x3c/tbody\x3e\n\t\x3c/table\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/ScheduledCommunicationTemplateWidget.html":'\x3cdiv class\x3d"${baseClass} hidable"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"emailHeadersContainerNode" class\x3d"addressesContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\t\x3cdiv\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblFrom}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cdiv class\x3d"richTextBoxContainer"\x3e\x3cinput data-dojo-attach-point\x3d"senderNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblReplyTo}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cdiv class\x3d"richTextBoxContainer"\x3e\x3cinput data-dojo-attach-point\x3d"replyToNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblSubject}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cdiv class\x3d"richTextBoxContainer"\x3e\x3cinput data-dojo-attach-point\x3d"subjectNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"msgSenderSpamWarningNote"\x3e${!messages.msgSenderSpamWarningNote}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"templateContainer" data-dojo-attach-point\x3d"templateContainerNode"\x3e\n\t\t\x3cdiv class\x3d"leftColumn" data-dojo-attach-point\x3d"leftColumnNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"templateNode"\x3e\x3c/div\x3e\t\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"rightColumn"\x3e\n\t\t\t\x3ch3\x3e${!messages.lblEditColors}\x3c/h3\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"backGroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"backGroundBodyColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"foreGroundBodyColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"linkBodyColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"linkSystemColorNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Checkin/templates/ScannerConfgurationDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"enalbleDirectNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblEnableDirectCheckin}\x3c/label\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"directCheckinTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"enalbleAimNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblEnableGlobalAIMID}\x3c/label\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"rowTitle"\x3e${!messages.msgTestYourScanner}\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\x3cdiv class\x3d"sample"\x3e\n\t\t\t\t\x3cimg alt\x3d"sample" src\x3d"/img/test_qrcode.png" /\x3e\n\t\t\t\t\x3clabel data-dojo-attach-point\x3d"matchNode"\x3e\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"scan"\x3e\n\t\t\t\t\x3ctextarea data-dojo-attach-point\x3d"testNode"\x3e\x3c/textarea\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"checkBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/MailAggiornaStatsWidget.html":'\x3cspan class\x3d"${baseClass}"\x3e\n\t\x3cspan class\x3d"title"\x3e${!testi.lblAggiornaStatisticheBtn}\x3c/span\x3e\n\t\x3cspan class\x3d"progressBar" data-dojo-attach-point\x3d"mailStatsNumEsitiAggiornatiContainerNode"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"mailStatsProgressBarNode"\x3e\x3c/span\x3e\n\t\x3c/span\x3e\n\t\x3cspan class\x3d"" data-dojo-attach-point\x3d"mailStatsBtnContainerNode" style\x3d"margin: -1px"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"mailStatsBtnNode"\x3e${!testi.lblStatsBtn}\x3c/button\x3e\n\t\x3c/span\x3e\n\t\x3cdiv class\x3d"lastUpdate"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"lastUpdateLabel" class\x3d"lastUpdateLabel"\x3e${communicationMessages.lblLastStatisticsUpdate} \x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"lastUpdateNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/span\x3e',
"url:ebPlatformWidgets/Evento/EventDetails/templates/DatesTimeSlotsWidget.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\n\t\x3cdiv class\x3d"boxResistrazioneEsclusiva" data-dojo-attach-point\x3d"boxResistrazioneEsclusivaNode"\x3e\n\t\n\t\t\x3ch3\x3e${!messages.lblRegistrationOptions}\x3c/h3\x3e\n\t\t\x3cdiv class\x3d"note"\x3e${!messages.msgRegistrationOptions}\x3c/div\x3e\n\t\n\t\x3c!-- \t\t\n\t\t\t\x3cdiv class\x3d"itemsRadio" data-dojo-attach-point\x3d"datesEsclusivenessNode" style\x3d"display:none;"\x3e\n\t\t\t\t\x3ch5\x3e ${!messages.lblDatesExclusiveness} \x3c/h5\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"datesEsclusivenessTooltipNode"\x3e ? \x3c/span\x3e\n\t\n\t\t\t\t\x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"datesEsclusiveNode"\x3e\x26nbsp;${!messages.lblDatesExclusive} \x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"datesNotEsclusiveNode"\x3e\x26nbsp;${!messages.lblDatesNotExclusive} \x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\x3cdiv class\x3d"itemsRadio" data-dojo-attach-point\x3d"timeSlotsEsclusivessNode" style\x3d"display:none;"\x3e\n\t\t\t\t\x3ch5\x3e ${!messages.lblTimeSlotsExclusiveness} \x3c/h5\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"timeSlotsEsclusivenessTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"timeSlotsExclusiveNode"\x3e\x26nbsp;${!messages.lblTimeSlotsExclusive} \x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"timeSlotsNotExclusiveNode"\x3e\x26nbsp;${!messages.lblTimeSlotsNotExclusive} \x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t --\x3e\n\t \t\n\t\t\x3ctable\x3e\n\t\t\t\x3ctr class\x3d"itemsRadio" data-dojo-attach-point\x3d"datesEsclusivenessNode" style\x3d"display:none;"\x3e\n\t\t\t\t\x3ctd\x3e \x3ch5\x3e ${!messages.lblDatesExclusiveness} \x3c/h5\x3e \x3c/td\x3e\n\t\t\t\t\x3ctd\x3e \x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"datesEsclusivenessTooltipNode"\x3e ? \x3c/span\x3e \x3c/td\x3e\n\t\t\t\t\x3ctd\x3e \x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"datesEsclusiveNode"\x3e\x26nbsp;${!messages.lblDatesExclusive} \x3c/div\x3e \x3c/td\x3e\n\t\t\t\t\x3ctd\x3e \x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"datesNotEsclusiveNode"\x3e\x26nbsp;${!messages.lblDatesNotExclusive} \x3c/div\x3e \x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\t\n\t\t\t\x3ctr class\x3d"itemsRadio" data-dojo-attach-point\x3d"timeSlotsEsclusivessNode" style\x3d"display:none;"\x3e\n\t\t\t\t\x3ctd\x3e \x3ch5\x3e ${!messages.lblTimeSlotsExclusiveness} \x3c/h5\x3e \x3c/td\x3e\n\t\t\t\t\x3ctd\x3e \x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"timeSlotsEsclusivenessTooltipNode"\x3e ? \x3c/span\x3e \x3c/td\x3e\n\t\t\t\t\x3ctd\x3e \x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"timeSlotsExclusiveNode"\x3e\x26nbsp;${!messages.lblTimeSlotsExclusive} \x3c/div\x3e \x3c/td\x3e\n\t\t\t\t\x3ctd\x3e \x3cdiv class\x3d"itemRadio"\x3e \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"timeSlotsNotExclusiveNode"\x3e\x26nbsp;${!messages.lblTimeSlotsNotExclusive} \x3c/div\x3e \x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/table\x3e\n \t\t\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"datesTimeSlotsContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Badges/templates/BadgeTemplateWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"templateContainer" data-dojo-attach-point\x3d"templateContainerNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"formatSelectionContainerNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblColFormato}\x3c/label\x3e\n\t\t\t\x3cselect data-dojo-attach-point\x3d"pageFormatNode"\x3e\x3c/select\x3e\n\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"pageFormatTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"pageFormatTooltipLblNode"\x3e${!messages.lblPrintTip}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"pagesSelectionContainerNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblOneSide}\x3c/label\x3e \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"oneSideNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3c!-- \n\t\t\x3cdiv class\x3d"boxSelectTemplate itemForm" data-dojo-attach-point\x3d"templateSelectionContainerNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblTemplate}\x3c/label\x3e \x3cselect data-dojo-attach-point\x3d"templateSelectionNode"\x3e\x3c/select\x3e\n\t\t\x3c/div\x3e\n\t\t--\x3e\n\t\t\x3cdiv class\x3d"leftColumn" data-dojo-attach-point\x3d"leftColumnNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"templateNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3c!-- \n\t\t\x3cdiv class\x3d"rightColumn" style\x3d"float:left"\x3e\n\t\t\t\x3ch3\x3e##marigns\x3c/h3\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"marginTopNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"marginRightNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"marginBottomNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"marginLeftNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t --\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/integration/pardot/templates/MapFieldDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3clabel\x3e${!manageGuestsMessages.lblManageFieldsGridFieldName}\x3c/label\x3e\n\t\t\t\t\t\x3cinput type\x3d"text" data-dojo-attach-point\x3d"pardotFieldNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"okBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"cancelBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/ShopifyFormLayoutWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n\t\t\x3ctable\x3e\n\t\t\t\x3cthead\x3e\n\t\t\t\t\x3ctr class\x3d"ConfigureRegistrationFormTitle"\x3e\n\t\t\t\t\t\x3ctd colspan\x3d"4"\x3e${!messages.lblShopifyConfigureRegistrationForm}\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e${!messages.lblShowOnShopifyForm}\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e${!messages.lblMandatoryOnShopifyForm}\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/thead\x3e\n\t\t\t\x3ctbody data-dojo-attach-point\x3d"rowsContainerNode"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\x3cimg src\x3d"/img/dnd.png" /\x3e\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3ecampo 1\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" /\x3e\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" /\x3e\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\t\x3ctfoot\x3e\n\t\t\t\t\x3ctr class\x3d"updateShopifyFormBtnContainer"\x3e\n\t\t\t\t\t\x3ctd colspan\x3d"4"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"button" data-dojo-attach-point\x3d"updateShopifyFormBtnNode" value\x3d"Update Shopify Form" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"shopifyFormLastUpdate" data-dojo-attach-point\x3d"shopifyFormLastUpdateNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr class\x3d"UpdatePageContentTitle"\x3e\n\t\t\t\t\t\x3ctd colspan\x3d"4"\x3e${!messages.lblShopifyUpdatePageContent}\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr class\x3d"openUpdateShopifyOtherAssetsPopupBtnContainer"\x3e\n\t\t\t\t\t\x3ctd colspan\x3d"4"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"button" data-dojo-attach-point\x3d"openUpdateShopifyOtherAssetsPopupBtnNode" value\x3d"Open update Shopify other assets popup" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"shopifyOtherAssetsLastUpdate" data-dojo-attach-point\x3d"shopifyOtherAssetsLastUpdateNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tfoot\x3e\n\t\t\x3c/table\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditFormTextDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"textColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow spacing"\x3e\n\t\t\x3cdiv class\x3d"itemForm margin"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblMarginBefore}\x3c/label\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"marginBeforeNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm padding"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblPaddingBefore}\x3c/label\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"paddingBeforeNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm margin"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblMarginAfter}\x3c/label\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"marginAfterNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm padding"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblPaddingAfter}\x3c/label\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"paddingAfterNode" /\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemForm txt"\x3e\n\t\t\x3ctextarea data-dojo-attach-point\x3d"textNode"\x3e\x3c/textarea\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Badges/templates/EditFrontDataDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-ebplatform-template-elementid\x3d"frontLinesNode"\x3e\n\t\t\x3ctable\x3e\n\t\t\t\x3ctbody  id\x3d"line1"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"line1Label"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3ch2 data-dojo-attach-point\x3d"line1Value" class\x3d"front-line"\x3e\x3c/h2\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd rowspan\x3d"2"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"font1Value" /\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd /\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"options"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"br1Value" class\x3d"front-line-break" /\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblFrontbr}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\t\x3ctbody  id\x3d"line2"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"line2Label"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3ch2 data-dojo-attach-point\x3d"line2Value" class\x3d"front-line"\x3e\x3c/h2\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd rowspan\x3d"2"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"font2Value" /\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd /\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"options"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"br2Value" class\x3d"front-line-break" /\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblFrontbr}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\t\x3ctbody  id\x3d"line3"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"line3Label"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3ch2 data-dojo-attach-point\x3d"line3Value" class\x3d"front-line"\x3e\x3c/h2\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd rowspan\x3d"2"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"font3Value" /\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd /\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"options"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"br3Value" class\x3d"front-line-break" /\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblFrontbr}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\t\x3ctbody  id\x3d"line4"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"line4Label"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3ch2 data-dojo-attach-point\x3d"line4Value" class\x3d"front-line"\x3e\x3c/h2\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\x3ctd rowspan\x3d"2"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"font4Value" /\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd /\x3e\n\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"options"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"br4Value" class\x3d"front-line-break" /\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblFrontbr}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/tbody\x3e\n\t\t\x3c/table\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditPersonalDetailsDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow" data-dojo-attach-point\x3d"editSectionNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"textColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm sectionTitle"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblSectionTitle}\x3c/label\x3e\n\t\t\x3c/div\x3e\n\t\n\t\t\x3cdiv class\x3d"itemForm title"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"sectionTitleNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"titleColorNode"\x3e\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontTitleSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\t\n\t\x3c/div\x3e\n\t\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm sectionText"\x3e\n\t\t\t\x3clabel class\x3d"title"\x3e${!messages.lblSectionTexts}\x3c/label\x3e\n\t\t\t\x3cdiv\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblRegistrationFormAdditionalText}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"additionalTextNode"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv\x3e${!messages.msgSectionTexts}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showCheckPersonalInfoWarningNode"\x3e\n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"showCheckPersonalInfoWarningTextNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cbr/\x3e\x3cspan class\x3d"nota" data-dojo-attach-point\x3d"showCheckPersonalInfoWarningNoteNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showMandatoryFieldsWarningNode"\x3e\n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"showMandatoryFieldsWarningTextNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cbr/\x3e\x3cspan class\x3d"nota" data-dojo-attach-point\x3d"showMandatoryFieldsWarningNoteNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showDuplicatedEmailWarningNode"\x3e \n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"showDuplicatedEmailWarningTextNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cbr/\x3e\x3cspan class\x3d"nota" data-dojo-attach-point\x3d"showDuplicatedEmailWarningNoteNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showWrongPersonWarningNode"\x3e\n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"showWrongPersonWarningTextNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cbr/\x3e\x3cspan class\x3d"nota" data-dojo-attach-point\x3d"showWrongPersonWarningNoteNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showWrongAnonymousWarningNode"\x3e\n\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"showWrongAnonymousWarningTextNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cbr/\x3e\x3cspan class\x3d"nota" data-dojo-attach-point\x3d"showWrongAnonymousWarningNoteNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditRegistrationFormElementRuleWidget.html":'\x3cdiv class\x3d"${baseClass} ruleSetupContainer"\x3e\n\t\x3c!-- \x3cdiv data-dojo-attach-point\x3d"headerNode"\x3e\x3c/div\x3e --\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"debugRuleNode" style\x3d"display:none;"\x3e\x3c/div\x3e\t\t\t\n\t\t\x3ctable\x3e\n\t\t\t\x3ctr class\x3d"conditionRow"\x3e\n\t\t\t\t\x3ctd class\x3d"c1"\x3e\n\t\t\t\t\t\x3cb\x3e${!commonMessages.lblSe}\x3c/b\x3e\x26nbsp;\x3cspan data-dojo-attach-point\x3d"parentNameNode"\x3e\x3c/span\x3e\x26nbsp;\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3ctd class\x3d"c2"\x3e\n\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"conditionNode"\x3e\n\t\t\t\t\t\t\x3coption value\x3d"EMPTY"\x3eIs empty\x3c/option\x3e\n\t\t\t\t\t\t\x3coption value\x3d"EMPTY"\x3eIs not empty\x3c/option\x3e\n\t\t\t\t\t\t\x3coption\x3eIs equal to\x3c/option\x3e\n\t\t\t\t\t\t\x3coption\x3eIs not equal to\x3c/option\x3e\n\t\t\t\t\t\x3c/select\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3ctd class\x3d"c3"\x3e\n\t\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\t\x3cselect class\x3d"conditionValues" data-dojo-attach-point\x3d"conditionValuesNode"\x3e\n\t\t\t\t\t\t\t\x3coption\x3eA\x3c/option\x3e\n\t\t\t\t\t\t\t\x3coption\x3eB\x3c/option\x3e\n\t\t\t\t\t\t\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\t\x3ctr class\x3d"actionRow"\x3e\n\t\t\t\t\x3ctd class\x3d"c1"\x3e\n\t\t\t\t\t\x3cb\x3e${!commonMessages.lblAllora}\x3c/b\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3ctd class\x3d"c2"\x3e\n\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"actionNode"\x3e\n\t\t\t\t\t\t\x3coption\x3eShow\x3c/option\x3e\n\t\t\t\t\t\t\x3coption\x3eDon\'t show\x3c/option\x3e\n\t\t\t\t\t\x3c/select\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3ctd class\x3d"c3"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"childNameNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/td\x3e\t\t\t\t\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/table\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/CommunicationStatisticsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 class\x3d"mainTitle sub"\x3e${!messages.lblStatisticsMainTitle}\x3c/h2\x3e\n\t\x3cdiv class\x3d"row" data-dojo-attach-point\x3d"detailsContainerNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblEmailName}\x3c/label\x3e\x3cp data-dojo-attach-point\x3d"emailNameNode"\x3e\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"totRecipientsNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblRecipient}\x3c/label\x3e\n\t\t\t\x3c!-- \n\t\t\t\x3cp data-dojo-attach-point\x3d"recipientNode"\x3e\x3c/p\x3e\n\t\t\t --\x3e\n\t\t\t\x3cdiv class\x3d"indicatorContainer" data-dojo-attach-point\x3d"indicatorContainerNode"\x3e\n\t\t\t\t\x3cimg src\x3d"/img/people_15.png" /\x3e\n\t\t\t\t\x3cspan class\x3d"indicator" data-dojo-attach-point\x3d"indicatorNode"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"statisticheContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"statisticheNode"\x3e\x3c/div\x3e\t\t\n\t\x3c/div\x3e\t\n\t\x3cdiv data-dojo-attach-point\x3d"recipientsContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"recipientsNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Social/templates/SocialSetupWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\t\x3cspan class\x3d""\x3e${!messages.msgIntro}\x3c/span\x3e\x3cbr/\x3e\x3cbr/\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"socialPluginContainerNode" /\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/EventPage/templates/EditPersonalDetailsFormDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\n\t\x3cdiv class\x3d"itemForm formFields"\x3e\n\t\t\x3clabel\x3e${!messages.lblRegistrationFormFields}\x3c/label\x3e\n\t\x3c/div\x3e\n\t\n\t\x3ctable\x3e\n\t\t\x3cthead\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3cth\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\t\x3cth\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblShowOnRegistrationPage}\x3c/th\x3e\n\t\t\t\t\x3cth\x3e${!messages.lblMandatoryField}\x3c/th\x3e\n\t\t\t\t\x3cth data-dojo-attach-point\x3d"lblUneditableFieldTdNode"\x3e${!messages.lblUneditableField}\x3c/th\x3e\n\t\t\t\t\x3cth data-dojo-attach-point\x3d"lblShowForPartnerFieldTdNode"\x3e${!messages.lblShowForPartnerField}\x3c/th\x3e\n\t\t\t\t\x3cth data-dojo-attach-point\x3d"lblMandatoryForPartnerFieldTdNode"\x3e${!messages.lblMandatoryForPartnerField}\x3c/th\x3e\n\t\t\t\t\x3cth data-dojo-attach-point\x3d"lblUneditableFieldForPartnerTdNode"\x3e${!messages.lblUneditableField}\x3c/th\x3e\n\t\t\t\t\x3cth class\x3d"controls"\x3e\x26nbsp;\x3c/th\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameLabelNode"\x3e${!commonMessages.lblNome}\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"firstNameShowNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"firstNameMandatoryNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameUneditableFieldTdNode"\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameShowForPartnerTdNode"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"firstNameShowForPartnerNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameMandatoryForPartnerTdNode"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"firstNameMandatoryForPartnerNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"firstNameUneditableFieldForPartnerTdNode"\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\t\x3ctr\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameNameLabelNode"\x3e${!commonMessages.lblCognome}\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"surnameShowNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"surnameMandatoryNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameUneditableFieldTdNode"\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameShowForPartnerTdNode"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"surnameShowForPartnerNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameMandatoryForPartnerTdNode"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"surnameMandatoryForPartnerNode" /\x3e\x3c/td\x3e\n\t\t\t\t\x3ctd data-dojo-attach-point\x3d"surnameUneditableFieldForPartnerTdNode"\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\t\x3ctd\x3e\x26nbsp;\x3c/td\x3e\n\t\t\t\x3c/tr\x3e\n\t\t\x3c/thead\x3e\n\t\t\x3ctbody id\x3d"layoutPd" data-dojo-attach-point\x3d"fieldsTbodyNode"\x3e\n\t\t\n\t\t\x3c/tbody\x3e\n\t\x3c/table\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addTextBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Badges/templates/BadgeListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\t\x3cdiv class\x3d"badgeBtnsContainer"\x3e\n\t\t\x3cdiv style\x3d"display:inline-block"\x3e\n\t\t\t\x3cbutton data-dojo-attach-point\x3d"addBadgeBtnNode"\x3e${!messages.lblAddBadgeBtn}\x3c/button\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv style\x3d"float:right"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"editCategoriesBtnNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxInfo boxNoBadge" data-dojo-attach-point\x3d"noBadgeBoxNode"\x3e\n\t\t\x3cdiv class\x3d"text"\x3e\n\t\t\t\x3ch5\x3e${!messages.lblNoBadgeBoxTitle}\x3c/h5\x3e\n\t\t\t\x3cp\x3e${!messages.msgNoBadgeBoxMsg}\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cimg src\x3d"/img/communications.png" /\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"badgeBox" data-dojo-attach-point\x3d"badgeBoxNode"\x3e\n\t\t\x3cdiv class\x3d"tableLista" data-dojo-attach-point\x3d"badgeBoxNode"\x3e\n\t\t\t\x3ch4\x3e${!messages.lblGridTitle}\x3c/h4\x3e\n\t\t\t\x3cdiv class\x3d"badgeGrid" data-dojo-attach-point\x3d"badgeGridNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget/SpedizioneWidget/templates/SpedizioneWidget.html":'\x3cdiv class\x3d"${baseClass} tableLista"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titoloContainerNode"\x3e\x3cspan class\x3d"titolo" data-dojo-attach-point\x3d"titoloNode"\x3e\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"introContainerNode"\x3e\x3cspan class\x3d"intro" data-dojo-attach-point\x3d"introNode"\x3e\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"totToSendNode"\x3e\x3c/span\x3e\x3cbr/\x3e\x3cbr/\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"progressoSpedizioneNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"spedizioneWorkingNode"\x3e\x3cimg src\x3d"/img/loading.gif"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"resocontoSpedizioneNode"\x3e\n\t\t\t${!testi.lblEmailSpedite}: \x3cspan data-dojo-attach-point\x3d"numEmailSpediteNode"\x3e\x3c/span\x3e\x3cbr/\x3e\n\t\t\t${!testi.lblIndirizziInvalidi}: \x3cspan data-dojo-attach-point\x3d"numIndirizziInvalidiNode"\x3e\x3c/span\x3e\x3cbr/\x3e\n\t\t\t${!testStatistiche.lblEmailNonPresente}: \x3cspan data-dojo-attach-point\x3d"numIndirizziVuotiNode"\x3e\x3c/span\x3e\x3cbr/\x3e\n\t\t\t${!testi.lblErroriSpedizione}: \x3cspan data-dojo-attach-point\x3d"numErroriSpedizioneNode"\x3e\x3c/span\x3e\x26nbsp;\n\t\t\t\x3cspan data-dojo-attach-point\x3d"showHideErrorirSpedizioneBtnContainerNode"\x3e\n\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"showHideErrorirSpedizioneBtnNode"\x3e\x3c/button\x3e\n\t\t\t\x3c/span\x3e\n\t\t\t\x3cbr/\x3e\n\t\t\t\x3cdiv class\x3d"boxGridContainer" data-dojo-attach-point\x3d"erroriSpedizioneWrapperNode" style\x3d"display:none;"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"erroriSpedizioneNode"\x3e\x3c/div\x3e\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cbr/\x3e\n\t\t\x3cdiv class\x3d"btnWrapper" data-dojo-attach-point\x3d"procediBtnWrapperNode"\x3e\x3cbutton data-dojo-attach-point\x3d"procediBtnNode"\x3e${!testiComuni.lblProcediButton}\x3c/button\x3e\x3c/div\x3e\n\t\t\x26nbsp;\x3cbutton data-dojo-attach-point\x3d"chiudiBtnNode"\x3e${!testiComuni.lblChiudiButton}\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditRegistrationDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow" data-dojo-attach-point\x3d"editSectionNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"textColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblSectionTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"sectionTitleNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"titleColorNode"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontTitleSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblSectionText}\x3c/label\x3e\n\t\t\t\x3ctextarea data-dojo-attach-point\x3d"sectionTextNode"\x3e \x3c/textarea\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow last"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"collapseDatesNode"\x3e \x3clabel\x3e${!messages.lblCollapseDates} \x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showAvailabilityStatusNode"\x3e \x3clabel\x3e${!messages.lblShowAvailabilityStatus} \x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showAvailabilityNode"\x3e \x3clabel\x3e${!messages.lblShowAvailability} \x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/AppSetup/templates/AppImageWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cimg src\x3d"" data-dojo-attach-point\x3d"imgNode" /\x3e\n\t\x3cdiv class\x3d"removeBtn" data-dojo-attach-point\x3d"cancelBtnNode"\x3ex\x3c/div\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Dialogs/templates/EditImageDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"imgPreviewContainer" data-dojo-attach-point\x3d"imgPreviewContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"imgPreviewWrap" data-dojo-attach-point\x3d"imgPreviewWrapNode" \x3e\n\t\t\t\t\x3cimg data-dojo-attach-point\x3d"imgPreviewNode" /\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"removeBtn" data-dojo-attach-point\x3d"removeImgBtnNode"\x3ex\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"boxUpload"\x3e\n\t\t\t\x3cform data-dojo-attach-point\x3d"uploadImageFormNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"nomeFileNode"\x3e\t\t\t\n\t\t\t\t\x3cspan class\x3d"btnContainer"\x3e\n\t\t\t\t\t\x3cinput type\x3d"file" data-dojo-attach-point\x3d"scegliFileNode"\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\t\n\t\t\t\t\x3cspan class\x3d"btnContainer btnUpload"\x3e\n\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"uploadBtnNode"\x3e\x3c/button\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\x3c/form\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"nota" data-dojo-attach-point\x3d"fileFormatNoteNode"\x3e\x3c/div\x3e\n\t\t\n\t\t\x3cdiv data-dojo-attach-point\x3d"linkaImmagineContainerNode" class\x3d"itemCheckBox"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"linkaImmagineCbxNode"\x3e\x3cspan data-dojo-attach-point\x3d"linkaImmagineLabelNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv data-dojo-attach-point\x3d"linkImmagineContainerNode"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"linkImmagineLabelNode"\x3e\x3c/span\x3e\x26nbsp;\x3cinput data-dojo-attach-point\x3d"linkImmagineNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemRow options format last"\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"widthNode"\x3e\n\t\t\t\x3clabel\x3e${commonMessages.lblWidth}\x3c/label\x3e\n\t\t\t\x3cbr /\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"widthControlNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"marginTopNode"\x3e\n\t\t\t\x3clabel\x3e${commonMessages.lblMarginTop}\x3c/label\x3e\n\t\t\t\x3cbr /\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"marginTopControlNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"marginBottomNode"\x3e\n\t\t\t\x3clabel\x3e${commonMessages.lblMarginBottom}\x3c/label\x3e\n\t\t\t\x3cbr /\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"marginBottomControlNode" /\x3e\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\t\t\n\t\t\x3cspan data-dojo-attach-point\x3d"okBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/templates/ColorPickerWidget.html":'\x3cdiv class\x3d"${baseClass} row"\x3e\n\t\x3clabel data-dojo-attach-point\x3d"labelNode"\x3e\x3c/label\x3e\n\t\x3clabel data-dojo-attach-point\x3d"resetNode"\x3e\x3c/label\x3e\n\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"dropDownBtnContainer" data-dojo-attach-point\x3d"dropDownBtnContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"dropDownBtnNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"colorPickerNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"colorCodeContainer" data-dojo-attach-point\x3d"colorCodeContainerNode"\x3e\x3cinput data-dojo-attach-point\x3d"colorCodeNode" /\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/MailSpedizionePopupWidget/ControlloIndirizziWidget/templates/ControlloIndirizziWidget.html":'\x3cdiv class\x3d"${baseClass} tableLista"\x3e\n\t\x3cspan class\x3d"sectionHeader"\x3e${!testi.lblTitoloSezione}\x3c/span\x3e\n\t\n\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"erroriIndirizziWarningNode"\x3e${!testi.msgAlcuniIndirizziNonCorretti}\x3c/div\x3e\n\t\x3cbr /\x3e\n\t\x3cspan data-dojo-attach-point\x3d"emailOkInfoNode"\x3e${!testi.msgTuttiIndirizziCorretti}\x3c/span\x3e\n\t\x3cdiv class\x3d"boxGridContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\t\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"procediBtnNode"\x3e${!testiComuni.lblProcediButton}\x3c/button\x3e\x26nbsp;\n\t\t\x3cbutton data-dojo-attach-point\x3d"chiudiBtnNode"\x3e${!testiComuni.lblChiudiButton}\x3c/button\x3e\n\t\x3c/div\x3e\t\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventDetails/templates/EventDetailsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3ch3\x3e\n\t\t\t\t\t${!messages.lblEventName} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3csmall\x3e(${!messages.lblInternalUse})\x3c/small\x3e\n\t\t\t\t\x3c/h3\x3e\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eventNameNode" /\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3ch3\x3e\n\t\t\t\t\t${!messages.lblEventName}\n\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\x3csmall\x3e(${!messages.lblExternalUse})\x3c/small\x3e\n\t\t\t\t\x3c/h3\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eventI18NameNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"subRow"\x3e\n\t\t\t\t\t\x3clabel for\x3d""\x3e${!messages.lblEventHashtag}\x3c/label\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eventHashtagNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row eventVisibilityType" data-dojo-attach-point\x3d"eventVisibilityContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e${!messages.lblEventVisibilityType} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cselect data-dojo-attach-point\x3d"privateEventNode"\x3e\x3c/select\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"eventVisibilityTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row eventLanguages"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3 class\x3d"eventLanguagesLabel" data-dojo-attach-point\x3d"eventLanguagesLabelNode"\x3e\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"boxEventLang"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"eventLanguagesNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"eventLanguagesTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"activeLanguagesTitleNode"\x3e${!messages.lblLingueAttive}\x3c/label\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"activeLanguagesNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row eventOptions"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e${!messages.lblEventOptions}\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"registrationContainerNode"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"registrationNode"\x3e\x3c/input\x3e\n\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblEventTypeRegistrationBoxTitle}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"eventRegistrationTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"paymentContainerNode"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"paymentNode"\x3e\x3c/input\x3e\n\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblEventTypePaymentBoxTitle}\x3c/span\x3e\n\t\t\t\t\x3c!-- \x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"eventPaymentTooltipNode"\x3e ? \x3c/span\x3e --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent partners" data-dojo-attach-point\x3d"partnerAllowContainerNode"\x3e\t\t\t\t\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"partnersNode"\x3e\x3c/input\x3e\n\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblPartnersBoxTitle}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"partnersTooltipNode"\x3e ? \x3c/span\x3e\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n \t\t\n\t\t\x3cdiv class\x3d"row partners type" data-dojo-attach-point\x3d"partnerTypeContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e\x26nbsp;\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cselect data-dojo-attach-point\x3d"partnersTypeNode"\x3e\x3c/select\x3e\n\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblPartnersTypeTitle}\x3c/span\x3e\n\t\t\t\t\x3cdiv class\x3d"number" data-dojo-attach-point\x3d"partnerNumberContainerNode"\x3e\n\t\t\t\t\t\x3cspan class\x3d"label"\x3e\n\t\t\t\t\t\t${!messages.lblPartnersNumberTitle}\n\t\t\t\t\t\t\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"partnersNumberNode"\x3e\x3c/select\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row partners registration" data-dojo-attach-point\x3d"partnerRegistrationContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e\x26nbsp;\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"partnersRegistrationNode"\x3e\x3c/input\x3e\n\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblPartnersRegistrationTitle}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"partnersRegistrationTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row preEventLocationSeparator"\x3e\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e${!messages.lblEventLocation} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent eventLocation"\x3e\n\t\t\t\t\x3cdiv class\x3d"locationSwitchContainer"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"locationSwitchNode" class\x3d"fl" /\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mapContainerNode" class\x3d"eventLocationMapContainer"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mapNode" class\x3d"eventLocationMap"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"${baseClass}LatLng" data-dojo-attach-point\x3d"latLngNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\t\t\t\t\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"locationContainerNode" class\x3d"addDetails locationContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"locationFormNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventVenue} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"venueNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventCountry} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"countryNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventAddress} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"addressNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm inputSizeSmall"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventZip} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"zipNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventCity} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"cityNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"provinceContainerNode"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventProvince} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"provinceNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"regionContainerNode"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventRegion} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"regionNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"stateProvinceContainerNode"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventStateProvince} \x3c!-- \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e --\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"stateProvinceNode"\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\t\t\t\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e${!messages.lblEventDateTimeSlots} \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent eventDateTimeSlots hidable"\x3e\n\t\t\t\t\x3cdiv class\x3d"addDateContainer"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"fl"\x3e\n\t\t\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"addDateNode" /\x3e\n\t\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"changeTimezoneBtn"\x3e\n\t\t\t\t\t\t\t\x3cbutton class\x3d"changeTimezoneBtn" data-dojo-attach-point\x3d"btnChangeTimezoneNode"\x3e${!messages.lblBtnChangeTimezone}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"notes paidAdmissionDemo" style\x3d"display:none" data-dojo-attach-point\x3d"demoAPagamentoNotesNode"\x3e${!messages.msgEventoDemoAPagamentoNote}\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"calendarContainerNode" class\x3d"calendarContainer addDetails"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"calendarNode" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"nota fl" data-dojo-attach-point\x3d"eventDateTimeSlotsWarningNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"datesTimeSlotsContainer" data-dojo-attach-point\x3d"datesTimeSlotsContainerNode"\x3e\n\t\t\t\t\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row registrationClosingDeadlineRow" data-dojo-attach-point\x3d"registrationClosingDeadlineRowNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e${!messages.lblRegistrationClosingDeadline}\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent registrationClosingDeadline"\x3e\t\t\t\t\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"registrationClosingDateBtnNode" /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"registrationClosingDeadlineContainerNode" class\x3d"registrationClosingDeadlineContainer addDetails"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"registrationClosingDeadlineNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row additionalDetailsRow"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\x3ch3\x3e${!messages.lblAdditionalDetails}\x3c/h3\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent additionalDetails"\x3e\n\t\t\t\t\x3cdiv class\x3d"additionalDetailsContainer"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"organizerDetailsBtnNode" class\x3d"organizerDetails" /\x3e\n\t\t\t\t\t\x3cdiv class\x3d"addDetails organizerDetailsContainer" data-dojo-attach-point\x3d"organizerDetailsNode"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizerDetailsFormNode"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventOrganizer}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"organizerNameNode"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventContactPerson}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"organizerContactPersonNode"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventTel1}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"organizerTel1Node"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventTel2}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"organizerTel2Node"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventEmail}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"organizerEmailNode"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventWebsite} \x3cspan class\x3d"labelSpecific"\x3ehttp://\x3c/span\x3e \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"organizerWebsiteNode"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"eventDescriptionBtnNode" /\x3e\n\t\t\t\t\t\x3cdiv class\x3d"addDetails eventDescription" data-dojo-attach-point\x3d"eventDescriptionNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblEventDescription}\x3c/label\x3e \x3cdiv data-dojo-attach-point\x3d"eventDescriptionTextNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"tagYourEventBtnNode" /\x3e\n\t\t\t\t\t\x3cdiv class\x3d"addDetails tagYourEvent" data-dojo-attach-point\x3d"eventTagsNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblAddTags}\x3c/label\x3e \x3cdiv data-dojo-attach-point\x3d"eventTagsTextNode"\x3e \x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/Checkin/templates/CheckinGuestListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3ciframe style\x3d"position: absolute; top: -1000px;" src\x3d"about:blank" data-dojo-attach-point\x3d"hiddenBadgePdfNode"\x3e\x3c/iframe\x3e\n\t\t\x3cdiv class\x3d"rowContent noListWarning" data-dojo-attach-point\x3d"noListWarningNode"\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"noList"\x3e${!messages.msgNoList}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"listContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"tableLista" data-dojo-attach-point\x3d"visualizzaListaNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"searchBox" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"boxOpzioniLista"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnScannerConfig"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"scannerConfigurationBtnNode"\x3eTOGGLE SCAN\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnScanner"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"toggleScanBtnNode"\x3eTOGGLE SCAN\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnInserisci"\x3e\n\t\t\t\t\t\t\t\x3ca href\x3d"" data-dojo-attach-point\x3d"inserisciBtnNode"\x3eINSERISCI\x3c/a\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"${baseClass}AzioniLista btnAggiorna"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"refreshBtnNode"\x3eREFRESH\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\t\t\t\n\t\t\t\t\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"langSelectionNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"${baseClass} boxGridContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingNode" class\x3d"gridLoadingMask"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"gridLoadingBackgroundMask"\x3e\x3c/div\x3e\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cimg class\x3d"gridLoadingImg" src\x3d"/img/loading.gif" /\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingTextNode" class\x3d"gridLoadingText"\x3eLoading....\x3c/div\x3e\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\x3c/div\x3e\n\t\t\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/RegistrantListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"registrationStatusBox" data-dojo-attach-point\x3d"registrationStatusBoxNode"\x3e\n\t\t\t\x3ch5\x3e\x3cspan data-dojo-attach-point\x3d"registrationStatusTitleNode"\x3e\x3c/span\x3e\x3c/h5\x3e\n\t\t\t\x3cdiv\x3e${!eventDetailsMessages.lblRegistrationsAre}\x26nbsp;\x3cspan class\x3d"registrationOpennessStatus" data-dojo-attach-point\x3d"registrationOpennessStatusNode"\x3e\x3c/span\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"registrationStatusNode"\x3e\x3c/div\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"linkSimpleContainer"\x3e\n\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"editBtnNode"\x3eEDIT\x3c/button\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"row" data-dojo-attach-point\x3d"importRegistrationsRowNode"\x3e\n\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"importRegistrationsBtnNode"\x3e\x3ch3\x3e${!messages.lblImportRegistrations}\x3c/h3\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent boxUploadContainer" data-dojo-attach-point\x3d"importRegistrationsContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"boxUpload"\x3e\n\t\t\t\t\x3cform enctype\x3d"multipart/form-data" method\x3d"POST" action\x3d"/doCaricaListaRegistrazioni.plp" data-dojo-attach-point\x3d"caricaListaFormNode"\x3e\n\t\t\t\t\t\x3ch3\x3e\n\t\t\t\t\t\t${!messages.msgRegistrationsListFileUploadTitle}\n\t\t\t\t\t\x3c/h3\x3e\n\t\t\t\t\t${!messages.msgRegistrationsFileUploadTip}\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"uploadFormInner" data-dojo-attach-point\x3d"uploadFormInnerNode"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"hidden" value\x3d"" name\x3d"idEvento" data-dojo-attach-point\x3d"idEventoNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"nomeFileNode"\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cspan class\x3d"btnContainer"\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"file" name\x3d"fileLista" data-dojo-attach-point\x3d"scegliFileNode"\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\n\t\t\t\t\t\t\x3cspan class\x3d"btnContainer btnUpload"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"caricaListaFormSubmitNode"\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"uploadFormInnerMask" data-dojo-attach-point\x3d"uploadFormInnerMaskNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/form\x3e\n\t\t\t\t\x3c!-- \x3cdiv class\x3d"nota"\x3e${!messages.msgRegistrationsListFileFormatNotePt1} \x3ca href\x3d"#"  data-dojo-attach-point\x3d"donwloadRegistrationsFileSampleNode"\x3e${!messages.msgRegistrationsListFileFormatNotePt2}\x3c/a\x3e\x3c/div\x3e --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"rowContent noListWarning" data-dojo-attach-point\x3d"noListWarningNode"\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"noList"\x3e${!messages.msgNoRegistrantList}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"listContainerNode"\x3e\t\t\t\n\t\t\t\n\t\t\t\x3c!-- \n\t\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t --\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga"\x3e\t\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable infoTableContaier" data-dojo-attach-point\x3d"infoTableNode"\x3e\x3c/div\x3e\n\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga tableLista" data-dojo-attach-point\x3d"visualizzaListaNode"\x3e\n\t\t\t\t\n\t\t\t\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cspan class\x3d"${baseClass}DownloadLista boxDownload"\x3e\n\t \t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportExcelNode" href\x3d"/downloadListaIscritti.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dExcel" class\x3d"ico_excel" title\x3d"${!commonMessages.lblExportExcelTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportCsvNode" href\x3d"/downloadListaIscritti.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dCSV" class\x3d"ico_csv" title\x3d"${!commonMessages.lblExportCSVTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t --\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"searchBox" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\x3cspan class\x3d"boxShowCancelled" data-dojo-attach-point\x3d"cancellatiNode"\x3e\n\t\t\t\t\t\t${!messages.lblDeletedRegistrant}\x26nbsp;\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"cancellatiSelectNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t --\x3e\n\t\t\t\t\t \n\t\t\t\t\t\x3cdiv class\x3d"boxOpzioniLista"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnRispedisciEmailCompletaRegistrazioneShopify" data-dojo-attach-point\x3d"popupRispedisciEmailCompletaRegistrazioneShopifyBtnContainerNode"\x3e \x3cbutton data-dojo-attach-point\x3d"popupRispedisciEmailCompletaRegistrazioneShopifyBtnNode"\x3e${!messages.lblOpenResendCompleteRegistrationShopifyPopupBtn}\x3c/button\x3e \x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnFiltri" data-dojo-attach-point\x3d"popupFiltriBtnContainerNode"\x3e \x3cbutton data-dojo-attach-point\x3d"popupFiltriBtnNode"\x3e${!messages.lblOpenFiltersPopupBtn}\x3c/button\x3e \x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"${baseClass}AzioniLista btnAggiorna"\x3e\x3cbutton data-dojo-attach-point\x3d"refreshBtnNode"\x3e${!messages.lblRefreshListBtn}\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraDataFasciaContainerNode" id\x3d"listaIscrittiWidgetFiltraDataFasciaContainer" style\x3d"display:none;"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraDataFasciaNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraStatoEmailIscrittiNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t \n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraModalitaIscrizioneContainerNode" id\x3d"listaIscrittiWidgetFiltraModalitaIscrizioneContainer"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraModalitaIscrizioneNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t--\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"langSelectionNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"${baseClass} boxGridContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingNode" class\x3d"gridLoadingMask"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"gridLoadingBackgroundMask"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingTextNode" class\x3d"gridLoadingText"\x3eLoading....\x3c/div\x3e\n\t\t\t\t\t\t\x3cimg class\x3d"gridLoadingImg" src\x3d"/img/loading.gif" /\x3e\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditPrivacyDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"gotoPrivacySettings"\x3e${!messages.msgGotoPrivacySettings}\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"backgroundColorNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"textColorNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3ch4\x3e${!messages.lblDeclaration}\x3c/h4\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showPrivacyIntroNode"\x3e \x3clabel\x3e${!messages.lblShowPrivacyIntro} \x3c/label\x3e \x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"privacyIntroNode"\x3e \x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3ch4\x3e${!messages.lblPrivacyNotice}\x3c/h4\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"privacyNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3ch4\x3e${!messages.lblConsentRequests}\x3c/h4\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showConsentRequest1Node"\x3e \x3clabel data-dojo-attach-point\x3d"showConsentRequest1LabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"isConsentRequest1MandatoryNode"\x3e \x3clabel data-dojo-attach-point\x3d"isConsentRequest1MandatoryLabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"consentRequest1TextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showConsentRequest2Node"\x3e \x3clabel data-dojo-attach-point\x3d"showConsentRequest2LabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"isConsentRequest2MandatoryNode"\x3e \x3clabel data-dojo-attach-point\x3d"isConsentRequest2MandatoryLabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"consentRequest2TextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showConsentRequest3Node"\x3e \x3clabel data-dojo-attach-point\x3d"showConsentRequest3LabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"isConsentRequest3MandatoryNode"\x3e \x3clabel data-dojo-attach-point\x3d"isConsentRequest3MandatoryLabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"consentRequest3TextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EventPageWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3c!-- \n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\t --\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\n\t\t\x3cdiv class\x3d"row ticketingSite" data-dojo-attach-point\x3d"ticketingSiteNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"ticketingSiteBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent ticketingSiteContainerNode" data-dojo-attach-point\x3d"ticketingSiteContainerNode"\x3e\n\t\t\t\t\x3cform data-dojo-attach-point\x3d"ticketingSiteFormNode" action\x3d"" method\x3d"post" target\x3d"_blank"\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"customer[email]" value\x3d"" data-dojo-attach-point\x3d"ticketingSiteEmailNode" /\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"customer[password]" value\x3d"" data-dojo-attach-point\x3d"ticketingSitePasswordNode" /\x3e\n\t\t\t\t\t\x3cinput type\x3d"hidden" name\x3d"form_type" value\x3d"customer_login" /\x3e\n\t\t\t\t\t\x3cinput type\x3d"submit" value\x3d"${!messages.lblGotoTicketingSite}" /\x3e\n\t\t\t\t\x3c/form\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\n\t\t\x3cdiv class\x3d"row eventGenericSetting" data-dojo-attach-point\x3d"manageRegistrationOutherContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"manageRegistrationBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent manageRegistrationContainerNode" data-dojo-attach-point\x3d"manageRegistrationContainerNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"registrationAllowances"\x3e\n\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblAllowUserBETo}\x3c/strong\x3e\n\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemForm options"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowRegistrationUpdateFromBENode"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblAllowRegistrationUpdateFromBE} \x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"notFlussoUnificatoAllowancesContainerNode"\x3e\n\t\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblAllowUserTo}\x3c/strong\x3e\n\t\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm options"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowRegistrationUpdateToUserNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"allowRegistrationUpdateToUserLabelNode"\x3e${!messages.lblAllowRegistrationUpdateToUser}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowRegistrationDeleteToUserNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"allowRegistrationDeleteToUserLabelNode"\x3e${!messages.lblAllowRegistrationDeleteToUser}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowNameSurnameUpdatesNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"allowNameSurnameUpdatesLabelNode"\x3e${!messages.lblAllowNameSurnameUpdates}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowEmailUpdatesNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"allowEmailUpdatesLabelNode"\x3e${!messages.lblAllowEmailUpdates}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showPartecipationDenyBtnNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblshowPartecipationDenyBtn}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t\t\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"notPaidAdmissionAllowancesContainerNode"\x3e\n\t\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t\t\x3cstrong\x3e${!messages.lblOtherOptions}:\x3c/strong\x3e\n\t\t\t\t\t\t\x3c/label\x3e\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"itemForm options"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"allowUneditableFieldsManagementNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"allowUneditableFieldsManagementLabelNode"\x3e${!messages.lblAllowUneditableFieldsManagement}\x3c/label\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"allowUneditableFieldsManagementTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"disableConfirmationEmailNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblDisableConfirmationEmail}\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"directRegistrationDeclineNode"\x3e\n\t\t\t\t\t\t\t\t\x3clabel\x3e${!messages.lblDirectRegistrationDecline}\x3c/label\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"directRegistrationDeclineTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv data-dojo-attach-point\x3d"subSectionsContainerNode"\x3e\n\t\t\t\x3c!-- ----------------- Accordion ----------------- --\x3e\n\t\t\t\x3cdiv class\x3d"row publishEventPageAccordion" data-dojo-attach-point\x3d"publishEventPageNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"publishEventPageBtnNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"rowContent publishEventPageContainerNode" data-dojo-attach-point\x3d"publishEventPageContainerNode"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"boxUrlPage"\x3e\t\t\t\t\t\n\t\t\t\t\t\t\x3cp class\x3d"lblUrl"\x3e${!messages.lblGenericRegistrationPageURL}\x3c/p\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"publishEventPageTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"urlPart1" data-dojo-attach-point\x3d"genericRegistrationPageURLPart1Node"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"urlPart2" data-dojo-attach-point\x3d"genericRegistrationPageURLPart2Node"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"urlPart2" data-dojo-attach-point\x3d"genericRegistrationPageURLPart2EditContainerNode"\x3e\n\t\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"genericRegistrationPageURLPart2EditNode" /\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"urlPart3" data-dojo-attach-point\x3d"genericRegistrationPageURLPart3Node"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"button small" data-dojo-attach-point\x3d"eventPageCustomPathEditBtnNode"\x3e${!commonMessages.lblModificaButton}\x3c/button\x3e\n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"button small" data-dojo-attach-point\x3d"eventPageCustomPathConfirmEditBtnNode"\x3e${!commonMessages.lblOKButton}\x3c/button\x3e\n\t\t\t\t\t\t\x3ca href\x3d"" class\x3d"small" target\x3d"_blank" data-dojo-attach-point\x3d"showGenericPageBtnNode"\x3e${!messages.lblShowPage}\x3c/a\x3e\n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"small" data-dojo-attach-point\x3d"copyToClipboardNode"\x3e${!messages.lblCopyURL}\x3c/button\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"button doPublishEventPage" data-dojo-attach-point\x3d"doPublishEventPageBtnNode"\x3e${!messages.lblPublishPage}\x3c/button\x3e\n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"button doUnpublishEventPage" data-dojo-attach-point\x3d"doUnpublishEventPageBtnNode"\x3e${!messages.lblUnPublishPage}\x3c/button\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"showSocialCbxNode" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"showSocialLabel"\x3e${!messages.lblShowSocial}\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"showSocialTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"button doPublishEventPage" data-dojo-attach-point\x3d"doPublishEventPageBtnNode"\x3e${!messages.lblPublishPage}\x3c/button\x3e\n\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"button doUnpublishEventPage" data-dojo-attach-point\x3d"doUnpublishEventPageBtnNode"\x3e${!messages.lblUnPublishPage}\x3c/button\x3e\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\t --\x3e\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\t\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c!-- ----------------- fine accordion ----------------- --\x3e\n\t\t\t\n\t\t\t\x3c!-- ----------------- Accordion ----------------- --\x3e\n\t\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"pageLayoutBtnNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"rowContent pageLayout" data-dojo-attach-point\x3d"pageLayoutContainerNode"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"row paidAdmissionNote" data-dojo-attach-point\x3d"paidAdmissionTopNoteNode"\x3e\n\t\t\t\t\t\t${!messages.msgPaidAdmissionNote}\n\t\t\t\t\t\x3c/div\x3e\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"boxSelectTemplate itemForm left"\x3e\n\t\t\t\t\t\t\x3clabel\x3e${!commonMessages.lblTemplate}\x3c/label\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"selectTemplateModelNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"saveAsTemplateBtnNode"\x3eSalva come template\x3c/button\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemForm left languageSelection" data-dojo-attach-point\x3d"languageSelectionContainerNode"\x3e\t\t\t\t\t\n\t\t\t\t\t\t\x3clabel class\x3d"sceltaLingua"\x3e${!commonMessages.lblLingua}\x3c/label\x3e\x26nbsp;\x3cdiv data-dojo-attach-point\x3d"languageSelectionNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemForm left additionalCssJsManagement" data-dojo-attach-point\x3d"additionalCssJsManagementContainerNode"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"additionalCssNode"\x3eCSS\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"additionalJsNode"\x3eJS\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemForm left templateContainer color" data-dojo-attach-point\x3d"colorContainerNode"\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundColorNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"textColorNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemForm left templateContainer image"\x3e\n\t\t\t\t\t\t\x3clabel\x3e${!messages.lblPageBackgroundImage}\x3c/label\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundImageNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"editBtnContainer"\x3e\n\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"backgroundImageBtnNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"pageLayoutNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c!-- ----------------- fine accordion ----------------- --\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"row paidAdmissionNote" data-dojo-attach-point\x3d"paidAdmissionBottomNoteNode"\x3e\n\t\t\t\t${!messages.msgPaidAdmissionNote}\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3c!-- ----------------- Accordion ----------------- --\x3e\n\t\t\x3cdiv class\x3d"row" data-dojo-attach-point\x3d"shopifyFormLayoutOuterContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"shopifyFormLayoutBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"shopifyFormLayoutContainerNode"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"shopifyFormLayoutNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3c!-- ----------------- fine accordion ----------------- --\x3e\n\t\t\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/Badges/templates/BadgeWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle sub"\x3e\x3c/h2\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel class\x3d"badgeName"\x3e\n\t\t\t\t\t${!messages.lblBadgeName}\n\t\t\t\t\t\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3cdiv class\x3d"richTextBoxContainer"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"badgeNameNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row pahconf"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3cspan\x3e${!messages.lblConfigureOptions}\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"badgePrintableAtHomeNode"\x3e\n\t\t\t\t\t\x3cspan\x3e${!messages.lblEnablePrintAtHome}\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"msg"\x3e${!messages.msgEnablePrintAtHome}\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"badgePrintableOnSiteNode"\x3e\n\t\t\t\t\t\x3cspan\x3e${!messages.lblEnablePrintOnSite}\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"msg"\x3e${!messages.msgEnablePrintOnSite}\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"badgePrintableFromMasterListNode"\x3e\n\t\t\t\t\t\x3cspan\x3e${!messages.lblEnablePrintFromMasterList}\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"msg"\x3e${!messages.msgEnablePrintFromMasterList}\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row" style\x3d"margin-top: 20px"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureTemplateBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"configureTemplateContainerNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"configureTemplateNode" /\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/Guests/templates/UploadedInviteListDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"loading" data-dojo-attach-point\x3d"loadingNode"\x3e\n\t\t\x3cimg src\x3d"/img/loading.gif" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"fileList" data-dojo-attach-point\x3d"fileListContainerNode"\x3e\n\t\n\t\x3c/div\x3e\t\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Communication/templates/CommunicationRecipientsListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"listContainerNode"\x3e\t\t\t\n\t\t\t\x3c!-- \n\t\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t --\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga tableLista" data-dojo-attach-point\x3d"visualizzaListaNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cspan class\x3d"infoNumPartecipanti"\x3e${!messages.lblTotNumOfPersons}:\x26nbsp;\x3cspan data-dojo-attach-point\x3d"numPersoneLabelNode"\x3e0\x3c/span\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cspan class\x3d"${baseClass}DownloadLista boxDownload"\x3e\n\t \t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportExcelNode" href\x3d"/downloadListaPersone.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dExcel" class\x3d"ico_excel" title\x3d"${!commonMessages.lblExportExcelTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportCsvNode" href\x3d"/downloadListaPersone.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dCSV" class\x3d"ico_csv" title\x3d"${!commonMessages.lblExportCSVTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t --\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"searchBox" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"doubleClickToEditInfo"\x3e${!commonMessages.msgDoubleClickToEdit}\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"boxOpzioniLista"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnFiltri" data-dojo-attach-point\x3d"popupFiltriBtnContainerNode"\x3e \x3cbutton data-dojo-attach-point\x3d"popupFiltriBtnNode"\x3e${!guestsMessages.lblOpenFiltersPopupBtn}\x3c/button\x3e \x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"${baseClass}AzioniLista btnAggiorna"\x3e\x3cbutton data-dojo-attach-point\x3d"refreshBtnNode"\x3e${guestsMessages.lblRefreshListBtn}\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraStatoEmailInvitatiNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t --\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"langSelectionNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"${baseClass}GridContainer boxGridContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingNode" class\x3d"gridLoadingMask"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"gridLoadingBackgroundMask"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingTextNode" class\x3d"gridLoadingText"\x3eLoading....\x3c/div\x3e\n\t\t\t\t\t\t\x3cimg class\x3d"gridLoadingImg" src\x3d"/img/loading.gif" /\x3e\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/templates/FileUploadWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"boxUpload uploadFile" data-dojo-attach-point\x3d"uploadFileNode"\x3e\n\t\t\x3cform data-dojo-attach-point\x3d"uploadImageFormNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"nomeFileNode"\x3e\n\t\t\t\x3cspan class\x3d"btnContainer"\x3e\n\t\t\t\t\x3cinput type\x3d"file" data-dojo-attach-point\x3d"scegliFileNode"\x3e\n\t\t\t\x3c/span\x3e\t\n\t\t\t\t\n\t\t\t\x3cspan class\x3d"btnContainer btnUpload"\x3e\n\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"uploadBtnNode"\x3e\x3c/button\x3e\n\t\t\t\x3c/span\x3e\n\t\t\x3c/form\x3e\n\t\t\x3cdiv class\x3d"nota" data-dojo-attach-point\x3d"fileFormatNoteNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"fileUploaded" data-dojo-attach-point\x3d"fileUploadedNode"\x3e\n\t\t\x3cdiv class\x3d"title"\x3e${!messages.lblAllegato}:\x3c/div\x3e\n\t\t\x3cdiv class\x3d"fileDetails"\x3e\n\t\t\t\x3cdiv class\x3d"boxThumb"\x3e\n\t\t\t\t\x3cdiv class\x3d"boxThumbImage" data-dojo-attach-point\x3d"thumbImgContainerNode"\x3e\x3cimg data-dojo-attach-point\x3d"thumbImgNode" src\x3d"" /\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"previewIconNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"fileName"\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"uploadedFileNameNode"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e \x3cbutton data-dojo-attach-point\x3d"deleteBtnNode"\x3e\x3c/button\x3e \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/RecipientsSelectionWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"row categorySelectionRow hidable"\x3e\n\t\t\x3cdiv class\x3d"firstColumn"\x3e\n\t\t\t\x3clabel\x3e\n\t\t\t\t${!messages.lblEmailWillBeSentTo}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e\n\t\t\t\x3c/label\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3c!-- \x3cdiv class\x3d"secondColumn" data-dojo-attach-point\x3d"singleCategoryNode"\x3e${!messages.invitationCommunication.lblAllRecipients}\x3c/div\x3e --\x3e\n\t\t\n\t\t\x3cdiv class\x3d"secondColumn" data-dojo-attach-point\x3d"categorySelectionContainerNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"categorySelectionNode" /\x3e\n\t\t\n\t\t\t\x3cdiv class\x3d"filterMasterContainer" data-dojo-attach-point\x3d"filterMasterContainerNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"filterContainer"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"filterFieldSelectionRow" data-dojo-attach-point\x3d"filterFieldSelectionContainerNode"\x3e\n\t\t\t\t\t\t\x3clabel\x3e${!messages.lblWhere}\x3c/label\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"filterFieldSelectionNode" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"filterValueSelectionRow" data-dojo-attach-point\x3d"filterValueSelectionContainerNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"filterConditionTypeSelectionNode" /\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"filterValueSelectionNode" /\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"filterMultiValueSelectionNode" /\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c!-- \n\t\t\t\t\x3cdiv class\x3d"invalidFilterWarning"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"invalidFilterWarningNode"\x3e${!messages.msgInvalidFilterWarning}\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t --\x3e\n\t\t\t\t \n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\t\t\n\t\t\n\t\t\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"indicatorContainer" data-dojo-attach-point\x3d"indicatorContainerNode"\x3e\n\t\t\t\x3ci class\x3d"fa fa-users"\x3e\x3c/i\x3e\n\t\t\t\x3cspan class\x3d"indicator" data-dojo-attach-point\x3d"indicatorNode"\x3e-/-\x3c/span\x3e\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/EditBarCodeSectionDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblBarCodeTitleLabel}\x3c/label\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"barCodeTitleNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblHideBarCodeTitleLabel}\x3c/label\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"hideBarCodeTitleNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"saveBtnNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/ListSelectionWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cbutton data-dojo-attach-point\x3d"selectInviteListBtnNode"\x3e${!messages.lblInviteListBtn}\x3c/button\x3e\n\t\x3cbutton data-dojo-attach-point\x3d"selectRegistrantListBtnNode"\x3e${!messages.lblRegistrantListBtn}\x3c/button\x3e\n\t\x3cbutton data-dojo-attach-point\x3d"selectAttendeeListBtnNode"\x3e${!messages.lblAttendeeListBtn}\x3c/button\x3e\n\t\x3cbutton data-dojo-attach-point\x3d"selectCompleteListBtnNode"\x3e${!messages.lblCompleteListBtn}\x3c/button\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Dialogs/SceltaEmailDialogWidget/templates/RigaEmailWidget.html":'\x3cdiv class\x3d"rigaEmail"\x3e\n\x3cinput data-dojo-attach-point\x3d"radioNode" /\x3e\x26nbsp;\x3cspan class\x3d"label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Guests/templates/ManageDuplicatesDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraStatoEmailContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraStatoEmailNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraNonInteressatiContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraNonInteressatiNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraModalitaIscrizioneContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraModalitaIscrizioneNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraDataFasciaContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraDataFasciaNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraAzioniOspiteContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraAzioniOspiteNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraValoreListaContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraValoreListaNode"\x3e\x3c/select\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraValoreListaValoreNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cspan class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraCancellatiContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraCancellatiSelectNode"\x3e\x3c/select\x3e\n\t\x3c/span\x3e\n\t\x3cspan class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraDuplicatiContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraDuplicatiSelectNode"\x3e\x3c/select\x3e\n\t\x3c/span\x3e\n\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!manageGuestsWidgetMessages.lblManageFieldsEliminaDuplicati}\x3c/label\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"eliminaDuplicatiNode" /\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\t\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\t\t\n\t\t\x3cbutton data-dojo-attach-point\x3d"applyBtnNode"\x3eAPPLY\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"resetBtnNode"\x3eRESET\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3eCLOSE\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/ToggleButtonWidget.html":'\x3ca class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"hover"\x3e\n\t\t\x3ch4 data-dojo-attach-point\x3d"hoverLabelNode"\x3e${hoverLabel}\x3c/h4\x3e\n\t\t\x3cp\x3e${hoverCaption}\x3c/p\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"content"\x3e\n\t\t\x3cdiv class\x3d"fieldsStatus"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"fieldsStatusContainerNode" style\x3d"visibility:hidden"\x3e\n\t\t\t\t\x3cimg src\x3d"/img/lista.jpg" /\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"listStatus"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"statusContainerNode"\x3e\n\t\t\t\t\x3cimg src\x3d"/img/people_20.png" /\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"guestsNumberNode"\x3e \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv\x3e\n\t\t\t\x3cimg data-dojo-attach-point\x3d"imgNode" src\x3d"${img}" /\x3e\n\t\t\t\x3ch4 data-dojo-attach-point\x3d"labelNode"\x3e${label}\x3c/h4\x3e\n\t\t\t\x3cp\x3e${caption}\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\t\n\x3c/a\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/ManageGuestsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 class\x3d"mainTitle"\x3e\x3cspan data-dojo-attach-point\x3d"mainTitleNode"\x3e${!messages.lblMainTitle}\x3c/span\x3e\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"mainTitleTooltipIconNode"\x3e ? \x3c/span\x3e\x3c/h2\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"mainStackContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Guests/templates/ManagePersonalFilesDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"loadingDiv" data-dojo-attach-point\x3d"loadingDivNode"\x3e\n\t\t\x3cimg src\x3d"/img/loading.gif"/\x3e\n\t\t\x3cspan\x3e${!commonMessages.lblLoading}\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"newFileContainer" data-dojo-attach-point\x3d"newFileContainerNode"\x3e\n\t\t\x3cdiv class\x3d"newFileCategorySelectorContainer"\x3e\x3cselect data-dojo-attach-point\x3d"newFileCategorySelectorNode"\x3e\x3c/select\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"newPersonalFileContainer"\x3e\n\t\t\t\x3cform data-dojo-attach-point\x3d"uploadPersonalFileFormNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"nomeFileNode"\x3e\n\t\t\t\t\x3cspan class\x3d"btnContainer"\x3e\n\t\t\t\t\t\x3cinput type\x3d"file" data-dojo-attach-point\x3d"scegliFileNode"\x3e\n\t\t\t\t\x3c/span\x3e\t\n\t\t\t\t\t\n\t\t\t\t\x3cspan class\x3d"btnContainer btnUpload"\x3e\n\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"uploadBtnNode"\x3e\x3c/button\x3e\n\t\t\t\t\x3c/span\x3e\n\t\t\t\x3c/form\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"personalFilesContainer" data-dojo-attach-point\x3d"personalFilesContainerNode"\x3e\n\t\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Dialogs/SceltaInvitoDialogWidget/templates/RigaInvitoWidget.html":'\x3cdiv class\x3d"rigaInvito"\x3e\n\x3cinput data-dojo-attach-point\x3d"radioNode" /\x3e\x26nbsp;\x3cspan class\x3d"label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Badges/templates/PrintOptionsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"column" data-dojo-attach-point\x3d"categorySelectionContainerNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"categorySelectionNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"column" data-dojo-attach-point\x3d"printBadgesContainerNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"printBadgesNode" /\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"column"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"paperSelectionNode" /\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"row" data-dojo-attach-point\x3d"bordersSelectionNode"\x3e\n\t\t\x3cdiv class\x3d"column"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"bordersNode" /\x3e\n\t\t\t\x3cspan \x3e${!messages.lblPrintBorders}\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"column" data-dojo-attach-point\x3d"otherOptionsNode" style\x3d"display: none"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"ignorePrintedNode" style\x3d"display: none"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"ignorePrinted" /\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"lblIgnorePrintedNode"\x3e${!messages.lblIgnorePrinted}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"ignorePrintedTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"avoidPrintedAtHomeNode" style\x3d"display: none"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"avoidPrintedAtHome" /\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"lblAvoidPrintedAtHomeNode"\x3e${!messages.lblAvoidPrintedAtHome}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"avoidPrintedAtHomeTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"indicatorContainer" data-dojo-attach-point\x3d"indicatorContainerNode" style\x3d"display: none"\x3e\n\t\t\t\t\x3ci class\x3d"fa fa-users" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cspan class\x3d"indicator" data-dojo-attach-point\x3d"indicatorNode"\x3e0/0\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"lblLastPrintDateNode"\x3e \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"row" data-dojo-attach-point\x3d"guestCategoryContainerNode" style\x3d"display: none"\x3e\n\t\t\x3cdiv class\x3d"column"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblSelezioneCategoria}\x3c/label\x3e\n\t\t\t\x3cbr /\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"guestCategorySelectionNode" /\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"row" data-dojo-attach-point\x3d"guestListContainerNode"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"guestListNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/InviteListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n\t\x3cdiv class\x3d"row uploadInviteeList" data-dojo-attach-point\x3d"importInviteeRowWrapperNode"\x3e\n\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"importInviteBtnNode"\x3e\x3ch3\x3e${!messages.lblImportInvite}\x3c/h3\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent boxUploadContainer" data-dojo-attach-point\x3d"importInviteContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"boxUpload"\x3e\n\t\t\t\t\x3cform enctype\x3d"multipart/form-data" method\x3d"POST" action\x3d"/doCaricaListaInvitati.plp" data-dojo-attach-point\x3d"caricaListaFormNode"\x3e\n\t\t\t\t\t\x3ch3\x3e\n\t\t\t\t\t\t${!messages.msgInviteListFileUploadTitle}\n\t\t\t\t\t\x3c/h3\x3e\n\t\t\t\t\t\x3c!-- ${!messages.msgFileUploadTip}  --\x3e\n\t\t\t\t\t\x3cdiv class\x3d"permessoDestinatari"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"permessoDestinatariNode" /\x3e\n\t\t\t\t\t\t\x3cp\x3e${!messages.lblRecipientsAuthorization}\x3c/p\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"permessoDestinatariTooltipIconNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\x3cinput type\x3d"hidden" value\x3d"" name\x3d"idEvento" data-dojo-attach-point\x3d"idEventoNode"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"nomeFileNode"\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cspan class\x3d"btnContainer"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"file" name\x3d"fileLista" data-dojo-attach-point\x3d"scegliFileNode"\x3e\n\t\t\t\t\t\x3c/span\x3e\n\n\t\t\t\t\t\x3cspan class\x3d"btnContainer btnUpload"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"caricaListaFormSubmitNode"\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3cspan class\x3d"itemRadio"\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"operazioneAppendContainerNode"\x3e\x3cinput type\x3d"radio" name\x3d"operazione" data-dojo-attach-point\x3d"operazioneAppendNode"\x3e\x26nbsp;${!messages.lblAppend}\x26nbsp;\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"operazioneAppendNewContainerNode"\x3e\x3cinput type\x3d"radio" name\x3d"operazione" data-dojo-attach-point\x3d"operazioneAppendNewNode"\x3e\x26nbsp;${!messages.lblAppendNew}\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"operazioneOverwriteContainerNode"\x3e\x3cinput type\x3d"radio" name\x3d"operazione" data-dojo-attach-point\x3d"operazioneOverwriteNode"\x3e\x26nbsp;${!messages.lblOverwrite}\x3c/span\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3c/form\x3e\n\t\t\t\t\x3cdiv class\x3d"nota" data-dojo-attach-point\x3d"warningSingolo500Node"\x3e${!messages.msgInviteListFileWarningSingolo500}\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"nota" data-dojo-attach-point\x3d"warningDEMONode"\x3e${!messages.msgInviteListFileWarningDEMO}\x3c/div\x3e\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"nota"\x3e${!messages.msgInviteListFileFormatNotePt1} \x3ca href\x3d"/docs/${!messages.lblInviteListSampleFileName}"\x3e${!messages.msgInviteListFileFormatNotePt2}\x3c/a\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"uploadedFilesPopupBtnContainerNode"\x3e\x3ca class\x3d"uploadedFilesPopupBtn" href\x3d"#" data-dojo-attach-point\x3d"uploadedFilesPopupBtnNode"\x3e\x3c/a\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"pardotNode"\x3e\x3c/div\x3e\n\n\t\x3cdiv class\x3d"row listContent"\x3e\n\t\t\x3cdiv class\x3d"rowContent noListWarning" data-dojo-attach-point\x3d"noListWarningNode"\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"noList"\x3e${!messages.msgNoInviteList}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"listContainerNode"\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga tableLista" data-dojo-attach-point\x3d"visualizzaListaNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cspan class\x3d"infoNumPartecipanti"\x3e${!messages.lblInviteeNumber}:\x26nbsp;\x3cspan data-dojo-attach-point\x3d"numInvitatiLabelNode"\x3e0\x3c/span\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan class\x3d"infoNumPartecipanti duplicati" data-dojo-attach-point\x3d"invitatiConDuplicatiNode"\x3e\n\t\t\t\t\t\t${!messages.lblInviteeWithDupsNumber}:\x26nbsp;\x3cspan data-dojo-attach-point\x3d"numInvitatiConDuplicatiLabelNode"\x3e0\x3c/span\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cspan class\x3d"${baseClass}DownloadLista boxDownload"\x3e\n\t \t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportExcelNode" href\x3d"/downloadListaInvitati.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dExcel" class\x3d"ico_excel" title\x3d"${!commonMessages.lblExportExcelTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportCsvNode" href\x3d"/downloadListaInvitati.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dCSV" class\x3d"ico_csv" title\x3d"${!commonMessages.lblExportCSVTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t --\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"searchBox" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"doubleClickToEditInfo"\x3e${!commonMessages.msgDoubleClickToEdit}\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"boxOpzioniLista"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCopiaHeaders"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"copiaHeadersBtnNode" title\x3d"${!messages.msgIntestazioniCopiateTip}"\x3e\n\t\t\t\t\t\t\t\t\x3ci class\x3d"fa fa-clipboard" aria-hidden\x3d"true"\x3e\x3c/i\x3e\n\t\t\t\t\t\t\t\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnInserisci"\x3e\n\t\t\t\t\t\t\t\x3ca href\x3d"" data-dojo-attach-point\x3d"inserisciBtnNode"\x3e${!messages.lblAddInviteeBtn}\x3c/a\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnDuplicati" data-dojo-attach-point\x3d"popupDuplicatiBtnContainerNode"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"popupDuplicatiBtnNode"\x3e${!messages.lblOpenDuplicatiPopupBtn}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnFiltri" data-dojo-attach-point\x3d"popupFiltriBtnContainerNode"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"popupFiltriBtnNode"\x3e${!messages.lblOpenFiltersPopupBtn}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnSvuota" data-dojo-attach-point\x3d"cancellaListaBtnContainerNode"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"cancellaListaBtnNode"\x3e${!messages.lblDeleteInviteListBtn}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"${baseClass}AzioniLista btnAggiorna"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"refreshBtnNode"\x3e${!messages.lblRefreshInviteListBtn}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraStatoEmailInvitatiNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraNonInteressatiNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t --\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"langSelectionNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"${baseClass} boxGridContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingNode" class\x3d"gridLoadingMask"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"gridLoadingBackgroundMask"\x3e\x3c/div\x3e\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cimg class\x3d"gridLoadingImg" src\x3d"/img/loading.gif" /\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingTextNode" class\x3d"gridLoadingText"\x3eLoading....\x3c/div\x3e\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/Guests/templates/AttendeeListWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n\t\x3cdiv class\x3d"row"\x3e\n\t\t\x3cdiv class\x3d"rowContent noListWarning" data-dojo-attach-point\x3d"noListWarningNode"\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"noList"\x3e${!messages.msgNoAttendeeList}\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"listContainerNode"\x3e\t\t\t\n\t\t\t\x3c!-- \n\t\t\t\x3cdiv class\x3d"${baseClass}Riga" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t--\x3e\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga"\x3e\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable infoTableContaier" data-dojo-attach-point\x3d"infoTableNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"${baseClass}Riga tableLista" data-dojo-attach-point\x3d"visualizzaListaNode"\x3e\n\t\t\t\t\x3c!--\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t*!--  \x3cspan class\x3d"infoNumPartecipanti"\x3e${!messages.lblAttendeesNum}:\x26nbsp;\x3cspan data-dojo-attach-point\x3d"numPartecipantiLabelNode"\x3e0\x3c/span\x3e\x3c/span\x3e  --*\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"infoTableNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t--\x3e\n\t\t\t\n\t\t\t\t\x3cdiv class\x3d"boxInfoTable"\x3e\n\t\t\t\t\t\x3cspan class\x3d"${baseClass}DownloadLista boxDownload"\x3e\n\t \t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportExcelNode" href\x3d"/downloadListaPartecipanti.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dExcel" class\x3d"ico_excel" title\x3d"${!commonMessages.lblExportExcelTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t \t\t\t\t\t\x3c!-- \n\t\t\t\t\t\t\x3ca data-dojo-attach-point\x3d"exportCsvNode" href\x3d"/downloadListaPartecipanti.plp?idEvento\x3d${idEvento}\x26outputFormat\x3dCSV" class\x3d"ico_csv" title\x3d"${!commonMessages.lblExportCSVTip}"\x3e\x26nbsp;\x3c/a\x3e\n\t\t\t\t\t\t --\x3e\n\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"searchBox" data-dojo-attach-point\x3d"searchBoxNode"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"searchTextBoxNode" value\x3d"Cerca nella lista" /\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnCancella"\x3e\x3cbutton data-dojo-attach-point\x3d"searchResetBtnNode"\x3eX\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"doubleClickToEditInfo"\x3e${!commonMessages.msgDoubleClickToEdit}\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"boxOpzioniLista"\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"btnFiltri" data-dojo-attach-point\x3d"popupFiltriBtnContainerNode"\x3e \x3cbutton data-dojo-attach-point\x3d"popupFiltriBtnNode"\x3e${!messages.lblOpenFiltersPopupBtn}\x3c/button\x3e \x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"${baseClass}AzioniLista btnAggiorna"\x3e\x3cbutton data-dojo-attach-point\x3d"refreshBtnNode"\x3e${!messages.lblRefreshListBtn}\x3c/button\x3e\x3c/span\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3c!-- \n\t\t\t\t\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraDataFasciaContainerNode" id\x3d"listaPartecipantiWidgetFiltraDataFasciaContainer" style\x3d"display:none;"\x3e\n\t\t\t\t\t\t\x3cselect data-dojo-attach-point\x3d"filtraDataFasciaNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t --\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"langSelectionNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"${baseClass} boxGridContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingNode" class\x3d"gridLoadingMask"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"gridLoadingBackgroundMask"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridLoadingTextNode" class\x3d"gridLoadingText"\x3eLoading....\x3c/div\x3e\n\t\t\t\t\t\t\x3cimg class\x3d"gridLoadingImg" src\x3d"/img/loading.gif" /\x3e\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\x3c/div\x3e\t\t\n\t\x3c/div\x3e\n\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/templates/FontControlWidget.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\n\t\x3cdiv class\x3d"itemForm ffamily" data-dojo-attach-point\x3d"fontFamilyNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"fontFamilyControlNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm fweight" data-dojo-attach-point\x3d"fontWeightNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"fontWeightControlNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm fsize" data-dojo-attach-point\x3d"fontSizeNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"fontSizeControlNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm talign" data-dojo-attach-point\x3d"alignementNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"alignementControlNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm tuppercase" data-dojo-attach-point\x3d"uppercaseNode"\x3e\n\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\x3cinput id\x3d"${id}_upp" data-dojo-attach-point\x3d"uppercaseControlNode" /\x3e\n\t\t\t\x3clabel for\x3d"${id}_upp"\x3e${commonMessages.lblTextTransformUppercase}\x3c/label\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Badges/templates/EditGuestCategoriesWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"firstColumn"\x3e\n\t\t\x3cdiv data-ebplatform-template-elementid\x3d"guestCategorySelectionNode"\x3e\n\t\t\t\x3ch3\x3e${!messages.lblManageGuestCategoriesTitle}\x3c/h3\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"configureSingleColorNode" /\x3e\n\t\t\t\x3clabel\x3e${!messages.lblFlatCategory}\x3c/label\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"categoriesConfiguration" data-dojo-attach-point\x3d"categoriesConfigurationNode"\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.msgCategorySelection}\x3c/label\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cselect data-dojo-attach-point\x3d"categorySelectionNode"\x3e\x3c/select\x3e\n\t\t\t\x3cdiv class\x3d"colorsConfiguration" data-dojo-attach-point\x3d"colorsConfigurationNode"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureUndefinedColorContainerNode"\x3e\n\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"configureUndefinedColorNode" /\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.lblUndefinedCategory}\x3c/label\x3e\n\t\t\t\t\x3c/div\x3e\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"secondColumn"\x3e\n\t\t\x3cdiv style\x3d"display: inline-block"\x3e\n\t\t\t\x3cdiv class\x3d"colorsSelection" data-dojo-attach-point\x3d"colorsSelectionNode"\x3e\n\t\t\t\t\x3clabel data-dojo-attach-point\x3d"categorySelectionLabel"\x3e\n\t\t\t\t\t\x3cstrong\x3e${!messages.lblCategories}\x3c/strong\x3e\n\t\t\t\t\x3c/label\x3e\n\t\t\t\t\x3cdiv class\x3d"colorsContainer"\x3e\x3c!-- data-dojo-attach-point\x3d"guestCategoriesNode" --\x3e\n\t\t\t\t\t\x3cdiv class\x3d"colors" data-dojo-attach-point\x3d"colorsNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"boxLoading" data-dojo-attach-point\x3d"loadingIndicatorNode" style\x3d"display: none"\x3e\n\t\t\t\t\t\t\t\x3cimg id\x3d"_ldng" src\x3d"/img/loading.gif"/\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/MailStatisticheWidget.html":'\t\t\x3cdiv class\x3d"${baseClass} boxLayout boxStatisticheEmail nomore"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"contentBoxStatisticheNode" class\x3d"boxLayoutContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"tabs boxLayout"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"left active" data-dojo-attach-point\x3d"tabStats"\x3e\n\t\t\t\t\t\t\x3ch3\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"ultimaSpedizioneIntestazioneNode"\x3e${!testi.lblTitoloUltimaSpedizione}:\x3c/span\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"ultimaSpedizioneNode"\x3e28 Novembre 2013 13:44:27\x3c/span\x3e\n\t\t\t\t\t\t\x3c/h3\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"right" data-dojo-attach-point\x3d"tabCurrent"\x3e\n\t\t\t\t\t\t\x3ch3\x3e\n\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"ultimaSpedizioneIntestazioneNode"\x3e${!testi.lblProssimoInvio}\x3c/span\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"prossimoInvioTooltipNode"\x3e ? \x3c/span\x3e\n\t\t\t\t\t\t\x3c/h3\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\t\n\t\t\t\t\x3cdiv id\x3d"boxGrafici" class\x3d"data boxLayout"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"column columnFirst"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"summary"\x3e\n\t\t\t\t\t\t\t\x3ch4\x3e${!testi.lblTitoloSintesi}\x3c/h4\x3e\n\t\t\t\t\t\t\t\x3cp stato\x3d"TUTTI" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e\n\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"numTotaleNode"\x3e\x3c/span\x3e ${!testi.lblNumeroTotale}\n\t\t\t\t\t\t\t\x3c/p\x3e\n\t\t\t\t\t\t\t\x3ch5 class\x3d"stat" stato\x3d"SENT" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e\n\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"numInviateNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t${!testi.lblInviate}\n\t\t\t\t\t\t\t\x3c/h5\x3e\n\t\t\t\t\t\t\t\x3cul\x3e\n\t\t\t\t\t\t\t\t\x3cli class\x3d"stat"\x3e\n\t\t\t\t\t\t\t\t\t\x3ch5 stato\x3d"DELIVERED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"numConsegnateNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t${!testi.lblConsegnate}\n\t\t\t\t\t\t\t\t\t\x3c/h5\x3e\n\t\t\t\t\t\t\t\t\t\x3cdl\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"OPENED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numAperteNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"OPENED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblAperte}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"CLICKED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numCliccateNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"CLICKED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblCliccate}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\x3c/dl\x3e\n\t\t\t\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t\t\t\t\x3cli class\x3d"stat"\x3e\n\t\t\t\t\t\t\t\t\t\x3ch5 stato\x3d"ANY_ERROR" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"numNonConsegnateNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t${!testi.lblNonConsegnate}\n\t\t\t\t\t\t\t\t\t\x3c/h5\x3e\n\t\t\t\t\t\t\t\t\t\x3cdl\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"HARD_BOUNCE" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numHardBounceNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"HARD_BOUNCE" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblHardBounce}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"SOFT_BOUNCE" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numSoftBounceNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"SOFT_BOUNCE" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblSoftBounce}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"SENDING_EXCEPTION" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numOtherErrorNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"SENDING_EXCEPTION" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblAltriErrori}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\x3c/dl\x3e\n\t\t\t\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t\t\t\t\x3cli class\x3d"next"\x3e\n\t\t\t\t\t\t\t\t\t\x3ch5\x3e${!testi.lblDettagli}\x3c/h5\x3e\n\t\t\t\t\t\t\t\t\t\x3cdl\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"NO_EMAIL_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numNoEmailFixedDetNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"NO_EMAIL_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testiStato.esiti.msgFixed} (${!testiStato.esiti.msgErrore}: ${!testiStato.esiti.msgEmailNonPresente})\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"ADDRESS_MALFORMED_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numAddressMalformedFixedDetNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"ADDRESS_MALFORMED_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testiStato.esiti.msgFixed} (${!testiStato.esiti.msgErrore}:  ${!testiStato.esiti.msgIndirizzoErrato})\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"SOFT_BOUNCE" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numSoftBounceNextNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"SOFT_BOUNCE" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblSoftBounce}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdt stato\x3d"NEVER_SENT" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numToBeSentNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdd stato\x3d"NEVER_SENT" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testiStato.stati.lblNuoviOspiti}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\t\x3c/dl\x3e\n\t\t\t\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t\t\t\x3c/ul\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"performance"\x3e\n\t\t\t\t\t\t\t\x3ch4\x3e${!testi.lblTitoloPerformance}\x3c/h4\x3e\n\t\t\t\t\t\t\t\x3cdl\x3e\n\t\t\t\t\t\t\t\t\x3cdt\x3e\x3cspan data-dojo-attach-point\x3d"percDeliveryRateNode"\x3e\x3c/span\x3e%\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd\x3e${!testi.lblDeliveryRate}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\x3cdt\x3e\x3cspan data-dojo-attach-point\x3d"percOpenRateNode"\x3e\x3c/span\x3e%\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd\x3e${!testi.lblOpenRate}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\x3cdt\x3e\x3cspan data-dojo-attach-point\x3d"percClickRateNode"\x3e\x3c/span\x3e%\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd\x3e${!testi.lblClickRate}\x3c/dd\x3e\n\t\t\t\t\t\t\t\x3c/dl\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"notfixed"\x3e\n\t\t\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\t\t\x3ch5 stato\x3d"NOT_SENT" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e\n\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"numNotSentNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t${!testi.lblNonAncoraInviate}\n\t\t\t\t\t\t\t\x3c/h5\x3e\n\t\t\t\t\t\t\t\x3cdl\x3e\n\t\t\t\t\t\t\t\t\x3cdt stato\x3d"ADDRESS_MALFORMED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numAddressMalformedNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd stato\x3d"ADDRESS_MALFORMED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblIndirizzoEmailErrato}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\x3cdt stato\x3d"NO_EMAIL" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numNoEmailNode"\x3e13\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd stato\x3d"NO_EMAIL" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblEmailNonPresente}\x3c/dd\x3e\n\t\t\t\t\t\t\t\x3c/dl\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\n\t\t\t\t\t\t\x3cdiv class\x3d"fixed"\x3e\n\t\t\t\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\t\t\t\x3ch5 stato\x3d"NOT_SENT_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e\n\t\t\t\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"numNotSentFixedNode"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t${!testi.lblFixed}\n\t\t\t\t\t\t\t\x3c/h5\x3e\n\t\t\t\t\t\t\t\x3cdl\x3e\n\t\t\t\t\t\t\t\t\x3cdt stato\x3d"NO_EMAIL_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numNoEmailFixedNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd stato\x3d"NO_EMAIL_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblEmailNonPresente}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\x3cdt stato\x3d"ADDRESS_MALFORMED_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail" data-dojo-attach-point\x3d"numAddressMalformedFixedNode"\x3e\x3c/dt\x3e\n\t\t\t\t\t\t\t\t\x3cdd stato\x3d"ADDRESS_MALFORMED_FIXED" data-dojo-attach-event\x3d"onclick:filtraStatoEmail"\x3e${!testi.lblIndirizzoEmailErrato}\x3c/dd\x3e\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\x3c/dl\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv class\x3d"column columnGrafico"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"boxGrafico"\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"boxTotaliPieChart"\x3e\t\t\t\n\t\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"chartInviiNode" class\x3d"${baseClass}PieChart"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"totaliPieChartLegendContainerNode" class\x3d"${baseClass}PieChartLegendContainer legendContainer"\x3e\n\t\t\t\t\t\t\t\t\t\x3ch5 class\x3d"${baseClass}PieChartLegendTitle"\x3e${!testi.lblTitoloGraficoPercentuali}\x3c/h5\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv id\x3d"${id}_legend"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"boxAggiornaStatistiche"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"btn"\x3e\n\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"aggiornaStatisticheNode"\x3e \x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\t\t\t\t\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventDetails/templates/ChangeTimeZoneDialogWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3ch4\x3e${!commonMessages.lblFusoOrario}\x3c/h4\x3e \x3cselect data-dojo-attach-point\x3d"timeZoneIDNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3cdiv class\x3d"fl"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showDatesInShortFormatNode" /\x3e\x3c/div\x3e \n\t\t\x3cdiv class\x3d"fl cbxLabelBlock"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblShowDatesInShortFormat}\x3c/label\x3e\n\t\t\t\x3cp class\x3d"showDatesInShortFormatNote"\x3e\n\t\t\t\t\x3cspan class\x3d"pt1"\x3e${!messages.msgShowDatesInShortFormatNotePt1}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"pt2"\x3e${!messages.msgShowDatesInShortFormatNotePt2}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"pt3"\x3e${!messages.msgShowDatesInShortFormatNotePt3}\x3c/span\x3e\n\t\t\t\t\x3cspan class\x3d"pt4"\x3e${!messages.msgShowDatesInShortFormatNotePt4}\x3c/span\x3e\n\t\t\t\x3c/p\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"addDetails eventDescription" data-dojo-attach-point\x3d"customDateTextNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblCustomDateText}\x3c/label\x3e \n\t\t\t\x3cdiv class\x3d"customDateTextNote"\x3e${!messages.msgCustomDateText}\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"customDateTextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e${!commonMessages.lblOKButton}\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e${!commonMessages.lblChiudiButton}\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/Communication/templates/ScheduledCommunicationWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle sub"\x3e\x3c/h2\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.lblEmailName}\x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e \x3c/label\x3e \x3cdiv class\x3d"richTextBoxContainer"\x3e\x3cinput data-dojo-attach-point\x3d"emailNameNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\x3ch3\x3e\n\t\t\t\t${!messages.lblRecipients}\x3c!--  \x3cspan class\x3d"mandatory"\x3e*\x3c/span\x3e --\x3e \n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"recipientsTooltipIconNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/h3\x3e\t\t\t\n\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"recipientsContainerNode"\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"recipientsNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"languageTimezoneDateSettingsContainerNode"\x3e\t\t\t\t\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3clabel\x3e${!commonMessages.lblLingua}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"languageNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm otherSettings"\x3e\n\t\t\t\t\t\x3clabel\x3e\n\t\t\t\t\t\t${!messages.lblOtherSettings} \n\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"showTimezoneNode"\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"valueLabel" data-dojo-attach-point\x3d"showTimezoneLabelNode"\x3e\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"partecipationDeny"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e\x26nbsp;\x3c/label\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showPartecipationDenyBtnNode"\x3e\n\t\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e${!messages.lblShowPartecipationDenyBtn}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"ticketSectionNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e\x26nbsp;\x3c/label\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"attachTicketNode"\x3e\n\t\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e${!messages.otherCommunication.lblAttachTicketLabel}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"partnerTicketSectionNode"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\t\x3clabel\x3e\x26nbsp;\x3c/label\x3e\n\t\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"attachPartnerTicketNode"\x3e\n\t\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e${!messages.otherCommunication.lblAttachPartnerTicketLabel}\x3c/label\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3cdiv class\x3d"btnContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureTemplateBtnNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"checkSpam" data-dojo-attach-point\x3d"checkSpamContainerNode"\x3e\n\t\t\t\t\t\t\x3cspan\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"checkForSpamBtnNode"\x3e${!messages.lblCheckSpamButton}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"refresh"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"recheckForSpamBtnNode"\x3e\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"moreDetails"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"moreDetailsBtnNode"\x3e${!messages.lblMaggioriInfoQui}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"configureTemplateContainerNode"\x3e\n\t\t\t\t\x3cdiv\x3e\x3c/div\x3e\n\t\t\t\t\x3c!-- SELECT per TEMPLATES  --\x3e\n\t\t\t\t\x3cdiv class\x3d"boxSelectTemplate itemForm"\x3e\n\t\t\t\t\t\x3clabel\x3e${!commonMessages.lblTemplate}\x3c/label\x3e \x3cselect data-dojo-attach-point\x3d"selectTemplateModelNode"\x3e\x3c/select\x3e\n\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"saveAsTemplateBtnNode"\x3eSalva come template\x3c/button\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\t\t\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"configureTemplateNode" /\x3e\n\t\t\t\t\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"attachFileBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"attachFileContainerNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"attachFileNode" /\x3e\n\t\t\t\t\x3cdiv class\x3d"personalFilesCategoriesContainer" data-dojo-attach-point\x3d"personalFilesCategoriesContainerNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:ebPlatformWidgets/Evento/AppSetup/templates/AppSetupPrivacySettingsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3ch4\x3e${!messages.lblDeclaration}\x3c/h4\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showPrivacyIntroNode"\x3e \x3clabel\x3e${!messages.lblShowPrivacyIntro} \x3c/label\x3e \x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"privacyIntroNode"\x3e \x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3ch4\x3e${!messages.lblPrivacyNotice}\x3c/h4\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"privacyNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3ch4\x3e${!messages.lblConsentRequests}\x3c/h4\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showConsentRequest1Node"\x3e \x3clabel data-dojo-attach-point\x3d"showConsentRequest1LabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"isConsentRequest1MandatoryNode"\x3e \x3clabel data-dojo-attach-point\x3d"isConsentRequest1MandatoryLabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"consentRequest1TextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showConsentRequest2Node"\x3e \x3clabel data-dojo-attach-point\x3d"showConsentRequest2LabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"isConsentRequest2MandatoryNode"\x3e \x3clabel data-dojo-attach-point\x3d"isConsentRequest2MandatoryLabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"consentRequest2TextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showConsentRequest3Node"\x3e \x3clabel data-dojo-attach-point\x3d"showConsentRequest3LabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"isConsentRequest3MandatoryNode"\x3e \x3clabel data-dojo-attach-point\x3d"isConsentRequest3MandatoryLabelNode"\x3e\x3c/label\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"consentRequest3TextNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/templates/EmailAddressTextBox.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cinput class\x3d"alias" data-dojo-attach-point\x3d"aliasBoxNode" /\x3e\n\t\x3cinput class\x3d"address" data-dojo-attach-point\x3d"addressBoxNode" /\x3e\n\t\x3cbr /\x3e\n\t\x3cdiv class\x3d"tooltip" data-dojo-attach-point\x3d"tooltipNode"\x3e\x3c/em\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Communication/templates/EditSchedulingDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"rowScheduleDelivery"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblDeliveryDate}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"dataSpedizioneNode" /\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblDeliveryTime}\x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"oraSpedizioneNode" /\x3e\n\t\t\x3c/div\x3e\t\t\t\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"saveBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/templates/ToggleButtonWidget.html":'\x3ca class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"hover"\x3e\n\t\t\x3ch4 data-dojo-attach-point\x3d"hoverLabelNode"\x3e${!hoverLabel}\x3c/h4\x3e\n\t\t\x3cp\x3e${!hoverCaption}\x3c/p\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"content"\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"imgNode" src\x3d"${!img}" /\x3e\n\t\t\x3ch4 data-dojo-attach-point\x3d"labelNode"\x3e${!label}\x3c/h4\x3e\n\t\t\x3cp\x3e${!caption}\x3c/p\x3e\n\t\x3c/div\x3e\t\n\x3c/a\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/EditRegistrationButtonsDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"registrationBtnContainerNode"\x3e\n\t\t\x3clabel\x3e${!eventPageMessages.lblRegistrationBtnLabel}\x3c/label\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"registrationBtnLabelNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm colorsSelectionContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"registrationBtnColorNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"registrationBtnBgColorNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"denyControlsContainerNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"denyBtnContainerNode"\x3e\n\t\t\t\x3clabel\x3e${!eventPageMessages.lblDenyPartecipationBtnLabel}\x3c/label\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"denyBtnLabelNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm colorsSelectionContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"denyBtnColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"denyBtnBgColorNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm partecipationDeny"\x3e\n\t\t\t\x3clabel\x3e${!eventPageMessages.lblDenyPartecipationText}\x3c/label\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"denyTextEditNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"saveBtnNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/ManagePersonalFileCategoriesWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"info"\x3e\n\t\t${!messages.msgIntro}\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"nuovaCategoriaContainer"\x3e\n\t\t\x3cinput type\x3d"text" data-dojo-attach-point\x3d"nuovaCategoriaNode" /\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"nuovaCategoriaBtnNode"\x3e${!messages.lblInserisciNuovaCategoria}\x3c/button\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"categorieContainer" data-dojo-attach-point\x3d"categorieContainerNode"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditTestiAccompagnatoriDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestsSectionTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"sectionTitleNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblMaxAccompanyingGuests} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"maxAccompanyingGuestsNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblMmaxAccompanyingGuestsNoCapacity} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"maxAccompanyingGuestsNoCapacityNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblMaxAccompanyingGuestsFull} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"maxAccompanyingGuestsFullNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblNumAccompanyingGuestAdded} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"numAccompanyingGuestAddedNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAddAccompanyingGuests} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"addAccompanyingGuestsNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAddOneMoreAccompanyingGuest} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"addOneMoreAccompanyingGuestNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblBackToParent} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"backToParentNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestSectionTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompanyingGuestSectionTitleNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestFieldInLists} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompanyingGuestFieldInListsNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestPosition} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompanyingGuestPositionNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestsSectionTitleInEmail} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompanyingGuestsSectionTitleInEmailNode"\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompaniedGuestThanksTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompaniedGuestThanksTitleNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompaniedGuestThanksSubTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompaniedGuestThanksSubTitleNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestThanksTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompanyingGuestThanksTitleNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\x3clabel\x3e${!messages.lblAccompanyingGuestThanksSubTitle} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"accompanyingGuestThanksSubTitleNode"\x3e\n\t\x3c/div\x3e\n\t\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/ManageListValuesDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"renderconf" data-dojo-attach-point\x3d"renderAsRadioContainerNode"\x3e\n\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"renderAsRadioBtnNode" /\x3e\n\t\t\x3clabel\x3e${!messages.lblManageFieldsShowAsRadio}\x3c/label\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"renderconf" data-dojo-attach-point\x3d"showValueContainerNode"\x3e\n\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showValueBtnNode" /\x3e\n\t\t\x3clabel\x3e${!messages.lblManageFieldsShowValue}\x3c/label\x3e\n\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"showValueTooltipIconNode"\x3e ? \x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass} boxGridContainer tableLista"\x3e\n\t\t\x3cform data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\x3c/form\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addItemBtnNode"\x3e${!messages.lblManageFieldsAddValoreLista}\x3c/button\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"okBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"cancelBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Communication/templates/RegistrationConfirmationEmailWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle sub"\x3e\n\t\t${!messages.registrationConfirmationEmail.lblMainTitle}\n\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"mainTitleTooltipNode"\x3e ? \x3c/span\x3e\n\t\x3c/h2\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\t\t\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\n\t\t\t\x3cdiv class\x3d"boxSendUpdatesCopyTo itemForm"\x3e\n\t\t\t\t\x3clabel\x3e${!messages.registrationConfirmationEmail.lblSendCopyOfRegistrationUpdatesTo}\x3c/label\x3e \n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"sendUpdatesCopyToNode" /\x3e\t\t\t\t\n\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"sendUpdatesCopyToTooltipIconNode"\x3e ? \x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3c!--\n\t\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"languageSelectionContainerNode"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblLingua}\x3c/label\x3e \x3cdiv data-dojo-attach-point\x3d"languageSelectionNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t--\x3e\n\t\t\t\x3c!-- \n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"emailTemplateNode"\x3e\x3c/div\x3e\n\t\t\t --\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row confpage" data-dojo-attach-point\x3d"confirmatioPageSectionNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"enableConfirmationPageNode"\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e\n\t\t\t\t\t\t\t${!eventPageMessages.lblEnableConfiramtionPage}\n\t\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"confirmationPageTooltipNode"\x3e?\x3c/span\x3e\n\t\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3cdiv class\x3d"btnContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureTemplateBtnNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv class\x3d"checkSpam" data-dojo-attach-point\x3d"checkSpamContainerNode"\x3e\n\t\t\t\t\t\t\x3cspan\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"checkForSpamBtnNode"\x3e${!messages.lblCheckSpamButton}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cspan class\x3d"refresh"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"recheckForSpamBtnNode"\x3e\x3c/button\x3e\n\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"moreDetails"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"moreDetailsBtnNode"\x3e${!messages.lblMaggioriInfoQui}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"configureTemplateContainerNode"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureTemplateNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row attach" data-dojo-attach-point\x3d"attachFileSectionNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"attachFileBtnNode"\x3e\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"attachFileContainerNode"\x3e\n\t\t\t\t\x3cinput data-dojo-attach-point\x3d"attachFileNode" /\x3e\n\t\t\t\t\x3cdiv class\x3d"personalFilesCategoriesContainer" data-dojo-attach-point\x3d"personalFilesCategoriesContainerNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"row ticket" data-dojo-attach-point\x3d"ticketSectionNode"\x3e\n\t\t\t\x3cdiv class\x3d"rowTitle"\x3e\n\t\t\t\t\x3cdiv class\x3d"btnContainer"\x3e\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureTicketBtnNode"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv\x3e\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"ticketPreviewContainerNode"\x3e\n\t\t\t\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"ticketPreviewBtnNode"\x3e${!commonMessages.lblVisualizzaAnteprimaButton}\x3c/button\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent" data-dojo-attach-point\x3d"configureTicketContainerNode"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"downloadTicketNode"\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e\n\t\t\t\t\t\t\t${!messages.registrationConfirmationEmail.lblDownloadTicketLabel}\n\t\t\t\t\t\t\t\x3cspan class\x3d"helpTip" data-dojo-attach-point\x3d"downloadTicketTooltipNode"\x3e?\x3c/span\x3e\n\t\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"attachTicketNode"\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e${!messages.registrationConfirmationEmail.lblAttachTicketLabel}\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"partnerTicketSectionNode"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"attachPartnerTicketNode"\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e${!messages.registrationConfirmationEmail.lblAttachPartnerTicketLabel}\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"itemCheckBox"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"showTicketTimezoneNode"\x3e\n\t\t\t\t\t\t\x3clabel class\x3d"valueLabel"\x3e${!messages.registrationConfirmationEmail.lblShowTicketTimezoneLabel}\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"configureTicketNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/InfoPadrePopup.html":'\x3cdiv class\x3d"${baseClass}InfoPadrePopup boxInfoPadrePopup"\x3e\n\t\x3ch4\x3e${nome} ${cognome}\x3c/h4\x3e\n\t${altriCampi}\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/Communication/templates/SpedisciEmailTestWidget.html":'\x3cspan class\x3d"${baseClass}"\x3e\n\t\x3ciframe name\x3d"_inviaEmailDiTestDestinatariFooBar" style\x3d"display:none" src\x3d"about:blank"\x3e\x3c/iframe\x3e\n\t\x3cform data-dojo-attach-point\x3d"fform" style\x3d"display: inline-block" target\x3d"_inviaEmailDiTestDestinatariFooBar" action\x3d"about:blank"\x3e\n\t\x3cinput data-dojo-attach-point\x3d"inviaEmailDiTestDestinatariNode" /\x3e\n\t\x3c/form\x3e\n\t\x3cspan data-dojo-attach-point\x3d"inviaEmailDiTestSoloTestoBtnContainerNode"\x3e\n\t\t\x26nbsp;\x26nbsp;\n\t\t\x3cbutton type\x3d"button" data-dojo-attach-point\x3d"inviaEmailDiTestSoloTestoBtnNode"\x3e${!testiComuni.lblInviaEmailTestSoloTestoButton}\x3c/button\x3e\n\t\x3c/span\x3e\n\t\x26nbsp;\x26nbsp;\x26nbsp;\x3cbutton type\x3d"button" data-dojo-attach-point\x3d"inviaEmailDiTestBtnNode"\x3e${!testiComuni.lblInviaEmailTestButton}\x3c/button\x3e\n\t\x3cspan data-dojo-attach-point\x3d"inviaEmailDiTestConLinkBtnContainerNode"\x3e\n\t\t\x26nbsp;\x26nbsp;\n\t\t\x3cbutton type\x3d"button" data-dojo-attach-point\x3d"inviaEmailDiTestConLinkBtnNode"\x3e${!testiComuni.lblInviaEmailTestConLinkButton}\x3c/button\x3e\n\t\x3c/span\x3e\n\x3c/span\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/ManageFieldsWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3c!-- \n\t\x3cdiv\x3e\n\t\t${!messages.msgManageFieldsInstructions}\t\t\n\t\x3c/div\x3e\n\t--\x3e\t\n\t\x3cdiv class\x3d"helpTipContainer"\x3e\n\t\t\x3c!-- \n\t\t\x3cspan class\x3d"infoTip" data-dojo-attach-point\x3d"recipientsTooltipIconNode"\x3e ? \x3c/span\x3e\n\t\t\x3cspan class\x3d"helpTipMessage"\x3e${!commonMessages.msgDoubleClickToEdit}\x3c/span\x3e\n\t\t--\x3e\n\t\t\x3cspan class\x3d"fr addFieldBtnContainer"\x3e\n\t\t\t\x3cbutton data-dojo-attach-point\x3d"addFieldTopBtnNode"\x3e${!messages.lblManageFieldsAddField}\x3c/button\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"${baseClass} boxGridContainer tableLista" data-dojo-attach-point\x3d"gridNodeContainer"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode" id\x3d"target"\x3e\x3c/div\x3e\n\t\t\x3cspan class\x3d"fr addFieldBtnContainer"\x3e\n\t\t\t\x3cbutton data-dojo-attach-point\x3d"addFieldBottomBtnNode"\x3e${!messages.lblManageFieldsAddField}\x3c/button\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\t\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventSummary/templates/EventSummaryWidget.html":'\x3cdiv class\x3d"${baseClass} boxStatisticheEmail"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"chartNodeContainer"\x3e\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"boxLayout"\x3e\n\t\t\x3cdiv class\x3d"boxAggiornaStatistiche"\x3e\n\t\t\t\x3cdiv class\x3d"btn"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"aggiornaStatisticheNode"\x3e \x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"row registratiAccordion"\x3e\n\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"registratiBtnNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent registratiContainerNode" data-dojo-attach-point\x3d"registratiContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"registratiDettagli"\x3e\t\t\t\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblRegistratiDaFormNominativo}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"registratiDaFormNominativoNode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color1"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblRegistratiDaFormGenerico}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"registratiDaFormGenericoNode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color2"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblRegistratiDaBE}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"registratiDaBENode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color3"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblRegistratiDaImportMassivo}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"registratiDaImportMassivoNode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color4"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblTotale}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"registratiTotNode" /\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"nonInteressati"\x3e\n\t\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblTotaleNonInteressati}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"nonInteressatiTotNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3cdiv class\x3d"nonInteressati"\x3e\n\t\t\t\t\t\x3cspan class\x3d"label"\x3e${!messages.lblTotaleCancellati}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"cancellatiTotNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"registratiDettagliChart" data-dojo-attach-point\x3d"registratiDettagliChartContainerNode"\x3e\n\t\t\t\t\x3cdiv style\x3d"width:150px; height:150px;" data-dojo-attach-point\x3d"registratiDettagliChartNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"row partecipantiAccordion"\x3e\n\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"partecipantiBtnNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent partecipantiContainerNode" data-dojo-attach-point\x3d"partecipantiContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"partecipantiDettagli"\x3e\t\t\t\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblPartecipantiRegistrati}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"partecipantiRegistratiNode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color1"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblPartecipantiInvitatiNonRegistrati}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"partecipantiInvitatiNonRegistratiNode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color2"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblPartecipantiInseritiDaApp}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"partecipantiInseritiDaAppDaBENode"\x3e\x3c/span\x3e\x3cdiv class\x3d"legend color3"\x3e\x3c/div\x3e\x3c/div\x3e\n\t\t\t\t\x3cdiv\x3e\x3cspan class\x3d"label"\x3e${!messages.lblTotale}\x3c/span\x3e:\x26nbsp;\x3cspan class\x3d"valore" data-dojo-attach-point\x3d"partecipantiTotNode" /\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"partecipantiDettagliChart" data-dojo-attach-point\x3d"partecipantiDettagliChartContainerNode"\x3e\n\t\t\t\t\x3cdiv style\x3d"width:150px; height:150px;" data-dojo-attach-point\x3d"partecipantiDettagliChartNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv data-dojo-attach-point\x3d"disponibilitaAccordionContainer"\x3e\n\t\x3cdiv class\x3d"row disponibilitaAccordion"\x3e\n\t\t\x3cdiv class\x3d"rowTitle" data-dojo-attach-point\x3d"disponibilitaBtnNode"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"rowContent disponibilitaContainerNode" data-dojo-attach-point\x3d"disponibilitaContainerNode"\x3e\n\t\t\t\x3cdiv class\x3d"disponibilitaDettagli" data-dojo-attach-point\x3d"disponibilitaDettagliChartContainerNode"\x3e\x3c/div\x3e\t\t\t\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Form/templates/BadgedButtonWidget.html":'\x3ca class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"hover"\x3e\n\t\t\x3c!-- \x3cimg src\x3d"${hoverImg}" /\x3e --\x3e\n\t\t\x3ch4\x3e${!hoverLabel}\x3c/h4\x3e\n\t\t\x3cp\x3e${!hoverCaption}\x3c/p\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"content"\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"imgNode" src\x3d"${img}" /\x3e\n\t\t\x3ch4\x3e${!label}\x3c/h4\x3e\n\t\t\x3cp\x3e\n\t\t\t\x3cspan class\x3d"more"\x3e+\x3c/span\x3e\n\t\t\t${!caption}\n\t\t\x3c/p\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv class\x3d"badge" data-dojo-attach-point\x3d"badgeNode"\x3e\n\t\n\t\x3c/div\x3e\n\x3c/a\x3e',
"url:ebPlatformWidgets/Evento/EventDetails/templates/RegistrationClosingDeadlineWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"automaticClosingWarningNode"\x3e${!messages.lblRegistrationClosingDeadlineHelp}\x3c/div\x3e\n\t\x3cform data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\x3cdiv class\x3d"selectsContainer"\x3e\n\t\t\t\x3cspan class\x3d"groupItem"\x3e\x3cinput data-dojo-attach-point\x3d"deadlineDateNode" /\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"groupItem"\x3e\x3cinput data-dojo-attach-point\x3d"deadlineTimeNode" /\x3e\x3c/span\x3e\n\t\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/form\x3e\n\t\x3cdiv class\x3d"registrationStatusBox" data-dojo-attach-point\x3d"registrationStatusBoxNode"\x3e\t\t\n\t\t\x3ch5\x3e\x3cspan data-dojo-attach-point\x3d"registrationStatusTitleNode"\x3e${!messages.lblRegistrationStatus}\x3c/span\x3e\x3c/h5\x3e\n\t\t\x3cdiv\x3e${!messages.lblRegistrationsAre}\x26nbsp;\x3cspan class\x3d"registrationOpennessStatus" data-dojo-attach-point\x3d"registrationOpennessStatusNode"\x3e\x3c/span\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"registrationStatusNode"\x3e\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"btnSimpleContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"closeRegistrationsBtnContainerNode"\x3e\n\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"closeRegistrationsBtnNode"\x3e\x3c/button\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cdiv class\x3d"btnSimpleContainer"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"reopenRegistrationsBtnContainerNode"\x3e\n\t\t\t\t\x3cbutton data-dojo-attach-point\x3d"reopenRegistrationsBtnNode"\x3e\x3c/button\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\n\t\t\x3cinput data-dojo-attach-point\x3d"registrationStatusBoxAnchorNode" style\x3d"visibility:hidden;"\x3e\x3c/input\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Dialogs/templates/FilterListDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraStatoEmailContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraStatoEmailNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraNonInteressatiContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraNonInteressatiNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraModalitaIscrizioneContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraModalitaIscrizioneNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraDataFasciaContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraDataFasciaNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraAzioniOspiteContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraAzioniOspiteNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraValoreListaContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraValoreListaNode"\x3e\x3c/select\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraValoreListaValoreNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraCancellatiContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraCancellatiSelectNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraRegistrazioniShopifyCompletateContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraRegistrazioniShopifyCompletateSelectNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"boxSelectLista" data-dojo-attach-point\x3d"filtraCategoriaFilePersonaliContainerNode"\x3e\n\t\t\x3cselect data-dojo-attach-point\x3d"filtraCategoriaFilePersonaliSelectNode"\x3e\x3c/select\x3e\n\t\x3c/div\x3e\n\t\t\t\t\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\t\t\n\t\t\x3cbutton data-dojo-attach-point\x3d"applyBtnNode"\x3eAPPLY\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"resetBtnNode"\x3eRESET\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3eCLOSE\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Guests/templates/AddFieldDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"formNode"\x3e\n\t\t\x3cdiv class\x3d"row"\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.lblManageFieldsGridFieldName}\x3c/label\x3e\n\t\t\t\t\t\x3cinput type\x3d"text" data-dojo-attach-point\x3d"fieldNameNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.lblManageFieldsGridFieldType}\x3c/label\x3e\n\t\t\t\t\t\x3cinput type\x3d"text" data-dojo-attach-point\x3d"fieldTypeNode" /\x3e\n\t\t\t\t\t\x3cinput type\x3d"button" data-dojo-attach-point\x3d"listOptionsBtnNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"rowContent"\x3e\n\t\t\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\t\t\x3clabel\x3e${!messages.lblManageFieldsInsertAfter}\x3c/label\x3e\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"fieldListNode" /\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"${baseClass} boxGridContainer tableLista"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"okBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"cancelBtnContainerNode"\x3e\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventDetails/templates/DateWidget.html":'\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"containerNode"\x3e\n\t\x3cdiv class\x3d"dateTitle"\x3e\n\t\t\x3cdiv class\x3d"date" data-dojo-attach-point\x3d"dateNode"\x3e\x3c/div\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"editDateBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"deleteDateBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"timeSlotsContainerNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"addNewBtnContainerNode" class\x3d"btnSimpleContainer addNewBtnContainerTimeSlot"\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"addNewBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/Badges/templates/PrintBadgeDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"boxLoading" data-dojo-attach-point\x3d"loadingIndicatorNode"\x3e\n\t\t\x3cimg id\x3d"_ldng" src\x3d"/img/loading.gif"/\x3e\n\t\t\x3cbr/\x3e\n\t\t\x3cspan\x3e${!messages.msgStampaInCorso}\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"progressoStampaNode"\x3e\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"iframeContainerNode" style\x3d"display: none"\x3e\n\t\t\x3cdiv class\x3d"buttonsContainer"\x3e\n\t\t\t\x3cbutton data-dojo-attach-point\x3d"saveBtnNode"\x3e\x3c/button\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cbr /\x3e\n\t\t\x3ciframe data-dojo-attach-point\x3d"iframeNode"\x3e\n\t\t\x3c/iframe\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EventRegistrationWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3ch2 data-dojo-attach-point\x3d"mainTitleNode" class\x3d"mainTitle sub"\x3e${!messages.lblMainTitle}\x3c/h2\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"mainStackContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:ebPlatformWidgets/Evento/EventPage/templates/EditHeaderDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm txt"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"textNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm eventname"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"textColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm dates"\x3e\n\t\t\t\x3cdiv class\x3d"colors"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"datesColorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontDatesSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:ebPlatformWidgets/Evento/EventPage/templates/EditRegistrationButtonsDialogContentWidget.html":'\x3cdiv class\x3d"${baseClass}"\x3e\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cdiv class\x3d"fonts"\x3e\n\t\t\t\t\x3clabel\x3e${!commonMessages.lblFontPlaceHolder}\x3c/label\x3e\n\t\t\t\t\x3cbr /\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"fontSelectorNode"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblRegistrationBtnLabel} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"registrationBtnLabelNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"registrationAddPartnerBtnContainerNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblRegistrationAddPartnerBtnLabel} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"registrationAddPartnerBtnLabelNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"textColorNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"backgroundColorNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblUpdateRegistrationBtnLabel} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"updateRegistrationBtnLabelNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm" data-dojo-attach-point\x3d"updateRegistrationAddPartnerBtnContainerNode"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblUpdateRegistrationAddPartnerBtnLabel} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"updateRegistrationAddPartnerBtnLabelNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"updateColorNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"updateBkgColorNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblDeleteRegistrationBtnLabel} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"deleteRegistrationBtnLabelNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"deleteColorNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"deleteBkgColorNode"\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"itemRow last" data-dojo-attach-point\x3d"denyControlsContainerNode"\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblDenyPartecipationBtnLabel} \x3c/label\x3e \x3cinput data-dojo-attach-point\x3d"denyPartecipationBtnLabelNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"denyTextColorNode"\x3e\n\t\t\t\x3cinput data-dojo-attach-point\x3d"denyBackgroundColorNode"\x3e\n\t\t\x3c/div\x3e\n\t\t\x3cdiv class\x3d"itemForm partecipationDeny"\x3e\n\t\t\t\x3clabel\x3e${!messages.lblDenyPartecipationText} \x3c/label\x3e \x3cdiv data-dojo-attach-point\x3d"partecipationDenyTextEditorNode"\x3e\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\n\t\x3cdiv class\x3d"buttonsContainer"\x3e \x3c!-- actionButtonsContainer --\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"okBtnNode"\x3e\x3c/button\x3e\n\t\t\x3cbutton data-dojo-attach-point\x3d"cancelBtnNode"\x3e\x3c/button\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"*now":function(q){q(['dojo/i18n!*preload*built/nls/evento*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("built/evento",[],1);
//# sourceMappingURL=evento.js.map